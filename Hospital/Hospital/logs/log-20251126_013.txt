2025-11-26 21:36:29.062 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-11-26 21:36:29.154 +02:00 [DBG] Hosting starting
2025-11-26 21:36:29.165 +02:00 [INF] User profile is available. Using 'C:\Users\yossr\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-26 21:36:29.174 +02:00 [DBG] Reading data from file 'C:\Users\yossr\AppData\Local\ASP.NET\DataProtection-Keys\key-69bbab29-81b6-4865-ac9a-ae2b6fa39013.xml'.
2025-11-26 21:36:29.178 +02:00 [DBG] Reading data from file 'C:\Users\yossr\AppData\Local\ASP.NET\DataProtection-Keys\key-80d0efac-0f9c-4630-990a-b52d8a5ce829.xml'.
2025-11-26 21:36:29.180 +02:00 [DBG] Reading data from file 'C:\Users\yossr\AppData\Local\ASP.NET\DataProtection-Keys\key-c9eadb9e-fd70-4dbd-a2e4-2439a22a723f.xml'.
2025-11-26 21:36:29.181 +02:00 [DBG] Reading data from file 'C:\Users\yossr\AppData\Local\ASP.NET\DataProtection-Keys\key-e6a4e949-cc09-4772-b903-b3c0844fb846.xml'.
2025-11-26 21:36:29.184 +02:00 [DBG] Found key {69bbab29-81b6-4865-ac9a-ae2b6fa39013}.
2025-11-26 21:36:29.187 +02:00 [DBG] Found key {80d0efac-0f9c-4630-990a-b52d8a5ce829}.
2025-11-26 21:36:29.188 +02:00 [DBG] Found key {c9eadb9e-fd70-4dbd-a2e4-2439a22a723f}.
2025-11-26 21:36:29.189 +02:00 [DBG] Found key {e6a4e949-cc09-4772-b903-b3c0844fb846}.
2025-11-26 21:36:29.194 +02:00 [DBG] Considering key {69bbab29-81b6-4865-ac9a-ae2b6fa39013} with expiration date 2026-01-04 04:20:00Z as default key.
2025-11-26 21:36:29.197 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-26 21:36:29.199 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-11-26 21:36:29.201 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-26 21:36:29.205 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-11-26 21:36:29.207 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-11-26 21:36:29.209 +02:00 [DBG] Using key {69bbab29-81b6-4865-ac9a-ae2b6fa39013} as the default key.
2025-11-26 21:36:29.210 +02:00 [DBG] Key ring with default key {69bbab29-81b6-4865-ac9a-ae2b6fa39013} was loaded during application startup.
2025-11-26 21:36:29.214 +02:00 [DBG] Middleware loaded
2025-11-26 21:36:29.216 +02:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16500 B).
2025-11-26 21:36:29.217 +02:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-11-26 21:36:29.248 +02:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-11-26 21:36:29.289 +02:00 [INF] Now listening on: https://localhost:7217
2025-11-26 21:36:29.291 +02:00 [INF] Now listening on: http://localhost:5163
2025-11-26 21:36:29.292 +02:00 [DBG] Loaded hosting startup assembly Hospital
2025-11-26 21:36:29.293 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-11-26 21:36:29.294 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-11-26 21:36:29.295 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-11-26 21:36:29.369 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-26 21:36:29.370 +02:00 [DBG] Connection id "0HNHD4CCA82TR" received FIN.
2025-11-26 21:36:29.370 +02:00 [DBG] Connection id "0HNHD4CCA82TS" received FIN.
2025-11-26 21:36:29.370 +02:00 [INF] Hosting environment: Development
2025-11-26 21:36:29.373 +02:00 [INF] Content root path: D:\Hospital\Hospital\Hospital
2025-11-26 21:36:29.374 +02:00 [DBG] Hosting started
2025-11-26 21:36:29.376 +02:00 [DBG] Connection id "0HNHD4CCA82TR" accepted.
2025-11-26 21:36:29.376 +02:00 [DBG] Connection id "0HNHD4CCA82TS" accepted.
2025-11-26 21:36:29.377 +02:00 [DBG] Connection id "0HNHD4CCA82TR" started.
2025-11-26 21:36:29.377 +02:00 [DBG] Connection id "0HNHD4CCA82TS" started.
2025-11-26 21:36:29.379 +02:00 [DBG] Connection id "0HNHD4CCA82TT" accepted.
2025-11-26 21:36:29.380 +02:00 [DBG] Connection id "0HNHD4CCA82TT" started.
2025-11-26 21:36:29.386 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-26 21:36:29.386 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-26 21:36:29.398 +02:00 [DBG] Connection id "0HNHD4CCA82TS" stopped.
2025-11-26 21:36:29.398 +02:00 [DBG] Connection id "0HNHD4CCA82TR" stopped.
2025-11-26 21:36:29.400 +02:00 [DBG] Connection id "0HNHD4CCA82TS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-26 21:36:29.400 +02:00 [DBG] Connection id "0HNHD4CCA82TR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-26 21:36:29.405 +02:00 [DBG] Connection 0HNHD4CCA82TT established using the following protocol: "Tls13"
2025-11-26 21:36:29.435 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/swagger/index.html - null null
2025-11-26 21:36:29.487 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-11-26 21:36:29.509 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-11-26 21:36:29.511 +02:00 [DBG] Request did not match any endpoints
2025-11-26 21:36:29.546 +02:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-11-26 21:36:29.548 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-11-26 21:36:29.558 +02:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-11-26 21:36:29.559 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-11-26 21:36:29.562 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/swagger/index.html - 200 null text/html;charset=utf-8 127.0923ms
2025-11-26 21:36:29.567 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/_vs/browserLink - null null
2025-11-26 21:36:29.567 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/_framework/aspnetcore-browser-refresh.js - null null
2025-11-26 21:36:29.575 +02:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-11-26 21:36:29.577 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/_framework/aspnetcore-browser-refresh.js - 200 16500 application/javascript; charset=utf-8 10.1921ms
2025-11-26 21:36:29.592 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.1935ms
2025-11-26 21:36:29.640 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/swagger/v1/swagger.json - null null
2025-11-26 21:36:29.644 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-11-26 21:36:29.645 +02:00 [DBG] Request did not match any endpoints
2025-11-26 21:36:29.672 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 32.3775ms
2025-11-26 21:36:55.563 +02:00 [DBG] Connection id "0HNHD4CCA82TU" accepted.
2025-11-26 21:36:55.563 +02:00 [DBG] Connection id "0HNHD4CCA82TU" received FIN.
2025-11-26 21:36:55.564 +02:00 [DBG] Connection id "0HNHD4CCA82TU" started.
2025-11-26 21:36:55.565 +02:00 [DBG] Connection id "0HNHD4CCA82TV" accepted.
2025-11-26 21:36:55.566 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-26 21:36:55.570 +02:00 [DBG] Connection id "0HNHD4CCA82TV" started.
2025-11-26 21:36:55.574 +02:00 [DBG] Connection id "0HNHD4CCA82TU" stopped.
2025-11-26 21:36:55.575 +02:00 [DBG] Connection id "0HNHD4CCA82TU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-26 21:36:55.578 +02:00 [DBG] Connection 0HNHD4CCA82TV established using the following protocol: "Tls13"
2025-11-26 21:36:55.583 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/Branch/Create - application/json 251
2025-11-26 21:36:55.589 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/Create'
2025-11-26 21:36:55.594 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.Create (Hospital)' with route pattern 'api/Branch/Create' is valid for the request path '/api/Branch/Create'
2025-11-26 21:36:55.597 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.Create (Hospital)'
2025-11-26 21:36:55.602 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-26 21:36:55.622 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-26 21:36:55.625 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.Create (Hospital)'
2025-11-26 21:36:55.648 +02:00 [INF] Route matched with {action = "Create", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Hospital.Application.DTO.Branch.CreateBranchDto) on controller Hospital.Controllers.BranchController (Hospital).
2025-11-26 21:36:55.651 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-26 21:36:55.652 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-26 21:36:55.654 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-26 21:36:55.655 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-26 21:36:55.657 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-26 21:36:55.659 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-26 21:36:55.708 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-11-26 21:36:55.845 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-26 21:36:55.850 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto' ...
2025-11-26 21:36:55.852 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto' using the name '' in request data ...
2025-11-26 21:36:55.853 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-26 21:36:55.862 +02:00 [DBG] Connection id "0HNHD4CCA82TV", Request id "0HNHD4CCA82TV:00000001": started reading request body.
2025-11-26 21:36:55.863 +02:00 [DBG] Connection id "0HNHD4CCA82TV", Request id "0HNHD4CCA82TV:00000001": done reading request body.
2025-11-26 21:36:55.871 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.Branch.CreateBranchDto'
2025-11-26 21:36:55.872 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto'.
2025-11-26 21:36:55.873 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto'.
2025-11-26 21:36:55.874 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto' ...
2025-11-26 21:36:55.881 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto'.
2025-11-26 21:36:55.883 +02:00 [INF] Create Branch called at "2025-11-26T21:36:55.8830998+02:00"
2025-11-26 21:36:55.885 +02:00 [INF] Creating new branch with name: West Branch
2025-11-26 21:36:56.220 +02:00 [DBG] The index {'BranchesBranchId'} was not created on entity type 'BranchDoctor (Dictionary<string, object>)' as the properties are already covered by the index {'BranchesBranchId', 'DoctorsDoctorId'}.
2025-11-26 21:36:56.222 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchService (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'ServiceId'}.
2025-11-26 21:36:56.223 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchSpecialization (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'SpecializationId'}.
2025-11-26 21:36:56.224 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-11-26 21:36:56.225 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-11-26 21:36:56.304 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).BranchesBranchId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-11-26 21:36:56.306 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).DoctorsDoctorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-11-26 21:36:56.419 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-26 21:36:56.441 +02:00 [DBG] Compiling query expression: 
'DbSet<Branch>()
    .AsNoTracking()'
2025-11-26 21:36:56.519 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Branch>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Branch.BranchId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Branch.Address (string) MaxLength(250), 1], [Property: Branch.BranchName (string) Required MaxLength(150), 2], [Property: Branch.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: Branch.Description (string), 4], [Property: Branch.Email (string) MaxLength(200), 5], [Property: Branch.ImageURL (string) MaxLength(300), 6], [Property: Branch.Latitude (double?), 7], [Property: Branch.Longitude (double?), 8], [Property: Branch.Phone (string) MaxLength(25), 9], [Property: Branch.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 10] }
        SELECT b.BranchId, b.Address, b.BranchName, b.CreatedAt, b.Description, b.Email, b.ImageURL, b.Latitude, b.Longitude, b.Phone, b.UpdatedAt
        FROM Branches AS b), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Branch>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-11-26 21:36:56.537 +02:00 [DBG] Creating DbConnection.
2025-11-26 21:36:56.548 +02:00 [DBG] Created DbConnection. (10ms).
2025-11-26 21:36:56.551 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:36:56.662 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:36:56.665 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-26 21:36:56.670 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-11-26 21:36:56.671 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-11-26 21:36:56.675 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-26 21:36:56.702 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-26 21:36:56.711 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:36:56.715 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 8ms reading results.
2025-11-26 21:36:56.718 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:36:56.721 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (3ms).
2025-11-26 21:36:56.742 +02:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Branch.BranchId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-26 21:36:56.790 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-26 21:36:56.793 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-26 21:36:56.804 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-26 21:36:56.810 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-26 21:36:56.811 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-26 21:36:56.812 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-26 21:36:56.851 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:36:56.854 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:36:56.856 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-26 21:36:56.857 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-26 21:36:56.860 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-11-26 21:36:56.863 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 150), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 200), @p5='?' (Size = 300), @p6='?' (DbType = Double), @p7='?' (DbType = Double), @p8='?' (Size = 25), @p9='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Branches] ([Address], [BranchName], [CreatedAt], [Description], [Email], [ImageURL], [Latitude], [Longitude], [Phone], [UpdatedAt])
OUTPUT INSERTED.[BranchId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-11-26 21:36:56.876 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 150), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 200), @p5='?' (Size = 300), @p6='?' (DbType = Double), @p7='?' (DbType = Double), @p8='?' (Size = 25), @p9='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Branches] ([Address], [BranchName], [CreatedAt], [Description], [Email], [ImageURL], [Latitude], [Longitude], [Phone], [UpdatedAt])
OUTPUT INSERTED.[BranchId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-11-26 21:36:56.887 +02:00 [DBG] The foreign key property 'Branch.BranchId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-26 21:36:56.892 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:36:56.893 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 14ms reading results.
2025-11-26 21:36:56.894 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:36:56.895 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-26 21:36:56.902 +02:00 [DBG] An entity of type 'Branch' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-26 21:36:56.904 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-26 21:36:56.906 +02:00 [INF] Branch created successfully with ID: 1
2025-11-26 21:36:56.911 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-26 21:36:56.913 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-26 21:36:56.914 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-26 21:36:56.915 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-26 21:36:56.916 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-26 21:36:56.917 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Hospital.Application.DTO.Branch.BranchDto'.
2025-11-26 21:36:56.927 +02:00 [DBG] Found the endpoints ["Hospital.Controllers.BranchController.GetById (Hospital)"] for address (id=[1],action=[GetById],controller=[Branch])
2025-11-26 21:36:56.930 +02:00 [DBG] Successfully processed template api/Branch/GetBy/{id} for Hospital.Controllers.BranchController.GetById (Hospital) resulting in /api/Branch/GetBy/1 and 
2025-11-26 21:36:56.932 +02:00 [DBG] Link generation succeeded for endpoints ["Hospital.Controllers.BranchController.GetById (Hospital)"] with result /api/Branch/GetBy/1
2025-11-26 21:36:56.943 +02:00 [INF] Executed action Hospital.Controllers.BranchController.Create (Hospital) in 1282.8612ms
2025-11-26 21:36:56.944 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.Create (Hospital)'
2025-11-26 21:36:56.945 +02:00 [DBG] Connection id "0HNHD4CCA82TV" completed keep alive response.
2025-11-26 21:36:56.947 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-26 21:36:56.950 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:36:56.951 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-26 21:36:56.952 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/Branch/Create - 201 null application/json; charset=utf-8 1369.0406ms
2025-11-26 21:37:12.454 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-11-26 21:37:12.544 +02:00 [DBG] Hosting starting
2025-11-26 21:37:12.564 +02:00 [INF] User profile is available. Using 'C:\Users\yossr\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-26 21:37:12.573 +02:00 [DBG] Reading data from file 'C:\Users\yossr\AppData\Local\ASP.NET\DataProtection-Keys\key-69bbab29-81b6-4865-ac9a-ae2b6fa39013.xml'.
2025-11-26 21:37:12.579 +02:00 [DBG] Reading data from file 'C:\Users\yossr\AppData\Local\ASP.NET\DataProtection-Keys\key-80d0efac-0f9c-4630-990a-b52d8a5ce829.xml'.
2025-11-26 21:37:12.580 +02:00 [DBG] Reading data from file 'C:\Users\yossr\AppData\Local\ASP.NET\DataProtection-Keys\key-c9eadb9e-fd70-4dbd-a2e4-2439a22a723f.xml'.
2025-11-26 21:37:12.580 +02:00 [DBG] Reading data from file 'C:\Users\yossr\AppData\Local\ASP.NET\DataProtection-Keys\key-e6a4e949-cc09-4772-b903-b3c0844fb846.xml'.
2025-11-26 21:37:12.584 +02:00 [DBG] Found key {69bbab29-81b6-4865-ac9a-ae2b6fa39013}.
2025-11-26 21:37:12.588 +02:00 [DBG] Found key {80d0efac-0f9c-4630-990a-b52d8a5ce829}.
2025-11-26 21:37:12.589 +02:00 [DBG] Found key {c9eadb9e-fd70-4dbd-a2e4-2439a22a723f}.
2025-11-26 21:37:12.590 +02:00 [DBG] Found key {e6a4e949-cc09-4772-b903-b3c0844fb846}.
2025-11-26 21:37:12.594 +02:00 [DBG] Considering key {69bbab29-81b6-4865-ac9a-ae2b6fa39013} with expiration date 2026-01-04 04:20:00Z as default key.
2025-11-26 21:37:12.597 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-26 21:37:12.600 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-11-26 21:37:12.601 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-26 21:37:12.605 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-11-26 21:37:12.607 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-11-26 21:37:12.608 +02:00 [DBG] Using key {69bbab29-81b6-4865-ac9a-ae2b6fa39013} as the default key.
2025-11-26 21:37:12.610 +02:00 [DBG] Key ring with default key {69bbab29-81b6-4865-ac9a-ae2b6fa39013} was loaded during application startup.
2025-11-26 21:37:12.614 +02:00 [DBG] Middleware loaded
2025-11-26 21:37:12.616 +02:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16500 B).
2025-11-26 21:37:12.617 +02:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-11-26 21:37:12.680 +02:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-11-26 21:37:12.790 +02:00 [INF] Now listening on: https://localhost:7217
2025-11-26 21:37:12.791 +02:00 [INF] Now listening on: http://localhost:5163
2025-11-26 21:37:12.792 +02:00 [DBG] Loaded hosting startup assembly Hospital
2025-11-26 21:37:12.792 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-11-26 21:37:12.793 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-11-26 21:37:12.794 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-11-26 21:37:12.862 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-26 21:37:12.864 +02:00 [INF] Hosting environment: Development
2025-11-26 21:37:12.865 +02:00 [INF] Content root path: D:\Hospital\Hospital\Hospital
2025-11-26 21:37:12.866 +02:00 [DBG] Hosting started
2025-11-26 21:37:12.904 +02:00 [DBG] Connection id "0HNHD4CP9DLNK" accepted.
2025-11-26 21:37:12.904 +02:00 [DBG] Connection id "0HNHD4CP9DLNJ" accepted.
2025-11-26 21:37:12.906 +02:00 [DBG] Connection id "0HNHD4CP9DLNK" started.
2025-11-26 21:37:12.906 +02:00 [DBG] Connection id "0HNHD4CP9DLNJ" started.
2025-11-26 21:37:12.920 +02:00 [DBG] Connection id "0HNHD4CP9DLNJ" received FIN.
2025-11-26 21:37:12.920 +02:00 [DBG] Connection id "0HNHD4CP9DLNK" received FIN.
2025-11-26 21:37:12.932 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-26 21:37:12.932 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-26 21:37:12.960 +02:00 [DBG] Connection id "0HNHD4CP9DLNK" stopped.
2025-11-26 21:37:12.960 +02:00 [DBG] Connection id "0HNHD4CP9DLNJ" stopped.
2025-11-26 21:37:12.963 +02:00 [DBG] Connection id "0HNHD4CP9DLNJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-26 21:37:12.963 +02:00 [DBG] Connection id "0HNHD4CP9DLNK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-26 21:37:13.440 +02:00 [DBG] Connection id "0HNHD4CP9DLNL" accepted.
2025-11-26 21:37:13.442 +02:00 [DBG] Connection id "0HNHD4CP9DLNL" started.
2025-11-26 21:37:13.482 +02:00 [DBG] Connection 0HNHD4CP9DLNL established using the following protocol: "Tls13"
2025-11-26 21:37:13.551 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/swagger/index.html - null null
2025-11-26 21:37:13.921 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-11-26 21:37:13.943 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-11-26 21:37:13.945 +02:00 [DBG] Request did not match any endpoints
2025-11-26 21:37:13.980 +02:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-11-26 21:37:13.981 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-11-26 21:37:13.992 +02:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-11-26 21:37:13.993 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-11-26 21:37:13.996 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/swagger/index.html - 200 null text/html;charset=utf-8 452.8047ms
2025-11-26 21:37:14.025 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/_vs/browserLink - null null
2025-11-26 21:37:14.025 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/_framework/aspnetcore-browser-refresh.js - null null
2025-11-26 21:37:14.038 +02:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-11-26 21:37:14.040 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/_framework/aspnetcore-browser-refresh.js - 200 16500 application/javascript; charset=utf-8 15.4414ms
2025-11-26 21:37:14.065 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.1467ms
2025-11-26 21:37:14.119 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/swagger/v1/swagger.json - null null
2025-11-26 21:37:14.122 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-11-26 21:37:14.124 +02:00 [DBG] Request did not match any endpoints
2025-11-26 21:37:14.161 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 42.3109ms
2025-11-26 21:37:19.396 +02:00 [DBG] Connection id "0HNHD4CP9DLNL" received FIN.
2025-11-26 21:37:19.400 +02:00 [DBG] The connection queue processing loop for 0HNHD4CP9DLNL completed.
2025-11-26 21:37:19.401 +02:00 [DBG] Connection id "0HNHD4CP9DLNL" is closed. The last processed stream ID was 7.
2025-11-26 21:37:19.402 +02:00 [DBG] Connection id "0HNHD4CP9DLNL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-26 21:37:19.403 +02:00 [DBG] Connection id "0HNHD4CP9DLNL" stopped.
2025-11-26 21:38:18.018 +02:00 [DBG] Connection id "0HNHD4CP9DLNM" accepted.
2025-11-26 21:38:18.018 +02:00 [DBG] Connection id "0HNHD4CP9DLNM" received FIN.
2025-11-26 21:38:18.028 +02:00 [DBG] Connection id "0HNHD4CP9DLNN" accepted.
2025-11-26 21:38:18.024 +02:00 [DBG] Connection id "0HNHD4CP9DLNM" started.
2025-11-26 21:38:18.033 +02:00 [DBG] Connection id "0HNHD4CP9DLNN" started.
2025-11-26 21:38:18.035 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-26 21:38:18.036 +02:00 [DBG] Connection id "0HNHD4CP9DLNM" stopped.
2025-11-26 21:38:18.037 +02:00 [DBG] Connection id "0HNHD4CP9DLNM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-26 21:38:18.038 +02:00 [DBG] Connection 0HNHD4CP9DLNN established using the following protocol: "Tls13"
2025-11-26 21:38:18.042 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/Branch/Create - application/json 293
2025-11-26 21:38:18.047 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/Create'
2025-11-26 21:38:18.050 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.Create (Hospital)' with route pattern 'api/Branch/Create' is valid for the request path '/api/Branch/Create'
2025-11-26 21:38:18.052 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.Create (Hospital)'
2025-11-26 21:38:18.054 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-26 21:38:18.081 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-26 21:38:18.083 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.Create (Hospital)'
2025-11-26 21:38:18.103 +02:00 [INF] Route matched with {action = "Create", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Hospital.Application.DTO.Branch.CreateBranchDto) on controller Hospital.Controllers.BranchController (Hospital).
2025-11-26 21:38:18.105 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-26 21:38:18.106 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-26 21:38:18.107 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-26 21:38:18.108 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-26 21:38:18.109 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-26 21:38:18.111 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-26 21:38:18.200 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-11-26 21:38:18.379 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-26 21:38:18.391 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto' ...
2025-11-26 21:38:18.394 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto' using the name '' in request data ...
2025-11-26 21:38:18.396 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-26 21:38:18.407 +02:00 [DBG] Connection id "0HNHD4CP9DLNN", Request id "0HNHD4CP9DLNN:00000001": started reading request body.
2025-11-26 21:38:18.408 +02:00 [DBG] Connection id "0HNHD4CP9DLNN", Request id "0HNHD4CP9DLNN:00000001": done reading request body.
2025-11-26 21:38:18.421 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.Branch.CreateBranchDto'
2025-11-26 21:38:18.422 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto'.
2025-11-26 21:38:18.424 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto'.
2025-11-26 21:38:18.425 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto' ...
2025-11-26 21:38:18.435 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto'.
2025-11-26 21:38:18.438 +02:00 [INF] Create Branch called at "2025-11-26T21:38:18.4383844+02:00"
2025-11-26 21:38:18.441 +02:00 [INF] Creating new branch with name: West Branch
2025-11-26 21:38:18.853 +02:00 [DBG] The index {'BranchesBranchId'} was not created on entity type 'BranchDoctor (Dictionary<string, object>)' as the properties are already covered by the index {'BranchesBranchId', 'DoctorsDoctorId'}.
2025-11-26 21:38:18.854 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchService (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'ServiceId'}.
2025-11-26 21:38:18.855 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchSpecialization (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'SpecializationId'}.
2025-11-26 21:38:18.856 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-11-26 21:38:18.857 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-11-26 21:38:18.945 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).BranchesBranchId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-11-26 21:38:18.947 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).DoctorsDoctorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-11-26 21:38:19.083 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-26 21:38:19.118 +02:00 [DBG] Compiling query expression: 
'DbSet<Branch>()
    .AsNoTracking()'
2025-11-26 21:38:19.216 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Branch>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Branch.BranchId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Branch.Address (string) MaxLength(250), 1], [Property: Branch.BranchName (string) Required MaxLength(150), 2], [Property: Branch.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: Branch.Description (string), 4], [Property: Branch.Email (string) MaxLength(200), 5], [Property: Branch.ImageURL (string) MaxLength(300), 6], [Property: Branch.Latitude (double?), 7], [Property: Branch.Longitude (double?), 8], [Property: Branch.Phone (string) MaxLength(25), 9], [Property: Branch.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 10] }
        SELECT b.BranchId, b.Address, b.BranchName, b.CreatedAt, b.Description, b.Email, b.ImageURL, b.Latitude, b.Longitude, b.Phone, b.UpdatedAt
        FROM Branches AS b), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Branch>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-11-26 21:38:19.239 +02:00 [DBG] Creating DbConnection.
2025-11-26 21:38:19.267 +02:00 [DBG] Created DbConnection. (25ms).
2025-11-26 21:38:19.273 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:38:19.486 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:38:19.490 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-26 21:38:19.495 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-11-26 21:38:19.497 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-11-26 21:38:19.503 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-26 21:38:19.539 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-26 21:38:19.554 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:38:19.560 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 16ms reading results.
2025-11-26 21:38:19.564 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:38:19.569 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (5ms).
2025-11-26 21:38:19.571 +02:00 [WRN] Failed to create branch: Branch with name 'West Branch' already exists
2025-11-26 21:38:19.640 +02:00 [INF] Executed action Hospital.Controllers.BranchController.Create (Hospital) in 1526.74ms
2025-11-26 21:38:19.642 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.Create (Hospital)'
2025-11-26 21:38:19.690 +02:00 [ERR]  Exception caught: Branch with name 'West Branch' already exists.
System.ComponentModel.DataAnnotations.ValidationException: Branch with name 'West Branch' already exists.
   at Hospital.Infrastructure.Services.BranchService.CreateAsync(CreateBranchDto dto) in D:\Hospital\Hospital\Hospital.Infrastructure\Services\BranchService.cs:line 43
   at Hospital.Controllers.BranchController.Create(CreateBranchDto dto) in D:\Hospital\Hospital\Hospital\Controllers\BranchController.cs:line 42
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hospital.Middleware.GlobalExceptionHandler.InvokeAsync(HttpContext context) in D:\Hospital\Hospital\Hospital\Middleware\GlobalExceptionHandler.cs:line 22
2025-11-26 21:38:19.725 +02:00 [DBG] Connection id "0HNHD4CP9DLNN" completed keep alive response.
2025-11-26 21:38:19.727 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-26 21:38:19.731 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:38:19.733 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-26 21:38:19.734 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/Branch/Create - 400 null application/json 1692.2305ms
2025-11-26 21:38:25.845 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/Branch/Create - application/json 293
2025-11-26 21:38:25.849 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/Create'
2025-11-26 21:38:25.850 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.Create (Hospital)' with route pattern 'api/Branch/Create' is valid for the request path '/api/Branch/Create'
2025-11-26 21:38:25.851 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.Create (Hospital)'
2025-11-26 21:38:25.851 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-26 21:38:25.853 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-26 21:38:25.853 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.Create (Hospital)'
2025-11-26 21:38:25.854 +02:00 [INF] Route matched with {action = "Create", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Hospital.Application.DTO.Branch.CreateBranchDto) on controller Hospital.Controllers.BranchController (Hospital).
2025-11-26 21:38:25.856 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-26 21:38:25.857 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-26 21:38:25.858 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-26 21:38:25.859 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-26 21:38:25.860 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-26 21:38:25.861 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-26 21:38:25.863 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-26 21:38:25.864 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto' ...
2025-11-26 21:38:25.865 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto' using the name '' in request data ...
2025-11-26 21:38:25.866 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-26 21:38:25.867 +02:00 [DBG] Connection id "0HNHD4CP9DLNN", Request id "0HNHD4CP9DLNN:00000002": started reading request body.
2025-11-26 21:38:25.867 +02:00 [DBG] Connection id "0HNHD4CP9DLNN", Request id "0HNHD4CP9DLNN:00000002": done reading request body.
2025-11-26 21:38:25.868 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.Branch.CreateBranchDto'
2025-11-26 21:38:25.869 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto'.
2025-11-26 21:38:25.870 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto'.
2025-11-26 21:38:25.871 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto' ...
2025-11-26 21:38:25.872 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto'.
2025-11-26 21:38:25.873 +02:00 [INF] Create Branch called at "2025-11-26T21:38:25.8734661+02:00"
2025-11-26 21:38:25.874 +02:00 [INF] Creating new branch with name: east Branch
2025-11-26 21:38:25.921 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-26 21:38:25.926 +02:00 [DBG] Creating DbConnection.
2025-11-26 21:38:25.927 +02:00 [DBG] Created DbConnection. (1ms).
2025-11-26 21:38:25.929 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:38:25.933 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:38:25.934 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-26 21:38:25.936 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-26 21:38:25.938 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-11-26 21:38:25.940 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-26 21:38:25.948 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-26 21:38:25.950 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:38:25.951 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-26 21:38:25.952 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:38:25.954 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-26 21:38:25.993 +02:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Branch.BranchId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-26 21:38:26.048 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-26 21:38:26.052 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-26 21:38:26.064 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-26 21:38:26.071 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-26 21:38:26.074 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-26 21:38:26.075 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-26 21:38:26.125 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:38:26.127 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:38:26.130 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-26 21:38:26.130 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-26 21:38:26.134 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-11-26 21:38:26.138 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 150), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 200), @p5='?' (Size = 300), @p6='?' (DbType = Double), @p7='?' (DbType = Double), @p8='?' (Size = 25), @p9='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Branches] ([Address], [BranchName], [CreatedAt], [Description], [Email], [ImageURL], [Latitude], [Longitude], [Phone], [UpdatedAt])
OUTPUT INSERTED.[BranchId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-11-26 21:38:26.155 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 150), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 200), @p5='?' (Size = 300), @p6='?' (DbType = Double), @p7='?' (DbType = Double), @p8='?' (Size = 25), @p9='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Branches] ([Address], [BranchName], [CreatedAt], [Description], [Email], [ImageURL], [Latitude], [Longitude], [Phone], [UpdatedAt])
OUTPUT INSERTED.[BranchId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-11-26 21:38:26.164 +02:00 [DBG] The foreign key property 'Branch.BranchId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-26 21:38:26.169 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:38:26.170 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 13ms reading results.
2025-11-26 21:38:26.172 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:38:26.173 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-26 21:38:26.181 +02:00 [DBG] An entity of type 'Branch' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-26 21:38:26.184 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-26 21:38:26.185 +02:00 [INF] Branch created successfully with ID: 2
2025-11-26 21:38:26.191 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-26 21:38:26.194 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-26 21:38:26.195 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-26 21:38:26.195 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-26 21:38:26.197 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-26 21:38:26.198 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Hospital.Application.DTO.Branch.BranchDto'.
2025-11-26 21:38:26.211 +02:00 [DBG] Found the endpoints ["Hospital.Controllers.BranchController.GetById (Hospital)"] for address (id=[2],action=[GetById],controller=[Branch])
2025-11-26 21:38:26.214 +02:00 [DBG] Successfully processed template api/Branch/GetBy/{id} for Hospital.Controllers.BranchController.GetById (Hospital) resulting in /api/Branch/GetBy/2 and 
2025-11-26 21:38:26.216 +02:00 [DBG] Link generation succeeded for endpoints ["Hospital.Controllers.BranchController.GetById (Hospital)"] with result /api/Branch/GetBy/2
2025-11-26 21:38:26.222 +02:00 [INF] Executed action Hospital.Controllers.BranchController.Create (Hospital) in 361.5799ms
2025-11-26 21:38:26.223 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.Create (Hospital)'
2025-11-26 21:38:26.224 +02:00 [DBG] Connection id "0HNHD4CP9DLNN" completed keep alive response.
2025-11-26 21:38:26.225 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-26 21:38:26.225 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:38:26.226 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-26 21:38:26.227 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/Branch/Create - 201 null application/json; charset=utf-8 381.88ms
2025-11-26 21:38:39.409 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7217/api/Branch/GetAll - null null
2025-11-26 21:38:39.411 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetAll'
2025-11-26 21:38:39.412 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)' with route pattern 'api/Branch/GetAll' is valid for the request path '/api/Branch/GetAll'
2025-11-26 21:38:39.413 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-26 21:38:39.414 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-26 21:38:39.416 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-26 21:38:39.416 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-26 21:38:39.419 +02:00 [INF] Route matched with {action = "GetAll", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.BranchController (Hospital).
2025-11-26 21:38:39.421 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-26 21:38:39.422 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-26 21:38:39.422 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-26 21:38:39.424 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-26 21:38:39.424 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-26 21:38:39.426 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-26 21:38:39.429 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-26 21:38:39.430 +02:00 [INF] Get All Branch called at "2025-11-26T21:38:39.4306495+02:00"
2025-11-26 21:38:39.431 +02:00 [INF] Fetching all branches
2025-11-26 21:38:39.438 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-26 21:38:39.440 +02:00 [DBG] Creating DbConnection.
2025-11-26 21:38:39.441 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-26 21:38:39.442 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:38:39.443 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:38:39.443 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-26 21:38:39.444 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-26 21:38:39.445 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-26 21:38:39.446 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-26 21:38:39.449 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-26 21:38:39.451 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:38:39.452 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-26 21:38:39.453 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:38:39.454 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-26 21:38:39.462 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-26 21:38:39.464 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-26 21:38:39.465 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-26 21:38:39.465 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-26 21:38:39.466 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-26 21:38:39.467 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Branch.BranchDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-26 21:38:39.469 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetAll (Hospital) in 43.2649ms
2025-11-26 21:38:39.470 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-26 21:38:39.470 +02:00 [DBG] Connection id "0HNHD4CP9DLNN" completed keep alive response.
2025-11-26 21:38:39.471 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-26 21:38:39.472 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:38:39.473 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-26 21:38:39.474 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7217/api/Branch/GetAll - 200 null application/json; charset=utf-8 64.6653ms
2025-11-26 21:39:04.541 +02:00 [DBG] Connection id "0HNHD4CP9DLNO" accepted.
2025-11-26 21:39:04.546 +02:00 [DBG] Connection id "0HNHD4CP9DLNO" started.
2025-11-26 21:39:04.550 +02:00 [DBG] Connection 0HNHD4CP9DLNO established using the following protocol: "Tls13"
2025-11-26 21:39:04.735 +02:00 [DBG] Connection id "0HNHD4CP9DLNP" accepted.
2025-11-26 21:39:04.736 +02:00 [DBG] Connection id "0HNHD4CP9DLNP" started.
2025-11-26 21:39:04.739 +02:00 [DBG] Connection 0HNHD4CP9DLNP established using the following protocol: "Tls13"
2025-11-26 21:39:04.742 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetBy/1 - null null
2025-11-26 21:39:04.744 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetBy/1'
2025-11-26 21:39:04.745 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetById (Hospital)' with route pattern 'api/Branch/GetBy/{id}' is valid for the request path '/api/Branch/GetBy/1'
2025-11-26 21:39:04.746 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetById (Hospital)'
2025-11-26 21:39:04.746 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-26 21:39:04.748 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-26 21:39:04.750 +02:00 [INF] CORS policy execution successful.
2025-11-26 21:39:04.751 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-26 21:39:04.752 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetById (Hospital)'
2025-11-26 21:39:04.756 +02:00 [INF] Route matched with {action = "GetById", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Hospital.Controllers.BranchController (Hospital).
2025-11-26 21:39:04.757 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-26 21:39:04.758 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-26 21:39:04.759 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-26 21:39:04.760 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-26 21:39:04.760 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-26 21:39:04.761 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-26 21:39:04.762 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-26 21:39:04.763 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-11-26 21:39:04.764 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-11-26 21:39:04.766 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-11-26 21:39:04.767 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-11-26 21:39:04.768 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-11-26 21:39:04.769 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-11-26 21:39:04.771 +02:00 [INF] Get Branch By Id called at "2025-11-26T21:39:04.7710978+02:00"
2025-11-26 21:39:04.772 +02:00 [INF] Fetching branch by ID: 1
2025-11-26 21:39:04.774 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-26 21:39:04.780 +02:00 [DBG] Compiling query expression: 
'DbSet<Branch>()
    .FirstOrDefault(e => e.BranchId == __id_0)'
2025-11-26 21:39:04.822 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Branch>(
    asyncEnumerable: new SingleQueryingEnumerable<Branch>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Branch.BranchId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Branch.Address (string) MaxLength(250), 1], [Property: Branch.BranchName (string) Required MaxLength(150), 2], [Property: Branch.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: Branch.Description (string), 4], [Property: Branch.Email (string) MaxLength(200), 5], [Property: Branch.ImageURL (string) MaxLength(300), 6], [Property: Branch.Latitude (double?), 7], [Property: Branch.Longitude (double?), 8], [Property: Branch.Phone (string) MaxLength(25), 9], [Property: Branch.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 10] }
            SELECT TOP(1) b.BranchId, b.Address, b.BranchName, b.CreatedAt, b.Description, b.Email, b.ImageURL, b.Latitude, b.Longitude, b.Phone, b.UpdatedAt
            FROM Branches AS b
            WHERE b.BranchId == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Branch>, 
        Clinic.Infrastructure.Persistence.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-11-26 21:39:04.829 +02:00 [DBG] Creating DbConnection.
2025-11-26 21:39:04.830 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-26 21:39:04.830 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:39:04.832 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:39:04.832 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-26 21:39:04.833 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-26 21:39:04.834 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-26 21:39:04.835 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-26 21:39:04.840 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-26 21:39:04.843 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-26 21:39:04.844 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:39:04.845 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-11-26 21:39:04.846 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:39:04.847 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-26 21:39:04.849 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-26 21:39:04.850 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-26 21:39:04.850 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-26 21:39:04.851 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-26 21:39:04.851 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-26 21:39:04.852 +02:00 [INF] Executing OkObjectResult, writing value of type 'Hospital.Application.DTO.Branch.BranchDto'.
2025-11-26 21:39:04.855 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetById (Hospital) in 93.5573ms
2025-11-26 21:39:04.856 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetById (Hospital)'
2025-11-26 21:39:04.857 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-26 21:39:04.857 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:39:04.858 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-26 21:39:04.860 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetBy/1 - 200 null application/json; charset=utf-8 117.948ms
2025-11-26 21:39:08.636 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetAll - null null
2025-11-26 21:39:08.638 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetAll'
2025-11-26 21:39:08.639 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)' with route pattern 'api/Branch/GetAll' is valid for the request path '/api/Branch/GetAll'
2025-11-26 21:39:08.640 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-26 21:39:08.641 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-26 21:39:08.642 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-26 21:39:08.643 +02:00 [INF] CORS policy execution successful.
2025-11-26 21:39:08.643 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-26 21:39:08.644 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-26 21:39:08.645 +02:00 [INF] Route matched with {action = "GetAll", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.BranchController (Hospital).
2025-11-26 21:39:08.647 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-26 21:39:08.648 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-26 21:39:08.649 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-26 21:39:08.651 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-26 21:39:08.653 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-26 21:39:08.654 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-26 21:39:08.656 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-26 21:39:08.658 +02:00 [INF] Get All Branch called at "2025-11-26T21:39:08.6583736+02:00"
2025-11-26 21:39:08.659 +02:00 [INF] Fetching all branches
2025-11-26 21:39:08.660 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-26 21:39:08.662 +02:00 [DBG] Creating DbConnection.
2025-11-26 21:39:08.662 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-26 21:39:08.663 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:39:08.664 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:39:08.665 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-26 21:39:08.665 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-26 21:39:08.666 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-26 21:39:08.667 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-26 21:39:08.671 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-26 21:39:08.672 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:39:08.673 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-26 21:39:08.674 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:39:08.675 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-26 21:39:08.677 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-26 21:39:08.678 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-26 21:39:08.679 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-26 21:39:08.679 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-26 21:39:08.680 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-26 21:39:08.681 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Branch.BranchDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-26 21:39:08.683 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetAll (Hospital) in 28.7639ms
2025-11-26 21:39:08.684 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-26 21:39:08.685 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-26 21:39:08.686 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:39:08.687 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-26 21:39:08.688 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetAll - 200 null application/json; charset=utf-8 52.6508ms
2025-11-26 21:39:09.415 +02:00 [DBG] Connection id "0HNHD4CP9DLNO" received FIN.
2025-11-26 21:39:09.415 +02:00 [DBG] Connection id "0HNHD4CP9DLNP" received FIN.
2025-11-26 21:39:09.416 +02:00 [DBG] Connection id "0HNHD4CP9DLNO" is closed. The last processed stream ID was 0.
2025-11-26 21:39:09.418 +02:00 [DBG] The connection queue processing loop for 0HNHD4CP9DLNP completed.
2025-11-26 21:39:09.418 +02:00 [DBG] Connection id "0HNHD4CP9DLNP" is closed. The last processed stream ID was 3.
2025-11-26 21:39:09.417 +02:00 [DBG] The connection queue processing loop for 0HNHD4CP9DLNO completed.
2025-11-26 21:39:09.423 +02:00 [DBG] Connection id "0HNHD4CP9DLNO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-26 21:39:09.424 +02:00 [DBG] Connection id "0HNHD4CP9DLNP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-26 21:39:09.427 +02:00 [DBG] Connection id "0HNHD4CP9DLNO" stopped.
2025-11-26 21:39:09.433 +02:00 [DBG] Connection id "0HNHD4CP9DLNP" stopped.
2025-11-26 21:39:10.650 +02:00 [DBG] Connection id "0HNHD4CP9DLNQ" accepted.
2025-11-26 21:39:10.651 +02:00 [DBG] Connection id "0HNHD4CP9DLNQ" started.
2025-11-26 21:39:10.655 +02:00 [DBG] Connection 0HNHD4CP9DLNQ established using the following protocol: "Tls13"
2025-11-26 21:39:10.657 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetBy/2 - null null
2025-11-26 21:39:10.660 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetBy/2'
2025-11-26 21:39:10.661 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetById (Hospital)' with route pattern 'api/Branch/GetBy/{id}' is valid for the request path '/api/Branch/GetBy/2'
2025-11-26 21:39:10.662 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetById (Hospital)'
2025-11-26 21:39:10.662 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-26 21:39:10.663 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-26 21:39:10.664 +02:00 [INF] CORS policy execution successful.
2025-11-26 21:39:10.664 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-26 21:39:10.665 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetById (Hospital)'
2025-11-26 21:39:10.666 +02:00 [INF] Route matched with {action = "GetById", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Hospital.Controllers.BranchController (Hospital).
2025-11-26 21:39:10.667 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-26 21:39:10.668 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-26 21:39:10.669 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-26 21:39:10.670 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-26 21:39:10.671 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-26 21:39:10.672 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-26 21:39:10.673 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-26 21:39:10.674 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-11-26 21:39:10.675 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-11-26 21:39:10.676 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-11-26 21:39:10.677 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-11-26 21:39:10.677 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-11-26 21:39:10.678 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-11-26 21:39:10.679 +02:00 [INF] Get Branch By Id called at "2025-11-26T21:39:10.6796142+02:00"
2025-11-26 21:39:10.680 +02:00 [INF] Fetching branch by ID: 2
2025-11-26 21:39:10.681 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-26 21:39:10.684 +02:00 [DBG] Creating DbConnection.
2025-11-26 21:39:10.685 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-26 21:39:10.686 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:39:10.687 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:39:10.687 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-26 21:39:10.688 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-26 21:39:10.689 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-26 21:39:10.690 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-26 21:39:10.693 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-26 21:39:10.695 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-26 21:39:10.696 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:39:10.697 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-11-26 21:39:10.699 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:39:10.699 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-26 21:39:10.701 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-26 21:39:10.702 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-26 21:39:10.702 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-26 21:39:10.703 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-26 21:39:10.704 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-26 21:39:10.704 +02:00 [INF] Executing OkObjectResult, writing value of type 'Hospital.Application.DTO.Branch.BranchDto'.
2025-11-26 21:39:10.705 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetById (Hospital) in 33.5836ms
2025-11-26 21:39:10.706 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetById (Hospital)'
2025-11-26 21:39:10.707 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-26 21:39:10.708 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:39:10.709 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-26 21:39:10.710 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetBy/2 - 200 null application/json; charset=utf-8 52.6095ms
2025-11-26 21:39:19.425 +02:00 [DBG] Connection id "0HNHD4CP9DLNQ" received FIN.
2025-11-26 21:39:19.426 +02:00 [DBG] Connection id "0HNHD4CP9DLNQ" is closed. The last processed stream ID was 1.
2025-11-26 21:39:19.426 +02:00 [DBG] The connection queue processing loop for 0HNHD4CP9DLNQ completed.
2025-11-26 21:39:19.427 +02:00 [DBG] Connection id "0HNHD4CP9DLNQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-26 21:39:19.432 +02:00 [DBG] Connection id "0HNHD4CP9DLNQ" stopped.
2025-11-26 21:42:23.695 +02:00 [DBG] Connection id "0HNHD4CP9DLNR" accepted.
2025-11-26 21:42:23.697 +02:00 [DBG] Connection id "0HNHD4CP9DLNR" received FIN.
2025-11-26 21:42:23.703 +02:00 [DBG] Connection id "0HNHD4CP9DLNR" started.
2025-11-26 21:42:23.711 +02:00 [DBG] Connection id "0HNHD4CP9DLNS" accepted.
2025-11-26 21:42:23.719 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-26 21:42:23.719 +02:00 [DBG] Connection id "0HNHD4CP9DLNS" started.
2025-11-26 21:42:23.722 +02:00 [DBG] Connection id "0HNHD4CP9DLNR" stopped.
2025-11-26 21:42:23.723 +02:00 [DBG] Connection id "0HNHD4CP9DLNR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-26 21:42:23.726 +02:00 [DBG] Connection 0HNHD4CP9DLNS established using the following protocol: "Tls13"
2025-11-26 21:42:23.727 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/Branch/Create - application/json 302
2025-11-26 21:42:23.730 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/Create'
2025-11-26 21:42:23.731 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.Create (Hospital)' with route pattern 'api/Branch/Create' is valid for the request path '/api/Branch/Create'
2025-11-26 21:42:23.733 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.Create (Hospital)'
2025-11-26 21:42:23.734 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-26 21:42:23.735 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-26 21:42:23.736 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.Create (Hospital)'
2025-11-26 21:42:23.737 +02:00 [INF] Route matched with {action = "Create", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Hospital.Application.DTO.Branch.CreateBranchDto) on controller Hospital.Controllers.BranchController (Hospital).
2025-11-26 21:42:23.738 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-26 21:42:23.740 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-26 21:42:23.741 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-26 21:42:23.742 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-26 21:42:23.744 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-26 21:42:23.745 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-26 21:42:23.747 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-26 21:42:23.748 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto' ...
2025-11-26 21:42:23.749 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto' using the name '' in request data ...
2025-11-26 21:42:23.750 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-26 21:42:23.751 +02:00 [DBG] Connection id "0HNHD4CP9DLNS", Request id "0HNHD4CP9DLNS:00000001": started reading request body.
2025-11-26 21:42:23.752 +02:00 [DBG] Connection id "0HNHD4CP9DLNS", Request id "0HNHD4CP9DLNS:00000001": done reading request body.
2025-11-26 21:42:23.754 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.Branch.CreateBranchDto'
2025-11-26 21:42:23.755 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto'.
2025-11-26 21:42:23.756 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto'.
2025-11-26 21:42:23.757 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto' ...
2025-11-26 21:42:23.758 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto'.
2025-11-26 21:42:23.759 +02:00 [INF] Create Branch called at "2025-11-26T21:42:23.7592822+02:00"
2025-11-26 21:42:23.759 +02:00 [INF] Creating new branch with name: Main Branch
2025-11-26 21:42:23.761 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-26 21:42:23.763 +02:00 [DBG] Creating DbConnection.
2025-11-26 21:42:23.764 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-26 21:42:23.764 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:42:23.766 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:42:23.767 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-26 21:42:23.767 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-26 21:42:23.768 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-26 21:42:23.770 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-26 21:42:23.776 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-26 21:42:23.777 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:42:23.779 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-26 21:42:23.780 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:42:23.781 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-26 21:42:23.783 +02:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Branch.BranchId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-26 21:42:23.784 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-26 21:42:23.785 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-26 21:42:23.786 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-26 21:42:23.787 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-26 21:42:23.788 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-26 21:42:23.789 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-26 21:42:23.791 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:42:23.791 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:42:23.792 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-26 21:42:23.793 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-26 21:42:23.794 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-26 21:42:23.795 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 150), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 200), @p5='?' (Size = 300), @p6='?' (DbType = Double), @p7='?' (DbType = Double), @p8='?' (Size = 25), @p9='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Branches] ([Address], [BranchName], [CreatedAt], [Description], [Email], [ImageURL], [Latitude], [Longitude], [Phone], [UpdatedAt])
OUTPUT INSERTED.[BranchId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-11-26 21:42:23.798 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 150), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 200), @p5='?' (Size = 300), @p6='?' (DbType = Double), @p7='?' (DbType = Double), @p8='?' (Size = 25), @p9='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Branches] ([Address], [BranchName], [CreatedAt], [Description], [Email], [ImageURL], [Latitude], [Longitude], [Phone], [UpdatedAt])
OUTPUT INSERTED.[BranchId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-11-26 21:42:23.800 +02:00 [DBG] The foreign key property 'Branch.BranchId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-26 21:42:23.801 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:42:23.801 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-26 21:42:23.802 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:42:23.803 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-26 21:42:23.804 +02:00 [DBG] An entity of type 'Branch' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-26 21:42:23.805 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-26 21:42:23.806 +02:00 [INF] Branch created successfully with ID: 3
2025-11-26 21:42:23.807 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-26 21:42:23.808 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-26 21:42:23.808 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-26 21:42:23.809 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-26 21:42:23.809 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-26 21:42:23.810 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Hospital.Application.DTO.Branch.BranchDto'.
2025-11-26 21:42:23.811 +02:00 [DBG] Found the endpoints ["Hospital.Controllers.BranchController.GetById (Hospital)"] for address (id=[3],action=[GetById],controller=[Branch])
2025-11-26 21:42:23.812 +02:00 [DBG] Successfully processed template api/Branch/GetBy/{id} for Hospital.Controllers.BranchController.GetById (Hospital) resulting in /api/Branch/GetBy/3 and 
2025-11-26 21:42:23.813 +02:00 [DBG] Link generation succeeded for endpoints ["Hospital.Controllers.BranchController.GetById (Hospital)"] with result /api/Branch/GetBy/3
2025-11-26 21:42:23.814 +02:00 [INF] Executed action Hospital.Controllers.BranchController.Create (Hospital) in 69.0602ms
2025-11-26 21:42:23.815 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.Create (Hospital)'
2025-11-26 21:42:23.816 +02:00 [DBG] Connection id "0HNHD4CP9DLNS" completed keep alive response.
2025-11-26 21:42:23.817 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-26 21:42:23.817 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:42:23.818 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-26 21:42:23.820 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/Branch/Create - 201 null application/json; charset=utf-8 91.9951ms
2025-11-26 21:42:30.900 +02:00 [DBG] Connection id "0HNHD4CP9DLNT" accepted.
2025-11-26 21:42:30.902 +02:00 [DBG] Connection id "0HNHD4CP9DLNT" started.
2025-11-26 21:42:30.906 +02:00 [DBG] Connection 0HNHD4CP9DLNT established using the following protocol: "Tls13"
2025-11-26 21:42:30.909 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetAll - null null
2025-11-26 21:42:30.911 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetAll'
2025-11-26 21:42:30.912 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)' with route pattern 'api/Branch/GetAll' is valid for the request path '/api/Branch/GetAll'
2025-11-26 21:42:30.913 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-26 21:42:30.913 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-26 21:42:30.914 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-26 21:42:30.914 +02:00 [INF] CORS policy execution successful.
2025-11-26 21:42:30.915 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-26 21:42:30.916 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-26 21:42:30.917 +02:00 [INF] Route matched with {action = "GetAll", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.BranchController (Hospital).
2025-11-26 21:42:30.918 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-26 21:42:30.919 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-26 21:42:30.920 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-26 21:42:30.921 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-26 21:42:30.922 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-26 21:42:30.923 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-26 21:42:30.924 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-26 21:42:30.925 +02:00 [INF] Get All Branch called at "2025-11-26T21:42:30.9258384+02:00"
2025-11-26 21:42:30.926 +02:00 [INF] Fetching all branches
2025-11-26 21:42:30.927 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-26 21:42:30.928 +02:00 [DBG] Creating DbConnection.
2025-11-26 21:42:30.929 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-26 21:42:30.930 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:42:30.931 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:42:30.932 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-26 21:42:30.932 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-26 21:42:30.933 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-26 21:42:30.934 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-26 21:42:30.940 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-26 21:42:30.941 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:42:30.942 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-26 21:42:30.943 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:42:30.944 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-26 21:42:30.945 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-26 21:42:30.947 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-26 21:42:30.947 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-26 21:42:30.948 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-26 21:42:30.948 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-26 21:42:30.949 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Branch.BranchDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-26 21:42:30.950 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetAll (Hospital) in 26.7455ms
2025-11-26 21:42:30.951 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-26 21:42:30.952 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-26 21:42:30.953 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:42:30.954 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-26 21:42:30.955 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetAll - 200 null application/json; charset=utf-8 46.6823ms
2025-11-26 21:42:31.985 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetBy/3 - null null
2025-11-26 21:42:31.987 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetBy/3'
2025-11-26 21:42:31.988 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetById (Hospital)' with route pattern 'api/Branch/GetBy/{id}' is valid for the request path '/api/Branch/GetBy/3'
2025-11-26 21:42:31.989 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetById (Hospital)'
2025-11-26 21:42:31.990 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-26 21:42:31.991 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-26 21:42:31.991 +02:00 [INF] CORS policy execution successful.
2025-11-26 21:42:31.992 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-26 21:42:31.993 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetById (Hospital)'
2025-11-26 21:42:31.993 +02:00 [INF] Route matched with {action = "GetById", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Hospital.Controllers.BranchController (Hospital).
2025-11-26 21:42:31.995 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-26 21:42:31.995 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-26 21:42:31.996 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-26 21:42:31.997 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-26 21:42:31.999 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-26 21:42:32.000 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-26 21:42:32.001 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-26 21:42:32.002 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-11-26 21:42:32.003 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-11-26 21:42:32.004 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-11-26 21:42:32.004 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-11-26 21:42:32.005 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-11-26 21:42:32.006 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-11-26 21:42:32.007 +02:00 [INF] Get Branch By Id called at "2025-11-26T21:42:32.0076152+02:00"
2025-11-26 21:42:32.008 +02:00 [INF] Fetching branch by ID: 3
2025-11-26 21:42:32.009 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-26 21:42:32.010 +02:00 [DBG] Creating DbConnection.
2025-11-26 21:42:32.011 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-26 21:42:32.011 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:42:32.012 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:42:32.013 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-26 21:42:32.014 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-26 21:42:32.015 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-26 21:42:32.016 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-26 21:42:32.021 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-26 21:42:32.022 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-26 21:42:32.023 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:42:32.024 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-26 21:42:32.025 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:42:32.026 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-26 21:42:32.027 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-26 21:42:32.028 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-26 21:42:32.029 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-26 21:42:32.029 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-26 21:42:32.030 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-26 21:42:32.031 +02:00 [INF] Executing OkObjectResult, writing value of type 'Hospital.Application.DTO.Branch.BranchDto'.
2025-11-26 21:42:32.032 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetById (Hospital) in 31.6864ms
2025-11-26 21:42:32.032 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetById (Hospital)'
2025-11-26 21:42:32.034 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-26 21:42:32.034 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:42:32.035 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-26 21:42:32.036 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetBy/3 - 200 null application/json; charset=utf-8 51.4204ms
2025-11-26 21:42:34.461 +02:00 [DBG] Connection id "0HNHD4CP9DLNT" received FIN.
2025-11-26 21:42:34.462 +02:00 [DBG] Connection id "0HNHD4CP9DLNT" is closed. The last processed stream ID was 3.
2025-11-26 21:42:34.462 +02:00 [DBG] The connection queue processing loop for 0HNHD4CP9DLNT completed.
2025-11-26 21:42:34.463 +02:00 [DBG] Connection id "0HNHD4CP9DLNT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-26 21:42:34.465 +02:00 [DBG] Connection id "0HNHD4CP9DLNT" stopped.
2025-11-26 21:43:16.811 +02:00 [DBG] Connection id "0HNHD4CP9DLNU" accepted.
2025-11-26 21:43:16.818 +02:00 [DBG] Connection id "0HNHD4CP9DLNU" started.
2025-11-26 21:43:16.823 +02:00 [DBG] Connection 0HNHD4CP9DLNU established using the following protocol: "Tls13"
2025-11-26 21:43:16.831 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetAll - null null
2025-11-26 21:43:16.841 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetAll'
2025-11-26 21:43:16.842 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)' with route pattern 'api/Branch/GetAll' is valid for the request path '/api/Branch/GetAll'
2025-11-26 21:43:16.843 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-26 21:43:16.844 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-26 21:43:16.844 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-26 21:43:16.845 +02:00 [INF] CORS policy execution successful.
2025-11-26 21:43:16.846 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-26 21:43:16.846 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-26 21:43:16.847 +02:00 [INF] Route matched with {action = "GetAll", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.BranchController (Hospital).
2025-11-26 21:43:16.849 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-26 21:43:16.850 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-26 21:43:16.851 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-26 21:43:16.853 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-26 21:43:16.854 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-26 21:43:16.855 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-26 21:43:16.857 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-26 21:43:16.858 +02:00 [INF] Get All Branch called at "2025-11-26T21:43:16.8581920+02:00"
2025-11-26 21:43:16.858 +02:00 [INF] Fetching all branches
2025-11-26 21:43:16.860 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-26 21:43:16.862 +02:00 [DBG] Creating DbConnection.
2025-11-26 21:43:16.862 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-26 21:43:16.863 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:43:16.865 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:43:16.866 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-26 21:43:16.867 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-26 21:43:16.868 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-26 21:43:16.869 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-26 21:43:16.874 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-26 21:43:16.875 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:43:16.877 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-26 21:43:16.878 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:43:16.879 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-26 21:43:16.880 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-26 21:43:16.882 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-26 21:43:16.882 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-26 21:43:16.883 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-26 21:43:16.884 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-26 21:43:16.885 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Branch.BranchDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-26 21:43:16.886 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetAll (Hospital) in 31.2163ms
2025-11-26 21:43:16.887 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-26 21:43:16.888 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-26 21:43:16.889 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:43:16.890 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-26 21:43:16.892 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetAll - 200 null application/json; charset=utf-8 61.2843ms
2025-11-26 21:43:19.469 +02:00 [DBG] Connection id "0HNHD4CP9DLNU" received FIN.
2025-11-26 21:43:19.470 +02:00 [DBG] Connection id "0HNHD4CP9DLNU" is closed. The last processed stream ID was 1.
2025-11-26 21:43:19.470 +02:00 [DBG] The connection queue processing loop for 0HNHD4CP9DLNU completed.
2025-11-26 21:43:19.471 +02:00 [DBG] Connection id "0HNHD4CP9DLNU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-26 21:43:19.473 +02:00 [DBG] Connection id "0HNHD4CP9DLNU" stopped.
2025-11-26 21:43:30.663 +02:00 [DBG] Connection id "0HNHD4CP9DLNV" accepted.
2025-11-26 21:43:30.664 +02:00 [DBG] Connection id "0HNHD4CP9DLNV" started.
2025-11-26 21:43:30.668 +02:00 [DBG] Connection 0HNHD4CP9DLNV established using the following protocol: "Tls13"
2025-11-26 21:43:30.670 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetBy/3 - null null
2025-11-26 21:43:30.672 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetBy/3'
2025-11-26 21:43:30.673 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetById (Hospital)' with route pattern 'api/Branch/GetBy/{id}' is valid for the request path '/api/Branch/GetBy/3'
2025-11-26 21:43:30.674 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetById (Hospital)'
2025-11-26 21:43:30.675 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-26 21:43:30.675 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-26 21:43:30.676 +02:00 [INF] CORS policy execution successful.
2025-11-26 21:43:30.677 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-26 21:43:30.677 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetById (Hospital)'
2025-11-26 21:43:30.678 +02:00 [INF] Route matched with {action = "GetById", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Hospital.Controllers.BranchController (Hospital).
2025-11-26 21:43:30.679 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-26 21:43:30.680 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-26 21:43:30.681 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-26 21:43:30.683 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-26 21:43:30.684 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-26 21:43:30.685 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-26 21:43:30.686 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-26 21:43:30.686 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-11-26 21:43:30.687 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-11-26 21:43:30.688 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-11-26 21:43:30.689 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-11-26 21:43:30.690 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-11-26 21:43:30.691 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-11-26 21:43:30.692 +02:00 [INF] Get Branch By Id called at "2025-11-26T21:43:30.6922745+02:00"
2025-11-26 21:43:30.692 +02:00 [INF] Fetching branch by ID: 3
2025-11-26 21:43:30.694 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-26 21:43:30.695 +02:00 [DBG] Creating DbConnection.
2025-11-26 21:43:30.696 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-26 21:43:30.696 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:43:30.697 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:43:30.698 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-26 21:43:30.699 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-26 21:43:30.700 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-26 21:43:30.701 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-26 21:43:30.704 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-26 21:43:30.706 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-26 21:43:30.706 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:43:30.707 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-26 21:43:30.708 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:43:30.709 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-26 21:43:30.710 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-26 21:43:30.712 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-26 21:43:30.712 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-26 21:43:30.713 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-26 21:43:30.713 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-26 21:43:30.714 +02:00 [INF] Executing OkObjectResult, writing value of type 'Hospital.Application.DTO.Branch.BranchDto'.
2025-11-26 21:43:30.715 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetById (Hospital) in 30.9158ms
2025-11-26 21:43:30.717 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetById (Hospital)'
2025-11-26 21:43:30.718 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-26 21:43:30.718 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:43:30.719 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-26 21:43:30.720 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetBy/3 - 200 null application/json; charset=utf-8 50.9389ms
2025-11-26 21:43:39.472 +02:00 [DBG] Connection id "0HNHD4CP9DLNV" received FIN.
2025-11-26 21:43:39.475 +02:00 [DBG] Connection id "0HNHD4CP9DLNV" is closed. The last processed stream ID was 1.
2025-11-26 21:43:39.475 +02:00 [DBG] The connection queue processing loop for 0HNHD4CP9DLNV completed.
2025-11-26 21:43:39.476 +02:00 [DBG] Connection id "0HNHD4CP9DLNV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-26 21:43:39.479 +02:00 [DBG] Connection id "0HNHD4CP9DLNV" stopped.
2025-11-26 21:46:46.084 +02:00 [DBG] Connection id "0HNHD4CP9DLO0" received FIN.
2025-11-26 21:46:46.093 +02:00 [DBG] Connection id "0HNHD4CP9DLO0" accepted.
2025-11-26 21:46:46.100 +02:00 [DBG] Connection id "0HNHD4CP9DLO0" started.
2025-11-26 21:46:46.101 +02:00 [DBG] Connection id "0HNHD4CP9DLO1" accepted.
2025-11-26 21:46:46.108 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-26 21:46:46.108 +02:00 [DBG] Connection id "0HNHD4CP9DLO1" started.
2025-11-26 21:46:46.110 +02:00 [DBG] Connection id "0HNHD4CP9DLO0" stopped.
2025-11-26 21:46:46.111 +02:00 [DBG] Connection id "0HNHD4CP9DLO0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-26 21:46:46.114 +02:00 [DBG] Connection 0HNHD4CP9DLO1 established using the following protocol: "Tls13"
2025-11-26 21:46:46.115 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7217/api/Branch/Update - application/json 316
2025-11-26 21:46:46.118 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/Update'
2025-11-26 21:46:46.119 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.Update (Hospital)' with route pattern 'api/Branch/Update' is valid for the request path '/api/Branch/Update'
2025-11-26 21:46:46.121 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.Update (Hospital)'
2025-11-26 21:46:46.122 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-26 21:46:46.123 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-26 21:46:46.124 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.Update (Hospital)'
2025-11-26 21:46:46.129 +02:00 [INF] Route matched with {action = "Update", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Hospital.Application.DTO.Branch.UpdateBranchDto) on controller Hospital.Controllers.BranchController (Hospital).
2025-11-26 21:46:46.131 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-26 21:46:46.133 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-26 21:46:46.134 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-26 21:46:46.135 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-26 21:46:46.136 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-26 21:46:46.138 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-26 21:46:46.139 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-26 21:46:46.140 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Branch.UpdateBranchDto' ...
2025-11-26 21:46:46.141 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Branch.UpdateBranchDto' using the name '' in request data ...
2025-11-26 21:46:46.142 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-26 21:46:46.145 +02:00 [DBG] Connection id "0HNHD4CP9DLO1", Request id "0HNHD4CP9DLO1:00000001": started reading request body.
2025-11-26 21:46:46.146 +02:00 [DBG] Connection id "0HNHD4CP9DLO1", Request id "0HNHD4CP9DLO1:00000001": done reading request body.
2025-11-26 21:46:46.150 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.Branch.UpdateBranchDto'
2025-11-26 21:46:46.151 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Branch.UpdateBranchDto'.
2025-11-26 21:46:46.152 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Branch.UpdateBranchDto'.
2025-11-26 21:46:46.153 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Branch.UpdateBranchDto' ...
2025-11-26 21:46:46.158 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Branch.UpdateBranchDto'.
2025-11-26 21:46:46.160 +02:00 [INF] Update Branch called at "2025-11-26T21:46:46.1608892+02:00"
2025-11-26 21:46:46.163 +02:00 [INF] Updating branch with ID: 3
2025-11-26 21:46:46.164 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-26 21:46:46.166 +02:00 [DBG] Creating DbConnection.
2025-11-26 21:46:46.167 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-26 21:46:46.167 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:46:46.169 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:46:46.170 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-26 21:46:46.171 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-26 21:46:46.171 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-26 21:46:46.172 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-26 21:46:46.180 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-26 21:46:46.181 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-26 21:46:46.182 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:46:46.183 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-11-26 21:46:46.184 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:46:46.185 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-26 21:46:46.187 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:46:46.188 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:46:46.189 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-26 21:46:46.190 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-26 21:46:46.191 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-26 21:46:46.192 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-26 21:46:46.195 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-26 21:46:46.196 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:46:46.197 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-26 21:46:46.198 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:46:46.199 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-26 21:46:46.202 +02:00 [DBG] An entity of type 'Branch' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-26 21:46:46.203 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-26 21:46:46.204 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-26 21:46:46.205 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-26 21:46:46.206 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-26 21:46:46.207 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-26 21:46:46.211 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:46:46.212 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:46:46.213 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-26 21:46:46.214 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-26 21:46:46.215 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-26 21:46:46.216 +02:00 [DBG] Executing DbCommand [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Size = 250), @p1='?' (Size = 150), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 200), @p5='?' (Size = 300), @p6='?' (DbType = Double), @p7='?' (DbType = Double), @p8='?' (Size = 25), @p9='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Branches] SET [Address] = @p0, [BranchName] = @p1, [CreatedAt] = @p2, [Description] = @p3, [Email] = @p4, [ImageURL] = @p5, [Latitude] = @p6, [Longitude] = @p7, [Phone] = @p8, [UpdatedAt] = @p9
OUTPUT 1
WHERE [BranchId] = @p10;
2025-11-26 21:46:46.220 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Size = 250), @p1='?' (Size = 150), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 200), @p5='?' (Size = 300), @p6='?' (DbType = Double), @p7='?' (DbType = Double), @p8='?' (Size = 25), @p9='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Branches] SET [Address] = @p0, [BranchName] = @p1, [CreatedAt] = @p2, [Description] = @p3, [Email] = @p4, [ImageURL] = @p5, [Latitude] = @p6, [Longitude] = @p7, [Phone] = @p8, [UpdatedAt] = @p9
OUTPUT 1
WHERE [BranchId] = @p10;
2025-11-26 21:46:46.223 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:46:46.224 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-11-26 21:46:46.225 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:46:46.226 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-26 21:46:46.227 +02:00 [DBG] An entity of type 'Branch' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-26 21:46:46.228 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-26 21:46:46.229 +02:00 [INF] Branch with ID 3 updated successfully
2025-11-26 21:46:46.230 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-26 21:46:46.232 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-26 21:46:46.232 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-26 21:46:46.233 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-26 21:46:46.234 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-11-26 21:46:46.234 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-11-26 21:46:46.236 +02:00 [INF] Executed action Hospital.Controllers.BranchController.Update (Hospital) in 97.9373ms
2025-11-26 21:46:46.236 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.Update (Hospital)'
2025-11-26 21:46:46.237 +02:00 [DBG] Connection id "0HNHD4CP9DLO1" completed keep alive response.
2025-11-26 21:46:46.238 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-26 21:46:46.239 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:46:46.239 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-26 21:46:46.240 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7217/api/Branch/Update - 200 null text/plain; charset=utf-8 125.3491ms
2025-11-26 21:46:55.140 +02:00 [DBG] Connection id "0HNHD4CP9DLO2" accepted.
2025-11-26 21:46:55.141 +02:00 [DBG] Connection id "0HNHD4CP9DLO2" started.
2025-11-26 21:46:55.144 +02:00 [DBG] Connection 0HNHD4CP9DLO2 established using the following protocol: "Tls13"
2025-11-26 21:46:55.183 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/_framework/aspnetcore-browser-refresh.js - null null
2025-11-26 21:46:55.214 +02:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-11-26 21:46:55.231 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/_framework/aspnetcore-browser-refresh.js - 200 16500 application/javascript; charset=utf-8 48.7969ms
2025-11-26 21:46:55.331 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/swagger/v1/swagger.json - null null
2025-11-26 21:46:55.333 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-11-26 21:46:55.335 +02:00 [DBG] Request did not match any endpoints
2025-11-26 21:46:55.378 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 47.3698ms
2025-11-26 21:46:56.999 +02:00 [DBG] Connection id "0HNHD4CP9DLO3" accepted.
2025-11-26 21:46:57.001 +02:00 [DBG] Connection id "0HNHD4CP9DLO3" started.
2025-11-26 21:46:57.005 +02:00 [DBG] Connection 0HNHD4CP9DLO3 established using the following protocol: "Tls13"
2025-11-26 21:46:57.007 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetAll - null null
2025-11-26 21:46:57.010 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetAll'
2025-11-26 21:46:57.011 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)' with route pattern 'api/Branch/GetAll' is valid for the request path '/api/Branch/GetAll'
2025-11-26 21:46:57.012 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-26 21:46:57.014 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-26 21:46:57.014 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-26 21:46:57.015 +02:00 [INF] CORS policy execution successful.
2025-11-26 21:46:57.016 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-26 21:46:57.017 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-26 21:46:57.018 +02:00 [INF] Route matched with {action = "GetAll", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.BranchController (Hospital).
2025-11-26 21:46:57.019 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-26 21:46:57.021 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-26 21:46:57.022 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-26 21:46:57.023 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-26 21:46:57.025 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-26 21:46:57.026 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-26 21:46:57.027 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-26 21:46:57.029 +02:00 [INF] Get All Branch called at "2025-11-26T21:46:57.0289961+02:00"
2025-11-26 21:46:57.029 +02:00 [INF] Fetching all branches
2025-11-26 21:46:57.030 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-26 21:46:57.032 +02:00 [DBG] Creating DbConnection.
2025-11-26 21:46:57.033 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-26 21:46:57.034 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:46:57.036 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:46:57.037 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-26 21:46:57.038 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-26 21:46:57.039 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-26 21:46:57.041 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-26 21:46:57.048 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-26 21:46:57.050 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:46:57.051 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-26 21:46:57.053 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:46:57.054 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-26 21:46:57.055 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-26 21:46:57.057 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-26 21:46:57.058 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-26 21:46:57.059 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-26 21:46:57.060 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-26 21:46:57.061 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Branch.BranchDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-26 21:46:57.062 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetAll (Hospital) in 35.9959ms
2025-11-26 21:46:57.064 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-26 21:46:57.064 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-26 21:46:57.065 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:46:57.066 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-26 21:46:57.068 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetAll - 200 null application/json; charset=utf-8 60.3551ms
2025-11-26 21:46:58.812 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetBy/3 - null null
2025-11-26 21:46:58.815 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetBy/3'
2025-11-26 21:46:58.816 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetById (Hospital)' with route pattern 'api/Branch/GetBy/{id}' is valid for the request path '/api/Branch/GetBy/3'
2025-11-26 21:46:58.817 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetById (Hospital)'
2025-11-26 21:46:58.818 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-26 21:46:58.819 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-26 21:46:58.820 +02:00 [INF] CORS policy execution successful.
2025-11-26 21:46:58.821 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-26 21:46:58.822 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetById (Hospital)'
2025-11-26 21:46:58.823 +02:00 [INF] Route matched with {action = "GetById", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Hospital.Controllers.BranchController (Hospital).
2025-11-26 21:46:58.825 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-26 21:46:58.826 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-26 21:46:58.827 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-26 21:46:58.829 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-26 21:46:58.831 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-26 21:46:58.832 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-26 21:46:58.834 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-26 21:46:58.835 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-11-26 21:46:58.836 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-11-26 21:46:58.838 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-11-26 21:46:58.839 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-11-26 21:46:58.841 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-11-26 21:46:58.842 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-11-26 21:46:58.843 +02:00 [INF] Get Branch By Id called at "2025-11-26T21:46:58.8438983+02:00"
2025-11-26 21:46:58.845 +02:00 [INF] Fetching branch by ID: 3
2025-11-26 21:46:58.847 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-26 21:46:58.849 +02:00 [DBG] Creating DbConnection.
2025-11-26 21:46:58.850 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-26 21:46:58.851 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:46:58.853 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:46:58.854 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-26 21:46:58.855 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-26 21:46:58.856 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-26 21:46:58.858 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-26 21:46:58.866 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-26 21:46:58.869 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-26 21:46:58.870 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:46:58.872 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-11-26 21:46:58.873 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:46:58.874 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-26 21:46:58.876 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-26 21:46:58.878 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-26 21:46:58.879 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-26 21:46:58.879 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-26 21:46:58.880 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-26 21:46:58.882 +02:00 [INF] Executing OkObjectResult, writing value of type 'Hospital.Application.DTO.Branch.BranchDto'.
2025-11-26 21:46:58.883 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetById (Hospital) in 51.0393ms
2025-11-26 21:46:58.885 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetById (Hospital)'
2025-11-26 21:46:58.886 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-26 21:46:58.887 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:46:58.888 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-26 21:46:58.890 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetBy/3 - 200 null application/json; charset=utf-8 77.9832ms
2025-11-26 21:46:59.508 +02:00 [DBG] Connection id "0HNHD4CP9DLO3" received FIN.
2025-11-26 21:46:59.509 +02:00 [DBG] Connection id "0HNHD4CP9DLO2" received FIN.
2025-11-26 21:46:59.509 +02:00 [DBG] Connection id "0HNHD4CP9DLO3" is closed. The last processed stream ID was 3.
2025-11-26 21:46:59.510 +02:00 [DBG] The connection queue processing loop for 0HNHD4CP9DLO3 completed.
2025-11-26 21:46:59.510 +02:00 [DBG] Connection id "0HNHD4CP9DLO2" is closed. The last processed stream ID was 3.
2025-11-26 21:46:59.510 +02:00 [DBG] The connection queue processing loop for 0HNHD4CP9DLO2 completed.
2025-11-26 21:46:59.511 +02:00 [DBG] Connection id "0HNHD4CP9DLO3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-26 21:46:59.514 +02:00 [DBG] Connection id "0HNHD4CP9DLO2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-26 21:46:59.519 +02:00 [DBG] Connection id "0HNHD4CP9DLO3" stopped.
2025-11-26 21:46:59.519 +02:00 [DBG] Connection id "0HNHD4CP9DLO2" stopped.
2025-11-26 21:48:23.989 +02:00 [DBG] Connection id "0HNHD4CP9DLO4" accepted.
2025-11-26 21:48:23.996 +02:00 [DBG] Connection id "0HNHD4CP9DLO4" started.
2025-11-26 21:48:24.003 +02:00 [DBG] Connection 0HNHD4CP9DLO4 established using the following protocol: "Tls13"
2025-11-26 21:48:24.014 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetAll - null null
2025-11-26 21:48:24.018 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetAll'
2025-11-26 21:48:24.020 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)' with route pattern 'api/Branch/GetAll' is valid for the request path '/api/Branch/GetAll'
2025-11-26 21:48:24.022 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-26 21:48:24.023 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-26 21:48:24.024 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-26 21:48:24.026 +02:00 [INF] CORS policy execution successful.
2025-11-26 21:48:24.027 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-26 21:48:24.028 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-26 21:48:24.029 +02:00 [INF] Route matched with {action = "GetAll", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.BranchController (Hospital).
2025-11-26 21:48:24.032 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-26 21:48:24.034 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-26 21:48:24.036 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-26 21:48:24.038 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-26 21:48:24.039 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-26 21:48:24.041 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-26 21:48:24.043 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-26 21:48:24.044 +02:00 [INF] Get All Branch called at "2025-11-26T21:48:24.0442733+02:00"
2025-11-26 21:48:24.045 +02:00 [INF] Fetching all branches
2025-11-26 21:48:24.046 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-26 21:48:24.048 +02:00 [DBG] Creating DbConnection.
2025-11-26 21:48:24.050 +02:00 [DBG] Created DbConnection. (1ms).
2025-11-26 21:48:24.051 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:48:24.052 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:48:24.053 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-26 21:48:24.055 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-26 21:48:24.056 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-26 21:48:24.058 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-26 21:48:24.065 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-26 21:48:24.068 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:48:24.070 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-11-26 21:48:24.072 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:48:24.073 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-26 21:48:24.075 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-26 21:48:24.077 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-26 21:48:24.077 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-26 21:48:24.078 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-26 21:48:24.079 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-26 21:48:24.081 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Branch.BranchDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-26 21:48:24.082 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetAll (Hospital) in 41.3616ms
2025-11-26 21:48:24.084 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-26 21:48:24.085 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-26 21:48:24.087 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-26 21:48:24.088 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-26 21:48:24.090 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetAll - 200 null application/json; charset=utf-8 75.3398ms
2025-11-26 21:48:29.521 +02:00 [DBG] Connection id "0HNHD4CP9DLO4" received FIN.
2025-11-26 21:48:29.522 +02:00 [DBG] Connection id "0HNHD4CP9DLO4" is closed. The last processed stream ID was 1.
2025-11-26 21:48:29.522 +02:00 [DBG] The connection queue processing loop for 0HNHD4CP9DLO4 completed.
2025-11-26 21:48:29.523 +02:00 [DBG] Connection id "0HNHD4CP9DLO4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-26 21:48:29.525 +02:00 [DBG] Connection id "0HNHD4CP9DLO4" stopped.
