2025-12-04 22:54:46.403 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-04 22:54:46.508 +02:00 [DBG] Hosting starting
2025-12-04 22:54:46.525 +02:00 [INF] User profile is available. Using 'C:\Users\Mostafa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-04 22:54:46.534 +02:00 [DBG] Reading data from file 'C:\Users\Mostafa\AppData\Local\ASP.NET\DataProtection-Keys\key-d44629b6-926c-4f4b-b731-9531dd7a116d.xml'.
2025-12-04 22:54:46.543 +02:00 [DBG] Found key {d44629b6-926c-4f4b-b731-9531dd7a116d}.
2025-12-04 22:54:46.551 +02:00 [DBG] Considering key {d44629b6-926c-4f4b-b731-9531dd7a116d} with expiration date 2026-01-11 11:06:49Z as default key.
2025-12-04 22:54:46.556 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-12-04 22:54:46.560 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-12-04 22:54:46.562 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-12-04 22:54:46.567 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-12-04 22:54:46.570 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-12-04 22:54:46.574 +02:00 [DBG] Using key {d44629b6-926c-4f4b-b731-9531dd7a116d} as the default key.
2025-12-04 22:54:46.575 +02:00 [DBG] Key ring with default key {d44629b6-926c-4f4b-b731-9531dd7a116d} was loaded during application startup.
2025-12-04 22:54:46.580 +02:00 [DBG] Middleware loaded
2025-12-04 22:54:46.582 +02:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16501 B).
2025-12-04 22:54:46.585 +02:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-04 22:54:46.627 +02:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-04 22:54:46.687 +02:00 [INF] Now listening on: https://localhost:7217
2025-12-04 22:54:46.688 +02:00 [INF] Now listening on: http://localhost:5163
2025-12-04 22:54:46.690 +02:00 [DBG] Loaded hosting startup assembly Hospital
2025-12-04 22:54:46.691 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-04 22:54:46.692 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-04 22:54:46.693 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-04 22:54:46.770 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-04 22:54:46.771 +02:00 [INF] Hosting environment: Development
2025-12-04 22:54:46.772 +02:00 [INF] Content root path: E:\ITI Smart Village\Graduation-Project-ITI\HospitalWebsite_Back-End\HospitalWebsite\Hospital\Hospital
2025-12-04 22:54:46.773 +02:00 [DBG] Hosting started
2025-12-04 22:54:47.045 +02:00 [DBG] Connection id "0HNHJETDVKN2K" accepted.
2025-12-04 22:54:47.046 +02:00 [DBG] Connection id "0HNHJETDVKN2K" started.
2025-12-04 22:54:47.054 +02:00 [DBG] Connection id "0HNHJETDVKN2L" accepted.
2025-12-04 22:54:47.055 +02:00 [DBG] Connection id "0HNHJETDVKN2L" started.
2025-12-04 22:54:47.088 +02:00 [DBG] Connection id "0HNHJETDVKN2L" received FIN.
2025-12-04 22:54:47.088 +02:00 [DBG] Connection id "0HNHJETDVKN2K" received FIN.
2025-12-04 22:54:47.095 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-12-04 22:54:47.095 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-12-04 22:54:47.105 +02:00 [DBG] Connection id "0HNHJETDVKN2M" accepted.
2025-12-04 22:54:47.115 +02:00 [DBG] Connection id "0HNHJETDVKN2M" started.
2025-12-04 22:54:47.121 +02:00 [DBG] Connection id "0HNHJETDVKN2K" stopped.
2025-12-04 22:54:47.122 +02:00 [DBG] Connection id "0HNHJETDVKN2L" stopped.
2025-12-04 22:54:47.126 +02:00 [DBG] Connection id "0HNHJETDVKN2K" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-12-04 22:54:47.127 +02:00 [DBG] Connection id "0HNHJETDVKN2L" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-12-04 22:54:47.153 +02:00 [DBG] Connection 0HNHJETDVKN2M established using the following protocol: "Tls13"
2025-12-04 22:54:47.187 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/swagger/index.html - null null
2025-12-04 22:54:47.255 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-04 22:54:47.278 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-12-04 22:54:47.280 +02:00 [DBG] Request did not match any endpoints
2025-12-04 22:54:47.326 +02:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-12-04 22:54:47.328 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-12-04 22:54:47.344 +02:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-12-04 22:54:47.346 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-12-04 22:54:47.353 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/swagger/index.html - 200 null text/html;charset=utf-8 166.7809ms
2025-12-04 22:54:47.438 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/_framework/aspnetcore-browser-refresh.js - null null
2025-12-04 22:54:47.446 +02:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-12-04 22:54:47.448 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/_vs/browserLink - null null
2025-12-04 22:54:47.462 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 24.1617ms
2025-12-04 22:54:47.525 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/_vs/browserLink - 200 null text/javascript; charset=UTF-8 77.8693ms
2025-12-04 22:54:47.728 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/swagger/v1/swagger.json - null null
2025-12-04 22:54:47.735 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-12-04 22:54:47.737 +02:00 [DBG] Request did not match any endpoints
2025-12-04 22:54:47.797 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 68.5773ms
2025-12-04 22:54:53.931 +02:00 [DBG] Connection id "0HNHJETDVKN2N" accepted.
2025-12-04 22:54:53.932 +02:00 [DBG] Connection id "0HNHJETDVKN2N" started.
2025-12-04 22:54:53.943 +02:00 [DBG] Connection 0HNHJETDVKN2N established using the following protocol: "Tls13"
2025-12-04 22:54:53.947 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7217/api/Services - null null
2025-12-04 22:54:53.959 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Services'
2025-12-04 22:54:53.962 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-12-04 22:54:53.968 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 22:54:53.970 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 22:54:53.972 +02:00 [INF] CORS policy execution successful.
2025-12-04 22:54:53.976 +02:00 [DBG] The request is a preflight request.
2025-12-04 22:54:53.984 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7217/api/Services - 204 null null 36.4561ms
2025-12-04 22:54:53.999 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Services - null null
2025-12-04 22:54:54.009 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Services'
2025-12-04 22:54:54.014 +02:00 [DBG] Endpoint 'Hospital.Controllers.ServicesController.GetAll (Hospital)' with route pattern 'api/Services' is valid for the request path '/api/Services'
2025-12-04 22:54:54.016 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.ServicesController.GetAll (Hospital)'
2025-12-04 22:54:54.019 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 22:54:54.021 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 22:54:54.022 +02:00 [INF] CORS policy execution successful.
2025-12-04 22:54:54.086 +02:00 [DBG] Successfully validated the token.
2025-12-04 22:54:54.088 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-12-04 22:54:54.097 +02:00 [DBG] Authorization was successful.
2025-12-04 22:54:54.099 +02:00 [INF] Executing endpoint 'Hospital.Controllers.ServicesController.GetAll (Hospital)'
2025-12-04 22:54:54.131 +02:00 [INF] Route matched with {action = "GetAll", controller = "Services"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.ServicesController (Hospital).
2025-12-04 22:54:54.134 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-04 22:54:54.135 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-04 22:54:54.137 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-04 22:54:54.139 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-04 22:54:54.141 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-04 22:54:54.145 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.ServicesController (Hospital)
2025-12-04 22:54:54.227 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-04 22:54:54.461 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.ServicesController (Hospital)
2025-12-04 22:54:54.464 +02:00 [INF] get all services called at "2025-12-04T22:54:54.4644800+02:00"
2025-12-04 22:54:54.468 +02:00 [INF] Fetching all services
2025-12-04 22:54:54.972 +02:00 [DBG] The index {'BranchesBranchId'} was not created on entity type 'BranchDoctor (Dictionary<string, object>)' as the properties are already covered by the index {'BranchesBranchId', 'DoctorsDoctorId'}.
2025-12-04 22:54:54.975 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchService (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'ServiceId'}.
2025-12-04 22:54:54.977 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchSpecialization (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'SpecializationId'}.
2025-12-04 22:54:54.978 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-12-04 22:54:54.980 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-12-04 22:54:55.109 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).BranchesBranchId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-12-04 22:54:55.111 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).DoctorsDoctorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-12-04 22:54:55.295 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-12-04 22:54:55.332 +02:00 [DBG] Compiling query expression: 
'DbSet<Service>()
    .Include(s => s.Branches)'
2025-12-04 22:54:55.387 +02:00 [DBG] Including navigation: 'Service.Branches'.
2025-12-04 22:54:55.590 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Service>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Service.ServiceId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Service.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: Service.Description (string), 2], [Property: Service.ImageURL (string) MaxLength(300), 3], [Property: Service.Name (string) Required MaxLength(120), 4], [Property: Service.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 5] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: BranchService (Dictionary<string, object>).BranchId (no field, int) Indexer Required PK FK AfterSave:Throw, 6], [Property: BranchService (Dictionary<string, object>).ServiceId (no field, int) Indexer Required PK FK Index AfterSave:Throw, 7] }
            3 -> Dictionary<IProperty, int> { [Property: Branch.BranchId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 8], [Property: Branch.Address (string) MaxLength(250), 9], [Property: Branch.BranchName (string) Required MaxLength(150), 10], [Property: Branch.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 11], [Property: Branch.Description (string), 12], [Property: Branch.Email (string) MaxLength(200), 13], [Property: Branch.ImageURL (string) MaxLength(300), 14], [Property: Branch.Latitude (double?), 15], [Property: Branch.Longitude (double?), 16], [Property: Branch.Phone (string) MaxLength(25), 17], [Property: Branch.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 18] }
            4 -> 6
            5 -> 7
            6 -> 8
        SELECT s.ServiceId, s.CreatedAt, s.Description, s.ImageURL, s.Name, s.UpdatedAt, t.BranchId, t.ServiceId, t.BranchId0, t.Address, t.BranchName, t.CreatedAt, t.Description, t.Email, t.ImageURL, t.Latitude, t.Longitude, t.Phone, t.UpdatedAt
        FROM Services AS s
        LEFT JOIN 
        (
            SELECT b.BranchId, b.ServiceId, b0.BranchId AS BranchId0, b0.Address, b0.BranchName, b0.CreatedAt, b0.Description, b0.Email, b0.ImageURL, b0.Latitude, b0.Longitude, b0.Phone, b0.UpdatedAt
            FROM BranchServices AS b
            INNER JOIN Branches AS b0 ON b.BranchId == b0.BranchId
        ) AS t ON s.ServiceId == t.ServiceId
        ORDER BY s.ServiceId ASC, t.BranchId ASC, t.ServiceId ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Service>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-12-04 22:54:55.618 +02:00 [DBG] Creating DbConnection.
2025-12-04 22:54:55.634 +02:00 [DBG] Created DbConnection. (15ms).
2025-12-04 22:54:55.638 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:54:55.805 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:54:55.810 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 22:54:55.817 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-12-04 22:54:55.820 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-12-04 22:54:55.828 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceId], [s].[CreatedAt], [s].[Description], [s].[ImageURL], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[ServiceId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Latitude], [t].[Longitude], [t].[Phone], [t].[UpdatedAt]
FROM [Services] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[ServiceId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Latitude], [b0].[Longitude], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchServices] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[ServiceId] = [t].[ServiceId]
ORDER BY [s].[ServiceId], [t].[BranchId], [t].[ServiceId]
2025-12-04 22:54:55.872 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceId], [s].[CreatedAt], [s].[Description], [s].[ImageURL], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[ServiceId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Latitude], [t].[Longitude], [t].[Phone], [t].[UpdatedAt]
FROM [Services] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[ServiceId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Latitude], [b0].[Longitude], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchServices] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[ServiceId] = [t].[ServiceId]
ORDER BY [s].[ServiceId], [t].[BranchId], [t].[ServiceId]
2025-12-04 22:54:55.909 +02:00 [DBG] Context 'AppDbContext' started tracking 'Service' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:54:55.943 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:54:55.971 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:54:55.997 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:54:55.999 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:54:56.001 +02:00 [DBG] Context 'AppDbContext' started tracking 'Service' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:54:56.002 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:54:56.003 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:54:56.004 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:54:56.006 +02:00 [DBG] Context 'AppDbContext' started tracking 'Service' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:54:56.008 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:54:56.010 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:54:56.011 +02:00 [DBG] Context 'AppDbContext' started tracking 'Service' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:54:56.012 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:54:56.013 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:54:56.015 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:54:56.017 +02:00 [DBG] Context 'AppDbContext' started tracking 'Service' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:54:56.019 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:54:56.020 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:54:56.027 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:54:56.032 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 153ms reading results.
2025-12-04 22:54:56.036 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:54:56.042 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (6ms).
2025-12-04 22:54:56.044 +02:00 [INF] 5 services retrieved
2025-12-04 22:54:56.061 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-04 22:54:56.063 +02:00 [DBG] No information found on request to perform content negotiation.
2025-12-04 22:54:56.064 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-04 22:54:56.065 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-04 22:54:56.067 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-04 22:54:56.068 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.ServiceDTOS.ServiceDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-04 22:54:56.094 +02:00 [INF] Executed action Hospital.Controllers.ServicesController.GetAll (Hospital) in 1946.2211ms
2025-12-04 22:54:56.095 +02:00 [INF] Executed endpoint 'Hospital.Controllers.ServicesController.GetAll (Hospital)'
2025-12-04 22:54:56.098 +02:00 [DBG] 'AppDbContext' disposed.
2025-12-04 22:54:56.102 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:54:56.104 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-12-04 22:54:56.107 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Services - 200 null application/json; charset=utf-8 2107.731ms
2025-12-04 22:54:59.460 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7217/api/SupportTicket/patient/8 - null null
2025-12-04 22:54:59.463 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket/patient/8'
2025-12-04 22:54:59.464 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-12-04 22:54:59.465 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 22:54:59.467 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 22:54:59.469 +02:00 [INF] CORS policy execution successful.
2025-12-04 22:54:59.471 +02:00 [DBG] The request is a preflight request.
2025-12-04 22:54:59.475 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7217/api/SupportTicket/patient/8 - 204 null null 14.531ms
2025-12-04 22:54:59.481 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/SupportTicket/patient/8 - null null
2025-12-04 22:54:59.487 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket/patient/8'
2025-12-04 22:54:59.492 +02:00 [DBG] Endpoint 'Hospital.Controllers.SupportTicketController.GetAllByPatientId (Hospital)' with route pattern 'api/SupportTicket/patient/{patientId}' is valid for the request path '/api/SupportTicket/patient/8'
2025-12-04 22:54:59.495 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SupportTicketController.GetAllByPatientId (Hospital)'
2025-12-04 22:54:59.498 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 22:54:59.499 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 22:54:59.500 +02:00 [INF] CORS policy execution successful.
2025-12-04 22:54:59.505 +02:00 [DBG] Successfully validated the token.
2025-12-04 22:54:59.507 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-12-04 22:54:59.511 +02:00 [DBG] Authorization was successful.
2025-12-04 22:54:59.513 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SupportTicketController.GetAllByPatientId (Hospital)'
2025-12-04 22:54:59.530 +02:00 [INF] Route matched with {action = "GetAllByPatientId", controller = "SupportTicket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.SupportTicket.SupportTicketDto]]] GetAllByPatientId(Int32) on controller Hospital.Controllers.SupportTicketController (Hospital).
2025-12-04 22:54:59.531 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-04 22:54:59.533 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-04 22:54:59.534 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-04 22:54:59.535 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-04 22:54:59.537 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-04 22:54:59.539 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 22:54:59.546 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 22:54:59.552 +02:00 [DBG] Attempting to bind parameter 'patientId' of type 'System.Int32' ...
2025-12-04 22:54:59.554 +02:00 [DBG] Attempting to bind parameter 'patientId' of type 'System.Int32' using the name 'patientId' in request data ...
2025-12-04 22:54:59.557 +02:00 [DBG] Done attempting to bind parameter 'patientId' of type 'System.Int32'.
2025-12-04 22:54:59.559 +02:00 [DBG] Done attempting to bind parameter 'patientId' of type 'System.Int32'.
2025-12-04 22:54:59.560 +02:00 [DBG] Attempting to validate the bound parameter 'patientId' of type 'System.Int32' ...
2025-12-04 22:54:59.561 +02:00 [DBG] Done attempting to validate the bound parameter 'patientId' of type 'System.Int32'.
2025-12-04 22:54:59.564 +02:00 [INF] get all Support Ticket  by patient id called at "2025-12-04T22:54:59.5639989+02:00"
2025-12-04 22:54:59.566 +02:00 [INF] Fetching patient with ID: 8
2025-12-04 22:54:59.611 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-12-04 22:54:59.620 +02:00 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .Include(p => p.User)
    .Include(p => p.MedicalRecords)
    .ThenInclude(m => m.Doctor)
    .ThenInclude(d => d.User)
    .FirstOrDefault(p => p.PatientId == __id_0)'
2025-12-04 22:54:59.629 +02:00 [DBG] Including navigation: 'Patient.User'.
2025-12-04 22:54:59.631 +02:00 [DBG] Including navigation: 'Patient.MedicalRecords'.
2025-12-04 22:54:59.633 +02:00 [DBG] Including navigation: 'MedicalRecord.Doctor'.
2025-12-04 22:54:59.634 +02:00 [DBG] Including navigation: 'Doctor.User'.
2025-12-04 22:54:59.671 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Patient>(
    asyncEnumerable: new SingleQueryingEnumerable<Patient>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Patient.PatientId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Patient.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: Patient.EmergencyContact (string) MaxLength(150), 2], [Property: Patient.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: Patient.UserId (string) Required FK Index, 4] }
                1 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 5], [Property: User.AccessFailedCount (int) Required, 6], [Property: User.ConcurrencyStamp (string) Concurrency, 7], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 8], [Property: User.DateOfBirth (DateOnly?), 9], [Property: User.Email (string) Index MaxLength(256), 10], [Property: User.EmailConfirmed (bool) Required, 11], [Property: User.FullName (string) Required MaxLength(150), 12], [Property: User.Gender (GenderType?) MaxLength(10), 13], [Property: User.LockoutEnabled (bool) Required, 14], [Property: User.LockoutEnd (DateTimeOffset?), 15], [Property: User.NormalizedEmail (string) Index MaxLength(256), 16], [Property: User.NormalizedUserName (string) Index MaxLength(256), 17], [Property: User.PasswordHash (string), 18], [Property: User.PhoneNumber (string), 19], [Property: User.PhoneNumberConfirmed (bool) Required, 20], [Property: User.RefreshToken (string), 21], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 22], [Property: User.Role (string) Required MaxLength(50), 23], [Property: User.SecurityStamp (string), 24], [Property: User.TwoFactorEnabled (bool) Required, 25], [Property: User.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 26], [Property: User.UserName (string) MaxLength(256), 27] }
                2 -> 0
                3 -> 5
                4 -> Dictionary<IProperty, int> { [Property: MedicalRecord.RecordId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 28], [Property: MedicalRecord.AppointmentId (int) Required FK Index, 29], [Property: MedicalRecord.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 30], [Property: MedicalRecord.Diagnosis (string), 31], [Property: MedicalRecord.DoctorId (int) Required FK Index, 32], [Property: MedicalRecord.Notes (string), 33], [Property: MedicalRecord.PatientId (int) Required FK Index, 34], [Property: MedicalRecord.TreatmentPlan (string), 35], [Property: MedicalRecord.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 36] }
                5 -> Dictionary<IProperty, int> { [Property: Doctor.DoctorId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 37], [Property: Doctor.Available (bool?), 38], [Property: Doctor.Biography (string), 39], [Property: Doctor.ConsultationFees (decimal) Required, 40], [Property: Doctor.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 41], [Property: Doctor.ExperienceYears (int?), 42], [Property: Doctor.ImageURL (string) MaxLength(300), 43], [Property: Doctor.SpecializationId (int) Required FK Index, 44], [Property: Doctor.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 45], [Property: Doctor.UserId (string) Required FK Index, 46] }
                6 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 47], [Property: User.AccessFailedCount (int) Required, 48], [Property: User.ConcurrencyStamp (string) Concurrency, 49], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 50], [Property: User.DateOfBirth (DateOnly?), 51], [Property: User.Email (string) Index MaxLength(256), 52], [Property: User.EmailConfirmed (bool) Required, 53], [Property: User.FullName (string) Required MaxLength(150), 54], [Property: User.Gender (GenderType?) MaxLength(10), 55], [Property: User.LockoutEnabled (bool) Required, 56], [Property: User.LockoutEnd (DateTimeOffset?), 57], [Property: User.NormalizedEmail (string) Index MaxLength(256), 58], [Property: User.NormalizedUserName (string) Index MaxLength(256), 59], [Property: User.PasswordHash (string), 60], [Property: User.PhoneNumber (string), 61], [Property: User.PhoneNumberConfirmed (bool) Required, 62], [Property: User.RefreshToken (string), 63], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 64], [Property: User.Role (string) Required MaxLength(50), 65], [Property: User.SecurityStamp (string), 66], [Property: User.TwoFactorEnabled (bool) Required, 67], [Property: User.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 68], [Property: User.UserName (string) MaxLength(256), 69] }
                7 -> 28
                8 -> 37
                9 -> 47
            SELECT t.PatientId, t.CreatedAt, t.EmergencyContact, t.UpdatedAt, t.UserId, t.Id, t.AccessFailedCount, t.ConcurrencyStamp, t.CreatedAt0, t.DateOfBirth, t.Email, t.EmailConfirmed, t.FullName, t.Gender, t.LockoutEnabled, t.LockoutEnd, t.NormalizedEmail, t.NormalizedUserName, t.PasswordHash, t.PhoneNumber, t.PhoneNumberConfirmed, t.RefreshToken, t.RefreshTokenExpiryTime, t.Role, t.SecurityStamp, t.TwoFactorEnabled, t.UpdatedAt0, t.UserName, t0.RecordId, t0.AppointmentId, t0.CreatedAt, t0.Diagnosis, t0.DoctorId, t0.Notes, t0.PatientId, t0.TreatmentPlan, t0.UpdatedAt, t0.DoctorId0, t0.Available, t0.Biography, t0.ConsultationFees, t0.CreatedAt0, t0.ExperienceYears, t0.ImageURL, t0.SpecializationId, t0.UpdatedAt0, t0.UserId, t0.Id, t0.AccessFailedCount, t0.ConcurrencyStamp, t0.CreatedAt1, t0.DateOfBirth, t0.Email, t0.EmailConfirmed, t0.FullName, t0.Gender, t0.LockoutEnabled, t0.LockoutEnd, t0.NormalizedEmail, t0.NormalizedUserName, t0.PasswordHash, t0.PhoneNumber, t0.PhoneNumberConfirmed, t0.RefreshToken, t0.RefreshTokenExpiryTime, t0.Role, t0.SecurityStamp, t0.TwoFactorEnabled, t0.UpdatedAt1, t0.UserName
            FROM 
            (
                SELECT TOP(1) p.PatientId, p.CreatedAt, p.EmergencyContact, p.UpdatedAt, p.UserId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt AS CreatedAt0, u.DateOfBirth, u.Email, u.EmailConfirmed, u.FullName, u.Gender, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.RefreshToken, u.RefreshTokenExpiryTime, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UpdatedAt AS UpdatedAt0, u.UserName
                FROM Patients AS p
                INNER JOIN Users AS u ON p.UserId == u.Id
                WHERE p.PatientId == @__id_0
            ) AS t
            LEFT JOIN 
            (
                SELECT m.RecordId, m.AppointmentId, m.CreatedAt, m.Diagnosis, m.DoctorId, m.Notes, m.PatientId, m.TreatmentPlan, m.UpdatedAt, d.DoctorId AS DoctorId0, d.Available, d.Biography, d.ConsultationFees, d.CreatedAt AS CreatedAt0, d.ExperienceYears, d.ImageURL, d.SpecializationId, d.UpdatedAt AS UpdatedAt0, d.UserId, u0.Id, u0.AccessFailedCount, u0.ConcurrencyStamp, u0.CreatedAt AS CreatedAt1, u0.DateOfBirth, u0.Email, u0.EmailConfirmed, u0.FullName, u0.Gender, u0.LockoutEnabled, u0.LockoutEnd, u0.NormalizedEmail, u0.NormalizedUserName, u0.PasswordHash, u0.PhoneNumber, u0.PhoneNumberConfirmed, u0.RefreshToken, u0.RefreshTokenExpiryTime, u0.Role, u0.SecurityStamp, u0.TwoFactorEnabled, u0.UpdatedAt AS UpdatedAt1, u0.UserName
                FROM MedicalRecords AS m
                INNER JOIN Doctors AS d ON m.DoctorId == d.DoctorId
                INNER JOIN Users AS u0 ON d.UserId == u0.Id
            ) AS t0 ON t.PatientId == t0.PatientId
            ORDER BY t.PatientId ASC, t.Id ASC, t0.RecordId ASC, t0.DoctorId0 ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Patient>, 
        Clinic.Infrastructure.Persistence.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-12-04 22:54:59.682 +02:00 [DBG] Creating DbConnection.
2025-12-04 22:54:59.684 +02:00 [DBG] Created DbConnection. (1ms).
2025-12-04 22:54:59.685 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:54:59.687 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:54:59.689 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 22:54:59.690 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-12-04 22:54:59.694 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-12-04 22:54:59.698 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[PatientId], [t].[CreatedAt], [t].[EmergencyContact], [t].[UpdatedAt], [t].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[CreatedAt0], [t].[DateOfBirth], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[Gender], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[Role], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UpdatedAt0], [t].[UserName], [t0].[RecordId], [t0].[AppointmentId], [t0].[CreatedAt], [t0].[Diagnosis], [t0].[DoctorId], [t0].[Notes], [t0].[PatientId], [t0].[TreatmentPlan], [t0].[UpdatedAt], [t0].[DoctorId0], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt0], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt0], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt1], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt1], [t0].[UserName]
FROM (
    SELECT TOP(1) [p].[PatientId], [p].[CreatedAt], [p].[EmergencyContact], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Patients] AS [p]
    INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
    WHERE [p].[PatientId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m].[RecordId], [m].[AppointmentId], [m].[CreatedAt], [m].[Diagnosis], [m].[DoctorId], [m].[Notes], [m].[PatientId], [m].[TreatmentPlan], [m].[UpdatedAt], [d].[DoctorId] AS [DoctorId0], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt] AS [CreatedAt0], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt] AS [UpdatedAt0], [d].[UserId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt] AS [CreatedAt1], [u0].[DateOfBirth], [u0].[Email], [u0].[EmailConfirmed], [u0].[FullName], [u0].[Gender], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[RefreshToken], [u0].[RefreshTokenExpiryTime], [u0].[Role], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt] AS [UpdatedAt1], [u0].[UserName]
    FROM [MedicalRecords] AS [m]
    INNER JOIN [Doctors] AS [d] ON [m].[DoctorId] = [d].[DoctorId]
    INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
) AS [t0] ON [t].[PatientId] = [t0].[PatientId]
ORDER BY [t].[PatientId], [t].[Id], [t0].[RecordId], [t0].[DoctorId0]
2025-12-04 22:54:59.728 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[PatientId], [t].[CreatedAt], [t].[EmergencyContact], [t].[UpdatedAt], [t].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[CreatedAt0], [t].[DateOfBirth], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[Gender], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[Role], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UpdatedAt0], [t].[UserName], [t0].[RecordId], [t0].[AppointmentId], [t0].[CreatedAt], [t0].[Diagnosis], [t0].[DoctorId], [t0].[Notes], [t0].[PatientId], [t0].[TreatmentPlan], [t0].[UpdatedAt], [t0].[DoctorId0], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt0], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt0], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt1], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt1], [t0].[UserName]
FROM (
    SELECT TOP(1) [p].[PatientId], [p].[CreatedAt], [p].[EmergencyContact], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Patients] AS [p]
    INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
    WHERE [p].[PatientId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m].[RecordId], [m].[AppointmentId], [m].[CreatedAt], [m].[Diagnosis], [m].[DoctorId], [m].[Notes], [m].[PatientId], [m].[TreatmentPlan], [m].[UpdatedAt], [d].[DoctorId] AS [DoctorId0], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt] AS [CreatedAt0], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt] AS [UpdatedAt0], [d].[UserId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt] AS [CreatedAt1], [u0].[DateOfBirth], [u0].[Email], [u0].[EmailConfirmed], [u0].[FullName], [u0].[Gender], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[RefreshToken], [u0].[RefreshTokenExpiryTime], [u0].[Role], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt] AS [UpdatedAt1], [u0].[UserName]
    FROM [MedicalRecords] AS [m]
    INNER JOIN [Doctors] AS [d] ON [m].[DoctorId] = [d].[DoctorId]
    INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
) AS [t0] ON [t].[PatientId] = [t0].[PatientId]
ORDER BY [t].[PatientId], [t].[Id], [t0].[RecordId], [t0].[DoctorId0]
2025-12-04 22:54:59.734 +02:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:54:59.772 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:54:59.775 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:54:59.817 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:54:59.819 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 89ms reading results.
2025-12-04 22:54:59.820 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:54:59.821 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (0ms).
2025-12-04 22:54:59.823 +02:00 [INF] Patient with ID 8 retrieved successfully
2025-12-04 22:54:59.829 +02:00 [INF] Fetching all tickets for Patient UserId 8c11a663-8097-4e72-93f8-7bcb5fe9a47a
2025-12-04 22:54:59.833 +02:00 [DBG] Compiling query expression: 
'DbSet<SupportTicket>()
    .Where(t => t.UserId == __patientId_0)
    .Include(t => t.User)
    .OrderByDescending(t => t.CreatedAt)'
2025-12-04 22:54:59.836 +02:00 [DBG] Including navigation: 'SupportTicket.User'.
2025-12-04 22:54:59.846 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<SupportTicket>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: SupportTicket.TicketId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: SupportTicket.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: SupportTicket.Message (string) Required, 2], [Property: SupportTicket.Response (string), 3], [Property: SupportTicket.Status (TicketStatus) Required MaxLength(20), 4], [Property: SupportTicket.Subject (string) Required MaxLength(200), 5], [Property: SupportTicket.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 6], [Property: SupportTicket.UserId (string) Required FK Index, 7] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 8], [Property: User.AccessFailedCount (int) Required, 9], [Property: User.ConcurrencyStamp (string) Concurrency, 10], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 11], [Property: User.DateOfBirth (DateOnly?), 12], [Property: User.Email (string) Index MaxLength(256), 13], [Property: User.EmailConfirmed (bool) Required, 14], [Property: User.FullName (string) Required MaxLength(150), 15], [Property: User.Gender (GenderType?) MaxLength(10), 16], [Property: User.LockoutEnabled (bool) Required, 17], [Property: User.LockoutEnd (DateTimeOffset?), 18], [Property: User.NormalizedEmail (string) Index MaxLength(256), 19], [Property: User.NormalizedUserName (string) Index MaxLength(256), 20], [Property: User.PasswordHash (string), 21], [Property: User.PhoneNumber (string), 22], [Property: User.PhoneNumberConfirmed (bool) Required, 23], [Property: User.RefreshToken (string), 24], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 25], [Property: User.Role (string) Required MaxLength(50), 26], [Property: User.SecurityStamp (string), 27], [Property: User.TwoFactorEnabled (bool) Required, 28], [Property: User.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 29], [Property: User.UserName (string) MaxLength(256), 30] }
        SELECT s.TicketId, s.CreatedAt, s.Message, s.Response, s.Status, s.Subject, s.UpdatedAt, s.UserId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DateOfBirth, u.Email, u.EmailConfirmed, u.FullName, u.Gender, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.RefreshToken, u.RefreshTokenExpiryTime, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UpdatedAt, u.UserName
        FROM SupportTickets AS s
        INNER JOIN Users AS u ON s.UserId == u.Id
        WHERE s.UserId == @__patientId_0
        ORDER BY s.CreatedAt DESC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, SupportTicket>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-12-04 22:54:59.850 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:54:59.852 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:54:59.853 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 22:54:59.854 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-12-04 22:54:59.855 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-12-04 22:54:59.857 +02:00 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[UserId] = @__patientId_0
ORDER BY [s].[CreatedAt] DESC
2025-12-04 22:54:59.864 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__patientId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[UserId] = @__patientId_0
ORDER BY [s].[CreatedAt] DESC
2025-12-04 22:54:59.872 +02:00 [DBG] Context 'AppDbContext' started tracking 'SupportTicket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:54:59.885 +02:00 [DBG] Context 'AppDbContext' started tracking 'SupportTicket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:54:59.887 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:54:59.888 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 21ms reading results.
2025-12-04 22:54:59.890 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:54:59.891 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (1ms).
2025-12-04 22:54:59.897 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-04 22:54:59.899 +02:00 [DBG] No information found on request to perform content negotiation.
2025-12-04 22:54:59.899 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-04 22:54:59.900 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-04 22:54:59.900 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-04 22:54:59.901 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.SupportTicket.SupportTicketDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-04 22:54:59.907 +02:00 [INF] Executed action Hospital.Controllers.SupportTicketController.GetAllByPatientId (Hospital) in 368.1569ms
2025-12-04 22:54:59.908 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SupportTicketController.GetAllByPatientId (Hospital)'
2025-12-04 22:54:59.909 +02:00 [DBG] 'AppDbContext' disposed.
2025-12-04 22:54:59.911 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:54:59.913 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-12-04 22:54:59.914 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/SupportTicket/patient/8 - 200 null application/json; charset=utf-8 432.9439ms
2025-12-04 22:55:00.889 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7217/api/SupportTicket/2 - null null
2025-12-04 22:55:00.892 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket/2'
2025-12-04 22:55:00.894 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-12-04 22:55:00.895 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 22:55:00.896 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 22:55:00.897 +02:00 [INF] CORS policy execution successful.
2025-12-04 22:55:00.898 +02:00 [DBG] The request is a preflight request.
2025-12-04 22:55:00.899 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7217/api/SupportTicket/2 - 204 null null 9.7986ms
2025-12-04 22:55:00.911 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/SupportTicket/2 - null null
2025-12-04 22:55:00.915 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket/2'
2025-12-04 22:55:00.917 +02:00 [DBG] Endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)' with route pattern 'api/SupportTicket/{ticketId}' is valid for the request path '/api/SupportTicket/2'
2025-12-04 22:55:00.920 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 22:55:00.922 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 22:55:00.924 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 22:55:00.926 +02:00 [INF] CORS policy execution successful.
2025-12-04 22:55:00.931 +02:00 [DBG] Successfully validated the token.
2025-12-04 22:55:00.932 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-12-04 22:55:00.935 +02:00 [DBG] Authorization was successful.
2025-12-04 22:55:00.936 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 22:55:00.942 +02:00 [INF] Route matched with {action = "GetById", controller = "SupportTicket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Hospital.Controllers.SupportTicketController (Hospital).
2025-12-04 22:55:00.944 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-04 22:55:00.945 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-04 22:55:00.947 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-04 22:55:00.950 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-04 22:55:00.952 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-04 22:55:00.954 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 22:55:00.958 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 22:55:00.960 +02:00 [DBG] Attempting to bind parameter 'ticketId' of type 'System.Int32' ...
2025-12-04 22:55:00.961 +02:00 [DBG] Attempting to bind parameter 'ticketId' of type 'System.Int32' using the name 'ticketId' in request data ...
2025-12-04 22:55:00.962 +02:00 [DBG] Done attempting to bind parameter 'ticketId' of type 'System.Int32'.
2025-12-04 22:55:00.963 +02:00 [DBG] Done attempting to bind parameter 'ticketId' of type 'System.Int32'.
2025-12-04 22:55:00.964 +02:00 [DBG] Attempting to validate the bound parameter 'ticketId' of type 'System.Int32' ...
2025-12-04 22:55:00.965 +02:00 [DBG] Done attempting to validate the bound parameter 'ticketId' of type 'System.Int32'.
2025-12-04 22:55:00.966 +02:00 [INF] get  Support by id Ticket called at "2025-12-04T22:55:00.9665812+02:00"
2025-12-04 22:55:00.967 +02:00 [INF] Fetching ticket 2
2025-12-04 22:55:00.977 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-12-04 22:55:00.980 +02:00 [DBG] Compiling query expression: 
'DbSet<SupportTicket>()
    .Include(t => t.User)
    .FirstOrDefault(t => t.TicketId == __ticketId_0)'
2025-12-04 22:55:00.982 +02:00 [DBG] Including navigation: 'SupportTicket.User'.
2025-12-04 22:55:00.993 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<SupportTicket>(
    asyncEnumerable: new SingleQueryingEnumerable<SupportTicket>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: SupportTicket.TicketId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: SupportTicket.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: SupportTicket.Message (string) Required, 2], [Property: SupportTicket.Response (string), 3], [Property: SupportTicket.Status (TicketStatus) Required MaxLength(20), 4], [Property: SupportTicket.Subject (string) Required MaxLength(200), 5], [Property: SupportTicket.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 6], [Property: SupportTicket.UserId (string) Required FK Index, 7] }
                1 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 8], [Property: User.AccessFailedCount (int) Required, 9], [Property: User.ConcurrencyStamp (string) Concurrency, 10], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 11], [Property: User.DateOfBirth (DateOnly?), 12], [Property: User.Email (string) Index MaxLength(256), 13], [Property: User.EmailConfirmed (bool) Required, 14], [Property: User.FullName (string) Required MaxLength(150), 15], [Property: User.Gender (GenderType?) MaxLength(10), 16], [Property: User.LockoutEnabled (bool) Required, 17], [Property: User.LockoutEnd (DateTimeOffset?), 18], [Property: User.NormalizedEmail (string) Index MaxLength(256), 19], [Property: User.NormalizedUserName (string) Index MaxLength(256), 20], [Property: User.PasswordHash (string), 21], [Property: User.PhoneNumber (string), 22], [Property: User.PhoneNumberConfirmed (bool) Required, 23], [Property: User.RefreshToken (string), 24], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 25], [Property: User.Role (string) Required MaxLength(50), 26], [Property: User.SecurityStamp (string), 27], [Property: User.TwoFactorEnabled (bool) Required, 28], [Property: User.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 29], [Property: User.UserName (string) MaxLength(256), 30] }
            SELECT TOP(1) s.TicketId, s.CreatedAt, s.Message, s.Response, s.Status, s.Subject, s.UpdatedAt, s.UserId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DateOfBirth, u.Email, u.EmailConfirmed, u.FullName, u.Gender, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.RefreshToken, u.RefreshTokenExpiryTime, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UpdatedAt, u.UserName
            FROM SupportTickets AS s
            INNER JOIN Users AS u ON s.UserId == u.Id
            WHERE s.TicketId == @__ticketId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, SupportTicket>, 
        Clinic.Infrastructure.Persistence.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-12-04 22:55:00.995 +02:00 [DBG] Creating DbConnection.
2025-12-04 22:55:00.995 +02:00 [DBG] Created DbConnection. (0ms).
2025-12-04 22:55:00.996 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:55:00.997 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:55:00.998 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 22:55:00.998 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-12-04 22:55:00.999 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-12-04 22:55:01.000 +02:00 [DBG] Executing DbCommand [Parameters=[@__ticketId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[TicketId] = @__ticketId_0
2025-12-04 22:55:01.006 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__ticketId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[TicketId] = @__ticketId_0
2025-12-04 22:55:01.008 +02:00 [DBG] Context 'AppDbContext' started tracking 'SupportTicket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:55:01.009 +02:00 [DBG] The navigation 'SupportTicket.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:55:01.010 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:55:01.010 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:55:01.011 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-12-04 22:55:01.012 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:55:01.013 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (0ms).
2025-12-04 22:55:01.019 +02:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-12-04 22:55:01.021 +02:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-12-04 22:55:01.022 +02:00 [INF] Executed action Hospital.Controllers.SupportTicketController.GetById (Hospital) in 68.6526ms
2025-12-04 22:55:01.024 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 22:55:01.025 +02:00 [DBG] 'AppDbContext' disposed.
2025-12-04 22:55:01.027 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:55:01.028 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-12-04 22:55:01.029 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/SupportTicket/2 - 403 0 null 117.9949ms
2025-12-04 22:56:59.996 +02:00 [DBG] Connection id "0HNHJETDVKN2M" is closing.
2025-12-04 22:56:59.997 +02:00 [DBG] Connection id "0HNHJETDVKN2M" is closed. The last processed stream ID was 7.
2025-12-04 22:57:00.000 +02:00 [DBG] Connection id "0HNHJETDVKN2M" received FIN.
2025-12-04 22:57:00.001 +02:00 [DBG] Connection id "0HNHJETDVKN2M" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-12-04 22:57:00.002 +02:00 [DBG] The connection queue processing loop for 0HNHJETDVKN2M completed.
2025-12-04 22:57:00.004 +02:00 [DBG] Connection id "0HNHJETDVKN2M" stopped.
2025-12-04 22:57:13.102 +02:00 [DBG] Connection id "0HNHJETDVKN2N" is closing.
2025-12-04 22:57:13.103 +02:00 [DBG] Connection id "0HNHJETDVKN2N" is closed. The last processed stream ID was 11.
2025-12-04 22:57:13.104 +02:00 [DBG] The connection queue processing loop for 0HNHJETDVKN2N completed.
2025-12-04 22:57:13.104 +02:00 [DBG] Connection id "0HNHJETDVKN2N" received FIN.
2025-12-04 22:57:13.105 +02:00 [DBG] Connection id "0HNHJETDVKN2N" stopped.
2025-12-04 22:57:13.107 +02:00 [DBG] Connection id "0HNHJETDVKN2N" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-12-04 22:58:58.459 +02:00 [DBG] Connection id "0HNHJETDVKN2O" accepted.
2025-12-04 22:58:58.466 +02:00 [DBG] Connection id "0HNHJETDVKN2O" started.
2025-12-04 22:58:58.483 +02:00 [DBG] Connection 0HNHJETDVKN2O established using the following protocol: "Tls13"
2025-12-04 22:58:58.486 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7217/api/SupportTicket/2 - null null
2025-12-04 22:58:58.527 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket/2'
2025-12-04 22:58:58.544 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-12-04 22:58:58.546 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 22:58:58.547 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 22:58:58.548 +02:00 [INF] CORS policy execution successful.
2025-12-04 22:58:58.549 +02:00 [DBG] The request is a preflight request.
2025-12-04 22:58:58.550 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7217/api/SupportTicket/2 - 204 null null 64.3138ms
2025-12-04 22:58:58.554 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/SupportTicket/2 - null null
2025-12-04 22:58:58.559 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket/2'
2025-12-04 22:58:58.561 +02:00 [DBG] Endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)' with route pattern 'api/SupportTicket/{ticketId}' is valid for the request path '/api/SupportTicket/2'
2025-12-04 22:58:58.579 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 22:58:58.580 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 22:58:58.586 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 22:58:58.597 +02:00 [INF] CORS policy execution successful.
2025-12-04 22:58:58.609 +02:00 [DBG] Successfully validated the token.
2025-12-04 22:58:58.611 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-12-04 22:58:58.616 +02:00 [DBG] Authorization was successful.
2025-12-04 22:58:58.617 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 22:58:58.619 +02:00 [INF] Route matched with {action = "GetById", controller = "SupportTicket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Hospital.Controllers.SupportTicketController (Hospital).
2025-12-04 22:58:58.622 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-04 22:58:58.625 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-04 22:58:58.634 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-04 22:58:58.644 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-04 22:58:58.646 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-04 22:58:58.648 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 22:58:58.657 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 22:58:58.659 +02:00 [DBG] Attempting to bind parameter 'ticketId' of type 'System.Int32' ...
2025-12-04 22:58:58.669 +02:00 [DBG] Attempting to bind parameter 'ticketId' of type 'System.Int32' using the name 'ticketId' in request data ...
2025-12-04 22:58:58.670 +02:00 [DBG] Done attempting to bind parameter 'ticketId' of type 'System.Int32'.
2025-12-04 22:58:58.672 +02:00 [DBG] Done attempting to bind parameter 'ticketId' of type 'System.Int32'.
2025-12-04 22:58:58.674 +02:00 [DBG] Attempting to validate the bound parameter 'ticketId' of type 'System.Int32' ...
2025-12-04 22:58:58.678 +02:00 [DBG] Done attempting to validate the bound parameter 'ticketId' of type 'System.Int32'.
2025-12-04 22:58:58.681 +02:00 [INF] get  Support by id Ticket called at "2025-12-04T22:58:58.6810083+02:00"
2025-12-04 22:58:58.682 +02:00 [INF] Fetching ticket 2
2025-12-04 22:58:58.685 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-12-04 22:58:58.691 +02:00 [DBG] Creating DbConnection.
2025-12-04 22:58:58.693 +02:00 [DBG] Created DbConnection. (1ms).
2025-12-04 22:58:58.694 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:58:58.698 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:58:58.700 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 22:58:58.702 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-12-04 22:58:58.703 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-12-04 22:58:58.705 +02:00 [DBG] Executing DbCommand [Parameters=[@__ticketId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[TicketId] = @__ticketId_0
2025-12-04 22:58:58.724 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__ticketId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[TicketId] = @__ticketId_0
2025-12-04 22:58:58.728 +02:00 [DBG] Context 'AppDbContext' started tracking 'SupportTicket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:58:58.731 +02:00 [DBG] The navigation 'SupportTicket.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:58:58.733 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:58:58.735 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:58:58.736 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 8ms reading results.
2025-12-04 22:58:58.738 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:58:58.739 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (1ms).
2025-12-04 22:58:58.742 +02:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-12-04 22:58:58.744 +02:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-12-04 22:58:58.746 +02:00 [INF] Executed action Hospital.Controllers.SupportTicketController.GetById (Hospital) in 97.5144ms
2025-12-04 22:58:58.747 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 22:58:58.749 +02:00 [DBG] 'AppDbContext' disposed.
2025-12-04 22:58:58.750 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:58:58.751 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-12-04 22:58:58.752 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/SupportTicket/2 - 403 0 null 198.4532ms
2025-12-04 22:59:00.307 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/SupportTicket/2 - null null
2025-12-04 22:59:00.319 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket/2'
2025-12-04 22:59:00.321 +02:00 [DBG] Endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)' with route pattern 'api/SupportTicket/{ticketId}' is valid for the request path '/api/SupportTicket/2'
2025-12-04 22:59:00.337 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 22:59:00.338 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 22:59:00.340 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 22:59:00.346 +02:00 [INF] CORS policy execution successful.
2025-12-04 22:59:00.348 +02:00 [DBG] Successfully validated the token.
2025-12-04 22:59:00.350 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-12-04 22:59:00.352 +02:00 [DBG] Authorization was successful.
2025-12-04 22:59:00.353 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 22:59:00.359 +02:00 [INF] Route matched with {action = "GetById", controller = "SupportTicket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Hospital.Controllers.SupportTicketController (Hospital).
2025-12-04 22:59:00.365 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-04 22:59:00.382 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-04 22:59:00.385 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-04 22:59:00.387 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-04 22:59:00.394 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-04 22:59:00.402 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 22:59:00.406 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 22:59:00.408 +02:00 [DBG] Attempting to bind parameter 'ticketId' of type 'System.Int32' ...
2025-12-04 22:59:00.412 +02:00 [DBG] Attempting to bind parameter 'ticketId' of type 'System.Int32' using the name 'ticketId' in request data ...
2025-12-04 22:59:00.415 +02:00 [DBG] Done attempting to bind parameter 'ticketId' of type 'System.Int32'.
2025-12-04 22:59:00.416 +02:00 [DBG] Done attempting to bind parameter 'ticketId' of type 'System.Int32'.
2025-12-04 22:59:00.417 +02:00 [DBG] Attempting to validate the bound parameter 'ticketId' of type 'System.Int32' ...
2025-12-04 22:59:00.418 +02:00 [DBG] Done attempting to validate the bound parameter 'ticketId' of type 'System.Int32'.
2025-12-04 22:59:00.420 +02:00 [INF] get  Support by id Ticket called at "2025-12-04T22:59:00.4204169+02:00"
2025-12-04 22:59:00.422 +02:00 [INF] Fetching ticket 2
2025-12-04 22:59:00.425 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-12-04 22:59:00.430 +02:00 [DBG] Creating DbConnection.
2025-12-04 22:59:00.432 +02:00 [DBG] Created DbConnection. (1ms).
2025-12-04 22:59:00.434 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:59:00.437 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:59:00.442 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 22:59:00.444 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-12-04 22:59:00.445 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-12-04 22:59:00.446 +02:00 [DBG] Executing DbCommand [Parameters=[@__ticketId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[TicketId] = @__ticketId_0
2025-12-04 22:59:00.449 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ticketId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[TicketId] = @__ticketId_0
2025-12-04 22:59:00.454 +02:00 [DBG] Context 'AppDbContext' started tracking 'SupportTicket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:59:00.462 +02:00 [DBG] The navigation 'SupportTicket.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:59:00.478 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:59:00.480 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:59:00.482 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 28ms reading results.
2025-12-04 22:59:00.483 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:59:00.485 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (1ms).
2025-12-04 22:59:00.486 +02:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-12-04 22:59:00.487 +02:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-12-04 22:59:00.489 +02:00 [INF] Executed action Hospital.Controllers.SupportTicketController.GetById (Hospital) in 87.6409ms
2025-12-04 22:59:00.491 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 22:59:00.492 +02:00 [DBG] 'AppDbContext' disposed.
2025-12-04 22:59:00.494 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:59:00.503 +02:00 [DBG] Disposed connection to database '' on server '' (9ms).
2025-12-04 22:59:00.506 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/SupportTicket/2 - 403 0 null 198.5865ms
2025-12-04 22:59:04.791 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7217/api/SupportTicket/2 - null null
2025-12-04 22:59:04.795 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket/2'
2025-12-04 22:59:04.798 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-12-04 22:59:04.800 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 22:59:04.802 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 22:59:04.803 +02:00 [INF] CORS policy execution successful.
2025-12-04 22:59:04.805 +02:00 [DBG] The request is a preflight request.
2025-12-04 22:59:04.806 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7217/api/SupportTicket/2 - 204 null null 15.1504ms
2025-12-04 22:59:04.819 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/SupportTicket/2 - null null
2025-12-04 22:59:04.825 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket/2'
2025-12-04 22:59:04.827 +02:00 [DBG] Endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)' with route pattern 'api/SupportTicket/{ticketId}' is valid for the request path '/api/SupportTicket/2'
2025-12-04 22:59:04.835 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 22:59:04.841 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 22:59:04.847 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 22:59:04.849 +02:00 [INF] CORS policy execution successful.
2025-12-04 22:59:04.851 +02:00 [DBG] Successfully validated the token.
2025-12-04 22:59:04.852 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-12-04 22:59:04.854 +02:00 [DBG] Authorization was successful.
2025-12-04 22:59:04.857 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 22:59:04.859 +02:00 [INF] Route matched with {action = "GetById", controller = "SupportTicket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Hospital.Controllers.SupportTicketController (Hospital).
2025-12-04 22:59:04.861 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-04 22:59:04.863 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-04 22:59:04.865 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-04 22:59:04.868 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-04 22:59:04.869 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-04 22:59:04.872 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 22:59:04.873 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 22:59:04.875 +02:00 [DBG] Attempting to bind parameter 'ticketId' of type 'System.Int32' ...
2025-12-04 22:59:04.877 +02:00 [DBG] Attempting to bind parameter 'ticketId' of type 'System.Int32' using the name 'ticketId' in request data ...
2025-12-04 22:59:04.878 +02:00 [DBG] Done attempting to bind parameter 'ticketId' of type 'System.Int32'.
2025-12-04 22:59:04.880 +02:00 [DBG] Done attempting to bind parameter 'ticketId' of type 'System.Int32'.
2025-12-04 22:59:04.881 +02:00 [DBG] Attempting to validate the bound parameter 'ticketId' of type 'System.Int32' ...
2025-12-04 22:59:04.883 +02:00 [DBG] Done attempting to validate the bound parameter 'ticketId' of type 'System.Int32'.
2025-12-04 22:59:04.884 +02:00 [INF] get  Support by id Ticket called at "2025-12-04T22:59:04.8843039+02:00"
2025-12-04 22:59:04.885 +02:00 [INF] Fetching ticket 2
2025-12-04 22:59:04.886 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-12-04 22:59:04.888 +02:00 [DBG] Creating DbConnection.
2025-12-04 22:59:04.889 +02:00 [DBG] Created DbConnection. (0ms).
2025-12-04 22:59:04.890 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:59:04.892 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:59:04.894 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 22:59:04.895 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-12-04 22:59:04.898 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-12-04 22:59:04.901 +02:00 [DBG] Executing DbCommand [Parameters=[@__ticketId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[TicketId] = @__ticketId_0
2025-12-04 22:59:04.903 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ticketId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[TicketId] = @__ticketId_0
2025-12-04 22:59:04.905 +02:00 [DBG] Context 'AppDbContext' started tracking 'SupportTicket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:59:04.907 +02:00 [DBG] The navigation 'SupportTicket.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:59:04.908 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:59:04.909 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:59:04.910 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-12-04 22:59:04.912 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:59:04.914 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (1ms).
2025-12-04 22:59:04.916 +02:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-12-04 22:59:04.917 +02:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-12-04 22:59:04.917 +02:00 [INF] Executed action Hospital.Controllers.SupportTicketController.GetById (Hospital) in 45.8702ms
2025-12-04 22:59:04.918 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 22:59:04.919 +02:00 [DBG] 'AppDbContext' disposed.
2025-12-04 22:59:04.920 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:59:04.922 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-12-04 22:59:04.923 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/SupportTicket/2 - 403 0 null 104.1688ms
2025-12-04 22:59:24.623 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7217/api/SupportTicket/2 - null null
2025-12-04 22:59:24.626 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket/2'
2025-12-04 22:59:24.628 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-12-04 22:59:24.629 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 22:59:24.631 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 22:59:24.633 +02:00 [INF] CORS policy execution successful.
2025-12-04 22:59:24.634 +02:00 [DBG] The request is a preflight request.
2025-12-04 22:59:24.636 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7217/api/SupportTicket/2 - 204 null null 12.4369ms
2025-12-04 22:59:24.646 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/SupportTicket/2 - null null
2025-12-04 22:59:24.650 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket/2'
2025-12-04 22:59:24.652 +02:00 [DBG] Endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)' with route pattern 'api/SupportTicket/{ticketId}' is valid for the request path '/api/SupportTicket/2'
2025-12-04 22:59:24.653 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 22:59:24.655 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 22:59:24.656 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 22:59:24.658 +02:00 [INF] CORS policy execution successful.
2025-12-04 22:59:24.659 +02:00 [DBG] Successfully validated the token.
2025-12-04 22:59:24.660 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-12-04 22:59:24.662 +02:00 [DBG] Authorization was successful.
2025-12-04 22:59:24.663 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 22:59:24.665 +02:00 [INF] Route matched with {action = "GetById", controller = "SupportTicket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Hospital.Controllers.SupportTicketController (Hospital).
2025-12-04 22:59:24.666 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-04 22:59:24.668 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-04 22:59:24.669 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-04 22:59:24.672 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-04 22:59:24.674 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-04 22:59:24.676 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 22:59:24.678 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 22:59:24.679 +02:00 [DBG] Attempting to bind parameter 'ticketId' of type 'System.Int32' ...
2025-12-04 22:59:24.681 +02:00 [DBG] Attempting to bind parameter 'ticketId' of type 'System.Int32' using the name 'ticketId' in request data ...
2025-12-04 22:59:24.682 +02:00 [DBG] Done attempting to bind parameter 'ticketId' of type 'System.Int32'.
2025-12-04 22:59:24.684 +02:00 [DBG] Done attempting to bind parameter 'ticketId' of type 'System.Int32'.
2025-12-04 22:59:24.685 +02:00 [DBG] Attempting to validate the bound parameter 'ticketId' of type 'System.Int32' ...
2025-12-04 22:59:24.686 +02:00 [DBG] Done attempting to validate the bound parameter 'ticketId' of type 'System.Int32'.
2025-12-04 22:59:24.688 +02:00 [INF] get  Support by id Ticket called at "2025-12-04T22:59:24.6882843+02:00"
2025-12-04 22:59:24.689 +02:00 [INF] Fetching ticket 2
2025-12-04 22:59:24.691 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-12-04 22:59:24.694 +02:00 [DBG] Creating DbConnection.
2025-12-04 22:59:24.695 +02:00 [DBG] Created DbConnection. (1ms).
2025-12-04 22:59:24.697 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:59:24.698 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:59:24.699 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 22:59:24.700 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-12-04 22:59:24.700 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-12-04 22:59:24.701 +02:00 [DBG] Executing DbCommand [Parameters=[@__ticketId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[TicketId] = @__ticketId_0
2025-12-04 22:59:24.705 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ticketId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[TicketId] = @__ticketId_0
2025-12-04 22:59:24.707 +02:00 [DBG] Context 'AppDbContext' started tracking 'SupportTicket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:59:24.708 +02:00 [DBG] The navigation 'SupportTicket.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:59:24.709 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:59:24.710 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:59:24.711 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-12-04 22:59:24.712 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:59:24.713 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (0ms).
2025-12-04 22:59:24.714 +02:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-12-04 22:59:24.716 +02:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-12-04 22:59:24.716 +02:00 [INF] Executed action Hospital.Controllers.SupportTicketController.GetById (Hospital) in 40.2419ms
2025-12-04 22:59:24.717 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 22:59:24.718 +02:00 [DBG] 'AppDbContext' disposed.
2025-12-04 22:59:24.719 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:59:24.721 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-12-04 22:59:24.722 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/SupportTicket/2 - 403 0 null 76.3636ms
2025-12-04 22:59:42.709 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7217/api/SupportTicket/2 - null null
2025-12-04 22:59:42.715 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket/2'
2025-12-04 22:59:42.716 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-12-04 22:59:42.717 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 22:59:42.719 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 22:59:42.719 +02:00 [INF] CORS policy execution successful.
2025-12-04 22:59:42.721 +02:00 [DBG] The request is a preflight request.
2025-12-04 22:59:42.723 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7217/api/SupportTicket/2 - 204 null null 14.2342ms
2025-12-04 22:59:42.746 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/SupportTicket/2 - null null
2025-12-04 22:59:42.755 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket/2'
2025-12-04 22:59:42.759 +02:00 [DBG] Endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)' with route pattern 'api/SupportTicket/{ticketId}' is valid for the request path '/api/SupportTicket/2'
2025-12-04 22:59:42.768 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 22:59:42.770 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 22:59:42.772 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 22:59:42.778 +02:00 [INF] CORS policy execution successful.
2025-12-04 22:59:42.781 +02:00 [DBG] Successfully validated the token.
2025-12-04 22:59:42.782 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-12-04 22:59:42.783 +02:00 [DBG] Authorization was successful.
2025-12-04 22:59:42.784 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 22:59:42.786 +02:00 [INF] Route matched with {action = "GetById", controller = "SupportTicket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Hospital.Controllers.SupportTicketController (Hospital).
2025-12-04 22:59:42.788 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-04 22:59:42.789 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-04 22:59:42.791 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-04 22:59:42.793 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-04 22:59:42.797 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-04 22:59:42.801 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 22:59:42.804 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 22:59:42.806 +02:00 [DBG] Attempting to bind parameter 'ticketId' of type 'System.Int32' ...
2025-12-04 22:59:42.810 +02:00 [DBG] Attempting to bind parameter 'ticketId' of type 'System.Int32' using the name 'ticketId' in request data ...
2025-12-04 22:59:42.812 +02:00 [DBG] Done attempting to bind parameter 'ticketId' of type 'System.Int32'.
2025-12-04 22:59:42.813 +02:00 [DBG] Done attempting to bind parameter 'ticketId' of type 'System.Int32'.
2025-12-04 22:59:42.815 +02:00 [DBG] Attempting to validate the bound parameter 'ticketId' of type 'System.Int32' ...
2025-12-04 22:59:42.822 +02:00 [DBG] Done attempting to validate the bound parameter 'ticketId' of type 'System.Int32'.
2025-12-04 22:59:42.825 +02:00 [INF] get  Support by id Ticket called at "2025-12-04T22:59:42.8254645+02:00"
2025-12-04 22:59:42.830 +02:00 [INF] Fetching ticket 2
2025-12-04 22:59:42.834 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-12-04 22:59:42.844 +02:00 [DBG] Creating DbConnection.
2025-12-04 22:59:42.846 +02:00 [DBG] Created DbConnection. (1ms).
2025-12-04 22:59:42.847 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:59:42.848 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:59:42.849 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 22:59:42.850 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-12-04 22:59:42.852 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-12-04 22:59:42.854 +02:00 [DBG] Executing DbCommand [Parameters=[@__ticketId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[TicketId] = @__ticketId_0
2025-12-04 22:59:42.858 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ticketId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[TicketId] = @__ticketId_0
2025-12-04 22:59:42.861 +02:00 [DBG] Context 'AppDbContext' started tracking 'SupportTicket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:59:42.863 +02:00 [DBG] The navigation 'SupportTicket.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:59:42.865 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:59:42.866 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:59:42.868 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-12-04 22:59:42.872 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:59:42.873 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (1ms).
2025-12-04 22:59:42.876 +02:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-12-04 22:59:42.877 +02:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-12-04 22:59:42.878 +02:00 [INF] Executed action Hospital.Controllers.SupportTicketController.GetById (Hospital) in 77.8811ms
2025-12-04 22:59:42.880 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 22:59:42.881 +02:00 [DBG] 'AppDbContext' disposed.
2025-12-04 22:59:42.882 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:59:42.884 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-12-04 22:59:42.888 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/SupportTicket/2 - 403 0 null 142.1081ms
2025-12-04 22:59:44.771 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/SupportTicket/2 - null null
2025-12-04 22:59:44.774 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket/2'
2025-12-04 22:59:44.775 +02:00 [DBG] Endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)' with route pattern 'api/SupportTicket/{ticketId}' is valid for the request path '/api/SupportTicket/2'
2025-12-04 22:59:44.777 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 22:59:44.778 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 22:59:44.781 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 22:59:44.782 +02:00 [INF] CORS policy execution successful.
2025-12-04 22:59:44.784 +02:00 [DBG] Successfully validated the token.
2025-12-04 22:59:44.785 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-12-04 22:59:44.787 +02:00 [DBG] Authorization was successful.
2025-12-04 22:59:44.787 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 22:59:44.789 +02:00 [INF] Route matched with {action = "GetById", controller = "SupportTicket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Hospital.Controllers.SupportTicketController (Hospital).
2025-12-04 22:59:44.791 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-04 22:59:44.793 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-04 22:59:44.795 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-04 22:59:44.798 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-04 22:59:44.800 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-04 22:59:44.803 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 22:59:44.804 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 22:59:44.806 +02:00 [DBG] Attempting to bind parameter 'ticketId' of type 'System.Int32' ...
2025-12-04 22:59:44.808 +02:00 [DBG] Attempting to bind parameter 'ticketId' of type 'System.Int32' using the name 'ticketId' in request data ...
2025-12-04 22:59:44.809 +02:00 [DBG] Done attempting to bind parameter 'ticketId' of type 'System.Int32'.
2025-12-04 22:59:44.811 +02:00 [DBG] Done attempting to bind parameter 'ticketId' of type 'System.Int32'.
2025-12-04 22:59:44.812 +02:00 [DBG] Attempting to validate the bound parameter 'ticketId' of type 'System.Int32' ...
2025-12-04 22:59:44.813 +02:00 [DBG] Done attempting to validate the bound parameter 'ticketId' of type 'System.Int32'.
2025-12-04 22:59:44.814 +02:00 [INF] get  Support by id Ticket called at "2025-12-04T22:59:44.8145392+02:00"
2025-12-04 22:59:44.816 +02:00 [INF] Fetching ticket 2
2025-12-04 22:59:44.819 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-12-04 22:59:44.821 +02:00 [DBG] Creating DbConnection.
2025-12-04 22:59:44.822 +02:00 [DBG] Created DbConnection. (0ms).
2025-12-04 22:59:44.823 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:59:44.825 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:59:44.826 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 22:59:44.827 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-12-04 22:59:44.829 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-12-04 22:59:44.830 +02:00 [DBG] Executing DbCommand [Parameters=[@__ticketId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[TicketId] = @__ticketId_0
2025-12-04 22:59:44.833 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ticketId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[TicketId] = @__ticketId_0
2025-12-04 22:59:44.836 +02:00 [DBG] Context 'AppDbContext' started tracking 'SupportTicket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:59:44.838 +02:00 [DBG] The navigation 'SupportTicket.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:59:44.839 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:59:44.840 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:59:44.841 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-12-04 22:59:44.842 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:59:44.843 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (0ms).
2025-12-04 22:59:44.844 +02:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-12-04 22:59:44.845 +02:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-12-04 22:59:44.845 +02:00 [INF] Executed action Hospital.Controllers.SupportTicketController.GetById (Hospital) in 42.713ms
2025-12-04 22:59:44.846 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 22:59:44.848 +02:00 [DBG] 'AppDbContext' disposed.
2025-12-04 22:59:44.849 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:59:44.850 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-12-04 22:59:44.852 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/SupportTicket/2 - 403 0 null 80.6205ms
2025-12-04 22:59:50.097 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7217/api/SupportTicket/2 - null null
2025-12-04 22:59:50.100 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket/2'
2025-12-04 22:59:50.101 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-12-04 22:59:50.103 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 22:59:50.104 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 22:59:50.105 +02:00 [INF] CORS policy execution successful.
2025-12-04 22:59:50.106 +02:00 [DBG] The request is a preflight request.
2025-12-04 22:59:50.109 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7217/api/SupportTicket/2 - 204 null null 11.9385ms
2025-12-04 22:59:50.115 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/SupportTicket/2 - null null
2025-12-04 22:59:50.118 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket/2'
2025-12-04 22:59:50.118 +02:00 [DBG] Endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)' with route pattern 'api/SupportTicket/{ticketId}' is valid for the request path '/api/SupportTicket/2'
2025-12-04 22:59:50.120 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 22:59:50.122 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 22:59:50.123 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 22:59:50.125 +02:00 [INF] CORS policy execution successful.
2025-12-04 22:59:50.127 +02:00 [DBG] Successfully validated the token.
2025-12-04 22:59:50.128 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-12-04 22:59:50.130 +02:00 [DBG] Authorization was successful.
2025-12-04 22:59:50.132 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 22:59:50.133 +02:00 [INF] Route matched with {action = "GetById", controller = "SupportTicket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Hospital.Controllers.SupportTicketController (Hospital).
2025-12-04 22:59:50.135 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-04 22:59:50.137 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-04 22:59:50.139 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-04 22:59:50.142 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-04 22:59:50.144 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-04 22:59:50.146 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 22:59:50.148 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 22:59:50.149 +02:00 [DBG] Attempting to bind parameter 'ticketId' of type 'System.Int32' ...
2025-12-04 22:59:50.151 +02:00 [DBG] Attempting to bind parameter 'ticketId' of type 'System.Int32' using the name 'ticketId' in request data ...
2025-12-04 22:59:50.153 +02:00 [DBG] Done attempting to bind parameter 'ticketId' of type 'System.Int32'.
2025-12-04 22:59:50.154 +02:00 [DBG] Done attempting to bind parameter 'ticketId' of type 'System.Int32'.
2025-12-04 22:59:50.157 +02:00 [DBG] Attempting to validate the bound parameter 'ticketId' of type 'System.Int32' ...
2025-12-04 22:59:50.158 +02:00 [DBG] Done attempting to validate the bound parameter 'ticketId' of type 'System.Int32'.
2025-12-04 22:59:50.160 +02:00 [INF] get  Support by id Ticket called at "2025-12-04T22:59:50.1602510+02:00"
2025-12-04 22:59:50.161 +02:00 [INF] Fetching ticket 2
2025-12-04 22:59:50.164 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-12-04 22:59:50.168 +02:00 [DBG] Creating DbConnection.
2025-12-04 22:59:50.169 +02:00 [DBG] Created DbConnection. (1ms).
2025-12-04 22:59:50.171 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:59:50.172 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:59:50.174 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 22:59:50.175 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-12-04 22:59:50.176 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-12-04 22:59:50.177 +02:00 [DBG] Executing DbCommand [Parameters=[@__ticketId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[TicketId] = @__ticketId_0
2025-12-04 22:59:50.179 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ticketId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[TicketId] = @__ticketId_0
2025-12-04 22:59:50.181 +02:00 [DBG] Context 'AppDbContext' started tracking 'SupportTicket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:59:50.183 +02:00 [DBG] The navigation 'SupportTicket.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:59:50.184 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:59:50.185 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:59:50.187 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-12-04 22:59:50.189 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:59:50.190 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (0ms).
2025-12-04 22:59:50.191 +02:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-12-04 22:59:50.192 +02:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-12-04 22:59:50.194 +02:00 [INF] Executed action Hospital.Controllers.SupportTicketController.GetById (Hospital) in 47.5732ms
2025-12-04 22:59:50.196 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 22:59:50.197 +02:00 [DBG] 'AppDbContext' disposed.
2025-12-04 22:59:50.199 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:59:50.202 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-12-04 22:59:50.204 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/SupportTicket/2 - 403 0 null 88.9993ms
2025-12-04 22:59:55.356 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7217/api/SupportTicket/2 - null null
2025-12-04 22:59:55.360 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket/2'
2025-12-04 22:59:55.362 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-12-04 22:59:55.364 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 22:59:55.366 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 22:59:55.368 +02:00 [INF] CORS policy execution successful.
2025-12-04 22:59:55.369 +02:00 [DBG] The request is a preflight request.
2025-12-04 22:59:55.370 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7217/api/SupportTicket/2 - 204 null null 14.4197ms
2025-12-04 22:59:55.382 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/SupportTicket/2 - null null
2025-12-04 22:59:55.387 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket/2'
2025-12-04 22:59:55.389 +02:00 [DBG] Endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)' with route pattern 'api/SupportTicket/{ticketId}' is valid for the request path '/api/SupportTicket/2'
2025-12-04 22:59:55.391 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 22:59:55.393 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 22:59:55.395 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 22:59:55.398 +02:00 [INF] CORS policy execution successful.
2025-12-04 22:59:55.401 +02:00 [DBG] Successfully validated the token.
2025-12-04 22:59:55.404 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-12-04 22:59:55.407 +02:00 [DBG] Authorization was successful.
2025-12-04 22:59:55.411 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 22:59:55.412 +02:00 [INF] Route matched with {action = "GetById", controller = "SupportTicket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Hospital.Controllers.SupportTicketController (Hospital).
2025-12-04 22:59:55.415 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-04 22:59:55.417 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-04 22:59:55.418 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-04 22:59:55.421 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-04 22:59:55.423 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-04 22:59:55.426 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 22:59:55.427 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 22:59:55.429 +02:00 [DBG] Attempting to bind parameter 'ticketId' of type 'System.Int32' ...
2025-12-04 22:59:55.431 +02:00 [DBG] Attempting to bind parameter 'ticketId' of type 'System.Int32' using the name 'ticketId' in request data ...
2025-12-04 22:59:55.433 +02:00 [DBG] Done attempting to bind parameter 'ticketId' of type 'System.Int32'.
2025-12-04 22:59:55.434 +02:00 [DBG] Done attempting to bind parameter 'ticketId' of type 'System.Int32'.
2025-12-04 22:59:55.437 +02:00 [DBG] Attempting to validate the bound parameter 'ticketId' of type 'System.Int32' ...
2025-12-04 22:59:55.438 +02:00 [DBG] Done attempting to validate the bound parameter 'ticketId' of type 'System.Int32'.
2025-12-04 22:59:55.440 +02:00 [INF] get  Support by id Ticket called at "2025-12-04T22:59:55.4404666+02:00"
2025-12-04 22:59:55.441 +02:00 [INF] Fetching ticket 2
2025-12-04 22:59:55.443 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-12-04 22:59:55.445 +02:00 [DBG] Creating DbConnection.
2025-12-04 22:59:55.446 +02:00 [DBG] Created DbConnection. (0ms).
2025-12-04 22:59:55.447 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:59:55.449 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:59:55.450 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 22:59:55.451 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-12-04 22:59:55.453 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-12-04 22:59:55.455 +02:00 [DBG] Executing DbCommand [Parameters=[@__ticketId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[TicketId] = @__ticketId_0
2025-12-04 22:59:55.483 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__ticketId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[TicketId] = @__ticketId_0
2025-12-04 22:59:55.486 +02:00 [DBG] Context 'AppDbContext' started tracking 'SupportTicket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:59:55.488 +02:00 [DBG] The navigation 'SupportTicket.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:59:55.489 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 22:59:55.490 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:59:55.491 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-12-04 22:59:55.492 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:59:55.493 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (1ms).
2025-12-04 22:59:55.495 +02:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-12-04 22:59:55.496 +02:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-12-04 22:59:55.496 +02:00 [INF] Executed action Hospital.Controllers.SupportTicketController.GetById (Hospital) in 70.8732ms
2025-12-04 22:59:55.497 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 22:59:55.498 +02:00 [DBG] 'AppDbContext' disposed.
2025-12-04 22:59:55.499 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 22:59:55.501 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-12-04 22:59:55.503 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/SupportTicket/2 - 403 0 null 120.602ms
2025-12-04 23:00:06.494 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7217/api/SupportTicket/2 - null null
2025-12-04 23:00:06.499 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket/2'
2025-12-04 23:00:06.503 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-12-04 23:00:06.505 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:00:06.506 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:00:06.508 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:00:06.509 +02:00 [DBG] The request is a preflight request.
2025-12-04 23:00:06.510 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7217/api/SupportTicket/2 - 204 null null 16.2158ms
2025-12-04 23:00:06.515 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/SupportTicket/2 - null null
2025-12-04 23:00:06.520 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket/2'
2025-12-04 23:00:06.521 +02:00 [DBG] Endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)' with route pattern 'api/SupportTicket/{ticketId}' is valid for the request path '/api/SupportTicket/2'
2025-12-04 23:00:06.523 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 23:00:06.524 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:00:06.524 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:00:06.525 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:00:06.527 +02:00 [DBG] Successfully validated the token.
2025-12-04 23:00:06.529 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-12-04 23:00:06.533 +02:00 [DBG] Authorization was successful.
2025-12-04 23:00:06.535 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 23:00:06.537 +02:00 [INF] Route matched with {action = "GetById", controller = "SupportTicket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Hospital.Controllers.SupportTicketController (Hospital).
2025-12-04 23:00:06.540 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-04 23:00:06.543 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-04 23:00:06.545 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-04 23:00:06.547 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-04 23:00:06.548 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-04 23:00:06.550 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 23:00:06.552 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 23:00:06.554 +02:00 [DBG] Attempting to bind parameter 'ticketId' of type 'System.Int32' ...
2025-12-04 23:00:06.556 +02:00 [DBG] Attempting to bind parameter 'ticketId' of type 'System.Int32' using the name 'ticketId' in request data ...
2025-12-04 23:00:06.558 +02:00 [DBG] Done attempting to bind parameter 'ticketId' of type 'System.Int32'.
2025-12-04 23:00:06.558 +02:00 [DBG] Done attempting to bind parameter 'ticketId' of type 'System.Int32'.
2025-12-04 23:00:06.559 +02:00 [DBG] Attempting to validate the bound parameter 'ticketId' of type 'System.Int32' ...
2025-12-04 23:00:06.560 +02:00 [DBG] Done attempting to validate the bound parameter 'ticketId' of type 'System.Int32'.
2025-12-04 23:00:06.561 +02:00 [INF] get  Support by id Ticket called at "2025-12-04T23:00:06.5616770+02:00"
2025-12-04 23:00:06.562 +02:00 [INF] Fetching ticket 2
2025-12-04 23:00:06.563 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-12-04 23:00:06.566 +02:00 [DBG] Creating DbConnection.
2025-12-04 23:00:06.566 +02:00 [DBG] Created DbConnection. (0ms).
2025-12-04 23:00:06.568 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:00:06.570 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:00:06.571 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:00:06.572 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-12-04 23:00:06.573 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-12-04 23:00:06.575 +02:00 [DBG] Executing DbCommand [Parameters=[@__ticketId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[TicketId] = @__ticketId_0
2025-12-04 23:00:06.591 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__ticketId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[TicketId] = @__ticketId_0
2025-12-04 23:00:06.593 +02:00 [DBG] Context 'AppDbContext' started tracking 'SupportTicket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:00:06.594 +02:00 [DBG] The navigation 'SupportTicket.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:00:06.596 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:00:06.597 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:00:06.598 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-12-04 23:00:06.599 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:00:06.601 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (1ms).
2025-12-04 23:00:06.602 +02:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-12-04 23:00:06.604 +02:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-12-04 23:00:06.605 +02:00 [INF] Executed action Hospital.Controllers.SupportTicketController.GetById (Hospital) in 55.0152ms
2025-12-04 23:00:06.606 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 23:00:06.607 +02:00 [DBG] 'AppDbContext' disposed.
2025-12-04 23:00:06.608 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:00:06.609 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-12-04 23:00:06.611 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/SupportTicket/2 - 403 0 null 95.8489ms
2025-12-04 23:00:27.277 +02:00 [DBG] Connection id "0HNHJETDVKN2P" accepted.
2025-12-04 23:00:27.279 +02:00 [DBG] Connection id "0HNHJETDVKN2P" started.
2025-12-04 23:00:27.284 +02:00 [DBG] Connection 0HNHJETDVKN2P established using the following protocol: "Tls13"
2025-12-04 23:00:27.286 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/SupportTicket/2 - null null
2025-12-04 23:00:27.295 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket/2'
2025-12-04 23:00:27.297 +02:00 [DBG] Endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)' with route pattern 'api/SupportTicket/{ticketId}' is valid for the request path '/api/SupportTicket/2'
2025-12-04 23:00:27.300 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 23:00:27.301 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:00:27.302 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-12-04 23:00:27.304 +02:00 [DBG] Policy authentication schemes  did not succeed
2025-12-04 23:00:27.306 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-12-04 23:00:27.309 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-04 23:00:27.310 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/SupportTicket/2 - 401 0 null 24.3869ms
2025-12-04 23:01:07.105 +02:00 [DBG] Connection id "0HNHJETDVKN2Q" accepted.
2025-12-04 23:01:07.105 +02:00 [DBG] Connection id "0HNHJETDVKN2Q" received FIN.
2025-12-04 23:01:07.106 +02:00 [DBG] Connection id "0HNHJETDVKN2Q" started.
2025-12-04 23:01:07.106 +02:00 [DBG] Connection id "0HNHJETDVKN2R" accepted.
2025-12-04 23:01:07.108 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-12-04 23:01:07.109 +02:00 [DBG] Connection id "0HNHJETDVKN2R" started.
2025-12-04 23:01:07.111 +02:00 [DBG] Connection id "0HNHJETDVKN2Q" stopped.
2025-12-04 23:01:07.112 +02:00 [DBG] Connection id "0HNHJETDVKN2Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-12-04 23:01:07.115 +02:00 [DBG] Connection 0HNHJETDVKN2R established using the following protocol: "Tls13"
2025-12-04 23:01:07.121 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7217/api/SupportTicket/2 - null null
2025-12-04 23:01:07.123 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket/2'
2025-12-04 23:01:07.124 +02:00 [DBG] Endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)' with route pattern 'api/SupportTicket/{ticketId}' is valid for the request path '/api/SupportTicket/2'
2025-12-04 23:01:07.125 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 23:01:07.126 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:01:07.127 +02:00 [DBG] Successfully validated the token.
2025-12-04 23:01:07.127 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-12-04 23:01:07.129 +02:00 [DBG] Authorization was successful.
2025-12-04 23:01:07.130 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 23:01:07.131 +02:00 [INF] Route matched with {action = "GetById", controller = "SupportTicket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Hospital.Controllers.SupportTicketController (Hospital).
2025-12-04 23:01:07.133 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-04 23:01:07.134 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-04 23:01:07.135 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-04 23:01:07.137 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-04 23:01:07.137 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-04 23:01:07.138 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 23:01:07.139 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 23:01:07.140 +02:00 [DBG] Attempting to bind parameter 'ticketId' of type 'System.Int32' ...
2025-12-04 23:01:07.141 +02:00 [DBG] Attempting to bind parameter 'ticketId' of type 'System.Int32' using the name 'ticketId' in request data ...
2025-12-04 23:01:07.142 +02:00 [DBG] Done attempting to bind parameter 'ticketId' of type 'System.Int32'.
2025-12-04 23:01:07.143 +02:00 [DBG] Done attempting to bind parameter 'ticketId' of type 'System.Int32'.
2025-12-04 23:01:07.143 +02:00 [DBG] Attempting to validate the bound parameter 'ticketId' of type 'System.Int32' ...
2025-12-04 23:01:07.144 +02:00 [DBG] Done attempting to validate the bound parameter 'ticketId' of type 'System.Int32'.
2025-12-04 23:01:07.146 +02:00 [INF] get  Support by id Ticket called at "2025-12-04T23:01:07.1460031+02:00"
2025-12-04 23:01:07.147 +02:00 [INF] Fetching ticket 2
2025-12-04 23:01:07.149 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-12-04 23:01:07.151 +02:00 [DBG] Creating DbConnection.
2025-12-04 23:01:07.152 +02:00 [DBG] Created DbConnection. (0ms).
2025-12-04 23:01:07.153 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:01:07.154 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:01:07.155 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:01:07.156 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-12-04 23:01:07.157 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-12-04 23:01:07.158 +02:00 [DBG] Executing DbCommand [Parameters=[@__ticketId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[TicketId] = @__ticketId_0
2025-12-04 23:01:07.172 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__ticketId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[TicketId] = @__ticketId_0
2025-12-04 23:01:07.174 +02:00 [DBG] Context 'AppDbContext' started tracking 'SupportTicket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:01:07.175 +02:00 [DBG] The navigation 'SupportTicket.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:01:07.176 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:01:07.177 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:01:07.178 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-12-04 23:01:07.179 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:01:07.181 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (1ms).
2025-12-04 23:01:07.182 +02:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-12-04 23:01:07.183 +02:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-12-04 23:01:07.184 +02:00 [INF] Executed action Hospital.Controllers.SupportTicketController.GetById (Hospital) in 45.7174ms
2025-12-04 23:01:07.185 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 23:01:07.188 +02:00 [DBG] Connection id "0HNHJETDVKN2R" completed keep alive response.
2025-12-04 23:01:07.190 +02:00 [DBG] 'AppDbContext' disposed.
2025-12-04 23:01:07.191 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:01:07.192 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-12-04 23:01:07.193 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7217/api/SupportTicket/2 - 403 0 null 71.8654ms
2025-12-04 23:01:09.590 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7217/api/SupportTicket/2 - null null
2025-12-04 23:01:09.592 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket/2'
2025-12-04 23:01:09.593 +02:00 [DBG] Endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)' with route pattern 'api/SupportTicket/{ticketId}' is valid for the request path '/api/SupportTicket/2'
2025-12-04 23:01:09.595 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 23:01:09.596 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:01:09.598 +02:00 [DBG] Successfully validated the token.
2025-12-04 23:01:09.599 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-12-04 23:01:09.600 +02:00 [DBG] Authorization was successful.
2025-12-04 23:01:09.601 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 23:01:09.602 +02:00 [INF] Route matched with {action = "GetById", controller = "SupportTicket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Hospital.Controllers.SupportTicketController (Hospital).
2025-12-04 23:01:09.603 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-04 23:01:09.604 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-04 23:01:09.606 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-04 23:01:09.607 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-04 23:01:09.608 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-04 23:01:09.609 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 23:01:09.611 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 23:01:09.612 +02:00 [DBG] Attempting to bind parameter 'ticketId' of type 'System.Int32' ...
2025-12-04 23:01:09.613 +02:00 [DBG] Attempting to bind parameter 'ticketId' of type 'System.Int32' using the name 'ticketId' in request data ...
2025-12-04 23:01:09.614 +02:00 [DBG] Done attempting to bind parameter 'ticketId' of type 'System.Int32'.
2025-12-04 23:01:09.615 +02:00 [DBG] Done attempting to bind parameter 'ticketId' of type 'System.Int32'.
2025-12-04 23:01:09.617 +02:00 [DBG] Attempting to validate the bound parameter 'ticketId' of type 'System.Int32' ...
2025-12-04 23:01:09.618 +02:00 [DBG] Done attempting to validate the bound parameter 'ticketId' of type 'System.Int32'.
2025-12-04 23:01:09.619 +02:00 [INF] get  Support by id Ticket called at "2025-12-04T23:01:09.6191688+02:00"
2025-12-04 23:01:09.619 +02:00 [INF] Fetching ticket 2
2025-12-04 23:01:09.621 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-12-04 23:01:09.622 +02:00 [DBG] Creating DbConnection.
2025-12-04 23:01:09.623 +02:00 [DBG] Created DbConnection. (0ms).
2025-12-04 23:01:09.624 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:01:09.625 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:01:09.627 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:01:09.628 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-12-04 23:01:09.630 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-12-04 23:01:09.632 +02:00 [DBG] Executing DbCommand [Parameters=[@__ticketId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[TicketId] = @__ticketId_0
2025-12-04 23:01:09.635 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ticketId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[TicketId] = @__ticketId_0
2025-12-04 23:01:09.638 +02:00 [DBG] Context 'AppDbContext' started tracking 'SupportTicket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:01:09.639 +02:00 [DBG] The navigation 'SupportTicket.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:01:09.640 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:01:09.641 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:01:09.643 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-12-04 23:01:09.644 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:01:09.645 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (1ms).
2025-12-04 23:01:09.647 +02:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-12-04 23:01:09.648 +02:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-12-04 23:01:09.648 +02:00 [INF] Executed action Hospital.Controllers.SupportTicketController.GetById (Hospital) in 38.9074ms
2025-12-04 23:01:09.649 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 23:01:09.651 +02:00 [DBG] Connection id "0HNHJETDVKN2R" completed keep alive response.
2025-12-04 23:01:09.651 +02:00 [DBG] 'AppDbContext' disposed.
2025-12-04 23:01:09.652 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:01:09.653 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-12-04 23:01:09.655 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7217/api/SupportTicket/2 - 403 0 null 64.6705ms
2025-12-04 23:01:23.875 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7217/api/SupportTicket/2 - null null
2025-12-04 23:01:23.877 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket/2'
2025-12-04 23:01:23.879 +02:00 [DBG] Endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)' with route pattern 'api/SupportTicket/{ticketId}' is valid for the request path '/api/SupportTicket/2'
2025-12-04 23:01:23.880 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 23:01:23.881 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:01:23.882 +02:00 [DBG] Successfully validated the token.
2025-12-04 23:01:23.882 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-12-04 23:01:23.883 +02:00 [DBG] Authorization was successful.
2025-12-04 23:01:23.884 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 23:01:23.885 +02:00 [INF] Route matched with {action = "GetById", controller = "SupportTicket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Hospital.Controllers.SupportTicketController (Hospital).
2025-12-04 23:01:23.886 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-04 23:01:23.887 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-04 23:01:23.888 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-04 23:01:23.890 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-04 23:01:23.892 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-04 23:01:23.893 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 23:01:23.895 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 23:01:23.898 +02:00 [DBG] Attempting to bind parameter 'ticketId' of type 'System.Int32' ...
2025-12-04 23:01:23.899 +02:00 [DBG] Attempting to bind parameter 'ticketId' of type 'System.Int32' using the name 'ticketId' in request data ...
2025-12-04 23:01:23.901 +02:00 [DBG] Done attempting to bind parameter 'ticketId' of type 'System.Int32'.
2025-12-04 23:01:23.902 +02:00 [DBG] Done attempting to bind parameter 'ticketId' of type 'System.Int32'.
2025-12-04 23:01:23.904 +02:00 [DBG] Attempting to validate the bound parameter 'ticketId' of type 'System.Int32' ...
2025-12-04 23:01:23.905 +02:00 [DBG] Done attempting to validate the bound parameter 'ticketId' of type 'System.Int32'.
2025-12-04 23:01:23.906 +02:00 [INF] get  Support by id Ticket called at "2025-12-04T23:01:23.9062064+02:00"
2025-12-04 23:01:23.906 +02:00 [INF] Fetching ticket 2
2025-12-04 23:01:23.908 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-12-04 23:01:23.909 +02:00 [DBG] Creating DbConnection.
2025-12-04 23:01:23.910 +02:00 [DBG] Created DbConnection. (0ms).
2025-12-04 23:01:23.911 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:01:23.912 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:01:23.913 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:01:23.914 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-12-04 23:01:23.915 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-12-04 23:01:23.917 +02:00 [DBG] Executing DbCommand [Parameters=[@__ticketId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[TicketId] = @__ticketId_0
2025-12-04 23:01:23.919 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ticketId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[TicketId] = @__ticketId_0
2025-12-04 23:01:23.921 +02:00 [DBG] Context 'AppDbContext' started tracking 'SupportTicket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:01:23.922 +02:00 [DBG] The navigation 'SupportTicket.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:01:23.923 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:01:23.925 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:01:23.926 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-12-04 23:01:23.927 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:01:23.929 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (1ms).
2025-12-04 23:01:23.931 +02:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-12-04 23:01:23.933 +02:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-12-04 23:01:23.934 +02:00 [INF] Executed action Hospital.Controllers.SupportTicketController.GetById (Hospital) in 40.2848ms
2025-12-04 23:01:23.935 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 23:01:23.936 +02:00 [DBG] Connection id "0HNHJETDVKN2R" completed keep alive response.
2025-12-04 23:01:23.937 +02:00 [DBG] 'AppDbContext' disposed.
2025-12-04 23:01:23.938 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:01:23.940 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-12-04 23:01:23.941 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7217/api/SupportTicket/2 - 403 0 null 65.7075ms
2025-12-04 23:01:45.970 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7217/api/SupportTicket/2 - null null
2025-12-04 23:01:45.973 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket/2'
2025-12-04 23:01:45.974 +02:00 [DBG] Endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)' with route pattern 'api/SupportTicket/{ticketId}' is valid for the request path '/api/SupportTicket/2'
2025-12-04 23:01:45.975 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 23:01:45.976 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:01:45.977 +02:00 [DBG] Successfully validated the token.
2025-12-04 23:01:45.978 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-12-04 23:01:45.979 +02:00 [DBG] Authorization was successful.
2025-12-04 23:01:45.980 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 23:01:45.981 +02:00 [INF] Route matched with {action = "GetById", controller = "SupportTicket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Hospital.Controllers.SupportTicketController (Hospital).
2025-12-04 23:01:45.982 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-04 23:01:45.983 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-04 23:01:45.984 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-04 23:01:45.986 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-04 23:01:45.987 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-04 23:01:45.988 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 23:01:45.990 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 23:01:45.990 +02:00 [DBG] Attempting to bind parameter 'ticketId' of type 'System.Int32' ...
2025-12-04 23:01:45.991 +02:00 [DBG] Attempting to bind parameter 'ticketId' of type 'System.Int32' using the name 'ticketId' in request data ...
2025-12-04 23:01:45.993 +02:00 [DBG] Done attempting to bind parameter 'ticketId' of type 'System.Int32'.
2025-12-04 23:01:45.995 +02:00 [DBG] Done attempting to bind parameter 'ticketId' of type 'System.Int32'.
2025-12-04 23:01:45.997 +02:00 [DBG] Attempting to validate the bound parameter 'ticketId' of type 'System.Int32' ...
2025-12-04 23:01:45.998 +02:00 [DBG] Done attempting to validate the bound parameter 'ticketId' of type 'System.Int32'.
2025-12-04 23:01:46.000 +02:00 [INF] get  Support by id Ticket called at "2025-12-04T23:01:46.0001603+02:00"
2025-12-04 23:01:46.001 +02:00 [INF] Fetching ticket 2
2025-12-04 23:01:46.003 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-12-04 23:01:46.005 +02:00 [DBG] Creating DbConnection.
2025-12-04 23:01:46.006 +02:00 [DBG] Created DbConnection. (1ms).
2025-12-04 23:01:46.007 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:01:46.009 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:01:46.010 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:01:46.011 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-12-04 23:01:46.013 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-12-04 23:01:46.014 +02:00 [DBG] Executing DbCommand [Parameters=[@__ticketId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[TicketId] = @__ticketId_0
2025-12-04 23:01:46.017 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ticketId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[TicketId] = @__ticketId_0
2025-12-04 23:01:46.019 +02:00 [DBG] Context 'AppDbContext' started tracking 'SupportTicket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:01:46.021 +02:00 [DBG] The navigation 'SupportTicket.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:01:46.022 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:01:46.023 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:01:46.024 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-12-04 23:01:46.025 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:01:46.027 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (1ms).
2025-12-04 23:01:46.029 +02:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-12-04 23:01:46.031 +02:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-12-04 23:01:46.033 +02:00 [INF] Executed action Hospital.Controllers.SupportTicketController.GetById (Hospital) in 44.0156ms
2025-12-04 23:01:46.034 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 23:01:46.035 +02:00 [DBG] Connection id "0HNHJETDVKN2R" completed keep alive response.
2025-12-04 23:01:46.036 +02:00 [DBG] 'AppDbContext' disposed.
2025-12-04 23:01:46.037 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:01:46.038 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-12-04 23:01:46.040 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7217/api/SupportTicket/2 - 403 0 null 69.3299ms
2025-12-04 23:02:18.087 +02:00 [DBG] Connection id "0HNHJETDVKN2O" is closing.
2025-12-04 23:02:18.089 +02:00 [DBG] Connection id "0HNHJETDVKN2O" is closed. The last processed stream ID was 31.
2025-12-04 23:02:18.090 +02:00 [DBG] Connection id "0HNHJETDVKN2O" received FIN.
2025-12-04 23:02:18.091 +02:00 [DBG] The connection queue processing loop for 0HNHJETDVKN2O completed.
2025-12-04 23:02:18.092 +02:00 [DBG] Connection id "0HNHJETDVKN2O" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-12-04 23:02:18.103 +02:00 [DBG] Connection id "0HNHJETDVKN2O" stopped.
2025-12-04 23:02:39.258 +02:00 [DBG] Connection id "0HNHJETDVKN2P" is closing.
2025-12-04 23:02:39.260 +02:00 [DBG] Connection id "0HNHJETDVKN2P" is closed. The last processed stream ID was 1.
2025-12-04 23:02:39.263 +02:00 [DBG] The connection queue processing loop for 0HNHJETDVKN2P completed.
2025-12-04 23:02:39.263 +02:00 [DBG] Connection id "0HNHJETDVKN2P" received FIN.
2025-12-04 23:02:39.264 +02:00 [DBG] Connection id "0HNHJETDVKN2P" stopped.
2025-12-04 23:02:39.266 +02:00 [DBG] Connection id "0HNHJETDVKN2P" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-12-04 23:03:35.173 +02:00 [DBG] Connection id "0HNHJETDVKN2S" accepted.
2025-12-04 23:03:35.175 +02:00 [DBG] Connection id "0HNHJETDVKN2S" started.
2025-12-04 23:03:35.178 +02:00 [DBG] Connection 0HNHJETDVKN2S established using the following protocol: "Tls13"
2025-12-04 23:03:35.179 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7217/api/Auth/login - null null
2025-12-04 23:03:35.181 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-12-04 23:03:35.182 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-12-04 23:03:35.182 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:03:35.183 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:03:35.184 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:03:35.185 +02:00 [DBG] The request is a preflight request.
2025-12-04 23:03:35.186 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7217/api/Auth/login - 204 null null 6.4416ms
2025-12-04 23:03:35.189 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7217/api/Auth/login - application/json 53
2025-12-04 23:03:35.192 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-12-04 23:03:35.193 +02:00 [DBG] Endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2025-12-04 23:03:35.195 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)'
2025-12-04 23:03:35.196 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:03:35.197 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:03:35.198 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:03:35.198 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-12-04 23:03:35.199 +02:00 [INF] Executing endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)'
2025-12-04 23:03:35.204 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(Hospital.Domain.Models.LoginModel) on controller Hospital.Controllers.AuthController (Hospital).
2025-12-04 23:03:35.206 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-04 23:03:35.207 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-04 23:03:35.208 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-04 23:03:35.209 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-04 23:03:35.210 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-04 23:03:35.211 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.AuthController (Hospital)
2025-12-04 23:03:35.225 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.AuthController (Hospital)
2025-12-04 23:03:35.227 +02:00 [DBG] Attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel' ...
2025-12-04 23:03:35.231 +02:00 [DBG] Attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel' using the name '' in request data ...
2025-12-04 23:03:35.234 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-04 23:03:35.241 +02:00 [DBG] Connection id "0HNHJETDVKN2S", Request id "0HNHJETDVKN2S:00000003": started reading request body.
2025-12-04 23:03:35.242 +02:00 [DBG] Connection id "0HNHJETDVKN2S", Request id "0HNHJETDVKN2S:00000003": done reading request body.
2025-12-04 23:03:35.250 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Domain.Models.LoginModel'
2025-12-04 23:03:35.252 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel'.
2025-12-04 23:03:35.253 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel'.
2025-12-04 23:03:35.254 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Hospital.Domain.Models.LoginModel' ...
2025-12-04 23:03:35.259 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Hospital.Domain.Models.LoginModel'.
2025-12-04 23:03:35.263 +02:00 [INF] Login called at "2025-12-04T23:03:35.2628113+02:00"
2025-12-04 23:03:35.266 +02:00 [INF] Login attempt for email: admin@Hospital.com
2025-12-04 23:03:35.270 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-12-04 23:03:35.274 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-12-04 23:03:35.280 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: User.DateOfBirth (DateOnly?), 4], [Property: User.Email (string) Index MaxLength(256), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.FullName (string) Required MaxLength(150), 7], [Property: User.Gender (GenderType?) MaxLength(10), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string) Index MaxLength(256), 11], [Property: User.NormalizedUserName (string) Index MaxLength(256), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.RefreshToken (string), 16], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 17], [Property: User.Role (string) Required MaxLength(50), 18], [Property: User.SecurityStamp (string), 19], [Property: User.TwoFactorEnabled (bool) Required, 20], [Property: User.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 21], [Property: User.UserName (string) MaxLength(256), 22] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DateOfBirth, u.Email, u.EmailConfirmed, u.FullName, u.Gender, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.RefreshToken, u.RefreshTokenExpiryTime, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UpdatedAt, u.UserName
            FROM Users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Clinic.Infrastructure.Persistence.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-12-04 23:03:35.284 +02:00 [DBG] Creating DbConnection.
2025-12-04 23:03:35.285 +02:00 [DBG] Created DbConnection. (0ms).
2025-12-04 23:03:35.287 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:35.288 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:35.289 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:03:35.289 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-12-04 23:03:35.290 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-12-04 23:03:35.291 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-12-04 23:03:35.303 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-12-04 23:03:35.306 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:35.307 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:35.308 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-12-04 23:03:35.310 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:35.311 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (0ms).
2025-12-04 23:03:35.414 +02:00 [DBG] Creating JWT token for user 9935d2b8-2ddb-4408-9140-661e7913248b
2025-12-04 23:03:35.422 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2025-12-04 23:03:35.429 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-12-04 23:03:35.432 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:35.433 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:35.434 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:03:35.435 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-12-04 23:03:35.437 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-12-04 23:03:35.439 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-12-04 23:03:35.446 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-12-04 23:03:35.448 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:35.450 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-12-04 23:03:35.452 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:35.454 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (1ms).
2025-12-04 23:03:35.466 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2025-12-04 23:03:35.473 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-12-04 23:03:35.475 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:35.476 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:35.477 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:03:35.478 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-12-04 23:03:35.478 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-12-04 23:03:35.479 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-12-04 23:03:35.486 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-12-04 23:03:35.489 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:35.489 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-12-04 23:03:35.490 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:35.491 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (1ms).
2025-12-04 23:03:35.498 +02:00 [DBG] JWT token created for user 9935d2b8-2ddb-4408-9140-661e7913248b, expires at "2025-12-04T22:03:35.0000000Z"
2025-12-04 23:03:35.500 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:35.502 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:35.503 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:03:35.504 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-12-04 23:03:35.505 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-12-04 23:03:35.506 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-12-04 23:03:35.508 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-12-04 23:03:35.509 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:35.510 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-12-04 23:03:35.512 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:35.513 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (0ms).
2025-12-04 23:03:35.523 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-12-04 23:03:35.531 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: User.DateOfBirth (DateOnly?), 4], [Property: User.Email (string) Index MaxLength(256), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.FullName (string) Required MaxLength(150), 7], [Property: User.Gender (GenderType?) MaxLength(10), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string) Index MaxLength(256), 11], [Property: User.NormalizedUserName (string) Index MaxLength(256), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.RefreshToken (string), 16], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 17], [Property: User.Role (string) Required MaxLength(50), 18], [Property: User.SecurityStamp (string), 19], [Property: User.TwoFactorEnabled (bool) Required, 20], [Property: User.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 21], [Property: User.UserName (string) MaxLength(256), 22] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DateOfBirth, u.Email, u.EmailConfirmed, u.FullName, u.Gender, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.RefreshToken, u.RefreshTokenExpiryTime, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UpdatedAt, u.UserName
            FROM Users AS u
            WHERE u.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Clinic.Infrastructure.Persistence.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-12-04 23:03:35.533 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:35.534 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:35.535 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:03:35.536 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-12-04 23:03:35.537 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-12-04 23:03:35.538 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-12-04 23:03:35.543 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-12-04 23:03:35.544 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:35.545 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-12-04 23:03:35.546 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:35.547 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (1ms).
2025-12-04 23:03:35.561 +02:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:35.566 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-12-04 23:03:35.574 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-12-04 23:03:35.581 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-12-04 23:03:35.583 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-12-04 23:03:35.583 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-12-04 23:03:35.644 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:35.646 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:35.649 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:03:35.650 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-12-04 23:03:35.655 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-12-04 23:03:35.656 +02:00 [DBG] Executing DbCommand [Parameters=[@p22='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p23='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 150), @p7='?' (Size = 10), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 50), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (DbType = DateTime2), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DateOfBirth] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FullName] = @p6, [Gender] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiryTime] = @p16, [Role] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UpdatedAt] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] = @p23;
2025-12-04 23:03:35.667 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p22='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p23='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 150), @p7='?' (Size = 10), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 50), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (DbType = DateTime2), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DateOfBirth] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FullName] = @p6, [Gender] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiryTime] = @p16, [Role] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UpdatedAt] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] = @p23;
2025-12-04 23:03:35.674 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:35.675 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-12-04 23:03:35.677 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:35.678 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (1ms).
2025-12-04 23:03:35.681 +02:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:35.684 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-12-04 23:03:35.691 +02:00 [INF] User admin@Hospital.com logged in successfully with roles: Admin
2025-12-04 23:03:35.692 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-04 23:03:35.694 +02:00 [DBG] No information found on request to perform content negotiation.
2025-12-04 23:03:35.695 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-04 23:03:35.696 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-04 23:03:35.697 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-04 23:03:35.699 +02:00 [INF] Executing OkObjectResult, writing value of type 'Hospital.Domain.Models.AuthModel'.
2025-12-04 23:03:35.704 +02:00 [INF] Executed action Hospital.Controllers.AuthController.LoginAsync (Hospital) in 492.94ms
2025-12-04 23:03:35.706 +02:00 [INF] Executed endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)'
2025-12-04 23:03:35.708 +02:00 [DBG] 'AppDbContext' disposed.
2025-12-04 23:03:35.709 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:35.710 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-12-04 23:03:35.712 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7217/api/Auth/login - 200 null application/json; charset=utf-8 522.4471ms
2025-12-04 23:03:35.777 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7217/api/Auth/getAdminData - null null
2025-12-04 23:03:35.780 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/getAdminData'
2025-12-04 23:03:35.781 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-12-04 23:03:35.782 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:03:35.783 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:03:35.785 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:03:35.786 +02:00 [DBG] The request is a preflight request.
2025-12-04 23:03:35.788 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7217/api/Auth/getAdminData - 204 null null 10.4841ms
2025-12-04 23:03:35.811 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Auth/getAdminData - null null
2025-12-04 23:03:35.816 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7217/api/TotalRevenue/monthly-trend?year=2025 - null null
2025-12-04 23:03:35.814 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7217/api/Branch/GetAll - null null
2025-12-04 23:03:35.813 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7217/api/Doctor/all - null null
2025-12-04 23:03:35.816 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/getAdminData'
2025-12-04 23:03:35.817 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7217/api/TotalRevenue/branch-revenue - null null
2025-12-04 23:03:35.817 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7217/api/Doctor/GetallActiveDoctor - null null
2025-12-04 23:03:35.822 +02:00 [DBG] 1 candidate(s) found for the request path '/api/TotalRevenue/monthly-trend'
2025-12-04 23:03:35.826 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetAll'
2025-12-04 23:03:35.829 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Doctor/all'
2025-12-04 23:03:35.832 +02:00 [DBG] Endpoint 'Hospital.Controllers.AuthController.GetAdminData (Hospital)' with route pattern 'api/Auth/getAdminData' is valid for the request path '/api/Auth/getAdminData'
2025-12-04 23:03:35.840 +02:00 [DBG] 1 candidate(s) found for the request path '/api/TotalRevenue/branch-revenue'
2025-12-04 23:03:35.844 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-12-04 23:03:35.844 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Doctor/GetallActiveDoctor'
2025-12-04 23:03:35.846 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-12-04 23:03:35.848 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-12-04 23:03:35.849 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.AuthController.GetAdminData (Hospital)'
2025-12-04 23:03:35.852 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-12-04 23:03:35.854 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:03:35.855 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-12-04 23:03:35.856 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:03:35.857 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:03:35.859 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:03:35.860 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:03:35.861 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:03:35.863 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:03:35.864 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:03:35.865 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:03:35.866 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:03:35.867 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:03:35.870 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:03:35.871 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:03:35.872 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:03:35.874 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:03:35.875 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:03:35.876 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:03:35.876 +02:00 [DBG] The request is a preflight request.
2025-12-04 23:03:35.877 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:03:35.878 +02:00 [DBG] The request is a preflight request.
2025-12-04 23:03:35.879 +02:00 [DBG] The request is a preflight request.
2025-12-04 23:03:35.880 +02:00 [DBG] Successfully validated the token.
2025-12-04 23:03:35.880 +02:00 [DBG] The request is a preflight request.
2025-12-04 23:03:35.881 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7217/api/TotalRevenue/monthly-trend?year=2025 - 204 null null 64.5736ms
2025-12-04 23:03:35.882 +02:00 [DBG] The request is a preflight request.
2025-12-04 23:03:35.882 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7217/api/Branch/GetAll - 204 null null 68.1059ms
2025-12-04 23:03:35.883 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7217/api/Doctor/all - 204 null null 70.0974ms
2025-12-04 23:03:35.884 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-12-04 23:03:35.886 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7217/api/TotalRevenue/branch-revenue - 204 null null 69.0631ms
2025-12-04 23:03:35.890 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/TotalRevenue/monthly-trend?year=2025 - null null
2025-12-04 23:03:35.891 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetAll - null null
2025-12-04 23:03:35.893 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7217/api/Doctor/GetallActiveDoctor - 204 null null 75.527ms
2025-12-04 23:03:35.893 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Doctor/all - null null
2025-12-04 23:03:35.894 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/TotalRevenue/branch-revenue - null null
2025-12-04 23:03:35.898 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Doctor/GetallActiveDoctor - null null
2025-12-04 23:03:35.900 +02:00 [DBG] Authorization was successful.
2025-12-04 23:03:35.905 +02:00 [DBG] 1 candidate(s) found for the request path '/api/TotalRevenue/monthly-trend'
2025-12-04 23:03:35.908 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetAll'
2025-12-04 23:03:35.911 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Doctor/all'
2025-12-04 23:03:35.920 +02:00 [DBG] Endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)' with route pattern 'api/Doctor/all' is valid for the request path '/api/Doctor/all'
2025-12-04 23:03:35.916 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Doctor/GetallActiveDoctor'
2025-12-04 23:03:35.916 +02:00 [INF] Executing endpoint 'Hospital.Controllers.AuthController.GetAdminData (Hospital)'
2025-12-04 23:03:35.918 +02:00 [DBG] Endpoint 'Hospital.Controllers.TotalRevenueController.GetMonthlyTrend (Hospital)' with route pattern 'api/TotalRevenue/monthly-trend' is valid for the request path '/api/TotalRevenue/monthly-trend'
2025-12-04 23:03:35.919 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)' with route pattern 'api/Branch/GetAll' is valid for the request path '/api/Branch/GetAll'
2025-12-04 23:03:35.914 +02:00 [DBG] 1 candidate(s) found for the request path '/api/TotalRevenue/branch-revenue'
2025-12-04 23:03:35.922 +02:00 [DBG] Endpoint 'Hospital.Controllers.DoctorController.GetDoctor (Hospital)' with route pattern 'api/Doctor/{doctorId}' is valid for the request path '/api/Doctor/all'
2025-12-04 23:03:35.923 +02:00 [DBG] Endpoint 'Hospital.Controllers.DoctorController.GetallActiveDoctor (Hospital)' with route pattern 'api/Doctor/GetallActiveDoctor' is valid for the request path '/api/Doctor/GetallActiveDoctor'
2025-12-04 23:03:35.925 +02:00 [INF] Route matched with {action = "GetAdminData", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAdminData() on controller Hospital.Controllers.AuthController (Hospital).
2025-12-04 23:03:35.925 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.TotalRevenueController.GetMonthlyTrend (Hospital)'
2025-12-04 23:03:35.926 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-12-04 23:03:35.928 +02:00 [DBG] Endpoint 'Hospital.Controllers.TotalRevenueController.GetBranchRevenue (Hospital)' with route pattern 'api/TotalRevenue/branch-revenue' is valid for the request path '/api/TotalRevenue/branch-revenue'
2025-12-04 23:03:35.929 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-12-04 23:03:35.931 +02:00 [DBG] Endpoint 'Hospital.Controllers.DoctorController.GetDoctor (Hospital)' with route pattern 'api/Doctor/{doctorId}' is valid for the request path '/api/Doctor/GetallActiveDoctor'
2025-12-04 23:03:35.932 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-04 23:03:35.933 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:03:35.934 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:03:35.936 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.TotalRevenueController.GetBranchRevenue (Hospital)'
2025-12-04 23:03:35.937 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:03:35.940 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.DoctorController.GetallActiveDoctor (Hospital)'
2025-12-04 23:03:35.942 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-04 23:03:35.942 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:03:35.943 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:03:35.945 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:03:35.952 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:03:35.947 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:03:35.949 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-04 23:03:35.950 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:03:35.951 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:03:35.946 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:03:35.954 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:03:35.955 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:03:35.960 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-04 23:03:35.977 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-04 23:03:35.963 +02:00 [DBG] Successfully validated the token.
2025-12-04 23:03:35.964 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:03:35.966 +02:00 [DBG] Successfully validated the token.
2025-12-04 23:03:35.967 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:03:35.962 +02:00 [DBG] Successfully validated the token.
2025-12-04 23:03:35.981 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.AuthController (Hospital)
2025-12-04 23:03:35.982 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-12-04 23:03:35.983 +02:00 [DBG] Successfully validated the token.
2025-12-04 23:03:35.983 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-12-04 23:03:35.985 +02:00 [DBG] Successfully validated the token.
2025-12-04 23:03:35.986 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-12-04 23:03:35.989 +02:00 [DBG] Authorization was successful.
2025-12-04 23:03:35.989 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-12-04 23:03:35.992 +02:00 [INF] Executing endpoint 'Hospital.Controllers.TotalRevenueController.GetBranchRevenue (Hospital)'
2025-12-04 23:03:35.993 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-12-04 23:03:35.994 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.AuthController (Hospital)
2025-12-04 23:03:35.999 +02:00 [INF] Executing endpoint 'Hospital.Controllers.TotalRevenueController.GetMonthlyTrend (Hospital)'
2025-12-04 23:03:36.000 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-12-04 23:03:36.004 +02:00 [INF] Executing endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-12-04 23:03:36.007 +02:00 [INF] Executing endpoint 'Hospital.Controllers.DoctorController.GetallActiveDoctor (Hospital)'
2025-12-04 23:03:36.010 +02:00 [INF] GetAdminData called at "2025-12-04T23:03:36.0106779+02:00"
2025-12-04 23:03:36.012 +02:00 [INF] Route matched with {action = "GetBranchRevenue", controller = "TotalRevenue"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBranchRevenue() on controller Hospital.Controllers.TotalRevenueController (Hospital).
2025-12-04 23:03:36.014 +02:00 [INF] Route matched with {action = "GetMonthlyTrend", controller = "TotalRevenue"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMonthlyTrend(Int32) on controller Hospital.Controllers.TotalRevenueController (Hospital).
2025-12-04 23:03:36.015 +02:00 [INF] Route matched with {action = "GetAll", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.BranchController (Hospital).
2025-12-04 23:03:36.015 +02:00 [INF] Fetching user details for userId: 9935d2b8-2ddb-4408-9140-661e7913248b
2025-12-04 23:03:36.016 +02:00 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.DoctorController (Hospital).
2025-12-04 23:03:36.016 +02:00 [INF] Route matched with {action = "GetallActiveDoctor", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetallActiveDoctor() on controller Hospital.Controllers.DoctorController (Hospital).
2025-12-04 23:03:36.016 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-04 23:03:36.018 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-04 23:03:36.020 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-04 23:03:36.022 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-12-04 23:03:36.023 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-04 23:03:36.025 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-04 23:03:36.026 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-04 23:03:36.027 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-04 23:03:36.029 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-04 23:03:36.031 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-04 23:03:36.031 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Id == __userId_0)'
2025-12-04 23:03:36.032 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-04 23:03:36.033 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-04 23:03:36.034 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-04 23:03:36.035 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-04 23:03:36.036 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-04 23:03:36.039 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-04 23:03:36.041 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-04 23:03:36.042 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-04 23:03:36.042 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: User.DateOfBirth (DateOnly?), 4], [Property: User.Email (string) Index MaxLength(256), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.FullName (string) Required MaxLength(150), 7], [Property: User.Gender (GenderType?) MaxLength(10), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string) Index MaxLength(256), 11], [Property: User.NormalizedUserName (string) Index MaxLength(256), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.RefreshToken (string), 16], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 17], [Property: User.Role (string) Required MaxLength(50), 18], [Property: User.SecurityStamp (string), 19], [Property: User.TwoFactorEnabled (bool) Required, 20], [Property: User.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 21], [Property: User.UserName (string) MaxLength(256), 22] }
        SELECT TOP(1) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DateOfBirth, u.Email, u.EmailConfirmed, u.FullName, u.Gender, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.RefreshToken, u.RefreshTokenExpiryTime, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UpdatedAt, u.UserName
        FROM Users AS u
        WHERE u.Id == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2025-12-04 23:03:36.043 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-04 23:03:36.044 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-04 23:03:36.046 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-04 23:03:36.047 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-04 23:03:36.048 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-04 23:03:36.050 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-04 23:03:36.052 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-04 23:03:36.053 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-04 23:03:36.054 +02:00 [DBG] Creating DbConnection.
2025-12-04 23:03:36.054 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.TotalRevenueController (Hospital)
2025-12-04 23:03:36.055 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.TotalRevenueController (Hospital)
2025-12-04 23:03:36.056 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-12-04 23:03:36.057 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-12-04 23:03:36.059 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-12-04 23:03:36.060 +02:00 [DBG] Created DbConnection. (5ms).
2025-12-04 23:03:36.062 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.TotalRevenueController (Hospital)
2025-12-04 23:03:36.063 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.TotalRevenueController (Hospital)
2025-12-04 23:03:36.064 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-12-04 23:03:36.068 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.068 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-12-04 23:03:36.068 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-12-04 23:03:36.071 +02:00 [INF] Get All Branch called at "2025-12-04T23:03:36.0715965+02:00"
2025-12-04 23:03:36.073 +02:00 [DBG] Attempting to bind parameter 'year' of type 'System.Int32' ...
2025-12-04 23:03:36.073 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-12-04 23:03:36.074 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.075 +02:00 [INF] get all doctor in system called at "2025-12-04T23:03:36.0748911+02:00"
2025-12-04 23:03:36.076 +02:00 [INF] get all doctor in system called at "2025-12-04T23:03:36.0762129+02:00"
2025-12-04 23:03:36.077 +02:00 [DBG] Attempting to bind parameter 'year' of type 'System.Int32' using the name 'year' in request data ...
2025-12-04 23:03:36.077 +02:00 [INF] Fetching all branches
2025-12-04 23:03:36.079 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:03:36.079 +02:00 [DBG] Compiling query expression: 
'DbSet<Branch>()
    .AsNoTracking()'
2025-12-04 23:03:36.081 +02:00 [INF] Fetching all doctors in the system
2025-12-04 23:03:36.081 +02:00 [INF] Fetching all doctors in the system
2025-12-04 23:03:36.082 +02:00 [DBG] Done attempting to bind parameter 'year' of type 'System.Int32'.
2025-12-04 23:03:36.083 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-12-04 23:03:36.083 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-12-04 23:03:36.087 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-12-04 23:03:36.087 +02:00 [DBG] Done attempting to bind parameter 'year' of type 'System.Int32'.
2025-12-04 23:03:36.087 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-12-04 23:03:36.088 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Branch>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Branch.BranchId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Branch.Address (string) MaxLength(250), 1], [Property: Branch.BranchName (string) Required MaxLength(150), 2], [Property: Branch.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: Branch.Description (string), 4], [Property: Branch.Email (string) MaxLength(200), 5], [Property: Branch.ImageURL (string) MaxLength(300), 6], [Property: Branch.Latitude (double?), 7], [Property: Branch.Longitude (double?), 8], [Property: Branch.Phone (string) MaxLength(25), 9], [Property: Branch.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 10] }
        SELECT b.BranchId, b.Address, b.BranchName, b.CreatedAt, b.Description, b.Email, b.ImageURL, b.Latitude, b.Longitude, b.Phone, b.UpdatedAt
        FROM Branches AS b), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Branch>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-12-04 23:03:36.089 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-12-04 23:03:36.091 +02:00 [DBG] Attempting to validate the bound parameter 'year' of type 'System.Int32' ...
2025-12-04 23:03:36.092 +02:00 [DBG] Compiling query expression: 
'DbSet<Doctor>()
    .Where(d => d.Available == (bool?)True)
    .Include(d => d.User)
    .Include(d => d.Specialization)
    .Include(d => d.Branches)
    .Include(d => d.Schedules)
    .ThenInclude(s => s.Branch)'
2025-12-04 23:03:36.093 +02:00 [DBG] Compiling query expression: 
'DbSet<Doctor>()
    .Include(d => d.User)
    .Include(d => d.Specialization)
    .Include(d => d.Branches)
    .Include(d => d.Schedules)
    .ThenInclude(s => s.Branch)'
2025-12-04 23:03:36.095 +02:00 [DBG] Creating DbConnection.
2025-12-04 23:03:36.095 +02:00 [DBG] Creating DbConnection.
2025-12-04 23:03:36.096 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-12-04 23:03:36.096 +02:00 [DBG] Done attempting to validate the bound parameter 'year' of type 'System.Int32'.
2025-12-04 23:03:36.098 +02:00 [DBG] Including navigation: 'Doctor.User'.
2025-12-04 23:03:36.099 +02:00 [DBG] Including navigation: 'Doctor.User'.
2025-12-04 23:03:36.099 +02:00 [DBG] Created DbConnection. (3ms).
2025-12-04 23:03:36.099 +02:00 [DBG] Created DbConnection. (4ms).
2025-12-04 23:03:36.105 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-12-04 23:03:36.105 +02:00 [DBG] Including navigation: 'Doctor.Specialization'.
2025-12-04 23:03:36.105 +02:00 [DBG] Including navigation: 'Doctor.Specialization'.
2025-12-04 23:03:36.106 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.106 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-12-04 23:03:36.107 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.109 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.109 +02:00 [DBG] Including navigation: 'Doctor.Branches'.
2025-12-04 23:03:36.110 +02:00 [DBG] Including navigation: 'Doctor.Branches'.
2025-12-04 23:03:36.114 +02:00 [DBG] Compiling query expression: 
'DbSet<Appointment>()
    .Include(a => a.Patient)
    .Include(a => a.Doctor)
    .ThenInclude(a => a.User)
    .Include(a => a.Doctor)
    .ThenInclude(d => d.Specialization)
    .Include(a => a.Branch)
    .Include(a => a.Payment)'
2025-12-04 23:03:36.115 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.116 +02:00 [DBG] Including navigation: 'Doctor.Schedules'.
2025-12-04 23:03:36.116 +02:00 [DBG] Including navigation: 'Doctor.Schedules'.
2025-12-04 23:03:36.117 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.118 +02:00 [DBG] Including navigation: 'Appointment.Patient'.
2025-12-04 23:03:36.118 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 9ms reading results.
2025-12-04 23:03:36.120 +02:00 [DBG] Including navigation: 'Schedule.Branch'.
2025-12-04 23:03:36.120 +02:00 [DBG] Including navigation: 'Schedule.Branch'.
2025-12-04 23:03:36.121 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:03:36.122 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.123 +02:00 [DBG] Including navigation: 'Appointment.Doctor'.
2025-12-04 23:03:36.123 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.126 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-12-04 23:03:36.127 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:03:36.129 +02:00 [DBG] Including navigation: 'Doctor.User'.
2025-12-04 23:03:36.130 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (6ms).
2025-12-04 23:03:36.131 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-12-04 23:03:36.132 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-12-04 23:03:36.134 +02:00 [DBG] Including navigation: 'Doctor.Specialization'.
2025-12-04 23:03:36.135 +02:00 [INF] User details retrieved successfully for userId: 9935d2b8-2ddb-4408-9140-661e7913248b
2025-12-04 23:03:36.136 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-12-04 23:03:36.138 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-12-04 23:03:36.139 +02:00 [DBG] Including navigation: 'Appointment.Branch'.
2025-12-04 23:03:36.140 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-04 23:03:36.142 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-12-04 23:03:36.143 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-12-04 23:03:36.144 +02:00 [DBG] Including navigation: 'Appointment.Payment'.
2025-12-04 23:03:36.144 +02:00 [DBG] No information found on request to perform content negotiation.
2025-12-04 23:03:36.146 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-12-04 23:03:36.147 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.148 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-04 23:03:36.148 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-04 23:03:36.148 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-04 23:03:36.150 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.150 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-12-04 23:03:36.153 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-04 23:03:36.154 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-12-04 23:03:36.155 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.156 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-04 23:03:36.157 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.159 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (3ms).
2025-12-04 23:03:36.159 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Doctor>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Doctor.DoctorId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Doctor.Available (bool?), 1], [Property: Doctor.Biography (string), 2], [Property: Doctor.ConsultationFees (decimal) Required, 3], [Property: Doctor.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 4], [Property: Doctor.ExperienceYears (int?), 5], [Property: Doctor.ImageURL (string) MaxLength(300), 6], [Property: Doctor.SpecializationId (int) Required FK Index, 7], [Property: Doctor.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 8], [Property: Doctor.UserId (string) Required FK Index, 9] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 10], [Property: User.AccessFailedCount (int) Required, 11], [Property: User.ConcurrencyStamp (string) Concurrency, 12], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 13], [Property: User.DateOfBirth (DateOnly?), 14], [Property: User.Email (string) Index MaxLength(256), 15], [Property: User.EmailConfirmed (bool) Required, 16], [Property: User.FullName (string) Required MaxLength(150), 17], [Property: User.Gender (GenderType?) MaxLength(10), 18], [Property: User.LockoutEnabled (bool) Required, 19], [Property: User.LockoutEnd (DateTimeOffset?), 20], [Property: User.NormalizedEmail (string) Index MaxLength(256), 21], [Property: User.NormalizedUserName (string) Index MaxLength(256), 22], [Property: User.PasswordHash (string), 23], [Property: User.PhoneNumber (string), 24], [Property: User.PhoneNumberConfirmed (bool) Required, 25], [Property: User.RefreshToken (string), 26], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 27], [Property: User.Role (string) Required MaxLength(50), 28], [Property: User.SecurityStamp (string), 29], [Property: User.TwoFactorEnabled (bool) Required, 30], [Property: User.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 31], [Property: User.UserName (string) MaxLength(256), 32] }
            2 -> Dictionary<IProperty, int> { [Property: Specialization.SpecializationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 33], [Property: Specialization.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 34], [Property: Specialization.Description (string), 35], [Property: Specialization.ImageURL (string) MaxLength(300), 36], [Property: Specialization.Name (string) Required MaxLength(120), 37], [Property: Specialization.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 38] }
            3 -> 0
            4 -> 10
            5 -> 33
            6 -> Dictionary<IProperty, int> { [Property: BranchDoctor (Dictionary<string, object>).BranchesBranchId (no field, int) Indexer Required PK FK AfterSave:Throw, 39], [Property: BranchDoctor (Dictionary<string, object>).DoctorsDoctorId (no field, int) Indexer Required PK FK Index AfterSave:Throw, 40] }
            7 -> Dictionary<IProperty, int> { [Property: Branch.BranchId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 41], [Property: Branch.Address (string) MaxLength(250), 42], [Property: Branch.BranchName (string) Required MaxLength(150), 43], [Property: Branch.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 44], [Property: Branch.Description (string), 45], [Property: Branch.Email (string) MaxLength(200), 46], [Property: Branch.ImageURL (string) MaxLength(300), 47], [Property: Branch.Latitude (double?), 48], [Property: Branch.Longitude (double?), 49], [Property: Branch.Phone (string) MaxLength(25), 50], [Property: Branch.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 51] }
            8 -> 39
            9 -> 40
            10 -> 41
            11 -> Dictionary<IProperty, int> { [Property: Schedule.ScheduleId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 52], [Property: Schedule.BranchId (int) Required FK Index, 53], [Property: Schedule.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 54], [Property: Schedule.DayOfWeek (string) Required MaxLength(20), 55], [Property: Schedule.DoctorId (int) Required FK Index, 56], [Property: Schedule.EndTime (DateTime) Required, 57], [Property: Schedule.Shift (AppointmentShift) Required, 58], [Property: Schedule.StartTime (DateTime) Required, 59], [Property: Schedule.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 60] }
            12 -> Dictionary<IProperty, int> { [Property: Branch.BranchId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 61], [Property: Branch.Address (string) MaxLength(250), 62], [Property: Branch.BranchName (string) Required MaxLength(150), 63], [Property: Branch.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 64], [Property: Branch.Description (string), 65], [Property: Branch.Email (string) MaxLength(200), 66], [Property: Branch.ImageURL (string) MaxLength(300), 67], [Property: Branch.Latitude (double?), 68], [Property: Branch.Longitude (double?), 69], [Property: Branch.Phone (string) MaxLength(25), 70], [Property: Branch.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 71] }
            13 -> 52
            14 -> 61
        SELECT d.DoctorId, d.Available, d.Biography, d.ConsultationFees, d.CreatedAt, d.ExperienceYears, d.ImageURL, d.SpecializationId, d.UpdatedAt, d.UserId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DateOfBirth, u.Email, u.EmailConfirmed, u.FullName, u.Gender, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.RefreshToken, u.RefreshTokenExpiryTime, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UpdatedAt, u.UserName, s.SpecializationId, s.CreatedAt, s.Description, s.ImageURL, s.Name, s.UpdatedAt, t.BranchesBranchId, t.DoctorsDoctorId, t.BranchId, t.Address, t.BranchName, t.CreatedAt, t.Description, t.Email, t.ImageURL, t.Latitude, t.Longitude, t.Phone, t.UpdatedAt, t0.ScheduleId, t0.BranchId, t0.CreatedAt, t0.DayOfWeek, t0.DoctorId, t0.EndTime, t0.Shift, t0.StartTime, t0.UpdatedAt, t0.BranchId0, t0.Address, t0.BranchName, t0.CreatedAt0, t0.Description, t0.Email, t0.ImageURL, t0.Latitude, t0.Longitude, t0.Phone, t0.UpdatedAt0
        FROM Doctors AS d
        INNER JOIN Users AS u ON d.UserId == u.Id
        INNER JOIN Specializations AS s ON d.SpecializationId == s.SpecializationId
        LEFT JOIN 
        (
            SELECT d0.BranchesBranchId, d0.DoctorsDoctorId, b.BranchId, b.Address, b.BranchName, b.CreatedAt, b.Description, b.Email, b.ImageURL, b.Latitude, b.Longitude, b.Phone, b.UpdatedAt
            FROM DoctorBranches AS d0
            INNER JOIN Branches AS b ON d0.BranchesBranchId == b.BranchId
        ) AS t ON d.DoctorId == t.DoctorsDoctorId
        LEFT JOIN 
        (
            SELECT s0.ScheduleId, s0.BranchId, s0.CreatedAt, s0.DayOfWeek, s0.DoctorId, s0.EndTime, s0.Shift, s0.StartTime, s0.UpdatedAt, b0.BranchId AS BranchId0, b0.Address, b0.BranchName, b0.CreatedAt AS CreatedAt0, b0.Description, b0.Email, b0.ImageURL, b0.Latitude, b0.Longitude, b0.Phone, b0.UpdatedAt AS UpdatedAt0
            FROM Schedules AS s0
            INNER JOIN Branches AS b0 ON s0.BranchId == b0.BranchId
        ) AS t0 ON d.DoctorId == t0.DoctorId
        WHERE d.Available == CAST(1 AS bit)
        ORDER BY d.DoctorId ASC, u.Id ASC, s.SpecializationId ASC, t.BranchesBranchId ASC, t.DoctorsDoctorId ASC, t.BranchId ASC, t0.ScheduleId ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Doctor>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-12-04 23:03:36.160 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Doctor>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Doctor.DoctorId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Doctor.Available (bool?), 1], [Property: Doctor.Biography (string), 2], [Property: Doctor.ConsultationFees (decimal) Required, 3], [Property: Doctor.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 4], [Property: Doctor.ExperienceYears (int?), 5], [Property: Doctor.ImageURL (string) MaxLength(300), 6], [Property: Doctor.SpecializationId (int) Required FK Index, 7], [Property: Doctor.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 8], [Property: Doctor.UserId (string) Required FK Index, 9] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 10], [Property: User.AccessFailedCount (int) Required, 11], [Property: User.ConcurrencyStamp (string) Concurrency, 12], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 13], [Property: User.DateOfBirth (DateOnly?), 14], [Property: User.Email (string) Index MaxLength(256), 15], [Property: User.EmailConfirmed (bool) Required, 16], [Property: User.FullName (string) Required MaxLength(150), 17], [Property: User.Gender (GenderType?) MaxLength(10), 18], [Property: User.LockoutEnabled (bool) Required, 19], [Property: User.LockoutEnd (DateTimeOffset?), 20], [Property: User.NormalizedEmail (string) Index MaxLength(256), 21], [Property: User.NormalizedUserName (string) Index MaxLength(256), 22], [Property: User.PasswordHash (string), 23], [Property: User.PhoneNumber (string), 24], [Property: User.PhoneNumberConfirmed (bool) Required, 25], [Property: User.RefreshToken (string), 26], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 27], [Property: User.Role (string) Required MaxLength(50), 28], [Property: User.SecurityStamp (string), 29], [Property: User.TwoFactorEnabled (bool) Required, 30], [Property: User.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 31], [Property: User.UserName (string) MaxLength(256), 32] }
            2 -> Dictionary<IProperty, int> { [Property: Specialization.SpecializationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 33], [Property: Specialization.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 34], [Property: Specialization.Description (string), 35], [Property: Specialization.ImageURL (string) MaxLength(300), 36], [Property: Specialization.Name (string) Required MaxLength(120), 37], [Property: Specialization.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 38] }
            3 -> 0
            4 -> 10
            5 -> 33
            6 -> Dictionary<IProperty, int> { [Property: BranchDoctor (Dictionary<string, object>).BranchesBranchId (no field, int) Indexer Required PK FK AfterSave:Throw, 39], [Property: BranchDoctor (Dictionary<string, object>).DoctorsDoctorId (no field, int) Indexer Required PK FK Index AfterSave:Throw, 40] }
            7 -> Dictionary<IProperty, int> { [Property: Branch.BranchId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 41], [Property: Branch.Address (string) MaxLength(250), 42], [Property: Branch.BranchName (string) Required MaxLength(150), 43], [Property: Branch.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 44], [Property: Branch.Description (string), 45], [Property: Branch.Email (string) MaxLength(200), 46], [Property: Branch.ImageURL (string) MaxLength(300), 47], [Property: Branch.Latitude (double?), 48], [Property: Branch.Longitude (double?), 49], [Property: Branch.Phone (string) MaxLength(25), 50], [Property: Branch.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 51] }
            8 -> 39
            9 -> 40
            10 -> 41
            11 -> Dictionary<IProperty, int> { [Property: Schedule.ScheduleId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 52], [Property: Schedule.BranchId (int) Required FK Index, 53], [Property: Schedule.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 54], [Property: Schedule.DayOfWeek (string) Required MaxLength(20), 55], [Property: Schedule.DoctorId (int) Required FK Index, 56], [Property: Schedule.EndTime (DateTime) Required, 57], [Property: Schedule.Shift (AppointmentShift) Required, 58], [Property: Schedule.StartTime (DateTime) Required, 59], [Property: Schedule.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 60] }
            12 -> Dictionary<IProperty, int> { [Property: Branch.BranchId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 61], [Property: Branch.Address (string) MaxLength(250), 62], [Property: Branch.BranchName (string) Required MaxLength(150), 63], [Property: Branch.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 64], [Property: Branch.Description (string), 65], [Property: Branch.Email (string) MaxLength(200), 66], [Property: Branch.ImageURL (string) MaxLength(300), 67], [Property: Branch.Latitude (double?), 68], [Property: Branch.Longitude (double?), 69], [Property: Branch.Phone (string) MaxLength(25), 70], [Property: Branch.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 71] }
            13 -> 52
            14 -> 61
        SELECT d.DoctorId, d.Available, d.Biography, d.ConsultationFees, d.CreatedAt, d.ExperienceYears, d.ImageURL, d.SpecializationId, d.UpdatedAt, d.UserId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DateOfBirth, u.Email, u.EmailConfirmed, u.FullName, u.Gender, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.RefreshToken, u.RefreshTokenExpiryTime, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UpdatedAt, u.UserName, s.SpecializationId, s.CreatedAt, s.Description, s.ImageURL, s.Name, s.UpdatedAt, t.BranchesBranchId, t.DoctorsDoctorId, t.BranchId, t.Address, t.BranchName, t.CreatedAt, t.Description, t.Email, t.ImageURL, t.Latitude, t.Longitude, t.Phone, t.UpdatedAt, t0.ScheduleId, t0.BranchId, t0.CreatedAt, t0.DayOfWeek, t0.DoctorId, t0.EndTime, t0.Shift, t0.StartTime, t0.UpdatedAt, t0.BranchId0, t0.Address, t0.BranchName, t0.CreatedAt0, t0.Description, t0.Email, t0.ImageURL, t0.Latitude, t0.Longitude, t0.Phone, t0.UpdatedAt0
        FROM Doctors AS d
        INNER JOIN Users AS u ON d.UserId == u.Id
        INNER JOIN Specializations AS s ON d.SpecializationId == s.SpecializationId
        LEFT JOIN 
        (
            SELECT d0.BranchesBranchId, d0.DoctorsDoctorId, b.BranchId, b.Address, b.BranchName, b.CreatedAt, b.Description, b.Email, b.ImageURL, b.Latitude, b.Longitude, b.Phone, b.UpdatedAt
            FROM DoctorBranches AS d0
            INNER JOIN Branches AS b ON d0.BranchesBranchId == b.BranchId
        ) AS t ON d.DoctorId == t.DoctorsDoctorId
        LEFT JOIN 
        (
            SELECT s0.ScheduleId, s0.BranchId, s0.CreatedAt, s0.DayOfWeek, s0.DoctorId, s0.EndTime, s0.Shift, s0.StartTime, s0.UpdatedAt, b0.BranchId AS BranchId0, b0.Address, b0.BranchName, b0.CreatedAt AS CreatedAt0, b0.Description, b0.Email, b0.ImageURL, b0.Latitude, b0.Longitude, b0.Phone, b0.UpdatedAt AS UpdatedAt0
            FROM Schedules AS s0
            INNER JOIN Branches AS b0 ON s0.BranchId == b0.BranchId
        ) AS t0 ON d.DoctorId == t0.DoctorId
        ORDER BY d.DoctorId ASC, u.Id ASC, s.SpecializationId ASC, t.BranchesBranchId ASC, t.DoctorsDoctorId ASC, t.BranchId ASC, t0.ScheduleId ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Doctor>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-12-04 23:03:36.160 +02:00 [INF] Executing OkObjectResult, writing value of type 'Hospital.Application.DTO.Admin.AdminDto'.
2025-12-04 23:03:36.161 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (3ms).
2025-12-04 23:03:36.168 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-04 23:03:36.169 +02:00 [DBG] Creating DbConnection.
2025-12-04 23:03:36.171 +02:00 [DBG] Creating DbConnection.
2025-12-04 23:03:36.173 +02:00 [INF] Executed action Hospital.Controllers.AuthController.GetAdminData (Hospital) in 192.1901ms
2025-12-04 23:03:36.174 +02:00 [DBG] No information found on request to perform content negotiation.
2025-12-04 23:03:36.174 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Appointment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Appointment.AppointmentId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.BranchId (int) Required FK Index, 1], [Property: Appointment.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Appointment.CreatedBy (string) FK Index, 3], [Property: Appointment.Date (DateOnly) Required, 4], [Property: Appointment.DoctorId (int) Required FK Index, 5], [Property: Appointment.PatientId (int) Required FK Index, 6], [Property: Appointment.PaymentMethod (PaymentMethod) Required, 7], [Property: Appointment.Shift (AppointmentShift) Required MaxLength(20), 8], [Property: Appointment.Status (AppointmentStatus) Required MaxLength(20), 9], [Property: Appointment.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 10] }
            1 -> Dictionary<IProperty, int> { [Property: Patient.PatientId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: Patient.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 12], [Property: Patient.EmergencyContact (string) MaxLength(150), 13], [Property: Patient.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 14], [Property: Patient.UserId (string) Required FK Index, 15] }
            2 -> Dictionary<IProperty, int> { [Property: Doctor.DoctorId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: Doctor.Available (bool?), 17], [Property: Doctor.Biography (string), 18], [Property: Doctor.ConsultationFees (decimal) Required, 19], [Property: Doctor.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 20], [Property: Doctor.ExperienceYears (int?), 21], [Property: Doctor.ImageURL (string) MaxLength(300), 22], [Property: Doctor.SpecializationId (int) Required FK Index, 23], [Property: Doctor.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 24], [Property: Doctor.UserId (string) Required FK Index, 25] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 26], [Property: User.AccessFailedCount (int) Required, 27], [Property: User.ConcurrencyStamp (string) Concurrency, 28], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 29], [Property: User.DateOfBirth (DateOnly?), 30], [Property: User.Email (string) Index MaxLength(256), 31], [Property: User.EmailConfirmed (bool) Required, 32], [Property: User.FullName (string) Required MaxLength(150), 33], [Property: User.Gender (GenderType?) MaxLength(10), 34], [Property: User.LockoutEnabled (bool) Required, 35], [Property: User.LockoutEnd (DateTimeOffset?), 36], [Property: User.NormalizedEmail (string) Index MaxLength(256), 37], [Property: User.NormalizedUserName (string) Index MaxLength(256), 38], [Property: User.PasswordHash (string), 39], [Property: User.PhoneNumber (string), 40], [Property: User.PhoneNumberConfirmed (bool) Required, 41], [Property: User.RefreshToken (string), 42], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 43], [Property: User.Role (string) Required MaxLength(50), 44], [Property: User.SecurityStamp (string), 45], [Property: User.TwoFactorEnabled (bool) Required, 46], [Property: User.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 47], [Property: User.UserName (string) MaxLength(256), 48] }
            4 -> Dictionary<IProperty, int> { [Property: Specialization.SpecializationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 49], [Property: Specialization.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 50], [Property: Specialization.Description (string), 51], [Property: Specialization.ImageURL (string) MaxLength(300), 52], [Property: Specialization.Name (string) Required MaxLength(120), 53], [Property: Specialization.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 54] }
            5 -> Dictionary<IProperty, int> { [Property: Branch.BranchId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 55], [Property: Branch.Address (string) MaxLength(250), 56], [Property: Branch.BranchName (string) Required MaxLength(150), 57], [Property: Branch.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 58], [Property: Branch.Description (string), 59], [Property: Branch.Email (string) MaxLength(200), 60], [Property: Branch.ImageURL (string) MaxLength(300), 61], [Property: Branch.Latitude (double?), 62], [Property: Branch.Longitude (double?), 63], [Property: Branch.Phone (string) MaxLength(25), 64], [Property: Branch.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 65] }
            6 -> Dictionary<IProperty, int> { [Property: Payment.PaymentId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 66], [Property: Payment.Amount (decimal) Required, 67], [Property: Payment.AppointmentId (int) Required FK Index, 68], [Property: Payment.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 69], [Property: Payment.Currency (string) Required MaxLength(3), 70], [Property: Payment.GatewayResponse (string), 71], [Property: Payment.PaymobMerchantOrderId (string) MaxLength(100), 72], [Property: Payment.PaymobOrderId (long?), 73], [Property: Payment.PaymobTransactionId (long?), 74], [Property: Payment.Status (PaymentStatus) Required MaxLength(20), 75], [Property: Payment.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 76] }
        SELECT a.AppointmentId, a.BranchId, a.CreatedAt, a.CreatedBy, a.Date, a.DoctorId, a.PatientId, a.PaymentMethod, a.Shift, a.Status, a.UpdatedAt, p.PatientId, p.CreatedAt, p.EmergencyContact, p.UpdatedAt, p.UserId, d.DoctorId, d.Available, d.Biography, d.ConsultationFees, d.CreatedAt, d.ExperienceYears, d.ImageURL, d.SpecializationId, d.UpdatedAt, d.UserId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DateOfBirth, u.Email, u.EmailConfirmed, u.FullName, u.Gender, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.RefreshToken, u.RefreshTokenExpiryTime, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UpdatedAt, u.UserName, s.SpecializationId, s.CreatedAt, s.Description, s.ImageURL, s.Name, s.UpdatedAt, b.BranchId, b.Address, b.BranchName, b.CreatedAt, b.Description, b.Email, b.ImageURL, b.Latitude, b.Longitude, b.Phone, b.UpdatedAt, p0.PaymentId, p0.Amount, p0.AppointmentId, p0.CreatedAt, p0.Currency, p0.GatewayResponse, p0.PaymobMerchantOrderId, p0.PaymobOrderId, p0.PaymobTransactionId, p0.Status, p0.UpdatedAt
        FROM Appointments AS a
        INNER JOIN Patients AS p ON a.PatientId == p.PatientId
        INNER JOIN Doctors AS d ON a.DoctorId == d.DoctorId
        INNER JOIN Users AS u ON d.UserId == u.Id
        INNER JOIN Specializations AS s ON d.SpecializationId == s.SpecializationId
        INNER JOIN Branches AS b ON a.BranchId == b.BranchId
        LEFT JOIN Payments AS p0 ON a.AppointmentId == p0.AppointmentId), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-12-04 23:03:36.175 +02:00 [DBG] Created DbConnection. (6ms).
2025-12-04 23:03:36.175 +02:00 [DBG] Created DbConnection. (4ms).
2025-12-04 23:03:36.176 +02:00 [INF] Executed endpoint 'Hospital.Controllers.AuthController.GetAdminData (Hospital)'
2025-12-04 23:03:36.177 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-04 23:03:36.180 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.181 +02:00 [DBG] Creating DbConnection.
2025-12-04 23:03:36.181 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.181 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.182 +02:00 [DBG] 'AppDbContext' disposed.
2025-12-04 23:03:36.183 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-04 23:03:36.184 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.185 +02:00 [DBG] Created DbConnection. (4ms).
2025-12-04 23:03:36.186 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.187 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.188 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.188 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-04 23:03:36.189 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:03:36.189 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.191 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:03:36.191 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:03:36.192 +02:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-12-04 23:03:36.194 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Branch.BranchDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-04 23:03:36.196 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-12-04 23:03:36.198 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-12-04 23:03:36.199 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-12-04 23:03:36.201 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Auth/getAdminData - 200 null application/json; charset=utf-8 389.3322ms
2025-12-04 23:03:36.203 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetAll (Hospital) in 146.4349ms
2025-12-04 23:03:36.203 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-12-04 23:03:36.204 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.205 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-12-04 23:03:36.207 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2025-12-04 23:03:36.212 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-12-04 23:03:36.213 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[ImageURL], [s].[Name], [s].[UpdatedAt], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Latitude], [t].[Longitude], [t].[Phone], [t].[UpdatedAt], [t0].[ScheduleId], [t0].[BranchId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[DoctorId], [t0].[EndTime], [t0].[Shift], [t0].[StartTime], [t0].[UpdatedAt], [t0].[BranchId0], [t0].[Address], [t0].[BranchName], [t0].[CreatedAt0], [t0].[Description], [t0].[Email], [t0].[ImageURL], [t0].[Latitude], [t0].[Longitude], [t0].[Phone], [t0].[UpdatedAt0]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t] ON [d].[DoctorId] = [t].[DoctorsDoctorId]
LEFT JOIN (
    SELECT [s0].[ScheduleId], [s0].[BranchId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt] AS [CreatedAt0], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Latitude], [b0].[Longitude], [b0].[Phone], [b0].[UpdatedAt] AS [UpdatedAt0]
    FROM [Schedules] AS [s0]
    INNER JOIN [Branches] AS [b0] ON [s0].[BranchId] = [b0].[BranchId]
) AS [t0] ON [d].[DoctorId] = [t0].[DoctorId]
WHERE [d].[Available] = CAST(1 AS bit)
ORDER BY [d].[DoctorId], [u].[Id], [s].[SpecializationId], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t0].[ScheduleId]
2025-12-04 23:03:36.213 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:03:36.214 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentId], [a].[BranchId], [a].[CreatedAt], [a].[CreatedBy], [a].[Date], [a].[DoctorId], [a].[PatientId], [a].[PaymentMethod], [a].[Shift], [a].[Status], [a].[UpdatedAt], [p].[PatientId], [p].[CreatedAt], [p].[EmergencyContact], [p].[UpdatedAt], [p].[UserId], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[ImageURL], [s].[Name], [s].[UpdatedAt], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt], [p0].[PaymentId], [p0].[Amount], [p0].[AppointmentId], [p0].[CreatedAt], [p0].[Currency], [p0].[GatewayResponse], [p0].[PaymobMerchantOrderId], [p0].[PaymobOrderId], [p0].[PaymobTransactionId], [p0].[Status], [p0].[UpdatedAt]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[PatientId]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
INNER JOIN [Branches] AS [b] ON [a].[BranchId] = [b].[BranchId]
LEFT JOIN [Payments] AS [p0] ON [a].[AppointmentId] = [p0].[AppointmentId]
2025-12-04 23:03:36.215 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[ImageURL], [s].[Name], [s].[UpdatedAt], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Latitude], [t].[Longitude], [t].[Phone], [t].[UpdatedAt], [t0].[ScheduleId], [t0].[BranchId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[DoctorId], [t0].[EndTime], [t0].[Shift], [t0].[StartTime], [t0].[UpdatedAt], [t0].[BranchId0], [t0].[Address], [t0].[BranchName], [t0].[CreatedAt0], [t0].[Description], [t0].[Email], [t0].[ImageURL], [t0].[Latitude], [t0].[Longitude], [t0].[Phone], [t0].[UpdatedAt0]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t] ON [d].[DoctorId] = [t].[DoctorsDoctorId]
LEFT JOIN (
    SELECT [s0].[ScheduleId], [s0].[BranchId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt] AS [CreatedAt0], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Latitude], [b0].[Longitude], [b0].[Phone], [b0].[UpdatedAt] AS [UpdatedAt0]
    FROM [Schedules] AS [s0]
    INNER JOIN [Branches] AS [b0] ON [s0].[BranchId] = [b0].[BranchId]
) AS [t0] ON [d].[DoctorId] = [t0].[DoctorId]
ORDER BY [d].[DoctorId], [u].[Id], [s].[SpecializationId], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t0].[ScheduleId]
2025-12-04 23:03:36.215 +02:00 [DBG] 'AppDbContext' disposed.
2025-12-04 23:03:36.219 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-12-04 23:03:36.224 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.226 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-12-04 23:03:36.229 +02:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-12-04 23:03:36.230 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentId], [a].[BranchId], [a].[CreatedAt], [a].[CreatedBy], [a].[Date], [a].[DoctorId], [a].[PatientId], [a].[PaymentMethod], [a].[Shift], [a].[Status], [a].[UpdatedAt], [p].[PatientId], [p].[CreatedAt], [p].[EmergencyContact], [p].[UpdatedAt], [p].[UserId], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[ImageURL], [s].[Name], [s].[UpdatedAt], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt], [p0].[PaymentId], [p0].[Amount], [p0].[AppointmentId], [p0].[CreatedAt], [p0].[Currency], [p0].[GatewayResponse], [p0].[PaymobMerchantOrderId], [p0].[PaymobOrderId], [p0].[PaymobTransactionId], [p0].[Status], [p0].[UpdatedAt]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[PatientId]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
INNER JOIN [Branches] AS [b] ON [a].[BranchId] = [b].[BranchId]
LEFT JOIN [Payments] AS [p0] ON [a].[AppointmentId] = [p0].[AppointmentId]
2025-12-04 23:03:36.232 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetAll - 200 null application/json; charset=utf-8 340.5478ms
2025-12-04 23:03:36.240 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentId], [a].[BranchId], [a].[CreatedAt], [a].[CreatedBy], [a].[Date], [a].[DoctorId], [a].[PatientId], [a].[PaymentMethod], [a].[Shift], [a].[Status], [a].[UpdatedAt], [p].[PatientId], [p].[CreatedAt], [p].[EmergencyContact], [p].[UpdatedAt], [p].[UserId], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[ImageURL], [s].[Name], [s].[UpdatedAt], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt], [p0].[PaymentId], [p0].[Amount], [p0].[AppointmentId], [p0].[CreatedAt], [p0].[Currency], [p0].[GatewayResponse], [p0].[PaymobMerchantOrderId], [p0].[PaymobOrderId], [p0].[PaymobTransactionId], [p0].[Status], [p0].[UpdatedAt]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[PatientId]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
INNER JOIN [Branches] AS [b] ON [a].[BranchId] = [b].[BranchId]
LEFT JOIN [Payments] AS [p0] ON [a].[AppointmentId] = [p0].[AppointmentId]
2025-12-04 23:03:36.245 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[ImageURL], [s].[Name], [s].[UpdatedAt], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Latitude], [t].[Longitude], [t].[Phone], [t].[UpdatedAt], [t0].[ScheduleId], [t0].[BranchId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[DoctorId], [t0].[EndTime], [t0].[Shift], [t0].[StartTime], [t0].[UpdatedAt], [t0].[BranchId0], [t0].[Address], [t0].[BranchName], [t0].[CreatedAt0], [t0].[Description], [t0].[Email], [t0].[ImageURL], [t0].[Latitude], [t0].[Longitude], [t0].[Phone], [t0].[UpdatedAt0]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t] ON [d].[DoctorId] = [t].[DoctorsDoctorId]
LEFT JOIN (
    SELECT [s0].[ScheduleId], [s0].[BranchId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt] AS [CreatedAt0], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Latitude], [b0].[Longitude], [b0].[Phone], [b0].[UpdatedAt] AS [UpdatedAt0]
    FROM [Schedules] AS [s0]
    INNER JOIN [Branches] AS [b0] ON [s0].[BranchId] = [b0].[BranchId]
) AS [t0] ON [d].[DoctorId] = [t0].[DoctorId]
WHERE [d].[Available] = CAST(1 AS bit)
ORDER BY [d].[DoctorId], [u].[Id], [s].[SpecializationId], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t0].[ScheduleId]
2025-12-04 23:03:36.245 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentId], [a].[BranchId], [a].[CreatedAt], [a].[CreatedBy], [a].[Date], [a].[DoctorId], [a].[PatientId], [a].[PaymentMethod], [a].[Shift], [a].[Status], [a].[UpdatedAt], [p].[PatientId], [p].[CreatedAt], [p].[EmergencyContact], [p].[UpdatedAt], [p].[UserId], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[ImageURL], [s].[Name], [s].[UpdatedAt], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt], [p0].[PaymentId], [p0].[Amount], [p0].[AppointmentId], [p0].[CreatedAt], [p0].[Currency], [p0].[GatewayResponse], [p0].[PaymobMerchantOrderId], [p0].[PaymobOrderId], [p0].[PaymobTransactionId], [p0].[Status], [p0].[UpdatedAt]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[PatientId]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
INNER JOIN [Branches] AS [b] ON [a].[BranchId] = [b].[BranchId]
LEFT JOIN [Payments] AS [p0] ON [a].[AppointmentId] = [p0].[AppointmentId]
2025-12-04 23:03:36.245 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[ImageURL], [s].[Name], [s].[UpdatedAt], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Latitude], [t].[Longitude], [t].[Phone], [t].[UpdatedAt], [t0].[ScheduleId], [t0].[BranchId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[DoctorId], [t0].[EndTime], [t0].[Shift], [t0].[StartTime], [t0].[UpdatedAt], [t0].[BranchId0], [t0].[Address], [t0].[BranchName], [t0].[CreatedAt0], [t0].[Description], [t0].[Email], [t0].[ImageURL], [t0].[Latitude], [t0].[Longitude], [t0].[Phone], [t0].[UpdatedAt0]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t] ON [d].[DoctorId] = [t].[DoctorsDoctorId]
LEFT JOIN (
    SELECT [s0].[ScheduleId], [s0].[BranchId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt] AS [CreatedAt0], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Latitude], [b0].[Longitude], [b0].[Phone], [b0].[UpdatedAt] AS [UpdatedAt0]
    FROM [Schedules] AS [s0]
    INNER JOIN [Branches] AS [b0] ON [s0].[BranchId] = [b0].[BranchId]
) AS [t0] ON [d].[DoctorId] = [t0].[DoctorId]
ORDER BY [d].[DoctorId], [u].[Id], [s].[SpecializationId], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t0].[ScheduleId]
2025-12-04 23:03:36.249 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.249 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.254 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.254 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.270 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.270 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.273 +02:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.274 +02:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.276 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.276 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.276 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.277 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.277 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.278 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.279 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.280 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.281 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.282 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.285 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.287 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.287 +02:00 [DBG] The navigation 'Doctor.Specialization' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.288 +02:00 [DBG] The navigation 'Doctor.Specialization' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.288 +02:00 [DBG] The navigation 'Doctor.Specialization' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.289 +02:00 [DBG] The navigation 'Doctor.Specialization' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.290 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.290 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.291 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.292 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.302 +02:00 [DBG] The navigation 'Appointment.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.302 +02:00 [DBG] The navigation 'Appointment.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.303 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.305 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchDoctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.305 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.305 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchDoctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.308 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.308 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.308 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.309 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.309 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.311 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.313 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.313 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.313 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.314 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.316 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.316 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.317 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.318 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.321 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.322 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.323 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.324 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.325 +02:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.326 +02:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.326 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.326 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.327 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.329 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.329 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.330 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.331 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.332 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.333 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.334 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.335 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.336 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.337 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.338 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.341 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.342 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.343 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.343 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.343 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.343 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.344 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.345 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.346 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.347 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.347 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.351 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.352 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.353 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.354 +02:00 [DBG] The navigation 'Doctor.Specialization' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.355 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchDoctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.356 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.357 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.358 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchDoctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.359 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.360 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.361 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.362 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.363 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.364 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.364 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.365 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.365 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.366 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.367 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.368 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.369 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.370 +02:00 [DBG] The navigation 'Doctor.Specialization' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.372 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.372 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.373 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.375 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.376 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.376 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.377 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchDoctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.378 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchDoctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.379 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.380 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.381 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.382 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchDoctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.383 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.384 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.385 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.387 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.388 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.389 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.390 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.391 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.392 +02:00 [DBG] The navigation 'Appointment.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.393 +02:00 [DBG] The navigation 'Appointment.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.394 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.395 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.396 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.397 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.398 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.400 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchDoctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.400 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.402 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.403 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.404 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.405 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.406 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.407 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.408 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.409 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.410 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.411 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 163ms reading results.
2025-12-04 23:03:36.411 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.412 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.413 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.414 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.415 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.416 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.417 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.418 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (3ms).
2025-12-04 23:03:36.420 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.420 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.421 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.423 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.424 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.425 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.426 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.428 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.429 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.430 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchDoctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.431 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.432 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-04 23:03:36.432 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.433 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.434 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.436 +02:00 [DBG] No information found on request to perform content negotiation.
2025-12-04 23:03:36.437 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.438 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.439 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.440 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-04 23:03:36.440 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.442 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.442 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.443 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-04 23:03:36.444 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.445 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.446 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.446 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-04 23:03:36.447 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.448 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.449 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.450 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Doctor.DoctorDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-04 23:03:36.450 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.452 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.453 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.454 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.456 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.457 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.458 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.459 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 207ms reading results.
2025-12-04 23:03:36.460 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.461 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.462 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.464 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.465 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.466 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (3ms).
2025-12-04 23:03:36.467 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.469 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.472 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-04 23:03:36.473 +02:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.474 +02:00 [INF] Executed action Hospital.Controllers.DoctorController.GetallActiveDoctor (Hospital) in 415.1454ms
2025-12-04 23:03:36.474 +02:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.476 +02:00 [DBG] No information found on request to perform content negotiation.
2025-12-04 23:03:36.477 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.478 +02:00 [INF] Executed endpoint 'Hospital.Controllers.DoctorController.GetallActiveDoctor (Hospital)'
2025-12-04 23:03:36.479 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.479 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-04 23:03:36.480 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.481 +02:00 [DBG] 'AppDbContext' disposed.
2025-12-04 23:03:36.482 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.483 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-04 23:03:36.484 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.485 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.486 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.486 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-04 23:03:36.487 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.488 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-12-04 23:03:36.489 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.490 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Doctor.DoctorDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-04 23:03:36.491 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.492 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Doctor/GetallActiveDoctor - 200 null application/json; charset=utf-8 594.4843ms
2025-12-04 23:03:36.493 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.495 +02:00 [INF] Executed action Hospital.Controllers.DoctorController.GetAll (Hospital) in 437.813ms
2025-12-04 23:03:36.495 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.500 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.501 +02:00 [INF] Executed endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-12-04 23:03:36.502 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.503 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.503 +02:00 [DBG] 'AppDbContext' disposed.
2025-12-04 23:03:36.505 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.506 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.507 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.508 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.509 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.510 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-12-04 23:03:36.511 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.512 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.513 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Doctor/all - 200 null application/json; charset=utf-8 619.9391ms
2025-12-04 23:03:36.513 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.514 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.517 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.518 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.519 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.520 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.521 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.522 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.523 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.525 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.526 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.526 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.528 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.529 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.530 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.531 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.531 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.533 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.533 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.534 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.535 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.536 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.537 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.538 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.539 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.540 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.540 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.541 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.542 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.543 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.543 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.544 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.545 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.546 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.546 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.547 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.548 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.549 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.549 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.550 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.551 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.553 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.554 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.555 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.555 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.556 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.557 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.558 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.559 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.560 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.561 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.562 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.563 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.564 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.565 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.566 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.567 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.568 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.569 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.571 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.572 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.573 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.574 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.575 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.576 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.577 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.577 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.578 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.579 +02:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.580 +02:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.581 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.582 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.583 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.584 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.585 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.587 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.587 +02:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.588 +02:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.590 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.591 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.591 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.592 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.593 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.595 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.595 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.597 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.598 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.599 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.600 +02:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.601 +02:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.602 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.603 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.605 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.605 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.607 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.608 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.609 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 365ms reading results.
2025-12-04 23:03:36.609 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 360ms reading results.
2025-12-04 23:03:36.610 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.611 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.612 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (1ms).
2025-12-04 23:03:36.613 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (1ms).
2025-12-04 23:03:36.616 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-04 23:03:36.616 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-04 23:03:36.617 +02:00 [DBG] No information found on request to perform content negotiation.
2025-12-04 23:03:36.619 +02:00 [DBG] No information found on request to perform content negotiation.
2025-12-04 23:03:36.620 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-04 23:03:36.621 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-04 23:03:36.621 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-04 23:03:36.622 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-04 23:03:36.622 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-04 23:03:36.623 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-04 23:03:36.624 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType12`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-04 23:03:36.625 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType12`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-04 23:03:36.635 +02:00 [INF] Executed action Hospital.Controllers.TotalRevenueController.GetMonthlyTrend (Hospital) in 579.506ms
2025-12-04 23:03:36.635 +02:00 [INF] Executed action Hospital.Controllers.TotalRevenueController.GetBranchRevenue (Hospital) in 580.4666ms
2025-12-04 23:03:36.637 +02:00 [INF] Executed endpoint 'Hospital.Controllers.TotalRevenueController.GetMonthlyTrend (Hospital)'
2025-12-04 23:03:36.638 +02:00 [INF] Executed endpoint 'Hospital.Controllers.TotalRevenueController.GetBranchRevenue (Hospital)'
2025-12-04 23:03:36.639 +02:00 [DBG] 'AppDbContext' disposed.
2025-12-04 23:03:36.640 +02:00 [DBG] 'AppDbContext' disposed.
2025-12-04 23:03:36.641 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.642 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.644 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-12-04 23:03:36.645 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-12-04 23:03:36.645 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7217/api/TotalRevenue/year/2025 - null null
2025-12-04 23:03:36.646 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/TotalRevenue/monthly-trend?year=2025 - 200 null application/json; charset=utf-8 756.2545ms
2025-12-04 23:03:36.647 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/TotalRevenue/branch-revenue - 200 null application/json; charset=utf-8 752.9373ms
2025-12-04 23:03:36.649 +02:00 [DBG] 1 candidate(s) found for the request path '/api/TotalRevenue/year/2025'
2025-12-04 23:03:36.655 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-12-04 23:03:36.656 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:03:36.656 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:03:36.657 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:03:36.658 +02:00 [DBG] The request is a preflight request.
2025-12-04 23:03:36.659 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7217/api/TotalRevenue/year/2025 - 204 null null 13.4576ms
2025-12-04 23:03:36.663 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/TotalRevenue/year/2025 - null null
2025-12-04 23:03:36.667 +02:00 [DBG] 1 candidate(s) found for the request path '/api/TotalRevenue/year/2025'
2025-12-04 23:03:36.669 +02:00 [DBG] Endpoint 'Hospital.Controllers.TotalRevenueController.GetRevenueInSpecificYear (Hospital)' with route pattern 'api/TotalRevenue/year/{year}' is valid for the request path '/api/TotalRevenue/year/2025'
2025-12-04 23:03:36.670 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.TotalRevenueController.GetRevenueInSpecificYear (Hospital)'
2025-12-04 23:03:36.672 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:03:36.672 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:03:36.673 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:03:36.674 +02:00 [DBG] Successfully validated the token.
2025-12-04 23:03:36.674 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-12-04 23:03:36.675 +02:00 [INF] Executing endpoint 'Hospital.Controllers.TotalRevenueController.GetRevenueInSpecificYear (Hospital)'
2025-12-04 23:03:36.679 +02:00 [INF] Route matched with {action = "GetRevenueInSpecificYear", controller = "TotalRevenue"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetRevenueInSpecificYear(Int32) on controller Hospital.Controllers.TotalRevenueController (Hospital).
2025-12-04 23:03:36.681 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-04 23:03:36.682 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-04 23:03:36.683 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-04 23:03:36.684 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-04 23:03:36.686 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-04 23:03:36.687 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.TotalRevenueController (Hospital)
2025-12-04 23:03:36.690 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.TotalRevenueController (Hospital)
2025-12-04 23:03:36.691 +02:00 [DBG] Attempting to bind parameter 'year' of type 'System.Int32' ...
2025-12-04 23:03:36.693 +02:00 [DBG] Attempting to bind parameter 'year' of type 'System.Int32' using the name 'year' in request data ...
2025-12-04 23:03:36.695 +02:00 [DBG] Done attempting to bind parameter 'year' of type 'System.Int32'.
2025-12-04 23:03:36.696 +02:00 [DBG] Done attempting to bind parameter 'year' of type 'System.Int32'.
2025-12-04 23:03:36.698 +02:00 [DBG] Attempting to validate the bound parameter 'year' of type 'System.Int32' ...
2025-12-04 23:03:36.699 +02:00 [DBG] Done attempting to validate the bound parameter 'year' of type 'System.Int32'.
2025-12-04 23:03:36.703 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-12-04 23:03:36.705 +02:00 [DBG] Creating DbConnection.
2025-12-04 23:03:36.706 +02:00 [DBG] Created DbConnection. (0ms).
2025-12-04 23:03:36.707 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.709 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.710 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:03:36.711 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-12-04 23:03:36.712 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-12-04 23:03:36.713 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentId], [a].[BranchId], [a].[CreatedAt], [a].[CreatedBy], [a].[Date], [a].[DoctorId], [a].[PatientId], [a].[PaymentMethod], [a].[Shift], [a].[Status], [a].[UpdatedAt], [p].[PatientId], [p].[CreatedAt], [p].[EmergencyContact], [p].[UpdatedAt], [p].[UserId], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[ImageURL], [s].[Name], [s].[UpdatedAt], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt], [p0].[PaymentId], [p0].[Amount], [p0].[AppointmentId], [p0].[CreatedAt], [p0].[Currency], [p0].[GatewayResponse], [p0].[PaymobMerchantOrderId], [p0].[PaymobOrderId], [p0].[PaymobTransactionId], [p0].[Status], [p0].[UpdatedAt]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[PatientId]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
INNER JOIN [Branches] AS [b] ON [a].[BranchId] = [b].[BranchId]
LEFT JOIN [Payments] AS [p0] ON [a].[AppointmentId] = [p0].[AppointmentId]
2025-12-04 23:03:36.715 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentId], [a].[BranchId], [a].[CreatedAt], [a].[CreatedBy], [a].[Date], [a].[DoctorId], [a].[PatientId], [a].[PaymentMethod], [a].[Shift], [a].[Status], [a].[UpdatedAt], [p].[PatientId], [p].[CreatedAt], [p].[EmergencyContact], [p].[UpdatedAt], [p].[UserId], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[ImageURL], [s].[Name], [s].[UpdatedAt], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Latitude], [b].[Longitude], [b].[Phone], [b].[UpdatedAt], [p0].[PaymentId], [p0].[Amount], [p0].[AppointmentId], [p0].[CreatedAt], [p0].[Currency], [p0].[GatewayResponse], [p0].[PaymobMerchantOrderId], [p0].[PaymobOrderId], [p0].[PaymobTransactionId], [p0].[Status], [p0].[UpdatedAt]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[PatientId]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
INNER JOIN [Branches] AS [b] ON [a].[BranchId] = [b].[BranchId]
LEFT JOIN [Payments] AS [p0] ON [a].[AppointmentId] = [p0].[AppointmentId]
2025-12-04 23:03:36.717 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.718 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.719 +02:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.721 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.722 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.722 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.723 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.725 +02:00 [DBG] The navigation 'Doctor.Specialization' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.726 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.728 +02:00 [DBG] The navigation 'Appointment.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.730 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.732 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.733 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.734 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.736 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.737 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.739 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.740 +02:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.741 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.743 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.744 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.745 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.746 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.747 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.748 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.749 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.750 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.751 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.753 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.754 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.755 +02:00 [DBG] The navigation 'Appointment.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.756 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.757 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.759 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.760 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.762 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.763 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.765 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.767 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.768 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.769 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.770 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.772 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.773 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.775 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.776 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.777 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.778 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.779 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.780 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.781 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.782 +02:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.783 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.784 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.785 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.787 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.789 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.790 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.792 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.793 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.795 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.796 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.797 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.798 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.799 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.800 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.801 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.802 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.804 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.806 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.807 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.808 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.809 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.810 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.811 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.812 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.814 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.814 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.816 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.817 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.818 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.819 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.820 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.822 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.822 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.824 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.825 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.826 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.828 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.830 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.831 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.833 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.834 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.835 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.837 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.838 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.839 +02:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.841 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.842 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.843 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.844 +02:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.845 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.846 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.848 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.849 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.850 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.852 +02:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.854 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.855 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:36.856 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.857 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 139ms reading results.
2025-12-04 23:03:36.858 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.859 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (1ms).
2025-12-04 23:03:36.863 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-04 23:03:36.865 +02:00 [DBG] No information found on request to perform content negotiation.
2025-12-04 23:03:36.866 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-04 23:03:36.867 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-04 23:03:36.868 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-04 23:03:36.869 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType11`1[[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-04 23:03:36.873 +02:00 [INF] Executed action Hospital.Controllers.TotalRevenueController.GetRevenueInSpecificYear (Hospital) in 185.7146ms
2025-12-04 23:03:36.874 +02:00 [INF] Executed endpoint 'Hospital.Controllers.TotalRevenueController.GetRevenueInSpecificYear (Hospital)'
2025-12-04 23:03:36.875 +02:00 [DBG] 'AppDbContext' disposed.
2025-12-04 23:03:36.877 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:36.878 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-12-04 23:03:36.879 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/TotalRevenue/year/2025 - 200 null application/json; charset=utf-8 215.7792ms
2025-12-04 23:03:42.567 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7217/api/SupportTicket - null null
2025-12-04 23:03:42.570 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket'
2025-12-04 23:03:42.572 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-12-04 23:03:42.573 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:03:42.574 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:03:42.575 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:03:42.576 +02:00 [DBG] The request is a preflight request.
2025-12-04 23:03:42.578 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7217/api/SupportTicket - 204 null null 10.5991ms
2025-12-04 23:03:42.592 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/SupportTicket - null null
2025-12-04 23:03:42.596 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket'
2025-12-04 23:03:42.599 +02:00 [DBG] Endpoint 'Hospital.Controllers.SupportTicketController.GetAll (Hospital)' with route pattern 'api/SupportTicket' is valid for the request path '/api/SupportTicket'
2025-12-04 23:03:42.601 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SupportTicketController.GetAll (Hospital)'
2025-12-04 23:03:42.603 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:03:42.604 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:03:42.606 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:03:42.607 +02:00 [DBG] Successfully validated the token.
2025-12-04 23:03:42.608 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-12-04 23:03:42.610 +02:00 [DBG] Authorization was successful.
2025-12-04 23:03:42.610 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SupportTicketController.GetAll (Hospital)'
2025-12-04 23:03:42.616 +02:00 [INF] Route matched with {action = "GetAll", controller = "SupportTicket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.SupportTicketController (Hospital).
2025-12-04 23:03:42.618 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-04 23:03:42.619 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-04 23:03:42.621 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-04 23:03:42.622 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-04 23:03:42.624 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-04 23:03:42.625 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 23:03:42.626 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 23:03:42.629 +02:00 [INF] get all Support Ticket called at "2025-12-04T23:03:42.6296528+02:00"
2025-12-04 23:03:42.632 +02:00 [INF] Fetching all support tickets in the system
2025-12-04 23:03:42.634 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-12-04 23:03:42.637 +02:00 [DBG] Compiling query expression: 
'DbSet<SupportTicket>()
    .Include(t => t.User)
    .OrderByDescending(t => t.CreatedAt)'
2025-12-04 23:03:42.639 +02:00 [DBG] Including navigation: 'SupportTicket.User'.
2025-12-04 23:03:42.646 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<SupportTicket>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: SupportTicket.TicketId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: SupportTicket.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: SupportTicket.Message (string) Required, 2], [Property: SupportTicket.Response (string), 3], [Property: SupportTicket.Status (TicketStatus) Required MaxLength(20), 4], [Property: SupportTicket.Subject (string) Required MaxLength(200), 5], [Property: SupportTicket.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 6], [Property: SupportTicket.UserId (string) Required FK Index, 7] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 8], [Property: User.AccessFailedCount (int) Required, 9], [Property: User.ConcurrencyStamp (string) Concurrency, 10], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 11], [Property: User.DateOfBirth (DateOnly?), 12], [Property: User.Email (string) Index MaxLength(256), 13], [Property: User.EmailConfirmed (bool) Required, 14], [Property: User.FullName (string) Required MaxLength(150), 15], [Property: User.Gender (GenderType?) MaxLength(10), 16], [Property: User.LockoutEnabled (bool) Required, 17], [Property: User.LockoutEnd (DateTimeOffset?), 18], [Property: User.NormalizedEmail (string) Index MaxLength(256), 19], [Property: User.NormalizedUserName (string) Index MaxLength(256), 20], [Property: User.PasswordHash (string), 21], [Property: User.PhoneNumber (string), 22], [Property: User.PhoneNumberConfirmed (bool) Required, 23], [Property: User.RefreshToken (string), 24], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 25], [Property: User.Role (string) Required MaxLength(50), 26], [Property: User.SecurityStamp (string), 27], [Property: User.TwoFactorEnabled (bool) Required, 28], [Property: User.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 29], [Property: User.UserName (string) MaxLength(256), 30] }
        SELECT s.TicketId, s.CreatedAt, s.Message, s.Response, s.Status, s.Subject, s.UpdatedAt, s.UserId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DateOfBirth, u.Email, u.EmailConfirmed, u.FullName, u.Gender, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.RefreshToken, u.RefreshTokenExpiryTime, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UpdatedAt, u.UserName
        FROM SupportTickets AS s
        INNER JOIN Users AS u ON s.UserId == u.Id
        ORDER BY s.CreatedAt DESC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, SupportTicket>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-12-04 23:03:42.647 +02:00 [DBG] Creating DbConnection.
2025-12-04 23:03:42.648 +02:00 [DBG] Created DbConnection. (0ms).
2025-12-04 23:03:42.649 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:42.650 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:42.652 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:03:42.653 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-12-04 23:03:42.654 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-12-04 23:03:42.655 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
ORDER BY [s].[CreatedAt] DESC
2025-12-04 23:03:42.661 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
ORDER BY [s].[CreatedAt] DESC
2025-12-04 23:03:42.664 +02:00 [DBG] Context 'AppDbContext' started tracking 'SupportTicket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:42.665 +02:00 [DBG] The navigation 'SupportTicket.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:42.666 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:42.668 +02:00 [DBG] Context 'AppDbContext' started tracking 'SupportTicket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:42.669 +02:00 [DBG] Context 'AppDbContext' started tracking 'SupportTicket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:42.670 +02:00 [DBG] The navigation 'SupportTicket.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:42.671 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:42.672 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:42.673 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 9ms reading results.
2025-12-04 23:03:42.674 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:42.675 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (1ms).
2025-12-04 23:03:42.677 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-04 23:03:42.678 +02:00 [DBG] No information found on request to perform content negotiation.
2025-12-04 23:03:42.679 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-04 23:03:42.679 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-04 23:03:42.680 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-04 23:03:42.680 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.SupportTicket.SupportTicketDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-04 23:03:42.681 +02:00 [INF] Executed action Hospital.Controllers.SupportTicketController.GetAll (Hospital) in 56.3376ms
2025-12-04 23:03:42.682 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SupportTicketController.GetAll (Hospital)'
2025-12-04 23:03:42.684 +02:00 [DBG] 'AppDbContext' disposed.
2025-12-04 23:03:42.686 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:42.687 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-12-04 23:03:42.688 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/SupportTicket - 200 null application/json; charset=utf-8 95.9902ms
2025-12-04 23:03:45.270 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7217/api/SupportTicket/3 - null null
2025-12-04 23:03:45.272 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket/3'
2025-12-04 23:03:45.273 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-12-04 23:03:45.274 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:03:45.275 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:03:45.276 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:03:45.276 +02:00 [DBG] The request is a preflight request.
2025-12-04 23:03:45.277 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7217/api/SupportTicket/3 - 204 null null 6.8979ms
2025-12-04 23:03:45.291 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/SupportTicket/3 - null null
2025-12-04 23:03:45.294 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket/3'
2025-12-04 23:03:45.296 +02:00 [DBG] Endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)' with route pattern 'api/SupportTicket/{ticketId}' is valid for the request path '/api/SupportTicket/3'
2025-12-04 23:03:45.300 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 23:03:45.301 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:03:45.303 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:03:45.304 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:03:45.305 +02:00 [DBG] Successfully validated the token.
2025-12-04 23:03:45.306 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-12-04 23:03:45.308 +02:00 [DBG] Authorization was successful.
2025-12-04 23:03:45.309 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 23:03:45.311 +02:00 [INF] Route matched with {action = "GetById", controller = "SupportTicket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Hospital.Controllers.SupportTicketController (Hospital).
2025-12-04 23:03:45.312 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-04 23:03:45.314 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-04 23:03:45.315 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-04 23:03:45.316 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-04 23:03:45.317 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-04 23:03:45.318 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 23:03:45.320 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 23:03:45.322 +02:00 [DBG] Attempting to bind parameter 'ticketId' of type 'System.Int32' ...
2025-12-04 23:03:45.323 +02:00 [DBG] Attempting to bind parameter 'ticketId' of type 'System.Int32' using the name 'ticketId' in request data ...
2025-12-04 23:03:45.325 +02:00 [DBG] Done attempting to bind parameter 'ticketId' of type 'System.Int32'.
2025-12-04 23:03:45.326 +02:00 [DBG] Done attempting to bind parameter 'ticketId' of type 'System.Int32'.
2025-12-04 23:03:45.328 +02:00 [DBG] Attempting to validate the bound parameter 'ticketId' of type 'System.Int32' ...
2025-12-04 23:03:45.330 +02:00 [DBG] Done attempting to validate the bound parameter 'ticketId' of type 'System.Int32'.
2025-12-04 23:03:45.331 +02:00 [INF] get  Support by id Ticket called at "2025-12-04T23:03:45.3315938+02:00"
2025-12-04 23:03:45.332 +02:00 [INF] Fetching ticket 3
2025-12-04 23:03:45.333 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-12-04 23:03:45.336 +02:00 [DBG] Creating DbConnection.
2025-12-04 23:03:45.336 +02:00 [DBG] Created DbConnection. (0ms).
2025-12-04 23:03:45.338 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:45.339 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:45.340 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:03:45.341 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-12-04 23:03:45.342 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-12-04 23:03:45.343 +02:00 [DBG] Executing DbCommand [Parameters=[@__ticketId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[TicketId] = @__ticketId_0
2025-12-04 23:03:45.348 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__ticketId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[TicketId] = @__ticketId_0
2025-12-04 23:03:45.349 +02:00 [DBG] Context 'AppDbContext' started tracking 'SupportTicket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:45.351 +02:00 [DBG] The navigation 'SupportTicket.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:45.353 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:45.354 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:45.355 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-12-04 23:03:45.356 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:45.357 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (0ms).
2025-12-04 23:03:45.358 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-04 23:03:45.359 +02:00 [DBG] No information found on request to perform content negotiation.
2025-12-04 23:03:45.360 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-04 23:03:45.361 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-04 23:03:45.362 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-04 23:03:45.364 +02:00 [INF] Executing OkObjectResult, writing value of type 'Hospital.Application.DTO.SupportTicket.SupportTicketDto'.
2025-12-04 23:03:45.365 +02:00 [INF] Executed action Hospital.Controllers.SupportTicketController.GetById (Hospital) in 46.2179ms
2025-12-04 23:03:45.366 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 23:03:45.367 +02:00 [DBG] 'AppDbContext' disposed.
2025-12-04 23:03:45.368 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:45.370 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-12-04 23:03:45.371 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/SupportTicket/3 - 200 null application/json; charset=utf-8 80.6753ms
2025-12-04 23:03:48.716 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7217/api/SupportTicket - null null
2025-12-04 23:03:48.719 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket'
2025-12-04 23:03:48.720 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-12-04 23:03:48.722 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:03:48.723 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:03:48.723 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:03:48.724 +02:00 [DBG] The request is a preflight request.
2025-12-04 23:03:48.724 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7217/api/SupportTicket - 204 null null 8.4837ms
2025-12-04 23:03:48.736 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/SupportTicket - null null
2025-12-04 23:03:48.740 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket'
2025-12-04 23:03:48.742 +02:00 [DBG] Endpoint 'Hospital.Controllers.SupportTicketController.GetAll (Hospital)' with route pattern 'api/SupportTicket' is valid for the request path '/api/SupportTicket'
2025-12-04 23:03:48.744 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SupportTicketController.GetAll (Hospital)'
2025-12-04 23:03:48.745 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:03:48.746 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:03:48.747 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:03:48.748 +02:00 [DBG] Successfully validated the token.
2025-12-04 23:03:48.749 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-12-04 23:03:48.750 +02:00 [DBG] Authorization was successful.
2025-12-04 23:03:48.751 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SupportTicketController.GetAll (Hospital)'
2025-12-04 23:03:48.753 +02:00 [INF] Route matched with {action = "GetAll", controller = "SupportTicket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.SupportTicketController (Hospital).
2025-12-04 23:03:48.756 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-04 23:03:48.758 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-04 23:03:48.759 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-04 23:03:48.762 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-04 23:03:48.764 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-04 23:03:48.765 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 23:03:48.766 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 23:03:48.769 +02:00 [INF] get all Support Ticket called at "2025-12-04T23:03:48.7691373+02:00"
2025-12-04 23:03:48.770 +02:00 [INF] Fetching all support tickets in the system
2025-12-04 23:03:48.772 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-12-04 23:03:48.774 +02:00 [DBG] Creating DbConnection.
2025-12-04 23:03:48.776 +02:00 [DBG] Created DbConnection. (1ms).
2025-12-04 23:03:48.777 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:48.779 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:48.780 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:03:48.781 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-12-04 23:03:48.781 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-12-04 23:03:48.782 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
ORDER BY [s].[CreatedAt] DESC
2025-12-04 23:03:48.784 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
ORDER BY [s].[CreatedAt] DESC
2025-12-04 23:03:48.787 +02:00 [DBG] Context 'AppDbContext' started tracking 'SupportTicket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:48.788 +02:00 [DBG] The navigation 'SupportTicket.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:48.790 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:48.791 +02:00 [DBG] Context 'AppDbContext' started tracking 'SupportTicket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:48.792 +02:00 [DBG] Context 'AppDbContext' started tracking 'SupportTicket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:48.792 +02:00 [DBG] The navigation 'SupportTicket.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:48.793 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:48.794 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:48.795 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 8ms reading results.
2025-12-04 23:03:48.797 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:48.798 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (1ms).
2025-12-04 23:03:48.799 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-04 23:03:48.801 +02:00 [DBG] No information found on request to perform content negotiation.
2025-12-04 23:03:48.802 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-04 23:03:48.803 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-04 23:03:48.804 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-04 23:03:48.805 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.SupportTicket.SupportTicketDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-04 23:03:48.806 +02:00 [INF] Executed action Hospital.Controllers.SupportTicketController.GetAll (Hospital) in 40.7807ms
2025-12-04 23:03:48.807 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SupportTicketController.GetAll (Hospital)'
2025-12-04 23:03:48.808 +02:00 [DBG] 'AppDbContext' disposed.
2025-12-04 23:03:48.809 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:48.811 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-12-04 23:03:48.812 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/SupportTicket - 200 null application/json; charset=utf-8 75.2929ms
2025-12-04 23:03:51.207 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7217/api/SupportTicket/2 - null null
2025-12-04 23:03:51.209 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket/2'
2025-12-04 23:03:51.210 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-12-04 23:03:51.211 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:03:51.212 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:03:51.213 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:03:51.213 +02:00 [DBG] The request is a preflight request.
2025-12-04 23:03:51.214 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7217/api/SupportTicket/2 - 204 null null 7.5289ms
2025-12-04 23:03:51.237 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/SupportTicket/2 - null null
2025-12-04 23:03:51.242 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket/2'
2025-12-04 23:03:51.243 +02:00 [DBG] Endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)' with route pattern 'api/SupportTicket/{ticketId}' is valid for the request path '/api/SupportTicket/2'
2025-12-04 23:03:51.245 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 23:03:51.246 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:03:51.247 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:03:51.248 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:03:51.250 +02:00 [DBG] Successfully validated the token.
2025-12-04 23:03:51.251 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-12-04 23:03:51.252 +02:00 [DBG] Authorization was successful.
2025-12-04 23:03:51.254 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 23:03:51.255 +02:00 [INF] Route matched with {action = "GetById", controller = "SupportTicket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Hospital.Controllers.SupportTicketController (Hospital).
2025-12-04 23:03:51.257 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-04 23:03:51.258 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-04 23:03:51.259 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-04 23:03:51.261 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-04 23:03:51.263 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-04 23:03:51.265 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 23:03:51.267 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 23:03:51.268 +02:00 [DBG] Attempting to bind parameter 'ticketId' of type 'System.Int32' ...
2025-12-04 23:03:51.270 +02:00 [DBG] Attempting to bind parameter 'ticketId' of type 'System.Int32' using the name 'ticketId' in request data ...
2025-12-04 23:03:51.273 +02:00 [DBG] Done attempting to bind parameter 'ticketId' of type 'System.Int32'.
2025-12-04 23:03:51.274 +02:00 [DBG] Done attempting to bind parameter 'ticketId' of type 'System.Int32'.
2025-12-04 23:03:51.276 +02:00 [DBG] Attempting to validate the bound parameter 'ticketId' of type 'System.Int32' ...
2025-12-04 23:03:51.277 +02:00 [DBG] Done attempting to validate the bound parameter 'ticketId' of type 'System.Int32'.
2025-12-04 23:03:51.277 +02:00 [INF] get  Support by id Ticket called at "2025-12-04T23:03:51.2779258+02:00"
2025-12-04 23:03:51.278 +02:00 [INF] Fetching ticket 2
2025-12-04 23:03:51.280 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-12-04 23:03:51.282 +02:00 [DBG] Creating DbConnection.
2025-12-04 23:03:51.282 +02:00 [DBG] Created DbConnection. (0ms).
2025-12-04 23:03:51.283 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:51.285 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:51.286 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:03:51.287 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-12-04 23:03:51.288 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-12-04 23:03:51.289 +02:00 [DBG] Executing DbCommand [Parameters=[@__ticketId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[TicketId] = @__ticketId_0
2025-12-04 23:03:51.291 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ticketId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[TicketId] = @__ticketId_0
2025-12-04 23:03:51.293 +02:00 [DBG] Context 'AppDbContext' started tracking 'SupportTicket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:51.294 +02:00 [DBG] The navigation 'SupportTicket.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:51.295 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:51.296 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:51.297 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-12-04 23:03:51.298 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:51.300 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (1ms).
2025-12-04 23:03:51.302 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-04 23:03:51.304 +02:00 [DBG] No information found on request to perform content negotiation.
2025-12-04 23:03:51.305 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-04 23:03:51.305 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-04 23:03:51.306 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-04 23:03:51.307 +02:00 [INF] Executing OkObjectResult, writing value of type 'Hospital.Application.DTO.SupportTicket.SupportTicketDto'.
2025-12-04 23:03:51.308 +02:00 [INF] Executed action Hospital.Controllers.SupportTicketController.GetById (Hospital) in 43.1683ms
2025-12-04 23:03:51.309 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 23:03:51.310 +02:00 [DBG] 'AppDbContext' disposed.
2025-12-04 23:03:51.311 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:51.312 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-12-04 23:03:51.313 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/SupportTicket/2 - 200 null application/json; charset=utf-8 76.246ms
2025-12-04 23:03:52.625 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/SupportTicket - null null
2025-12-04 23:03:52.629 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket'
2025-12-04 23:03:52.631 +02:00 [DBG] Endpoint 'Hospital.Controllers.SupportTicketController.GetAll (Hospital)' with route pattern 'api/SupportTicket' is valid for the request path '/api/SupportTicket'
2025-12-04 23:03:52.633 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SupportTicketController.GetAll (Hospital)'
2025-12-04 23:03:52.634 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:03:52.635 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:03:52.636 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:03:52.638 +02:00 [DBG] Successfully validated the token.
2025-12-04 23:03:52.640 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-12-04 23:03:52.642 +02:00 [DBG] Authorization was successful.
2025-12-04 23:03:52.644 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SupportTicketController.GetAll (Hospital)'
2025-12-04 23:03:52.645 +02:00 [INF] Route matched with {action = "GetAll", controller = "SupportTicket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.SupportTicketController (Hospital).
2025-12-04 23:03:52.647 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-04 23:03:52.649 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-04 23:03:52.651 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-04 23:03:52.653 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-04 23:03:52.655 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-04 23:03:52.657 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 23:03:52.659 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 23:03:52.661 +02:00 [INF] get all Support Ticket called at "2025-12-04T23:03:52.6610565+02:00"
2025-12-04 23:03:52.662 +02:00 [INF] Fetching all support tickets in the system
2025-12-04 23:03:52.664 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-12-04 23:03:52.667 +02:00 [DBG] Creating DbConnection.
2025-12-04 23:03:52.668 +02:00 [DBG] Created DbConnection. (1ms).
2025-12-04 23:03:52.669 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:52.671 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:52.673 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:03:52.674 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-12-04 23:03:52.675 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-12-04 23:03:52.676 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
ORDER BY [s].[CreatedAt] DESC
2025-12-04 23:03:52.679 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
ORDER BY [s].[CreatedAt] DESC
2025-12-04 23:03:52.681 +02:00 [DBG] Context 'AppDbContext' started tracking 'SupportTicket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:52.683 +02:00 [DBG] The navigation 'SupportTicket.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:52.684 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:52.686 +02:00 [DBG] Context 'AppDbContext' started tracking 'SupportTicket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:52.688 +02:00 [DBG] Context 'AppDbContext' started tracking 'SupportTicket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:52.689 +02:00 [DBG] The navigation 'SupportTicket.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:52.691 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:52.692 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:52.693 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 11ms reading results.
2025-12-04 23:03:52.694 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:52.696 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (1ms).
2025-12-04 23:03:52.698 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-04 23:03:52.699 +02:00 [DBG] No information found on request to perform content negotiation.
2025-12-04 23:03:52.700 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-04 23:03:52.701 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-04 23:03:52.702 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-04 23:03:52.703 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.SupportTicket.SupportTicketDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-04 23:03:52.705 +02:00 [INF] Executed action Hospital.Controllers.SupportTicketController.GetAll (Hospital) in 48.2678ms
2025-12-04 23:03:52.706 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SupportTicketController.GetAll (Hospital)'
2025-12-04 23:03:52.707 +02:00 [DBG] 'AppDbContext' disposed.
2025-12-04 23:03:52.709 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:52.710 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-12-04 23:03:52.711 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/SupportTicket - 200 null application/json; charset=utf-8 85.3516ms
2025-12-04 23:03:53.974 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/SupportTicket/2 - null null
2025-12-04 23:03:53.976 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket/2'
2025-12-04 23:03:53.977 +02:00 [DBG] Endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)' with route pattern 'api/SupportTicket/{ticketId}' is valid for the request path '/api/SupportTicket/2'
2025-12-04 23:03:53.979 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 23:03:53.980 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:03:53.981 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:03:53.983 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:03:53.985 +02:00 [DBG] Successfully validated the token.
2025-12-04 23:03:53.986 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-12-04 23:03:53.987 +02:00 [DBG] Authorization was successful.
2025-12-04 23:03:53.989 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 23:03:53.990 +02:00 [INF] Route matched with {action = "GetById", controller = "SupportTicket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Hospital.Controllers.SupportTicketController (Hospital).
2025-12-04 23:03:53.993 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-04 23:03:53.995 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-04 23:03:53.999 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-04 23:03:54.003 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-04 23:03:54.005 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-04 23:03:54.008 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 23:03:54.010 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 23:03:54.012 +02:00 [DBG] Attempting to bind parameter 'ticketId' of type 'System.Int32' ...
2025-12-04 23:03:54.015 +02:00 [DBG] Attempting to bind parameter 'ticketId' of type 'System.Int32' using the name 'ticketId' in request data ...
2025-12-04 23:03:54.018 +02:00 [DBG] Done attempting to bind parameter 'ticketId' of type 'System.Int32'.
2025-12-04 23:03:54.020 +02:00 [DBG] Done attempting to bind parameter 'ticketId' of type 'System.Int32'.
2025-12-04 23:03:54.021 +02:00 [DBG] Attempting to validate the bound parameter 'ticketId' of type 'System.Int32' ...
2025-12-04 23:03:54.023 +02:00 [DBG] Done attempting to validate the bound parameter 'ticketId' of type 'System.Int32'.
2025-12-04 23:03:54.024 +02:00 [INF] get  Support by id Ticket called at "2025-12-04T23:03:54.0243943+02:00"
2025-12-04 23:03:54.025 +02:00 [INF] Fetching ticket 2
2025-12-04 23:03:54.026 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-12-04 23:03:54.030 +02:00 [DBG] Creating DbConnection.
2025-12-04 23:03:54.031 +02:00 [DBG] Created DbConnection. (0ms).
2025-12-04 23:03:54.032 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:54.034 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:54.036 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:03:54.038 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-12-04 23:03:54.039 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-12-04 23:03:54.040 +02:00 [DBG] Executing DbCommand [Parameters=[@__ticketId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[TicketId] = @__ticketId_0
2025-12-04 23:03:54.043 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ticketId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[TicketId] = @__ticketId_0
2025-12-04 23:03:54.045 +02:00 [DBG] Context 'AppDbContext' started tracking 'SupportTicket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:54.046 +02:00 [DBG] The navigation 'SupportTicket.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:54.047 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:03:54.048 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:54.050 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-12-04 23:03:54.052 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:54.053 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (1ms).
2025-12-04 23:03:54.054 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-04 23:03:54.056 +02:00 [DBG] No information found on request to perform content negotiation.
2025-12-04 23:03:54.056 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-04 23:03:54.057 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-04 23:03:54.058 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-04 23:03:54.059 +02:00 [INF] Executing OkObjectResult, writing value of type 'Hospital.Application.DTO.SupportTicket.SupportTicketDto'.
2025-12-04 23:03:54.060 +02:00 [INF] Executed action Hospital.Controllers.SupportTicketController.GetById (Hospital) in 52.1901ms
2025-12-04 23:03:54.061 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 23:03:54.062 +02:00 [DBG] 'AppDbContext' disposed.
2025-12-04 23:03:54.064 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:03:54.065 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-12-04 23:03:54.066 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/SupportTicket/2 - 200 null application/json; charset=utf-8 92.346ms
2025-12-04 23:03:56.958 +02:00 [DBG] Connection id "0HNHJETDVKN2R" disconnecting.
2025-12-04 23:03:56.959 +02:00 [DBG] Connection id "0HNHJETDVKN2R" stopped.
2025-12-04 23:03:56.960 +02:00 [DBG] Connection id "0HNHJETDVKN2R" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-12-04 23:04:58.922 +02:00 [DBG] Connection id "0HNHJETDVKN2T" accepted.
2025-12-04 23:04:58.922 +02:00 [DBG] Connection id "0HNHJETDVKN2T" received FIN.
2025-12-04 23:04:58.923 +02:00 [DBG] Connection id "0HNHJETDVKN2T" started.
2025-12-04 23:04:58.923 +02:00 [DBG] Connection id "0HNHJETDVKN2U" accepted.
2025-12-04 23:04:58.926 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-12-04 23:04:58.926 +02:00 [DBG] Connection id "0HNHJETDVKN2U" started.
2025-12-04 23:04:58.929 +02:00 [DBG] Connection id "0HNHJETDVKN2T" stopped.
2025-12-04 23:04:58.931 +02:00 [DBG] Connection id "0HNHJETDVKN2T" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-12-04 23:04:58.934 +02:00 [DBG] Connection 0HNHJETDVKN2U established using the following protocol: "Tls13"
2025-12-04 23:04:58.935 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7217/api/SupportTicket/2 - null null
2025-12-04 23:04:58.937 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket/2'
2025-12-04 23:04:58.938 +02:00 [DBG] Endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)' with route pattern 'api/SupportTicket/{ticketId}' is valid for the request path '/api/SupportTicket/2'
2025-12-04 23:04:58.940 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 23:04:58.941 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:04:58.942 +02:00 [DBG] Successfully validated the token.
2025-12-04 23:04:58.942 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-12-04 23:04:58.943 +02:00 [DBG] Authorization was successful.
2025-12-04 23:04:58.944 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 23:04:58.945 +02:00 [INF] Route matched with {action = "GetById", controller = "SupportTicket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Hospital.Controllers.SupportTicketController (Hospital).
2025-12-04 23:04:58.947 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-04 23:04:58.948 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-04 23:04:58.949 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-04 23:04:58.951 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-04 23:04:58.952 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-04 23:04:58.953 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 23:04:58.954 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 23:04:58.955 +02:00 [DBG] Attempting to bind parameter 'ticketId' of type 'System.Int32' ...
2025-12-04 23:04:58.956 +02:00 [DBG] Attempting to bind parameter 'ticketId' of type 'System.Int32' using the name 'ticketId' in request data ...
2025-12-04 23:04:58.958 +02:00 [DBG] Done attempting to bind parameter 'ticketId' of type 'System.Int32'.
2025-12-04 23:04:58.958 +02:00 [DBG] Done attempting to bind parameter 'ticketId' of type 'System.Int32'.
2025-12-04 23:04:58.959 +02:00 [DBG] Attempting to validate the bound parameter 'ticketId' of type 'System.Int32' ...
2025-12-04 23:04:58.960 +02:00 [DBG] Done attempting to validate the bound parameter 'ticketId' of type 'System.Int32'.
2025-12-04 23:04:58.963 +02:00 [INF] get  Support by id Ticket called at "2025-12-04T23:04:58.9632982+02:00"
2025-12-04 23:04:58.964 +02:00 [INF] Fetching ticket 2
2025-12-04 23:04:58.966 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-12-04 23:04:58.968 +02:00 [DBG] Creating DbConnection.
2025-12-04 23:04:58.969 +02:00 [DBG] Created DbConnection. (0ms).
2025-12-04 23:04:58.970 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:04:58.971 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:04:58.972 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:04:58.973 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-12-04 23:04:58.974 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-12-04 23:04:58.975 +02:00 [DBG] Executing DbCommand [Parameters=[@__ticketId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[TicketId] = @__ticketId_0
2025-12-04 23:04:58.989 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__ticketId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[TicketId] = @__ticketId_0
2025-12-04 23:04:58.990 +02:00 [DBG] Context 'AppDbContext' started tracking 'SupportTicket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:04:58.991 +02:00 [DBG] The navigation 'SupportTicket.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:04:58.992 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:04:58.993 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:04:58.994 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-12-04 23:04:58.995 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:04:58.997 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (1ms).
2025-12-04 23:04:58.999 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-04 23:04:59.001 +02:00 [DBG] No information found on request to perform content negotiation.
2025-12-04 23:04:59.002 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-04 23:04:59.003 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-04 23:04:59.003 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-04 23:04:59.005 +02:00 [INF] Executing OkObjectResult, writing value of type 'Hospital.Application.DTO.SupportTicket.SupportTicketDto'.
2025-12-04 23:04:59.006 +02:00 [INF] Executed action Hospital.Controllers.SupportTicketController.GetById (Hospital) in 53.1679ms
2025-12-04 23:04:59.007 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 23:04:59.008 +02:00 [DBG] Connection id "0HNHJETDVKN2U" completed keep alive response.
2025-12-04 23:04:59.009 +02:00 [DBG] 'AppDbContext' disposed.
2025-12-04 23:04:59.009 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:04:59.010 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-12-04 23:04:59.011 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7217/api/SupportTicket/2 - 200 null application/json; charset=utf-8 76.0314ms
2025-12-04 23:06:06.282 +02:00 [DBG] Connection id "0HNHJETDVKN2S" is closing.
2025-12-04 23:06:06.284 +02:00 [DBG] Connection id "0HNHJETDVKN2S" is closed. The last processed stream ID was 51.
2025-12-04 23:06:06.286 +02:00 [DBG] The connection queue processing loop for 0HNHJETDVKN2S completed.
2025-12-04 23:06:06.287 +02:00 [DBG] Connection id "0HNHJETDVKN2S" received FIN.
2025-12-04 23:06:06.288 +02:00 [DBG] Connection id "0HNHJETDVKN2S" stopped.
2025-12-04 23:06:06.289 +02:00 [DBG] Connection id "0HNHJETDVKN2S" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-12-04 23:07:13.001 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-04 23:07:13.108 +02:00 [DBG] Hosting starting
2025-12-04 23:07:13.120 +02:00 [INF] User profile is available. Using 'C:\Users\Mostafa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-04 23:07:13.132 +02:00 [DBG] Reading data from file 'C:\Users\Mostafa\AppData\Local\ASP.NET\DataProtection-Keys\key-d44629b6-926c-4f4b-b731-9531dd7a116d.xml'.
2025-12-04 23:07:13.140 +02:00 [DBG] Found key {d44629b6-926c-4f4b-b731-9531dd7a116d}.
2025-12-04 23:07:13.147 +02:00 [DBG] Considering key {d44629b6-926c-4f4b-b731-9531dd7a116d} with expiration date 2026-01-11 11:06:49Z as default key.
2025-12-04 23:07:13.151 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-12-04 23:07:13.154 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-12-04 23:07:13.156 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-12-04 23:07:13.161 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-12-04 23:07:13.166 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-12-04 23:07:13.171 +02:00 [DBG] Using key {d44629b6-926c-4f4b-b731-9531dd7a116d} as the default key.
2025-12-04 23:07:13.173 +02:00 [DBG] Key ring with default key {d44629b6-926c-4f4b-b731-9531dd7a116d} was loaded during application startup.
2025-12-04 23:07:13.177 +02:00 [DBG] Middleware loaded
2025-12-04 23:07:13.180 +02:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16501 B).
2025-12-04 23:07:13.182 +02:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-04 23:07:13.260 +02:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-04 23:07:13.334 +02:00 [INF] Now listening on: https://localhost:7217
2025-12-04 23:07:13.335 +02:00 [INF] Now listening on: http://localhost:5163
2025-12-04 23:07:13.336 +02:00 [DBG] Loaded hosting startup assembly Hospital
2025-12-04 23:07:13.337 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-04 23:07:13.338 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-04 23:07:13.339 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-04 23:07:13.422 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-04 23:07:13.423 +02:00 [INF] Hosting environment: Development
2025-12-04 23:07:13.424 +02:00 [INF] Content root path: E:\ITI Smart Village\Graduation-Project-ITI\HospitalWebsite_Back-End\HospitalWebsite\Hospital\Hospital
2025-12-04 23:07:13.425 +02:00 [DBG] Hosting started
2025-12-04 23:07:13.575 +02:00 [DBG] Connection id "0HNHJF4CF3Q8P" accepted.
2025-12-04 23:07:13.578 +02:00 [DBG] Connection id "0HNHJF4CF3Q8P" started.
2025-12-04 23:07:13.586 +02:00 [DBG] Connection id "0HNHJF4CF3Q8Q" accepted.
2025-12-04 23:07:13.588 +02:00 [DBG] Connection id "0HNHJF4CF3Q8Q" started.
2025-12-04 23:07:13.603 +02:00 [DBG] Connection id "0HNHJF4CF3Q8P" received FIN.
2025-12-04 23:07:13.603 +02:00 [DBG] Connection id "0HNHJF4CF3Q8Q" received FIN.
2025-12-04 23:07:13.611 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-12-04 23:07:13.611 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-12-04 23:07:13.615 +02:00 [DBG] Connection id "0HNHJF4CF3Q8R" accepted.
2025-12-04 23:07:13.625 +02:00 [DBG] Connection id "0HNHJF4CF3Q8R" started.
2025-12-04 23:07:13.626 +02:00 [DBG] Connection id "0HNHJF4CF3Q8Q" stopped.
2025-12-04 23:07:13.626 +02:00 [DBG] Connection id "0HNHJF4CF3Q8P" stopped.
2025-12-04 23:07:13.631 +02:00 [DBG] Connection id "0HNHJF4CF3Q8P" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-12-04 23:07:13.631 +02:00 [DBG] Connection id "0HNHJF4CF3Q8Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-12-04 23:07:13.651 +02:00 [DBG] Connection 0HNHJF4CF3Q8R established using the following protocol: "Tls13"
2025-12-04 23:07:13.686 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/swagger/index.html - null null
2025-12-04 23:07:13.747 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-04 23:07:13.772 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-12-04 23:07:13.775 +02:00 [DBG] Request did not match any endpoints
2025-12-04 23:07:13.813 +02:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-12-04 23:07:13.816 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-12-04 23:07:13.839 +02:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-12-04 23:07:13.842 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-12-04 23:07:13.845 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/swagger/index.html - 200 null text/html;charset=utf-8 159.9102ms
2025-12-04 23:07:13.886 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/_vs/browserLink - null null
2025-12-04 23:07:13.886 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/_framework/aspnetcore-browser-refresh.js - null null
2025-12-04 23:07:13.897 +02:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-12-04 23:07:13.900 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 13.6352ms
2025-12-04 23:07:13.923 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.6132ms
2025-12-04 23:07:14.109 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/swagger/v1/swagger.json - null null
2025-12-04 23:07:14.114 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-12-04 23:07:14.116 +02:00 [DBG] Request did not match any endpoints
2025-12-04 23:07:14.178 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 68.5063ms
2025-12-04 23:07:37.966 +02:00 [DBG] Connection id "0HNHJF4CF3Q8R" received FIN.
2025-12-04 23:07:37.970 +02:00 [DBG] The connection queue processing loop for 0HNHJF4CF3Q8R completed.
2025-12-04 23:07:37.974 +02:00 [DBG] Connection id "0HNHJF4CF3Q8R" is closed. The last processed stream ID was 7.
2025-12-04 23:07:37.975 +02:00 [DBG] Connection id "0HNHJF4CF3Q8R" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-12-04 23:07:37.983 +02:00 [DBG] Connection id "0HNHJF4CF3Q8R" stopped.
2025-12-04 23:07:39.840 +02:00 [DBG] Connection id "0HNHJF4CF3Q8S" accepted.
2025-12-04 23:07:39.841 +02:00 [DBG] Connection id "0HNHJF4CF3Q8S" started.
2025-12-04 23:07:39.845 +02:00 [DBG] Connection 0HNHJF4CF3Q8S established using the following protocol: "Tls13"
2025-12-04 23:07:39.847 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7217/api/Auth/login - null null
2025-12-04 23:07:39.852 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-12-04 23:07:39.854 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-12-04 23:07:39.856 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:07:39.858 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:07:39.859 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:07:39.861 +02:00 [DBG] The request is a preflight request.
2025-12-04 23:07:39.863 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7217/api/Auth/login - 204 null null 16.0507ms
2025-12-04 23:07:39.867 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7217/api/Auth/login - application/json 52
2025-12-04 23:07:39.873 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-12-04 23:07:39.877 +02:00 [DBG] Endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2025-12-04 23:07:39.878 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)'
2025-12-04 23:07:39.879 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:07:39.880 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:07:39.882 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:07:39.899 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-12-04 23:07:39.905 +02:00 [INF] Executing endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)'
2025-12-04 23:07:39.928 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(Hospital.Domain.Models.LoginModel) on controller Hospital.Controllers.AuthController (Hospital).
2025-12-04 23:07:39.932 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-04 23:07:39.935 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-04 23:07:39.939 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-04 23:07:39.940 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-04 23:07:39.942 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-04 23:07:39.944 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.AuthController (Hospital)
2025-12-04 23:07:40.018 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-04 23:07:40.057 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.AuthController (Hospital)
2025-12-04 23:07:40.063 +02:00 [DBG] Attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel' ...
2025-12-04 23:07:40.066 +02:00 [DBG] Attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel' using the name '' in request data ...
2025-12-04 23:07:40.069 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-04 23:07:40.078 +02:00 [DBG] Connection id "0HNHJF4CF3Q8S", Request id "0HNHJF4CF3Q8S:00000003": started reading request body.
2025-12-04 23:07:40.080 +02:00 [DBG] Connection id "0HNHJF4CF3Q8S", Request id "0HNHJF4CF3Q8S:00000003": done reading request body.
2025-12-04 23:07:40.091 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Domain.Models.LoginModel'
2025-12-04 23:07:40.094 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel'.
2025-12-04 23:07:40.096 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel'.
2025-12-04 23:07:40.097 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Hospital.Domain.Models.LoginModel' ...
2025-12-04 23:07:40.107 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Hospital.Domain.Models.LoginModel'.
2025-12-04 23:07:40.109 +02:00 [INF] Login called at "2025-12-04T23:07:40.1094411+02:00"
2025-12-04 23:07:40.113 +02:00 [INF] Login attempt for email: yasser@gmail.com
2025-12-04 23:07:40.688 +02:00 [DBG] The index {'BranchesBranchId'} was not created on entity type 'BranchDoctor (Dictionary<string, object>)' as the properties are already covered by the index {'BranchesBranchId', 'DoctorsDoctorId'}.
2025-12-04 23:07:40.691 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchService (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'ServiceId'}.
2025-12-04 23:07:40.692 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchSpecialization (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'SpecializationId'}.
2025-12-04 23:07:40.693 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-12-04 23:07:40.694 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-12-04 23:07:40.814 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).BranchesBranchId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-12-04 23:07:40.817 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).DoctorsDoctorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-12-04 23:07:40.989 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-12-04 23:07:41.040 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-12-04 23:07:41.210 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: User.DateOfBirth (DateOnly?), 4], [Property: User.Email (string) Index MaxLength(256), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.FullName (string) Required MaxLength(150), 7], [Property: User.Gender (GenderType?) MaxLength(10), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string) Index MaxLength(256), 11], [Property: User.NormalizedUserName (string) Index MaxLength(256), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.RefreshToken (string), 16], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 17], [Property: User.Role (string) Required MaxLength(50), 18], [Property: User.SecurityStamp (string), 19], [Property: User.TwoFactorEnabled (bool) Required, 20], [Property: User.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 21], [Property: User.UserName (string) MaxLength(256), 22] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DateOfBirth, u.Email, u.EmailConfirmed, u.FullName, u.Gender, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.RefreshToken, u.RefreshTokenExpiryTime, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UpdatedAt, u.UserName
            FROM Users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Clinic.Infrastructure.Persistence.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-12-04 23:07:41.259 +02:00 [DBG] Creating DbConnection.
2025-12-04 23:07:41.280 +02:00 [DBG] Created DbConnection. (19ms).
2025-12-04 23:07:41.285 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:41.464 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:41.470 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:07:41.475 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-12-04 23:07:41.481 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-12-04 23:07:41.490 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-12-04 23:07:41.547 +02:00 [INF] Executed DbCommand (59ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-12-04 23:07:41.612 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:07:41.676 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:41.682 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 129ms reading results.
2025-12-04 23:07:41.688 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:41.692 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (4ms).
2025-12-04 23:07:41.757 +02:00 [DBG] Invalid password for user.
2025-12-04 23:07:41.759 +02:00 [WRN] Login failed for email: yasser@gmail.com - Invalid credentials
2025-12-04 23:07:41.764 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-04 23:07:41.768 +02:00 [DBG] No information found on request to perform content negotiation.
2025-12-04 23:07:41.770 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-04 23:07:41.771 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-04 23:07:41.772 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-12-04 23:07:41.774 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-12-04 23:07:41.778 +02:00 [INF] Executed action Hospital.Controllers.AuthController.LoginAsync (Hospital) in 1832.4293ms
2025-12-04 23:07:41.780 +02:00 [INF] Executed endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)'
2025-12-04 23:07:41.783 +02:00 [DBG] 'AppDbContext' disposed.
2025-12-04 23:07:41.788 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:41.790 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-12-04 23:07:41.793 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7217/api/Auth/login - 400 null text/plain; charset=utf-8 1926.0796ms
2025-12-04 23:07:47.421 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7217/api/Auth/login - null null
2025-12-04 23:07:47.423 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-12-04 23:07:47.424 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-12-04 23:07:47.425 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:07:47.427 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:07:47.428 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:07:47.431 +02:00 [DBG] The request is a preflight request.
2025-12-04 23:07:47.437 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7217/api/Auth/login - 204 null null 15.9916ms
2025-12-04 23:07:47.443 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7217/api/Auth/login - application/json 55
2025-12-04 23:07:47.446 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-12-04 23:07:47.447 +02:00 [DBG] Endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2025-12-04 23:07:47.449 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)'
2025-12-04 23:07:47.453 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:07:47.454 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:07:47.454 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:07:47.457 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-12-04 23:07:47.459 +02:00 [INF] Executing endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)'
2025-12-04 23:07:47.460 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(Hospital.Domain.Models.LoginModel) on controller Hospital.Controllers.AuthController (Hospital).
2025-12-04 23:07:47.463 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-04 23:07:47.465 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-04 23:07:47.467 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-04 23:07:47.470 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-04 23:07:47.471 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-04 23:07:47.473 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.AuthController (Hospital)
2025-12-04 23:07:47.477 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.AuthController (Hospital)
2025-12-04 23:07:47.478 +02:00 [DBG] Attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel' ...
2025-12-04 23:07:47.480 +02:00 [DBG] Attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel' using the name '' in request data ...
2025-12-04 23:07:47.482 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-04 23:07:47.485 +02:00 [DBG] Connection id "0HNHJF4CF3Q8S", Request id "0HNHJF4CF3Q8S:00000007": started reading request body.
2025-12-04 23:07:47.488 +02:00 [DBG] Connection id "0HNHJF4CF3Q8S", Request id "0HNHJF4CF3Q8S:00000007": done reading request body.
2025-12-04 23:07:47.491 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Domain.Models.LoginModel'
2025-12-04 23:07:47.492 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel'.
2025-12-04 23:07:47.493 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel'.
2025-12-04 23:07:47.494 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Hospital.Domain.Models.LoginModel' ...
2025-12-04 23:07:47.497 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Hospital.Domain.Models.LoginModel'.
2025-12-04 23:07:47.498 +02:00 [INF] Login called at "2025-12-04T23:07:47.4986923+02:00"
2025-12-04 23:07:47.499 +02:00 [INF] Login attempt for email: yasser123@gmail.com
2025-12-04 23:07:47.548 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-12-04 23:07:47.556 +02:00 [DBG] Creating DbConnection.
2025-12-04 23:07:47.557 +02:00 [DBG] Created DbConnection. (1ms).
2025-12-04 23:07:47.558 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:47.561 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:47.562 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:07:47.563 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-12-04 23:07:47.565 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-12-04 23:07:47.567 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-12-04 23:07:47.576 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-12-04 23:07:47.578 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:07:47.580 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:47.581 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-12-04 23:07:47.582 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:47.584 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (1ms).
2025-12-04 23:07:47.644 +02:00 [DBG] Invalid password for user.
2025-12-04 23:07:47.645 +02:00 [WRN] Login failed for email: yasser123@gmail.com - Invalid credentials
2025-12-04 23:07:47.646 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-04 23:07:47.648 +02:00 [DBG] No information found on request to perform content negotiation.
2025-12-04 23:07:47.648 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-04 23:07:47.649 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-04 23:07:47.651 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-12-04 23:07:47.653 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-12-04 23:07:47.655 +02:00 [INF] Executed action Hospital.Controllers.AuthController.LoginAsync (Hospital) in 181.8423ms
2025-12-04 23:07:47.656 +02:00 [INF] Executed endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)'
2025-12-04 23:07:47.658 +02:00 [DBG] 'AppDbContext' disposed.
2025-12-04 23:07:47.659 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:47.660 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-12-04 23:07:47.661 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7217/api/Auth/login - 400 null text/plain; charset=utf-8 218.2453ms
2025-12-04 23:07:56.632 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7217/api/Auth/login - null null
2025-12-04 23:07:56.636 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-12-04 23:07:56.637 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-12-04 23:07:56.637 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:07:56.638 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:07:56.639 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:07:56.640 +02:00 [DBG] The request is a preflight request.
2025-12-04 23:07:56.641 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7217/api/Auth/login - 204 null null 8.5642ms
2025-12-04 23:07:56.644 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7217/api/Auth/login - application/json 55
2025-12-04 23:07:56.646 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-12-04 23:07:56.647 +02:00 [DBG] Endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2025-12-04 23:07:56.648 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)'
2025-12-04 23:07:56.650 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:07:56.651 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:07:56.652 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:07:56.655 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-12-04 23:07:56.656 +02:00 [INF] Executing endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)'
2025-12-04 23:07:56.657 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(Hospital.Domain.Models.LoginModel) on controller Hospital.Controllers.AuthController (Hospital).
2025-12-04 23:07:56.658 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-04 23:07:56.659 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-04 23:07:56.660 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-04 23:07:56.662 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-04 23:07:56.663 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-04 23:07:56.664 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.AuthController (Hospital)
2025-12-04 23:07:56.676 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.AuthController (Hospital)
2025-12-04 23:07:56.677 +02:00 [DBG] Attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel' ...
2025-12-04 23:07:56.678 +02:00 [DBG] Attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel' using the name '' in request data ...
2025-12-04 23:07:56.679 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-04 23:07:56.680 +02:00 [DBG] Connection id "0HNHJF4CF3Q8S", Request id "0HNHJF4CF3Q8S:0000000B": started reading request body.
2025-12-04 23:07:56.682 +02:00 [DBG] Connection id "0HNHJF4CF3Q8S", Request id "0HNHJF4CF3Q8S:0000000B": done reading request body.
2025-12-04 23:07:56.683 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Domain.Models.LoginModel'
2025-12-04 23:07:56.684 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel'.
2025-12-04 23:07:56.686 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel'.
2025-12-04 23:07:56.687 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Hospital.Domain.Models.LoginModel' ...
2025-12-04 23:07:56.688 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Hospital.Domain.Models.LoginModel'.
2025-12-04 23:07:56.689 +02:00 [INF] Login called at "2025-12-04T23:07:56.6895027+02:00"
2025-12-04 23:07:56.690 +02:00 [INF] Login attempt for email: yasser123@gmail.com
2025-12-04 23:07:56.702 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-12-04 23:07:56.706 +02:00 [DBG] Creating DbConnection.
2025-12-04 23:07:56.707 +02:00 [DBG] Created DbConnection. (0ms).
2025-12-04 23:07:56.707 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:56.708 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:56.710 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:07:56.710 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-12-04 23:07:56.711 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-12-04 23:07:56.712 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-12-04 23:07:56.715 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-12-04 23:07:56.717 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:07:56.720 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:56.721 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-12-04 23:07:56.722 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:56.723 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (1ms).
2025-12-04 23:07:56.784 +02:00 [DBG] Creating JWT token for user 8c11a663-8097-4e72-93f8-7bcb5fe9a47a
2025-12-04 23:07:56.792 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2025-12-04 23:07:56.825 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-12-04 23:07:56.829 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:56.831 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:56.831 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:07:56.832 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-12-04 23:07:56.834 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-12-04 23:07:56.836 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-12-04 23:07:56.841 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-12-04 23:07:56.844 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:56.846 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-12-04 23:07:56.847 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:56.848 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (1ms).
2025-12-04 23:07:56.856 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2025-12-04 23:07:56.874 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-12-04 23:07:56.876 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:56.878 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:56.879 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:07:56.879 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-12-04 23:07:56.880 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-12-04 23:07:56.881 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-12-04 23:07:56.889 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-12-04 23:07:56.891 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:56.892 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-12-04 23:07:56.894 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:56.895 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (1ms).
2025-12-04 23:07:56.902 +02:00 [DBG] JWT token created for user 8c11a663-8097-4e72-93f8-7bcb5fe9a47a, expires at "2025-12-04T22:07:56.0000000Z"
2025-12-04 23:07:56.905 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:56.907 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:56.909 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:07:56.910 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-12-04 23:07:56.911 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-12-04 23:07:56.912 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-12-04 23:07:56.914 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-12-04 23:07:56.916 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:56.918 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-12-04 23:07:56.919 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:56.921 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (1ms).
2025-12-04 23:07:56.933 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-12-04 23:07:56.942 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: User.DateOfBirth (DateOnly?), 4], [Property: User.Email (string) Index MaxLength(256), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.FullName (string) Required MaxLength(150), 7], [Property: User.Gender (GenderType?) MaxLength(10), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string) Index MaxLength(256), 11], [Property: User.NormalizedUserName (string) Index MaxLength(256), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.RefreshToken (string), 16], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 17], [Property: User.Role (string) Required MaxLength(50), 18], [Property: User.SecurityStamp (string), 19], [Property: User.TwoFactorEnabled (bool) Required, 20], [Property: User.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 21], [Property: User.UserName (string) MaxLength(256), 22] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DateOfBirth, u.Email, u.EmailConfirmed, u.FullName, u.Gender, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.RefreshToken, u.RefreshTokenExpiryTime, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UpdatedAt, u.UserName
            FROM Users AS u
            WHERE u.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Clinic.Infrastructure.Persistence.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-12-04 23:07:56.944 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:56.946 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:56.947 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:07:56.948 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-12-04 23:07:56.948 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-12-04 23:07:56.950 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-12-04 23:07:56.956 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-12-04 23:07:56.958 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:56.959 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-12-04 23:07:56.959 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:56.960 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (0ms).
2025-12-04 23:07:56.977 +02:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:07:56.981 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-12-04 23:07:56.994 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-12-04 23:07:57.007 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-12-04 23:07:57.009 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-12-04 23:07:57.010 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-12-04 23:07:57.076 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:57.079 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:57.081 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:07:57.082 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-12-04 23:07:57.088 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-12-04 23:07:57.089 +02:00 [DBG] Executing DbCommand [Parameters=[@p22='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p23='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 150), @p7='?' (Size = 10), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 50), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (DbType = DateTime2), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DateOfBirth] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FullName] = @p6, [Gender] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiryTime] = @p16, [Role] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UpdatedAt] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] = @p23;
2025-12-04 23:07:57.099 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p22='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p23='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 150), @p7='?' (Size = 10), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 50), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (DbType = DateTime2), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DateOfBirth] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FullName] = @p6, [Gender] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiryTime] = @p16, [Role] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UpdatedAt] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] = @p23;
2025-12-04 23:07:57.106 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:57.107 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-12-04 23:07:57.109 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:57.110 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (0ms).
2025-12-04 23:07:57.113 +02:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:07:57.116 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-12-04 23:07:57.133 +02:00 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .FirstOrDefault(p => p.UserId == __user_Id_0)'
2025-12-04 23:07:57.140 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Patient>(
    asyncEnumerable: new SingleQueryingEnumerable<Patient>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Patient.PatientId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Patient.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: Patient.EmergencyContact (string) MaxLength(150), 2], [Property: Patient.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: Patient.UserId (string) Required FK Index, 4] }
            SELECT TOP(1) p.PatientId, p.CreatedAt, p.EmergencyContact, p.UpdatedAt, p.UserId
            FROM Patients AS p
            WHERE p.UserId == @__user_Id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Patient>, 
        Clinic.Infrastructure.Persistence.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-12-04 23:07:57.142 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:57.144 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:57.145 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:07:57.146 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-12-04 23:07:57.147 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-12-04 23:07:57.148 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PatientId], [p].[CreatedAt], [p].[EmergencyContact], [p].[UpdatedAt], [p].[UserId]
FROM [Patients] AS [p]
WHERE [p].[UserId] = @__user_Id_0
2025-12-04 23:07:57.153 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PatientId], [p].[CreatedAt], [p].[EmergencyContact], [p].[UpdatedAt], [p].[UserId]
FROM [Patients] AS [p]
WHERE [p].[UserId] = @__user_Id_0
2025-12-04 23:07:57.172 +02:00 [DBG] The navigation 'User.PatientProfile' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:07:57.175 +02:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:07:57.183 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:57.185 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 29ms reading results.
2025-12-04 23:07:57.187 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:57.188 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (0ms).
2025-12-04 23:07:57.190 +02:00 [INF] Patient 8 logged in successfully
2025-12-04 23:07:57.191 +02:00 [INF] User yasser123@gmail.com logged in successfully with roles: Patient
2025-12-04 23:07:57.192 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-04 23:07:57.193 +02:00 [DBG] No information found on request to perform content negotiation.
2025-12-04 23:07:57.193 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-04 23:07:57.195 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-04 23:07:57.196 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-04 23:07:57.198 +02:00 [INF] Executing OkObjectResult, writing value of type 'Hospital.Domain.Models.AuthModel'.
2025-12-04 23:07:57.210 +02:00 [INF] Executed action Hospital.Controllers.AuthController.LoginAsync (Hospital) in 546.1146ms
2025-12-04 23:07:57.212 +02:00 [INF] Executed endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)'
2025-12-04 23:07:57.213 +02:00 [DBG] 'AppDbContext' disposed.
2025-12-04 23:07:57.214 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:07:57.215 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-12-04 23:07:57.216 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7217/api/Auth/login - 200 null application/json; charset=utf-8 572.6468ms
2025-12-04 23:08:01.059 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7217/api/SupportTicket/patient/8 - null null
2025-12-04 23:08:01.062 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket/patient/8'
2025-12-04 23:08:01.064 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-12-04 23:08:01.065 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:08:01.067 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:08:01.069 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:08:01.070 +02:00 [DBG] The request is a preflight request.
2025-12-04 23:08:01.071 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7217/api/SupportTicket/patient/8 - 204 null null 12.2893ms
2025-12-04 23:08:01.089 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/SupportTicket/patient/8 - null null
2025-12-04 23:08:01.095 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket/patient/8'
2025-12-04 23:08:01.101 +02:00 [DBG] Endpoint 'Hospital.Controllers.SupportTicketController.GetAllByPatientId (Hospital)' with route pattern 'api/SupportTicket/patient/{patientId}' is valid for the request path '/api/SupportTicket/patient/8'
2025-12-04 23:08:01.107 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SupportTicketController.GetAllByPatientId (Hospital)'
2025-12-04 23:08:01.109 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:08:01.110 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:08:01.112 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:08:01.157 +02:00 [DBG] Successfully validated the token.
2025-12-04 23:08:01.159 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-12-04 23:08:01.165 +02:00 [DBG] Authorization was successful.
2025-12-04 23:08:01.167 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SupportTicketController.GetAllByPatientId (Hospital)'
2025-12-04 23:08:01.174 +02:00 [INF] Route matched with {action = "GetAllByPatientId", controller = "SupportTicket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.SupportTicket.SupportTicketDto]]] GetAllByPatientId(Int32) on controller Hospital.Controllers.SupportTicketController (Hospital).
2025-12-04 23:08:01.176 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-04 23:08:01.177 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-04 23:08:01.178 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-04 23:08:01.180 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-04 23:08:01.181 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-04 23:08:01.182 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 23:08:01.405 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 23:08:01.406 +02:00 [DBG] Attempting to bind parameter 'patientId' of type 'System.Int32' ...
2025-12-04 23:08:01.407 +02:00 [DBG] Attempting to bind parameter 'patientId' of type 'System.Int32' using the name 'patientId' in request data ...
2025-12-04 23:08:01.410 +02:00 [DBG] Done attempting to bind parameter 'patientId' of type 'System.Int32'.
2025-12-04 23:08:01.410 +02:00 [DBG] Done attempting to bind parameter 'patientId' of type 'System.Int32'.
2025-12-04 23:08:01.411 +02:00 [DBG] Attempting to validate the bound parameter 'patientId' of type 'System.Int32' ...
2025-12-04 23:08:01.412 +02:00 [DBG] Done attempting to validate the bound parameter 'patientId' of type 'System.Int32'.
2025-12-04 23:08:01.415 +02:00 [INF] get all Support Ticket  by patient id called at "2025-12-04T23:08:01.4155464+02:00"
2025-12-04 23:08:01.419 +02:00 [INF] Fetching patient with ID: 8
2025-12-04 23:08:01.421 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-12-04 23:08:01.428 +02:00 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .Include(p => p.User)
    .Include(p => p.MedicalRecords)
    .ThenInclude(m => m.Doctor)
    .ThenInclude(d => d.User)
    .FirstOrDefault(p => p.PatientId == __id_0)'
2025-12-04 23:08:01.440 +02:00 [DBG] Including navigation: 'Patient.User'.
2025-12-04 23:08:01.443 +02:00 [DBG] Including navigation: 'Patient.MedicalRecords'.
2025-12-04 23:08:01.446 +02:00 [DBG] Including navigation: 'MedicalRecord.Doctor'.
2025-12-04 23:08:01.448 +02:00 [DBG] Including navigation: 'Doctor.User'.
2025-12-04 23:08:01.512 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Patient>(
    asyncEnumerable: new SingleQueryingEnumerable<Patient>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Patient.PatientId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Patient.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: Patient.EmergencyContact (string) MaxLength(150), 2], [Property: Patient.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: Patient.UserId (string) Required FK Index, 4] }
                1 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 5], [Property: User.AccessFailedCount (int) Required, 6], [Property: User.ConcurrencyStamp (string) Concurrency, 7], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 8], [Property: User.DateOfBirth (DateOnly?), 9], [Property: User.Email (string) Index MaxLength(256), 10], [Property: User.EmailConfirmed (bool) Required, 11], [Property: User.FullName (string) Required MaxLength(150), 12], [Property: User.Gender (GenderType?) MaxLength(10), 13], [Property: User.LockoutEnabled (bool) Required, 14], [Property: User.LockoutEnd (DateTimeOffset?), 15], [Property: User.NormalizedEmail (string) Index MaxLength(256), 16], [Property: User.NormalizedUserName (string) Index MaxLength(256), 17], [Property: User.PasswordHash (string), 18], [Property: User.PhoneNumber (string), 19], [Property: User.PhoneNumberConfirmed (bool) Required, 20], [Property: User.RefreshToken (string), 21], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 22], [Property: User.Role (string) Required MaxLength(50), 23], [Property: User.SecurityStamp (string), 24], [Property: User.TwoFactorEnabled (bool) Required, 25], [Property: User.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 26], [Property: User.UserName (string) MaxLength(256), 27] }
                2 -> 0
                3 -> 5
                4 -> Dictionary<IProperty, int> { [Property: MedicalRecord.RecordId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 28], [Property: MedicalRecord.AppointmentId (int) Required FK Index, 29], [Property: MedicalRecord.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 30], [Property: MedicalRecord.Diagnosis (string), 31], [Property: MedicalRecord.DoctorId (int) Required FK Index, 32], [Property: MedicalRecord.Notes (string), 33], [Property: MedicalRecord.PatientId (int) Required FK Index, 34], [Property: MedicalRecord.TreatmentPlan (string), 35], [Property: MedicalRecord.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 36] }
                5 -> Dictionary<IProperty, int> { [Property: Doctor.DoctorId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 37], [Property: Doctor.Available (bool?), 38], [Property: Doctor.Biography (string), 39], [Property: Doctor.ConsultationFees (decimal) Required, 40], [Property: Doctor.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 41], [Property: Doctor.ExperienceYears (int?), 42], [Property: Doctor.ImageURL (string) MaxLength(300), 43], [Property: Doctor.SpecializationId (int) Required FK Index, 44], [Property: Doctor.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 45], [Property: Doctor.UserId (string) Required FK Index, 46] }
                6 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 47], [Property: User.AccessFailedCount (int) Required, 48], [Property: User.ConcurrencyStamp (string) Concurrency, 49], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 50], [Property: User.DateOfBirth (DateOnly?), 51], [Property: User.Email (string) Index MaxLength(256), 52], [Property: User.EmailConfirmed (bool) Required, 53], [Property: User.FullName (string) Required MaxLength(150), 54], [Property: User.Gender (GenderType?) MaxLength(10), 55], [Property: User.LockoutEnabled (bool) Required, 56], [Property: User.LockoutEnd (DateTimeOffset?), 57], [Property: User.NormalizedEmail (string) Index MaxLength(256), 58], [Property: User.NormalizedUserName (string) Index MaxLength(256), 59], [Property: User.PasswordHash (string), 60], [Property: User.PhoneNumber (string), 61], [Property: User.PhoneNumberConfirmed (bool) Required, 62], [Property: User.RefreshToken (string), 63], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 64], [Property: User.Role (string) Required MaxLength(50), 65], [Property: User.SecurityStamp (string), 66], [Property: User.TwoFactorEnabled (bool) Required, 67], [Property: User.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 68], [Property: User.UserName (string) MaxLength(256), 69] }
                7 -> 28
                8 -> 37
                9 -> 47
            SELECT t.PatientId, t.CreatedAt, t.EmergencyContact, t.UpdatedAt, t.UserId, t.Id, t.AccessFailedCount, t.ConcurrencyStamp, t.CreatedAt0, t.DateOfBirth, t.Email, t.EmailConfirmed, t.FullName, t.Gender, t.LockoutEnabled, t.LockoutEnd, t.NormalizedEmail, t.NormalizedUserName, t.PasswordHash, t.PhoneNumber, t.PhoneNumberConfirmed, t.RefreshToken, t.RefreshTokenExpiryTime, t.Role, t.SecurityStamp, t.TwoFactorEnabled, t.UpdatedAt0, t.UserName, t0.RecordId, t0.AppointmentId, t0.CreatedAt, t0.Diagnosis, t0.DoctorId, t0.Notes, t0.PatientId, t0.TreatmentPlan, t0.UpdatedAt, t0.DoctorId0, t0.Available, t0.Biography, t0.ConsultationFees, t0.CreatedAt0, t0.ExperienceYears, t0.ImageURL, t0.SpecializationId, t0.UpdatedAt0, t0.UserId, t0.Id, t0.AccessFailedCount, t0.ConcurrencyStamp, t0.CreatedAt1, t0.DateOfBirth, t0.Email, t0.EmailConfirmed, t0.FullName, t0.Gender, t0.LockoutEnabled, t0.LockoutEnd, t0.NormalizedEmail, t0.NormalizedUserName, t0.PasswordHash, t0.PhoneNumber, t0.PhoneNumberConfirmed, t0.RefreshToken, t0.RefreshTokenExpiryTime, t0.Role, t0.SecurityStamp, t0.TwoFactorEnabled, t0.UpdatedAt1, t0.UserName
            FROM 
            (
                SELECT TOP(1) p.PatientId, p.CreatedAt, p.EmergencyContact, p.UpdatedAt, p.UserId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt AS CreatedAt0, u.DateOfBirth, u.Email, u.EmailConfirmed, u.FullName, u.Gender, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.RefreshToken, u.RefreshTokenExpiryTime, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UpdatedAt AS UpdatedAt0, u.UserName
                FROM Patients AS p
                INNER JOIN Users AS u ON p.UserId == u.Id
                WHERE p.PatientId == @__id_0
            ) AS t
            LEFT JOIN 
            (
                SELECT m.RecordId, m.AppointmentId, m.CreatedAt, m.Diagnosis, m.DoctorId, m.Notes, m.PatientId, m.TreatmentPlan, m.UpdatedAt, d.DoctorId AS DoctorId0, d.Available, d.Biography, d.ConsultationFees, d.CreatedAt AS CreatedAt0, d.ExperienceYears, d.ImageURL, d.SpecializationId, d.UpdatedAt AS UpdatedAt0, d.UserId, u0.Id, u0.AccessFailedCount, u0.ConcurrencyStamp, u0.CreatedAt AS CreatedAt1, u0.DateOfBirth, u0.Email, u0.EmailConfirmed, u0.FullName, u0.Gender, u0.LockoutEnabled, u0.LockoutEnd, u0.NormalizedEmail, u0.NormalizedUserName, u0.PasswordHash, u0.PhoneNumber, u0.PhoneNumberConfirmed, u0.RefreshToken, u0.RefreshTokenExpiryTime, u0.Role, u0.SecurityStamp, u0.TwoFactorEnabled, u0.UpdatedAt AS UpdatedAt1, u0.UserName
                FROM MedicalRecords AS m
                INNER JOIN Doctors AS d ON m.DoctorId == d.DoctorId
                INNER JOIN Users AS u0 ON d.UserId == u0.Id
            ) AS t0 ON t.PatientId == t0.PatientId
            ORDER BY t.PatientId ASC, t.Id ASC, t0.RecordId ASC, t0.DoctorId0 ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Patient>, 
        Clinic.Infrastructure.Persistence.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-12-04 23:08:01.518 +02:00 [DBG] Creating DbConnection.
2025-12-04 23:08:01.519 +02:00 [DBG] Created DbConnection. (1ms).
2025-12-04 23:08:01.520 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:08:01.521 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:08:01.523 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:08:01.524 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-12-04 23:08:01.525 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-12-04 23:08:01.526 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[PatientId], [t].[CreatedAt], [t].[EmergencyContact], [t].[UpdatedAt], [t].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[CreatedAt0], [t].[DateOfBirth], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[Gender], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[Role], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UpdatedAt0], [t].[UserName], [t0].[RecordId], [t0].[AppointmentId], [t0].[CreatedAt], [t0].[Diagnosis], [t0].[DoctorId], [t0].[Notes], [t0].[PatientId], [t0].[TreatmentPlan], [t0].[UpdatedAt], [t0].[DoctorId0], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt0], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt0], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt1], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt1], [t0].[UserName]
FROM (
    SELECT TOP(1) [p].[PatientId], [p].[CreatedAt], [p].[EmergencyContact], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Patients] AS [p]
    INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
    WHERE [p].[PatientId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m].[RecordId], [m].[AppointmentId], [m].[CreatedAt], [m].[Diagnosis], [m].[DoctorId], [m].[Notes], [m].[PatientId], [m].[TreatmentPlan], [m].[UpdatedAt], [d].[DoctorId] AS [DoctorId0], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt] AS [CreatedAt0], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt] AS [UpdatedAt0], [d].[UserId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt] AS [CreatedAt1], [u0].[DateOfBirth], [u0].[Email], [u0].[EmailConfirmed], [u0].[FullName], [u0].[Gender], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[RefreshToken], [u0].[RefreshTokenExpiryTime], [u0].[Role], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt] AS [UpdatedAt1], [u0].[UserName]
    FROM [MedicalRecords] AS [m]
    INNER JOIN [Doctors] AS [d] ON [m].[DoctorId] = [d].[DoctorId]
    INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
) AS [t0] ON [t].[PatientId] = [t0].[PatientId]
ORDER BY [t].[PatientId], [t].[Id], [t0].[RecordId], [t0].[DoctorId0]
2025-12-04 23:08:01.544 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[PatientId], [t].[CreatedAt], [t].[EmergencyContact], [t].[UpdatedAt], [t].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[CreatedAt0], [t].[DateOfBirth], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[Gender], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[Role], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UpdatedAt0], [t].[UserName], [t0].[RecordId], [t0].[AppointmentId], [t0].[CreatedAt], [t0].[Diagnosis], [t0].[DoctorId], [t0].[Notes], [t0].[PatientId], [t0].[TreatmentPlan], [t0].[UpdatedAt], [t0].[DoctorId0], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt0], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt0], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt1], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt1], [t0].[UserName]
FROM (
    SELECT TOP(1) [p].[PatientId], [p].[CreatedAt], [p].[EmergencyContact], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Patients] AS [p]
    INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
    WHERE [p].[PatientId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m].[RecordId], [m].[AppointmentId], [m].[CreatedAt], [m].[Diagnosis], [m].[DoctorId], [m].[Notes], [m].[PatientId], [m].[TreatmentPlan], [m].[UpdatedAt], [d].[DoctorId] AS [DoctorId0], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt] AS [CreatedAt0], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt] AS [UpdatedAt0], [d].[UserId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt] AS [CreatedAt1], [u0].[DateOfBirth], [u0].[Email], [u0].[EmailConfirmed], [u0].[FullName], [u0].[Gender], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[RefreshToken], [u0].[RefreshTokenExpiryTime], [u0].[Role], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt] AS [UpdatedAt1], [u0].[UserName]
    FROM [MedicalRecords] AS [m]
    INNER JOIN [Doctors] AS [d] ON [m].[DoctorId] = [d].[DoctorId]
    INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
) AS [t0] ON [t].[PatientId] = [t0].[PatientId]
ORDER BY [t].[PatientId], [t].[Id], [t0].[RecordId], [t0].[DoctorId0]
2025-12-04 23:08:01.547 +02:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:08:01.548 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:08:01.550 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:08:01.554 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:08:01.556 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 9ms reading results.
2025-12-04 23:08:01.557 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:08:01.558 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (0ms).
2025-12-04 23:08:01.559 +02:00 [INF] Patient with ID 8 retrieved successfully
2025-12-04 23:08:01.572 +02:00 [INF] Fetching all tickets for Patient UserId 8c11a663-8097-4e72-93f8-7bcb5fe9a47a
2025-12-04 23:08:01.575 +02:00 [DBG] Compiling query expression: 
'DbSet<SupportTicket>()
    .Where(t => t.UserId == __patientId_0)
    .Include(t => t.User)
    .OrderByDescending(t => t.CreatedAt)'
2025-12-04 23:08:01.578 +02:00 [DBG] Including navigation: 'SupportTicket.User'.
2025-12-04 23:08:01.588 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<SupportTicket>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: SupportTicket.TicketId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: SupportTicket.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: SupportTicket.Message (string) Required, 2], [Property: SupportTicket.Response (string), 3], [Property: SupportTicket.Status (TicketStatus) Required MaxLength(20), 4], [Property: SupportTicket.Subject (string) Required MaxLength(200), 5], [Property: SupportTicket.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 6], [Property: SupportTicket.UserId (string) Required FK Index, 7] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 8], [Property: User.AccessFailedCount (int) Required, 9], [Property: User.ConcurrencyStamp (string) Concurrency, 10], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 11], [Property: User.DateOfBirth (DateOnly?), 12], [Property: User.Email (string) Index MaxLength(256), 13], [Property: User.EmailConfirmed (bool) Required, 14], [Property: User.FullName (string) Required MaxLength(150), 15], [Property: User.Gender (GenderType?) MaxLength(10), 16], [Property: User.LockoutEnabled (bool) Required, 17], [Property: User.LockoutEnd (DateTimeOffset?), 18], [Property: User.NormalizedEmail (string) Index MaxLength(256), 19], [Property: User.NormalizedUserName (string) Index MaxLength(256), 20], [Property: User.PasswordHash (string), 21], [Property: User.PhoneNumber (string), 22], [Property: User.PhoneNumberConfirmed (bool) Required, 23], [Property: User.RefreshToken (string), 24], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 25], [Property: User.Role (string) Required MaxLength(50), 26], [Property: User.SecurityStamp (string), 27], [Property: User.TwoFactorEnabled (bool) Required, 28], [Property: User.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 29], [Property: User.UserName (string) MaxLength(256), 30] }
        SELECT s.TicketId, s.CreatedAt, s.Message, s.Response, s.Status, s.Subject, s.UpdatedAt, s.UserId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DateOfBirth, u.Email, u.EmailConfirmed, u.FullName, u.Gender, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.RefreshToken, u.RefreshTokenExpiryTime, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UpdatedAt, u.UserName
        FROM SupportTickets AS s
        INNER JOIN Users AS u ON s.UserId == u.Id
        WHERE s.UserId == @__patientId_0
        ORDER BY s.CreatedAt DESC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, SupportTicket>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-12-04 23:08:01.591 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:08:01.592 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:08:01.593 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:08:01.594 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-12-04 23:08:01.596 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-12-04 23:08:01.597 +02:00 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[UserId] = @__patientId_0
ORDER BY [s].[CreatedAt] DESC
2025-12-04 23:08:01.608 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__patientId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[UserId] = @__patientId_0
ORDER BY [s].[CreatedAt] DESC
2025-12-04 23:08:01.618 +02:00 [DBG] Context 'AppDbContext' started tracking 'SupportTicket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:08:01.631 +02:00 [DBG] Context 'AppDbContext' started tracking 'SupportTicket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:08:01.632 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:08:01.634 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 24ms reading results.
2025-12-04 23:08:01.636 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:08:01.637 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (1ms).
2025-12-04 23:08:01.644 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-04 23:08:01.646 +02:00 [DBG] No information found on request to perform content negotiation.
2025-12-04 23:08:01.647 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-04 23:08:01.647 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-04 23:08:01.648 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-04 23:08:01.649 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.SupportTicket.SupportTicketDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-04 23:08:01.655 +02:00 [INF] Executed action Hospital.Controllers.SupportTicketController.GetAllByPatientId (Hospital) in 472.8133ms
2025-12-04 23:08:01.657 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SupportTicketController.GetAllByPatientId (Hospital)'
2025-12-04 23:08:01.658 +02:00 [DBG] 'AppDbContext' disposed.
2025-12-04 23:08:01.660 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:08:01.662 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-12-04 23:08:01.664 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/SupportTicket/patient/8 - 200 null application/json; charset=utf-8 575.4645ms
2025-12-04 23:08:03.088 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7217/api/SupportTicket/2 - null null
2025-12-04 23:08:03.090 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket/2'
2025-12-04 23:08:03.091 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-12-04 23:08:03.092 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:08:03.093 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:08:03.094 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:08:03.095 +02:00 [DBG] The request is a preflight request.
2025-12-04 23:08:03.097 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7217/api/SupportTicket/2 - 204 null null 9.1777ms
2025-12-04 23:08:03.111 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/SupportTicket/2 - null null
2025-12-04 23:08:03.114 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket/2'
2025-12-04 23:08:03.115 +02:00 [DBG] Endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)' with route pattern 'api/SupportTicket/{ticketId}' is valid for the request path '/api/SupportTicket/2'
2025-12-04 23:08:03.118 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 23:08:03.119 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:08:03.120 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:08:03.121 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:08:03.123 +02:00 [DBG] Successfully validated the token.
2025-12-04 23:08:03.125 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-12-04 23:08:03.129 +02:00 [DBG] Authorization was successful.
2025-12-04 23:08:03.132 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 23:08:03.141 +02:00 [INF] Route matched with {action = "GetById", controller = "SupportTicket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Hospital.Controllers.SupportTicketController (Hospital).
2025-12-04 23:08:03.143 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-04 23:08:03.144 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-04 23:08:03.145 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-04 23:08:03.146 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-04 23:08:03.148 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-04 23:08:03.149 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 23:08:03.151 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 23:08:03.153 +02:00 [DBG] Attempting to bind parameter 'ticketId' of type 'System.Int32' ...
2025-12-04 23:08:03.155 +02:00 [DBG] Attempting to bind parameter 'ticketId' of type 'System.Int32' using the name 'ticketId' in request data ...
2025-12-04 23:08:03.156 +02:00 [DBG] Done attempting to bind parameter 'ticketId' of type 'System.Int32'.
2025-12-04 23:08:03.157 +02:00 [DBG] Done attempting to bind parameter 'ticketId' of type 'System.Int32'.
2025-12-04 23:08:03.158 +02:00 [DBG] Attempting to validate the bound parameter 'ticketId' of type 'System.Int32' ...
2025-12-04 23:08:03.159 +02:00 [DBG] Done attempting to validate the bound parameter 'ticketId' of type 'System.Int32'.
2025-12-04 23:08:03.161 +02:00 [INF] get  Support by id Ticket called at "2025-12-04T23:08:03.1617117+02:00"
2025-12-04 23:08:03.164 +02:00 [INF] Fetching ticket 2
2025-12-04 23:08:03.167 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-12-04 23:08:03.170 +02:00 [DBG] Compiling query expression: 
'DbSet<SupportTicket>()
    .Include(t => t.User)
    .FirstOrDefault(t => t.TicketId == __ticketId_0)'
2025-12-04 23:08:03.173 +02:00 [DBG] Including navigation: 'SupportTicket.User'.
2025-12-04 23:08:03.178 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<SupportTicket>(
    asyncEnumerable: new SingleQueryingEnumerable<SupportTicket>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: SupportTicket.TicketId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: SupportTicket.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: SupportTicket.Message (string) Required, 2], [Property: SupportTicket.Response (string), 3], [Property: SupportTicket.Status (TicketStatus) Required MaxLength(20), 4], [Property: SupportTicket.Subject (string) Required MaxLength(200), 5], [Property: SupportTicket.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 6], [Property: SupportTicket.UserId (string) Required FK Index, 7] }
                1 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 8], [Property: User.AccessFailedCount (int) Required, 9], [Property: User.ConcurrencyStamp (string) Concurrency, 10], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 11], [Property: User.DateOfBirth (DateOnly?), 12], [Property: User.Email (string) Index MaxLength(256), 13], [Property: User.EmailConfirmed (bool) Required, 14], [Property: User.FullName (string) Required MaxLength(150), 15], [Property: User.Gender (GenderType?) MaxLength(10), 16], [Property: User.LockoutEnabled (bool) Required, 17], [Property: User.LockoutEnd (DateTimeOffset?), 18], [Property: User.NormalizedEmail (string) Index MaxLength(256), 19], [Property: User.NormalizedUserName (string) Index MaxLength(256), 20], [Property: User.PasswordHash (string), 21], [Property: User.PhoneNumber (string), 22], [Property: User.PhoneNumberConfirmed (bool) Required, 23], [Property: User.RefreshToken (string), 24], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 25], [Property: User.Role (string) Required MaxLength(50), 26], [Property: User.SecurityStamp (string), 27], [Property: User.TwoFactorEnabled (bool) Required, 28], [Property: User.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 29], [Property: User.UserName (string) MaxLength(256), 30] }
            SELECT TOP(1) s.TicketId, s.CreatedAt, s.Message, s.Response, s.Status, s.Subject, s.UpdatedAt, s.UserId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DateOfBirth, u.Email, u.EmailConfirmed, u.FullName, u.Gender, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.RefreshToken, u.RefreshTokenExpiryTime, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UpdatedAt, u.UserName
            FROM SupportTickets AS s
            INNER JOIN Users AS u ON s.UserId == u.Id
            WHERE s.TicketId == @__ticketId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, SupportTicket>, 
        Clinic.Infrastructure.Persistence.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-12-04 23:08:03.181 +02:00 [DBG] Creating DbConnection.
2025-12-04 23:08:03.181 +02:00 [DBG] Created DbConnection. (0ms).
2025-12-04 23:08:03.182 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:08:03.184 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:08:03.185 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:08:03.187 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-12-04 23:08:03.188 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-12-04 23:08:03.188 +02:00 [DBG] Executing DbCommand [Parameters=[@__ticketId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[TicketId] = @__ticketId_0
2025-12-04 23:08:03.193 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ticketId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[TicketId] = @__ticketId_0
2025-12-04 23:08:03.195 +02:00 [DBG] Context 'AppDbContext' started tracking 'SupportTicket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:08:03.197 +02:00 [DBG] The navigation 'SupportTicket.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:08:03.198 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:08:03.200 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:08:03.201 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-12-04 23:08:03.203 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:08:03.204 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (1ms).
2025-12-04 23:08:03.207 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-04 23:08:03.209 +02:00 [DBG] No information found on request to perform content negotiation.
2025-12-04 23:08:03.210 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-04 23:08:03.210 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-04 23:08:03.211 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-04 23:08:03.212 +02:00 [INF] Executing OkObjectResult, writing value of type 'Hospital.Application.DTO.SupportTicket.SupportTicketDto'.
2025-12-04 23:08:03.213 +02:00 [INF] Executed action Hospital.Controllers.SupportTicketController.GetById (Hospital) in 63.9421ms
2025-12-04 23:08:03.214 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SupportTicketController.GetById (Hospital)'
2025-12-04 23:08:03.216 +02:00 [DBG] 'AppDbContext' disposed.
2025-12-04 23:08:03.217 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:08:03.219 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-12-04 23:08:03.220 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/SupportTicket/2 - 200 null application/json; charset=utf-8 108.9903ms
2025-12-04 23:08:06.591 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7217/api/SupportTicket/patient/8 - null null
2025-12-04 23:08:06.593 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket/patient/8'
2025-12-04 23:08:06.594 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-12-04 23:08:06.596 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:08:06.598 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:08:06.604 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:08:06.605 +02:00 [DBG] The request is a preflight request.
2025-12-04 23:08:06.607 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7217/api/SupportTicket/patient/8 - 204 null null 16.174ms
2025-12-04 23:08:06.621 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/SupportTicket/patient/8 - null null
2025-12-04 23:08:06.624 +02:00 [DBG] 1 candidate(s) found for the request path '/api/SupportTicket/patient/8'
2025-12-04 23:08:06.625 +02:00 [DBG] Endpoint 'Hospital.Controllers.SupportTicketController.GetAllByPatientId (Hospital)' with route pattern 'api/SupportTicket/patient/{patientId}' is valid for the request path '/api/SupportTicket/patient/8'
2025-12-04 23:08:06.628 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SupportTicketController.GetAllByPatientId (Hospital)'
2025-12-04 23:08:06.631 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-12-04 23:08:06.633 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-12-04 23:08:06.634 +02:00 [INF] CORS policy execution successful.
2025-12-04 23:08:06.636 +02:00 [DBG] Successfully validated the token.
2025-12-04 23:08:06.637 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-12-04 23:08:06.642 +02:00 [DBG] Authorization was successful.
2025-12-04 23:08:06.644 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SupportTicketController.GetAllByPatientId (Hospital)'
2025-12-04 23:08:06.646 +02:00 [INF] Route matched with {action = "GetAllByPatientId", controller = "SupportTicket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.SupportTicket.SupportTicketDto]]] GetAllByPatientId(Int32) on controller Hospital.Controllers.SupportTicketController (Hospital).
2025-12-04 23:08:06.647 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-04 23:08:06.649 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-04 23:08:06.651 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-04 23:08:06.653 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-04 23:08:06.655 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-04 23:08:06.656 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 23:08:06.660 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SupportTicketController (Hospital)
2025-12-04 23:08:06.662 +02:00 [DBG] Attempting to bind parameter 'patientId' of type 'System.Int32' ...
2025-12-04 23:08:06.664 +02:00 [DBG] Attempting to bind parameter 'patientId' of type 'System.Int32' using the name 'patientId' in request data ...
2025-12-04 23:08:06.666 +02:00 [DBG] Done attempting to bind parameter 'patientId' of type 'System.Int32'.
2025-12-04 23:08:06.668 +02:00 [DBG] Done attempting to bind parameter 'patientId' of type 'System.Int32'.
2025-12-04 23:08:06.670 +02:00 [DBG] Attempting to validate the bound parameter 'patientId' of type 'System.Int32' ...
2025-12-04 23:08:06.671 +02:00 [DBG] Done attempting to validate the bound parameter 'patientId' of type 'System.Int32'.
2025-12-04 23:08:06.673 +02:00 [INF] get all Support Ticket  by patient id called at "2025-12-04T23:08:06.6738234+02:00"
2025-12-04 23:08:06.675 +02:00 [INF] Fetching patient with ID: 8
2025-12-04 23:08:06.676 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-12-04 23:08:06.679 +02:00 [DBG] Creating DbConnection.
2025-12-04 23:08:06.679 +02:00 [DBG] Created DbConnection. (0ms).
2025-12-04 23:08:06.680 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:08:06.682 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:08:06.683 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:08:06.685 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-12-04 23:08:06.686 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-12-04 23:08:06.687 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[PatientId], [t].[CreatedAt], [t].[EmergencyContact], [t].[UpdatedAt], [t].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[CreatedAt0], [t].[DateOfBirth], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[Gender], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[Role], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UpdatedAt0], [t].[UserName], [t0].[RecordId], [t0].[AppointmentId], [t0].[CreatedAt], [t0].[Diagnosis], [t0].[DoctorId], [t0].[Notes], [t0].[PatientId], [t0].[TreatmentPlan], [t0].[UpdatedAt], [t0].[DoctorId0], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt0], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt0], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt1], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt1], [t0].[UserName]
FROM (
    SELECT TOP(1) [p].[PatientId], [p].[CreatedAt], [p].[EmergencyContact], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Patients] AS [p]
    INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
    WHERE [p].[PatientId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m].[RecordId], [m].[AppointmentId], [m].[CreatedAt], [m].[Diagnosis], [m].[DoctorId], [m].[Notes], [m].[PatientId], [m].[TreatmentPlan], [m].[UpdatedAt], [d].[DoctorId] AS [DoctorId0], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt] AS [CreatedAt0], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt] AS [UpdatedAt0], [d].[UserId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt] AS [CreatedAt1], [u0].[DateOfBirth], [u0].[Email], [u0].[EmailConfirmed], [u0].[FullName], [u0].[Gender], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[RefreshToken], [u0].[RefreshTokenExpiryTime], [u0].[Role], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt] AS [UpdatedAt1], [u0].[UserName]
    FROM [MedicalRecords] AS [m]
    INNER JOIN [Doctors] AS [d] ON [m].[DoctorId] = [d].[DoctorId]
    INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
) AS [t0] ON [t].[PatientId] = [t0].[PatientId]
ORDER BY [t].[PatientId], [t].[Id], [t0].[RecordId], [t0].[DoctorId0]
2025-12-04 23:08:06.690 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[PatientId], [t].[CreatedAt], [t].[EmergencyContact], [t].[UpdatedAt], [t].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[CreatedAt0], [t].[DateOfBirth], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[Gender], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[Role], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UpdatedAt0], [t].[UserName], [t0].[RecordId], [t0].[AppointmentId], [t0].[CreatedAt], [t0].[Diagnosis], [t0].[DoctorId], [t0].[Notes], [t0].[PatientId], [t0].[TreatmentPlan], [t0].[UpdatedAt], [t0].[DoctorId0], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt0], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt0], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt1], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt1], [t0].[UserName]
FROM (
    SELECT TOP(1) [p].[PatientId], [p].[CreatedAt], [p].[EmergencyContact], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Patients] AS [p]
    INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
    WHERE [p].[PatientId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m].[RecordId], [m].[AppointmentId], [m].[CreatedAt], [m].[Diagnosis], [m].[DoctorId], [m].[Notes], [m].[PatientId], [m].[TreatmentPlan], [m].[UpdatedAt], [d].[DoctorId] AS [DoctorId0], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt] AS [CreatedAt0], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt] AS [UpdatedAt0], [d].[UserId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt] AS [CreatedAt1], [u0].[DateOfBirth], [u0].[Email], [u0].[EmailConfirmed], [u0].[FullName], [u0].[Gender], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[RefreshToken], [u0].[RefreshTokenExpiryTime], [u0].[Role], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt] AS [UpdatedAt1], [u0].[UserName]
    FROM [MedicalRecords] AS [m]
    INNER JOIN [Doctors] AS [d] ON [m].[DoctorId] = [d].[DoctorId]
    INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
) AS [t0] ON [t].[PatientId] = [t0].[PatientId]
ORDER BY [t].[PatientId], [t].[Id], [t0].[RecordId], [t0].[DoctorId0]
2025-12-04 23:08:06.692 +02:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:08:06.693 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:08:06.694 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:08:06.696 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:08:06.697 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-12-04 23:08:06.698 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:08:06.699 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (1ms).
2025-12-04 23:08:06.701 +02:00 [INF] Patient with ID 8 retrieved successfully
2025-12-04 23:08:06.702 +02:00 [INF] Fetching all tickets for Patient UserId 8c11a663-8097-4e72-93f8-7bcb5fe9a47a
2025-12-04 23:08:06.703 +02:00 [DBG] Opening connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:08:06.704 +02:00 [DBG] Opened connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:08:06.705 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-12-04 23:08:06.706 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-12-04 23:08:06.707 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-12-04 23:08:06.708 +02:00 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[UserId] = @__patientId_0
ORDER BY [s].[CreatedAt] DESC
2025-12-04 23:08:06.710 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__patientId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[TicketId], [s].[CreatedAt], [s].[Message], [s].[Response], [s].[Status], [s].[Subject], [s].[UpdatedAt], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [SupportTickets] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[UserId] = @__patientId_0
ORDER BY [s].[CreatedAt] DESC
2025-12-04 23:08:06.712 +02:00 [DBG] Context 'AppDbContext' started tracking 'SupportTicket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:08:06.713 +02:00 [DBG] Context 'AppDbContext' started tracking 'SupportTicket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-12-04 23:08:06.714 +02:00 [DBG] Closing data reader to 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:08:06.716 +02:00 [DBG] A data reader for 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-12-04 23:08:06.717 +02:00 [DBG] Closing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:08:06.718 +02:00 [DBG] Closed connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS' (1ms).
2025-12-04 23:08:06.720 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-04 23:08:06.722 +02:00 [DBG] No information found on request to perform content negotiation.
2025-12-04 23:08:06.723 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-04 23:08:06.723 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-04 23:08:06.724 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-04 23:08:06.725 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.SupportTicket.SupportTicketDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-04 23:08:06.726 +02:00 [INF] Executed action Hospital.Controllers.SupportTicketController.GetAllByPatientId (Hospital) in 69.7425ms
2025-12-04 23:08:06.727 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SupportTicketController.GetAllByPatientId (Hospital)'
2025-12-04 23:08:06.728 +02:00 [DBG] 'AppDbContext' disposed.
2025-12-04 23:08:06.730 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server 'DESKTOP-TLNIQPD\SQLEXPRESS'.
2025-12-04 23:08:06.731 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-12-04 23:08:06.734 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/SupportTicket/patient/8 - 200 null application/json; charset=utf-8 112.5852ms
