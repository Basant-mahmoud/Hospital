2025-11-25 00:37:30.830 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-11-25 00:37:30.966 +02:00 [DBG] Hosting starting
2025-11-25 00:37:30.997 +02:00 [INF] User profile is available. Using 'C:\Users\yossr\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-25 00:37:31.009 +02:00 [DBG] Reading data from file 'C:\Users\yossr\AppData\Local\ASP.NET\DataProtection-Keys\key-69bbab29-81b6-4865-ac9a-ae2b6fa39013.xml'.
2025-11-25 00:37:31.027 +02:00 [DBG] Reading data from file 'C:\Users\yossr\AppData\Local\ASP.NET\DataProtection-Keys\key-80d0efac-0f9c-4630-990a-b52d8a5ce829.xml'.
2025-11-25 00:37:31.030 +02:00 [DBG] Reading data from file 'C:\Users\yossr\AppData\Local\ASP.NET\DataProtection-Keys\key-c9eadb9e-fd70-4dbd-a2e4-2439a22a723f.xml'.
2025-11-25 00:37:31.031 +02:00 [DBG] Reading data from file 'C:\Users\yossr\AppData\Local\ASP.NET\DataProtection-Keys\key-e6a4e949-cc09-4772-b903-b3c0844fb846.xml'.
2025-11-25 00:37:31.037 +02:00 [DBG] Found key {69bbab29-81b6-4865-ac9a-ae2b6fa39013}.
2025-11-25 00:37:31.043 +02:00 [DBG] Found key {80d0efac-0f9c-4630-990a-b52d8a5ce829}.
2025-11-25 00:37:31.044 +02:00 [DBG] Found key {c9eadb9e-fd70-4dbd-a2e4-2439a22a723f}.
2025-11-25 00:37:31.045 +02:00 [DBG] Found key {e6a4e949-cc09-4772-b903-b3c0844fb846}.
2025-11-25 00:37:31.050 +02:00 [DBG] Considering key {69bbab29-81b6-4865-ac9a-ae2b6fa39013} with expiration date 2026-01-04 04:20:00Z as default key.
2025-11-25 00:37:31.052 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-25 00:37:31.055 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-11-25 00:37:31.056 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-25 00:37:31.060 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-11-25 00:37:31.061 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-11-25 00:37:31.063 +02:00 [DBG] Using key {69bbab29-81b6-4865-ac9a-ae2b6fa39013} as the default key.
2025-11-25 00:37:31.064 +02:00 [DBG] Key ring with default key {69bbab29-81b6-4865-ac9a-ae2b6fa39013} was loaded during application startup.
2025-11-25 00:37:31.069 +02:00 [DBG] Middleware loaded
2025-11-25 00:37:31.071 +02:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16501 B).
2025-11-25 00:37:31.072 +02:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-11-25 00:37:31.169 +02:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-11-25 00:37:31.292 +02:00 [INF] Now listening on: https://localhost:7217
2025-11-25 00:37:31.293 +02:00 [INF] Now listening on: http://localhost:5163
2025-11-25 00:37:31.295 +02:00 [DBG] Loaded hosting startup assembly Hospital
2025-11-25 00:37:31.296 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-11-25 00:37:31.296 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-11-25 00:37:31.297 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-11-25 00:37:31.394 +02:00 [DBG] Connection id "0HNHBL871B5PC" accepted.
2025-11-25 00:37:31.396 +02:00 [DBG] Connection id "0HNHBL871B5PD" accepted.
2025-11-25 00:37:31.401 +02:00 [DBG] Connection id "0HNHBL871B5PC" started.
2025-11-25 00:37:31.401 +02:00 [DBG] Connection id "0HNHBL871B5PD" started.
2025-11-25 00:37:31.403 +02:00 [DBG] Connection id "0HNHBL871B5PD" received FIN.
2025-11-25 00:37:31.403 +02:00 [DBG] Connection id "0HNHBL871B5PC" received FIN.
2025-11-25 00:37:31.423 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-25 00:37:31.425 +02:00 [INF] Hosting environment: Development
2025-11-25 00:37:31.427 +02:00 [INF] Content root path: D:\Hospital\Hospital\Hospital
2025-11-25 00:37:31.429 +02:00 [DBG] Hosting started
2025-11-25 00:37:31.442 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-25 00:37:31.442 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-25 00:37:31.644 +02:00 [DBG] Connection id "0HNHBL871B5PC" stopped.
2025-11-25 00:37:31.644 +02:00 [DBG] Connection id "0HNHBL871B5PD" stopped.
2025-11-25 00:37:31.649 +02:00 [DBG] Connection id "0HNHBL871B5PD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 00:37:31.649 +02:00 [DBG] Connection id "0HNHBL871B5PC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 00:37:31.749 +02:00 [DBG] Connection id "0HNHBL871B5PE" accepted.
2025-11-25 00:37:31.752 +02:00 [DBG] Connection id "0HNHBL871B5PE" started.
2025-11-25 00:37:31.803 +02:00 [DBG] Connection 0HNHBL871B5PE established using the following protocol: "Tls13"
2025-11-25 00:37:31.897 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/swagger/index.html - null null
2025-11-25 00:37:32.011 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-11-25 00:37:32.038 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-11-25 00:37:32.039 +02:00 [DBG] Request did not match any endpoints
2025-11-25 00:37:32.082 +02:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-11-25 00:37:32.083 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-11-25 00:37:32.105 +02:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-11-25 00:37:32.107 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-11-25 00:37:32.113 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/swagger/index.html - 200 null text/html;charset=utf-8 224.5851ms
2025-11-25 00:37:32.154 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/_vs/browserLink - null null
2025-11-25 00:37:32.154 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/_framework/aspnetcore-browser-refresh.js - null null
2025-11-25 00:37:32.177 +02:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-11-25 00:37:32.179 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 25.0297ms
2025-11-25 00:37:32.207 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/_vs/browserLink - 200 null text/javascript; charset=UTF-8 52.7071ms
2025-11-25 00:37:32.266 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/swagger/v1/swagger.json - null null
2025-11-25 00:37:32.270 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-11-25 00:37:32.271 +02:00 [DBG] Request did not match any endpoints
2025-11-25 00:37:32.317 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 51.5833ms
2025-11-25 00:37:33.741 +02:00 [DBG] Connection id "0HNHBL871B5PE" received FIN.
2025-11-25 00:37:33.747 +02:00 [DBG] The connection queue processing loop for 0HNHBL871B5PE completed.
2025-11-25 00:37:33.749 +02:00 [DBG] Connection id "0HNHBL871B5PE" is closed. The last processed stream ID was 7.
2025-11-25 00:37:33.751 +02:00 [DBG] Connection id "0HNHBL871B5PE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 00:37:33.755 +02:00 [DBG] Connection id "0HNHBL871B5PE" stopped.
2025-11-25 00:37:34.511 +02:00 [DBG] Connection id "0HNHBL871B5PF" accepted.
2025-11-25 00:37:34.512 +02:00 [DBG] Connection id "0HNHBL871B5PF" started.
2025-11-25 00:37:34.518 +02:00 [DBG] Connection 0HNHBL871B5PF established using the following protocol: "Tls13"
2025-11-25 00:37:34.520 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7217/api/Auth/login - null null
2025-11-25 00:37:34.527 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-11-25 00:37:34.529 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-25 00:37:34.532 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:37:34.534 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:37:34.535 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:37:34.538 +02:00 [DBG] The request is a preflight request.
2025-11-25 00:37:34.540 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7217/api/Auth/login - 204 null null 20.093ms
2025-11-25 00:37:34.542 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7217/api/Auth/login - application/json 53
2025-11-25 00:37:34.547 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-11-25 00:37:34.551 +02:00 [DBG] Endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2025-11-25 00:37:34.552 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)'
2025-11-25 00:37:34.553 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:37:34.554 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:37:34.555 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:37:34.596 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:37:34.600 +02:00 [INF] Executing endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)'
2025-11-25 00:37:34.634 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(Hospital.Domain.Models.LoginModel) on controller Hospital.Controllers.AuthController (Hospital).
2025-11-25 00:37:34.637 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:37:34.639 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:37:34.641 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:37:34.643 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:37:34.645 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:37:34.648 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.AuthController (Hospital)
2025-11-25 00:37:34.805 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-11-25 00:37:34.840 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.AuthController (Hospital)
2025-11-25 00:37:34.857 +02:00 [DBG] Attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel' ...
2025-11-25 00:37:34.860 +02:00 [DBG] Attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel' using the name '' in request data ...
2025-11-25 00:37:34.864 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 00:37:34.873 +02:00 [DBG] Connection id "0HNHBL871B5PF", Request id "0HNHBL871B5PF:00000003": started reading request body.
2025-11-25 00:37:34.875 +02:00 [DBG] Connection id "0HNHBL871B5PF", Request id "0HNHBL871B5PF:00000003": done reading request body.
2025-11-25 00:37:34.890 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Domain.Models.LoginModel'
2025-11-25 00:37:34.892 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel'.
2025-11-25 00:37:34.894 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel'.
2025-11-25 00:37:34.895 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Hospital.Domain.Models.LoginModel' ...
2025-11-25 00:37:34.905 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Hospital.Domain.Models.LoginModel'.
2025-11-25 00:37:34.910 +02:00 [INF] Login called at "2025-11-25T00:37:34.9101671+02:00"
2025-11-25 00:37:34.916 +02:00 [INF] Login attempt for email: admin@Hospital.com
2025-11-25 00:37:35.441 +02:00 [DBG] The index {'BranchesBranchId'} was not created on entity type 'BranchDoctor (Dictionary<string, object>)' as the properties are already covered by the index {'BranchesBranchId', 'DoctorsDoctorId'}.
2025-11-25 00:37:35.443 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchService (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'ServiceId'}.
2025-11-25 00:37:35.445 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchSpecialization (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'SpecializationId'}.
2025-11-25 00:37:35.446 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-11-25 00:37:35.447 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-11-25 00:37:35.552 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).BranchesBranchId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-11-25 00:37:35.554 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).DoctorsDoctorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-11-25 00:37:35.759 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:37:35.893 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-11-25 00:37:36.074 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: User.DateOfBirth (DateOnly?), 4], [Property: User.Email (string) Index MaxLength(256), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.FullName (string) Required MaxLength(150), 7], [Property: User.Gender (GenderType?) MaxLength(10), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string) Index MaxLength(256), 11], [Property: User.NormalizedUserName (string) Index MaxLength(256), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.RefreshToken (string), 16], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 17], [Property: User.Role (string) Required MaxLength(50), 18], [Property: User.SecurityStamp (string), 19], [Property: User.TwoFactorEnabled (bool) Required, 20], [Property: User.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 21], [Property: User.UserName (string) MaxLength(256), 22] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DateOfBirth, u.Email, u.EmailConfirmed, u.FullName, u.Gender, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.RefreshToken, u.RefreshTokenExpiryTime, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UpdatedAt, u.UserName
            FROM Users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Clinic.Infrastructure.Persistence.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-11-25 00:37:36.118 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:37:36.141 +02:00 [DBG] Created DbConnection. (21ms).
2025-11-25 00:37:36.145 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.'.
2025-11-25 00:37:53.167 +02:00 [ERR] An error occurred using the connection to database 'HospitalDB' on server '.'.
2025-11-25 00:37:53.184 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Clinic.Infrastructure.Persistence.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2025-11-25 00:37:53.295 +02:00 [INF] Executed action Hospital.Controllers.AuthController.LoginAsync (Hospital) in 18645.8798ms
2025-11-25 00:37:53.298 +02:00 [INF] Executed endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)'
2025-11-25 00:37:53.370 +02:00 [ERR]  Exception caught: A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByEmailAsync(String email)
   at Hospital.Infrastructure.Services.AuthService.LoginAsync(LoginModel model) in D:\Hospital\Hospital\Hospital.Infrastructure\Services\AuthService.cs:line 138
   at Hospital.Controllers.AuthController.LoginAsync(LoginModel model) in D:\Hospital\Hospital\Hospital\Controllers\AuthController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hospital.Middleware.GlobalExceptionHandler.InvokeAsync(HttpContext context) in D:\Hospital\Hospital\Hospital\Middleware\GlobalExceptionHandler.cs:line 22
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2025-11-25 00:37:53.430 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:37:53.435 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.'.
2025-11-25 00:37:53.440 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-11-25 00:37:53.442 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7217/api/Auth/login - 500 null application/json 18900.3544ms
2025-11-25 00:37:53.738 +02:00 [DBG] Connection id "0HNHBL871B5PF" received FIN.
2025-11-25 00:37:53.739 +02:00 [DBG] Connection id "0HNHBL871B5PF" is closed. The last processed stream ID was 3.
2025-11-25 00:37:53.739 +02:00 [DBG] The connection queue processing loop for 0HNHBL871B5PF completed.
2025-11-25 00:37:53.740 +02:00 [DBG] Connection id "0HNHBL871B5PF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 00:37:53.744 +02:00 [DBG] Connection id "0HNHBL871B5PF" stopped.
2025-11-25 00:37:55.426 +02:00 [DBG] Connection id "0HNHBL871B5PG" accepted.
2025-11-25 00:37:55.428 +02:00 [DBG] Connection id "0HNHBL871B5PG" started.
2025-11-25 00:37:55.432 +02:00 [DBG] Connection 0HNHBL871B5PG established using the following protocol: "Tls13"
2025-11-25 00:37:55.434 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7217/api/Auth/login - null null
2025-11-25 00:37:55.442 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-11-25 00:37:55.443 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-25 00:37:55.444 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:37:55.446 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:37:55.446 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:37:55.447 +02:00 [DBG] The request is a preflight request.
2025-11-25 00:37:55.448 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7217/api/Auth/login - 204 null null 14.2573ms
2025-11-25 00:37:55.451 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7217/api/Auth/login - application/json 53
2025-11-25 00:37:55.453 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-11-25 00:37:55.454 +02:00 [DBG] Endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2025-11-25 00:37:55.455 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)'
2025-11-25 00:37:55.456 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:37:55.457 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:37:55.458 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:37:55.460 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:37:55.461 +02:00 [INF] Executing endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)'
2025-11-25 00:37:55.462 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(Hospital.Domain.Models.LoginModel) on controller Hospital.Controllers.AuthController (Hospital).
2025-11-25 00:37:55.464 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:37:55.465 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:37:55.467 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:37:55.468 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:37:55.469 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:37:55.471 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.AuthController (Hospital)
2025-11-25 00:37:55.475 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.AuthController (Hospital)
2025-11-25 00:37:55.477 +02:00 [DBG] Attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel' ...
2025-11-25 00:37:55.479 +02:00 [DBG] Attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel' using the name '' in request data ...
2025-11-25 00:37:55.480 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 00:37:55.482 +02:00 [DBG] Connection id "0HNHBL871B5PG", Request id "0HNHBL871B5PG:00000003": started reading request body.
2025-11-25 00:37:55.483 +02:00 [DBG] Connection id "0HNHBL871B5PG", Request id "0HNHBL871B5PG:00000003": done reading request body.
2025-11-25 00:37:55.485 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Domain.Models.LoginModel'
2025-11-25 00:37:55.486 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel'.
2025-11-25 00:37:55.488 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel'.
2025-11-25 00:37:55.489 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Hospital.Domain.Models.LoginModel' ...
2025-11-25 00:37:55.490 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Hospital.Domain.Models.LoginModel'.
2025-11-25 00:37:55.492 +02:00 [INF] Login called at "2025-11-25T00:37:55.4926352+02:00"
2025-11-25 00:37:55.493 +02:00 [INF] Login attempt for email: admin@Hospital.com
2025-11-25 00:37:55.538 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:37:55.546 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:37:55.548 +02:00 [DBG] Created DbConnection. (1ms).
2025-11-25 00:37:55.548 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.'.
2025-11-25 00:37:55.551 +02:00 [ERR] An error occurred using the connection to database 'HospitalDB' on server '.'.
2025-11-25 00:37:55.556 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Clinic.Infrastructure.Persistence.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2025-11-25 00:37:55.628 +02:00 [INF] Executed action Hospital.Controllers.AuthController.LoginAsync (Hospital) in 157.8455ms
2025-11-25 00:37:55.631 +02:00 [INF] Executed endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)'
2025-11-25 00:37:55.646 +02:00 [ERR]  Exception caught: A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByEmailAsync(String email)
   at Hospital.Infrastructure.Services.AuthService.LoginAsync(LoginModel model) in D:\Hospital\Hospital\Hospital.Infrastructure\Services\AuthService.cs:line 138
   at Hospital.Controllers.AuthController.LoginAsync(LoginModel model) in D:\Hospital\Hospital\Hospital\Controllers\AuthController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hospital.Middleware.GlobalExceptionHandler.InvokeAsync(HttpContext context) in D:\Hospital\Hospital\Hospital\Middleware\GlobalExceptionHandler.cs:line 22
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2025-11-25 00:37:55.657 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:37:55.659 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.'.
2025-11-25 00:37:55.660 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 00:37:55.662 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7217/api/Auth/login - 500 null application/json 211.2955ms
2025-11-25 00:38:02.249 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7217/api/Auth/login - null null
2025-11-25 00:38:02.252 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-11-25 00:38:02.254 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-25 00:38:02.255 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:38:02.255 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:38:02.256 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:38:02.256 +02:00 [DBG] The request is a preflight request.
2025-11-25 00:38:02.257 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7217/api/Auth/login - 204 null null 7.8034ms
2025-11-25 00:38:02.259 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7217/api/Auth/login - application/json 53
2025-11-25 00:38:02.262 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-11-25 00:38:02.263 +02:00 [DBG] Endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2025-11-25 00:38:02.264 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)'
2025-11-25 00:38:02.264 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:38:02.265 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:38:02.266 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:38:02.268 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:38:02.268 +02:00 [INF] Executing endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)'
2025-11-25 00:38:02.269 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(Hospital.Domain.Models.LoginModel) on controller Hospital.Controllers.AuthController (Hospital).
2025-11-25 00:38:02.270 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:38:02.271 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:38:02.273 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:38:02.274 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:38:02.275 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:38:02.276 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.AuthController (Hospital)
2025-11-25 00:38:02.294 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.AuthController (Hospital)
2025-11-25 00:38:02.296 +02:00 [DBG] Attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel' ...
2025-11-25 00:38:02.297 +02:00 [DBG] Attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel' using the name '' in request data ...
2025-11-25 00:38:02.299 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 00:38:02.300 +02:00 [DBG] Connection id "0HNHBL871B5PG", Request id "0HNHBL871B5PG:00000007": started reading request body.
2025-11-25 00:38:02.301 +02:00 [DBG] Connection id "0HNHBL871B5PG", Request id "0HNHBL871B5PG:00000007": done reading request body.
2025-11-25 00:38:02.302 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Domain.Models.LoginModel'
2025-11-25 00:38:02.303 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel'.
2025-11-25 00:38:02.304 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel'.
2025-11-25 00:38:02.305 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Hospital.Domain.Models.LoginModel' ...
2025-11-25 00:38:02.306 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Hospital.Domain.Models.LoginModel'.
2025-11-25 00:38:02.308 +02:00 [INF] Login called at "2025-11-25T00:38:02.3080390+02:00"
2025-11-25 00:38:02.308 +02:00 [INF] Login attempt for email: Admin@Hospital.com
2025-11-25 00:38:02.322 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:38:02.326 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:38:02.326 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 00:38:02.327 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.'.
2025-11-25 00:38:19.084 +02:00 [ERR] An error occurred using the connection to database 'HospitalDB' on server '.'.
2025-11-25 00:38:19.087 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Clinic.Infrastructure.Persistence.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2025-11-25 00:38:19.140 +02:00 [INF] Executed action Hospital.Controllers.AuthController.LoginAsync (Hospital) in 16864.1862ms
2025-11-25 00:38:19.142 +02:00 [INF] Executed endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)'
2025-11-25 00:38:19.192 +02:00 [ERR]  Exception caught: A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByEmailAsync(String email)
   at Hospital.Infrastructure.Services.AuthService.LoginAsync(LoginModel model) in D:\Hospital\Hospital\Hospital.Infrastructure\Services\AuthService.cs:line 138
   at Hospital.Controllers.AuthController.LoginAsync(LoginModel model) in D:\Hospital\Hospital\Hospital\Controllers\AuthController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hospital.Middleware.GlobalExceptionHandler.InvokeAsync(HttpContext context) in D:\Hospital\Hospital\Hospital\Middleware\GlobalExceptionHandler.cs:line 22
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2025-11-25 00:38:19.207 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:38:19.208 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.'.
2025-11-25 00:38:19.210 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 00:38:19.212 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7217/api/Auth/login - 500 null application/json 16953.1259ms
2025-11-25 00:38:23.743 +02:00 [DBG] Connection id "0HNHBL871B5PG" received FIN.
2025-11-25 00:38:23.744 +02:00 [DBG] Connection id "0HNHBL871B5PG" is closed. The last processed stream ID was 7.
2025-11-25 00:38:23.744 +02:00 [DBG] The connection queue processing loop for 0HNHBL871B5PG completed.
2025-11-25 00:38:23.745 +02:00 [DBG] Connection id "0HNHBL871B5PG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 00:38:23.747 +02:00 [DBG] Connection id "0HNHBL871B5PG" stopped.
2025-11-25 00:38:30.535 +02:00 [DBG] Connection id "0HNHBL871B5PH" accepted.
2025-11-25 00:38:30.536 +02:00 [DBG] Connection id "0HNHBL871B5PH" started.
2025-11-25 00:38:30.536 +02:00 [DBG] Connection id "0HNHBL871B5PI" accepted.
2025-11-25 00:38:30.536 +02:00 [DBG] Connection id "0HNHBL871B5PH" received FIN.
2025-11-25 00:38:30.544 +02:00 [DBG] Connection id "0HNHBL871B5PI" started.
2025-11-25 00:38:30.546 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-25 00:38:30.547 +02:00 [DBG] Connection id "0HNHBL871B5PH" stopped.
2025-11-25 00:38:30.549 +02:00 [DBG] Connection id "0HNHBL871B5PH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 00:38:30.558 +02:00 [DBG] Connection 0HNHBL871B5PI established using the following protocol: "Tls13"
2025-11-25 00:38:30.564 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/Auth/login - application/json 65
2025-11-25 00:38:30.566 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-11-25 00:38:30.567 +02:00 [DBG] Endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2025-11-25 00:38:30.568 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)'
2025-11-25 00:38:30.569 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:38:30.569 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:38:30.570 +02:00 [INF] Executing endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)'
2025-11-25 00:38:30.571 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(Hospital.Domain.Models.LoginModel) on controller Hospital.Controllers.AuthController (Hospital).
2025-11-25 00:38:30.572 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:38:30.573 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:38:30.575 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:38:30.576 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:38:30.577 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:38:30.578 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.AuthController (Hospital)
2025-11-25 00:38:30.579 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.AuthController (Hospital)
2025-11-25 00:38:30.581 +02:00 [DBG] Attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel' ...
2025-11-25 00:38:30.582 +02:00 [DBG] Attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel' using the name '' in request data ...
2025-11-25 00:38:30.583 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 00:38:30.584 +02:00 [DBG] Connection id "0HNHBL871B5PI", Request id "0HNHBL871B5PI:00000001": started reading request body.
2025-11-25 00:38:30.586 +02:00 [DBG] Connection id "0HNHBL871B5PI", Request id "0HNHBL871B5PI:00000001": done reading request body.
2025-11-25 00:38:30.587 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Domain.Models.LoginModel'
2025-11-25 00:38:30.588 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel'.
2025-11-25 00:38:30.589 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel'.
2025-11-25 00:38:30.590 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Hospital.Domain.Models.LoginModel' ...
2025-11-25 00:38:30.591 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Hospital.Domain.Models.LoginModel'.
2025-11-25 00:38:30.592 +02:00 [INF] Login called at "2025-11-25T00:38:30.5922315+02:00"
2025-11-25 00:38:30.592 +02:00 [INF] Login attempt for email: admin@Hospital.com
2025-11-25 00:38:30.594 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:38:30.596 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:38:30.596 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 00:38:30.597 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.'.
2025-11-25 00:38:47.344 +02:00 [ERR] An error occurred using the connection to database 'HospitalDB' on server '.'.
2025-11-25 00:38:47.347 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Clinic.Infrastructure.Persistence.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2025-11-25 00:38:47.406 +02:00 [INF] Executed action Hospital.Controllers.AuthController.LoginAsync (Hospital) in 16828.2252ms
2025-11-25 00:38:47.409 +02:00 [INF] Executed endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)'
2025-11-25 00:38:47.454 +02:00 [ERR]  Exception caught: A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByEmailAsync(String email)
   at Hospital.Infrastructure.Services.AuthService.LoginAsync(LoginModel model) in D:\Hospital\Hospital\Hospital.Infrastructure\Services\AuthService.cs:line 138
   at Hospital.Controllers.AuthController.LoginAsync(LoginModel model) in D:\Hospital\Hospital\Hospital\Controllers\AuthController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hospital.Middleware.GlobalExceptionHandler.InvokeAsync(HttpContext context) in D:\Hospital\Hospital\Hospital\Middleware\GlobalExceptionHandler.cs:line 22
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2025-11-25 00:38:47.470 +02:00 [DBG] Connection id "0HNHBL871B5PI" completed keep alive response.
2025-11-25 00:38:47.471 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:38:47.472 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.'.
2025-11-25 00:38:47.473 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 00:38:47.475 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/Auth/login - 500 null application/json 16911.407ms
2025-11-25 00:38:58.790 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/Auth/login - application/json 65
2025-11-25 00:38:58.793 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-11-25 00:38:58.794 +02:00 [DBG] Endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2025-11-25 00:38:58.795 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)'
2025-11-25 00:38:58.796 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:38:58.797 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:38:58.798 +02:00 [INF] Executing endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)'
2025-11-25 00:38:58.799 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(Hospital.Domain.Models.LoginModel) on controller Hospital.Controllers.AuthController (Hospital).
2025-11-25 00:38:58.801 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:38:58.802 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:38:58.803 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:38:58.804 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:38:58.806 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:38:58.807 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.AuthController (Hospital)
2025-11-25 00:38:58.808 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.AuthController (Hospital)
2025-11-25 00:38:58.809 +02:00 [DBG] Attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel' ...
2025-11-25 00:38:58.810 +02:00 [DBG] Attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel' using the name '' in request data ...
2025-11-25 00:38:58.812 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 00:38:58.813 +02:00 [DBG] Connection id "0HNHBL871B5PI", Request id "0HNHBL871B5PI:00000002": started reading request body.
2025-11-25 00:38:58.814 +02:00 [DBG] Connection id "0HNHBL871B5PI", Request id "0HNHBL871B5PI:00000002": done reading request body.
2025-11-25 00:38:58.816 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Domain.Models.LoginModel'
2025-11-25 00:38:58.816 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel'.
2025-11-25 00:38:58.817 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel'.
2025-11-25 00:38:58.818 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Hospital.Domain.Models.LoginModel' ...
2025-11-25 00:38:58.819 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Hospital.Domain.Models.LoginModel'.
2025-11-25 00:38:58.821 +02:00 [INF] Login called at "2025-11-25T00:38:58.8213349+02:00"
2025-11-25 00:38:58.822 +02:00 [INF] Login attempt for email: admin@Hospital.com
2025-11-25 00:38:58.824 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:38:58.826 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:38:58.827 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 00:38:58.828 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.'.
2025-11-25 00:38:58.829 +02:00 [ERR] An error occurred using the connection to database 'HospitalDB' on server '.'.
2025-11-25 00:38:58.832 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Clinic.Infrastructure.Persistence.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2025-11-25 00:38:58.888 +02:00 [INF] Executed action Hospital.Controllers.AuthController.LoginAsync (Hospital) in 81.6932ms
2025-11-25 00:38:58.890 +02:00 [INF] Executed endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)'
2025-11-25 00:38:58.905 +02:00 [ERR]  Exception caught: A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByEmailAsync(String email)
   at Hospital.Infrastructure.Services.AuthService.LoginAsync(LoginModel model) in D:\Hospital\Hospital\Hospital.Infrastructure\Services\AuthService.cs:line 138
   at Hospital.Controllers.AuthController.LoginAsync(LoginModel model) in D:\Hospital\Hospital\Hospital\Controllers\AuthController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hospital.Middleware.GlobalExceptionHandler.InvokeAsync(HttpContext context) in D:\Hospital\Hospital\Hospital\Middleware\GlobalExceptionHandler.cs:line 22
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2025-11-25 00:38:58.916 +02:00 [DBG] Connection id "0HNHBL871B5PI" completed keep alive response.
2025-11-25 00:38:58.918 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:38:58.918 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.'.
2025-11-25 00:38:58.920 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 00:38:58.921 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/Auth/login - 500 null application/json 131.0483ms
2025-11-25 00:39:23.740 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-11-25 00:39:23.871 +02:00 [DBG] Hosting starting
2025-11-25 00:39:23.904 +02:00 [INF] User profile is available. Using 'C:\Users\yossr\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-25 00:39:23.919 +02:00 [DBG] Reading data from file 'C:\Users\yossr\AppData\Local\ASP.NET\DataProtection-Keys\key-69bbab29-81b6-4865-ac9a-ae2b6fa39013.xml'.
2025-11-25 00:39:23.937 +02:00 [DBG] Reading data from file 'C:\Users\yossr\AppData\Local\ASP.NET\DataProtection-Keys\key-80d0efac-0f9c-4630-990a-b52d8a5ce829.xml'.
2025-11-25 00:39:23.941 +02:00 [DBG] Reading data from file 'C:\Users\yossr\AppData\Local\ASP.NET\DataProtection-Keys\key-c9eadb9e-fd70-4dbd-a2e4-2439a22a723f.xml'.
2025-11-25 00:39:23.943 +02:00 [DBG] Reading data from file 'C:\Users\yossr\AppData\Local\ASP.NET\DataProtection-Keys\key-e6a4e949-cc09-4772-b903-b3c0844fb846.xml'.
2025-11-25 00:39:23.949 +02:00 [DBG] Found key {69bbab29-81b6-4865-ac9a-ae2b6fa39013}.
2025-11-25 00:39:23.955 +02:00 [DBG] Found key {80d0efac-0f9c-4630-990a-b52d8a5ce829}.
2025-11-25 00:39:23.956 +02:00 [DBG] Found key {c9eadb9e-fd70-4dbd-a2e4-2439a22a723f}.
2025-11-25 00:39:23.957 +02:00 [DBG] Found key {e6a4e949-cc09-4772-b903-b3c0844fb846}.
2025-11-25 00:39:23.965 +02:00 [DBG] Considering key {69bbab29-81b6-4865-ac9a-ae2b6fa39013} with expiration date 2026-01-04 04:20:00Z as default key.
2025-11-25 00:39:23.969 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-25 00:39:23.972 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-11-25 00:39:23.975 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-25 00:39:23.981 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-11-25 00:39:23.983 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-11-25 00:39:23.986 +02:00 [DBG] Using key {69bbab29-81b6-4865-ac9a-ae2b6fa39013} as the default key.
2025-11-25 00:39:23.988 +02:00 [DBG] Key ring with default key {69bbab29-81b6-4865-ac9a-ae2b6fa39013} was loaded during application startup.
2025-11-25 00:39:23.995 +02:00 [DBG] Middleware loaded
2025-11-25 00:39:23.998 +02:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16501 B).
2025-11-25 00:39:24.000 +02:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-11-25 00:39:24.122 +02:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-11-25 00:39:24.232 +02:00 [INF] Now listening on: https://localhost:7217
2025-11-25 00:39:24.233 +02:00 [INF] Now listening on: http://localhost:5163
2025-11-25 00:39:24.234 +02:00 [DBG] Loaded hosting startup assembly Hospital
2025-11-25 00:39:24.235 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-11-25 00:39:24.236 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-11-25 00:39:24.236 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-11-25 00:39:24.319 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-25 00:39:24.320 +02:00 [INF] Hosting environment: Development
2025-11-25 00:39:24.321 +02:00 [INF] Content root path: D:\Hospital\Hospital\Hospital
2025-11-25 00:39:24.321 +02:00 [DBG] Hosting started
2025-11-25 00:39:24.495 +02:00 [DBG] Connection id "0HNHBL98NVIU7" received FIN.
2025-11-25 00:39:24.501 +02:00 [DBG] Connection id "0HNHBL98NVIU7" accepted.
2025-11-25 00:39:24.502 +02:00 [DBG] Connection id "0HNHBL98NVIU7" started.
2025-11-25 00:39:24.520 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-25 00:39:24.681 +02:00 [DBG] Connection id "0HNHBL98NVIU7" stopped.
2025-11-25 00:39:24.685 +02:00 [DBG] Connection id "0HNHBL98NVIU7" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 00:39:24.809 +02:00 [DBG] Connection id "0HNHBL98NVIU8" accepted.
2025-11-25 00:39:24.830 +02:00 [DBG] Connection id "0HNHBL98NVIU8" started.
2025-11-25 00:39:24.897 +02:00 [DBG] Connection 0HNHBL98NVIU8 established using the following protocol: "Tls13"
2025-11-25 00:39:24.965 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/swagger/index.html - null null
2025-11-25 00:39:25.070 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-11-25 00:39:25.097 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-11-25 00:39:25.098 +02:00 [DBG] Request did not match any endpoints
2025-11-25 00:39:25.148 +02:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-11-25 00:39:25.151 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-11-25 00:39:25.168 +02:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-11-25 00:39:25.170 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-11-25 00:39:25.174 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/swagger/index.html - 200 null text/html;charset=utf-8 219.6531ms
2025-11-25 00:39:25.213 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/_vs/browserLink - null null
2025-11-25 00:39:25.213 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/_framework/aspnetcore-browser-refresh.js - null null
2025-11-25 00:39:25.236 +02:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-11-25 00:39:25.238 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 25.3169ms
2025-11-25 00:39:25.268 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.3584ms
2025-11-25 00:39:25.329 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/swagger/v1/swagger.json - null null
2025-11-25 00:39:25.332 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-11-25 00:39:25.333 +02:00 [DBG] Request did not match any endpoints
2025-11-25 00:39:25.373 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 44.804ms
2025-11-25 00:39:28.405 +02:00 [DBG] Connection id "0HNHBL98NVIU9" accepted.
2025-11-25 00:39:28.407 +02:00 [DBG] Connection id "0HNHBL98NVIU9" started.
2025-11-25 00:39:28.412 +02:00 [DBG] Connection 0HNHBL98NVIU9 established using the following protocol: "Tls13"
2025-11-25 00:39:28.416 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7217/api/Auth/login - null null
2025-11-25 00:39:28.423 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-11-25 00:39:28.424 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-25 00:39:28.428 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:39:28.429 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:39:28.431 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:39:28.434 +02:00 [DBG] The request is a preflight request.
2025-11-25 00:39:28.438 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7217/api/Auth/login - 204 null null 21.4803ms
2025-11-25 00:39:28.441 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7217/api/Auth/login - application/json 53
2025-11-25 00:39:28.447 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-11-25 00:39:28.452 +02:00 [DBG] Endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2025-11-25 00:39:28.455 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)'
2025-11-25 00:39:28.456 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:39:28.458 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:39:28.459 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:39:28.509 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:39:28.513 +02:00 [INF] Executing endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)'
2025-11-25 00:39:28.546 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(Hospital.Domain.Models.LoginModel) on controller Hospital.Controllers.AuthController (Hospital).
2025-11-25 00:39:28.552 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:39:28.555 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:39:28.557 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:39:28.559 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:39:28.560 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:39:28.564 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.AuthController (Hospital)
2025-11-25 00:39:28.753 +02:00 [DBG] Connection id "0HNHBL98NVIU8" received FIN.
2025-11-25 00:39:28.757 +02:00 [DBG] The connection queue processing loop for 0HNHBL98NVIU8 completed.
2025-11-25 00:39:28.759 +02:00 [DBG] Connection id "0HNHBL98NVIU8" is closed. The last processed stream ID was 7.
2025-11-25 00:39:28.761 +02:00 [DBG] Connection id "0HNHBL98NVIU8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 00:39:28.763 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-11-25 00:39:28.765 +02:00 [DBG] Connection id "0HNHBL98NVIU8" stopped.
2025-11-25 00:39:28.811 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.AuthController (Hospital)
2025-11-25 00:39:28.828 +02:00 [DBG] Attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel' ...
2025-11-25 00:39:28.833 +02:00 [DBG] Attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel' using the name '' in request data ...
2025-11-25 00:39:28.836 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 00:39:28.847 +02:00 [DBG] Connection id "0HNHBL98NVIU9", Request id "0HNHBL98NVIU9:00000003": started reading request body.
2025-11-25 00:39:28.849 +02:00 [DBG] Connection id "0HNHBL98NVIU9", Request id "0HNHBL98NVIU9:00000003": done reading request body.
2025-11-25 00:39:28.862 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Domain.Models.LoginModel'
2025-11-25 00:39:28.864 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel'.
2025-11-25 00:39:28.866 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel'.
2025-11-25 00:39:28.868 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Hospital.Domain.Models.LoginModel' ...
2025-11-25 00:39:28.880 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Hospital.Domain.Models.LoginModel'.
2025-11-25 00:39:28.886 +02:00 [INF] Login called at "2025-11-25T00:39:28.8860866+02:00"
2025-11-25 00:39:28.894 +02:00 [INF] Login attempt for email: Admin@Hospital.com
2025-11-25 00:39:29.636 +02:00 [DBG] The index {'BranchesBranchId'} was not created on entity type 'BranchDoctor (Dictionary<string, object>)' as the properties are already covered by the index {'BranchesBranchId', 'DoctorsDoctorId'}.
2025-11-25 00:39:29.638 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchService (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'ServiceId'}.
2025-11-25 00:39:29.640 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchSpecialization (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'SpecializationId'}.
2025-11-25 00:39:29.642 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-11-25 00:39:29.644 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-11-25 00:39:29.794 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).BranchesBranchId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-11-25 00:39:29.797 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).DoctorsDoctorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-11-25 00:39:30.060 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:39:30.210 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-11-25 00:39:30.452 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: User.DateOfBirth (DateOnly?), 4], [Property: User.Email (string) Index MaxLength(256), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.FullName (string) Required MaxLength(150), 7], [Property: User.Gender (GenderType?) MaxLength(10), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string) Index MaxLength(256), 11], [Property: User.NormalizedUserName (string) Index MaxLength(256), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.RefreshToken (string), 16], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 17], [Property: User.Role (string) Required MaxLength(50), 18], [Property: User.SecurityStamp (string), 19], [Property: User.TwoFactorEnabled (bool) Required, 20], [Property: User.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 21], [Property: User.UserName (string) MaxLength(256), 22] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DateOfBirth, u.Email, u.EmailConfirmed, u.FullName, u.Gender, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.RefreshToken, u.RefreshTokenExpiryTime, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UpdatedAt, u.UserName
            FROM Users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Clinic.Infrastructure.Persistence.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-11-25 00:39:30.511 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:39:30.547 +02:00 [DBG] Created DbConnection. (35ms).
2025-11-25 00:39:30.553 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:31.072 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:31.078 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:39:31.085 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-11-25 00:39:31.100 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (22ms).
2025-11-25 00:39:31.111 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-11-25 00:39:31.225 +02:00 [INF] Executed DbCommand (116ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-11-25 00:39:31.289 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:39:31.340 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:31.347 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 115ms reading results.
2025-11-25 00:39:31.352 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:31.360 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (8ms).
2025-11-25 00:39:31.463 +02:00 [DBG] Creating JWT token for user 17ad60f0-c88f-448c-bfd9-b511753e410b
2025-11-25 00:39:31.473 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2025-11-25 00:39:31.508 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-11-25 00:39:31.511 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:31.514 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:31.515 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:39:31.516 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-25 00:39:31.518 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 00:39:31.519 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-11-25 00:39:31.527 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-11-25 00:39:31.530 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:31.532 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-11-25 00:39:31.533 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:31.534 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 00:39:31.544 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2025-11-25 00:39:31.561 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-11-25 00:39:31.564 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:31.566 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:31.567 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:39:31.568 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 00:39:31.569 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 00:39:31.570 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-11-25 00:39:31.578 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-11-25 00:39:31.581 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:31.582 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 00:39:31.584 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:31.585 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 00:39:31.597 +02:00 [DBG] JWT token created for user 17ad60f0-c88f-448c-bfd9-b511753e410b, expires at "2025-11-24T23:39:31.0000000Z"
2025-11-25 00:39:31.602 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:31.603 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:31.604 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:39:31.605 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 00:39:31.606 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 00:39:31.607 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-11-25 00:39:31.610 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-11-25 00:39:31.612 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:31.613 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 00:39:31.614 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:31.616 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 00:39:31.626 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-11-25 00:39:31.634 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: User.DateOfBirth (DateOnly?), 4], [Property: User.Email (string) Index MaxLength(256), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.FullName (string) Required MaxLength(150), 7], [Property: User.Gender (GenderType?) MaxLength(10), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string) Index MaxLength(256), 11], [Property: User.NormalizedUserName (string) Index MaxLength(256), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.RefreshToken (string), 16], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 17], [Property: User.Role (string) Required MaxLength(50), 18], [Property: User.SecurityStamp (string), 19], [Property: User.TwoFactorEnabled (bool) Required, 20], [Property: User.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 21], [Property: User.UserName (string) MaxLength(256), 22] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DateOfBirth, u.Email, u.EmailConfirmed, u.FullName, u.Gender, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.RefreshToken, u.RefreshTokenExpiryTime, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UpdatedAt, u.UserName
            FROM Users AS u
            WHERE u.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Clinic.Infrastructure.Persistence.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-11-25 00:39:31.636 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:31.638 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:31.639 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:39:31.640 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-25 00:39:31.641 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 00:39:31.642 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-11-25 00:39:31.650 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-11-25 00:39:31.653 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:31.654 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-11-25 00:39:31.656 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:31.657 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 00:39:31.678 +02:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:39:31.685 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 00:39:31.702 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 00:39:31.719 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 00:39:31.722 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 00:39:31.724 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 00:39:31.811 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:31.812 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:31.816 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:39:31.817 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 00:39:31.823 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-11-25 00:39:31.824 +02:00 [DBG] Executing DbCommand [Parameters=[@p22='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p23='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 150), @p7='?' (Size = 10), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 50), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (DbType = DateTime2), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DateOfBirth] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FullName] = @p6, [Gender] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiryTime] = @p16, [Role] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UpdatedAt] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] IS NULL;
2025-11-25 00:39:31.842 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@p22='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p23='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 150), @p7='?' (Size = 10), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 50), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (DbType = DateTime2), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DateOfBirth] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FullName] = @p6, [Gender] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiryTime] = @p16, [Role] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UpdatedAt] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] IS NULL;
2025-11-25 00:39:31.849 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:31.850 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-11-25 00:39:31.853 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:31.855 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 00:39:31.860 +02:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:39:31.864 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-25 00:39:31.894 +02:00 [INF] User Admin@Hospital.com logged in successfully with roles: Admin
2025-11-25 00:39:31.901 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 00:39:31.904 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 00:39:31.905 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 00:39:31.906 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 00:39:31.908 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 00:39:31.909 +02:00 [INF] Executing OkObjectResult, writing value of type 'Hospital.Domain.Models.AuthModel'.
2025-11-25 00:39:31.931 +02:00 [INF] Executed action Hospital.Controllers.AuthController.LoginAsync (Hospital) in 3365.8371ms
2025-11-25 00:39:31.934 +02:00 [INF] Executed endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)'
2025-11-25 00:39:31.938 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:39:31.942 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:31.945 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-11-25 00:39:31.947 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7217/api/Auth/login - 200 null application/json; charset=utf-8 3505.483ms
2025-11-25 00:39:33.754 +02:00 [DBG] Connection id "0HNHBL98NVIU9" received FIN.
2025-11-25 00:39:33.757 +02:00 [DBG] Connection id "0HNHBL98NVIU9" is closed. The last processed stream ID was 3.
2025-11-25 00:39:33.757 +02:00 [DBG] The connection queue processing loop for 0HNHBL98NVIU9 completed.
2025-11-25 00:39:33.758 +02:00 [DBG] Connection id "0HNHBL98NVIU9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 00:39:33.760 +02:00 [DBG] Connection id "0HNHBL98NVIU9" stopped.
2025-11-25 00:39:54.140 +02:00 [DBG] Connection id "0HNHBL98NVIUA" accepted.
2025-11-25 00:39:54.145 +02:00 [DBG] Connection id "0HNHBL98NVIUA" started.
2025-11-25 00:39:54.150 +02:00 [DBG] Connection 0HNHBL98NVIUA established using the following protocol: "Tls13"
2025-11-25 00:39:54.156 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - null null
2025-11-25 00:39:54.156 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetAll - null null
2025-11-25 00:39:54.164 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Specializations/GetAll'
2025-11-25 00:39:54.167 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetAll'
2025-11-25 00:39:54.168 +02:00 [DBG] Endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)' with route pattern 'api/Specializations/GetAll' is valid for the request path '/api/Specializations/GetAll'
2025-11-25 00:39:54.169 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)' with route pattern 'api/Branch/GetAll' is valid for the request path '/api/Branch/GetAll'
2025-11-25 00:39:54.170 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 00:39:54.171 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 00:39:54.173 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:39:54.173 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:39:54.175 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:39:54.175 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:39:54.176 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:39:54.177 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:39:54.179 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:39:54.180 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:39:54.180 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 00:39:54.181 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 00:39:54.186 +02:00 [INF] Route matched with {action = "GetAll", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.BranchController (Hospital).
2025-11-25 00:39:54.186 +02:00 [INF] Route matched with {action = "GetAll", controller = "Specializations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Specialization.SpecializationDTO]]] GetAll() on controller Hospital.Controllers.SpecializationsController (Hospital).
2025-11-25 00:39:54.188 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:39:54.190 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:39:54.191 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:39:54.193 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:39:54.194 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:39:54.195 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:39:54.197 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:39:54.198 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:39:54.200 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:39:54.201 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:39:54.202 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 00:39:54.203 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 00:39:54.405 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 00:39:54.405 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 00:39:54.408 +02:00 [INF] Get All Branch called at "2025-11-25T00:39:54.4081504+02:00"
2025-11-25 00:39:54.409 +02:00 [INF] get all Specialization called at "2025-11-25T00:39:54.4095905+02:00"
2025-11-25 00:39:54.410 +02:00 [INF] Fetching all branches
2025-11-25 00:39:54.411 +02:00 [INF] Fetching all specializations in the system
2025-11-25 00:39:54.448 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:39:54.448 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:39:54.454 +02:00 [DBG] Compiling query expression: 
'DbSet<Branch>()
    .AsNoTracking()'
2025-11-25 00:39:54.455 +02:00 [DBG] Compiling query expression: 
'DbSet<Specialization>()
    .Include(s => s.Branches)
    .Include(s => s.Doctors)
    .ThenInclude(d => d.User)'
2025-11-25 00:39:54.460 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Branch>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Branch.BranchId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Branch.Address (string) MaxLength(250), 1], [Property: Branch.BranchName (string) Required MaxLength(150), 2], [Property: Branch.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: Branch.Description (string), 4], [Property: Branch.Email (string) MaxLength(200), 5], [Property: Branch.ImageURL (string) MaxLength(300), 6], [Property: Branch.Phone (string) MaxLength(25), 7], [Property: Branch.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 8] }
        SELECT b.BranchId, b.Address, b.BranchName, b.CreatedAt, b.Description, b.Email, b.ImageURL, b.Phone, b.UpdatedAt
        FROM Branches AS b), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Branch>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-11-25 00:39:54.462 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:39:54.463 +02:00 [DBG] Including navigation: 'Specialization.Branches'.
2025-11-25 00:39:54.463 +02:00 [DBG] Created DbConnection. (1ms).
2025-11-25 00:39:54.464 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:54.465 +02:00 [DBG] Including navigation: 'Specialization.Doctors'.
2025-11-25 00:39:54.465 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:54.467 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:39:54.468 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 00:39:54.469 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 00:39:54.469 +02:00 [DBG] Including navigation: 'Doctor.User'.
2025-11-25 00:39:54.469 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 00:39:54.477 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 00:39:54.479 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:54.480 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 00:39:54.481 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:54.482 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 00:39:54.495 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 00:39:54.496 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 00:39:54.497 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 00:39:54.498 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 00:39:54.498 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 00:39:54.499 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Branch.BranchDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 00:39:54.503 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetAll (Hospital) in 301.2634ms
2025-11-25 00:39:54.505 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 00:39:54.506 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:39:54.507 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:54.508 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 00:39:54.509 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetAll - 200 null application/json; charset=utf-8 353.3358ms
2025-11-25 00:39:54.537 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-25 00:39:54.542 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Specialization>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Specialization.SpecializationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Specialization.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: Specialization.Description (string), 2], [Property: Specialization.Name (string) Required MaxLength(120), 3], [Property: Specialization.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: BranchSpecialization (Dictionary<string, object>).BranchId (no field, int) Indexer Required PK FK AfterSave:Throw, 5], [Property: BranchSpecialization (Dictionary<string, object>).SpecializationId (no field, int) Indexer Required PK FK Index AfterSave:Throw, 6] }
            3 -> Dictionary<IProperty, int> { [Property: Branch.BranchId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Branch.Address (string) MaxLength(250), 8], [Property: Branch.BranchName (string) Required MaxLength(150), 9], [Property: Branch.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 10], [Property: Branch.Description (string), 11], [Property: Branch.Email (string) MaxLength(200), 12], [Property: Branch.ImageURL (string) MaxLength(300), 13], [Property: Branch.Phone (string) MaxLength(25), 14], [Property: Branch.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 15] }
            4 -> 5
            5 -> 6
            6 -> 7
            7 -> Dictionary<IProperty, int> { [Property: Doctor.DoctorId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: Doctor.Available (bool?), 17], [Property: Doctor.Biography (string), 18], [Property: Doctor.ConsultationFees (decimal) Required, 19], [Property: Doctor.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 20], [Property: Doctor.ExperienceYears (int?), 21], [Property: Doctor.ImageURL (string) MaxLength(300), 22], [Property: Doctor.SpecializationId (int) Required FK Index, 23], [Property: Doctor.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 24], [Property: Doctor.UserId (string) Required FK Index, 25] }
            8 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 26], [Property: User.AccessFailedCount (int) Required, 27], [Property: User.ConcurrencyStamp (string) Concurrency, 28], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 29], [Property: User.DateOfBirth (DateOnly?), 30], [Property: User.Email (string) Index MaxLength(256), 31], [Property: User.EmailConfirmed (bool) Required, 32], [Property: User.FullName (string) Required MaxLength(150), 33], [Property: User.Gender (GenderType?) MaxLength(10), 34], [Property: User.LockoutEnabled (bool) Required, 35], [Property: User.LockoutEnd (DateTimeOffset?), 36], [Property: User.NormalizedEmail (string) Index MaxLength(256), 37], [Property: User.NormalizedUserName (string) Index MaxLength(256), 38], [Property: User.PasswordHash (string), 39], [Property: User.PhoneNumber (string), 40], [Property: User.PhoneNumberConfirmed (bool) Required, 41], [Property: User.RefreshToken (string), 42], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 43], [Property: User.Role (string) Required MaxLength(50), 44], [Property: User.SecurityStamp (string), 45], [Property: User.TwoFactorEnabled (bool) Required, 46], [Property: User.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 47], [Property: User.UserName (string) MaxLength(256), 48] }
            9 -> 16
            10 -> 26
        SELECT s.SpecializationId, s.CreatedAt, s.Description, s.Name, s.UpdatedAt, t.BranchId, t.SpecializationId, t.BranchId0, t.Address, t.BranchName, t.CreatedAt, t.Description, t.Email, t.ImageURL, t.Phone, t.UpdatedAt, t0.DoctorId, t0.Available, t0.Biography, t0.ConsultationFees, t0.CreatedAt, t0.ExperienceYears, t0.ImageURL, t0.SpecializationId, t0.UpdatedAt, t0.UserId, t0.Id, t0.AccessFailedCount, t0.ConcurrencyStamp, t0.CreatedAt0, t0.DateOfBirth, t0.Email, t0.EmailConfirmed, t0.FullName, t0.Gender, t0.LockoutEnabled, t0.LockoutEnd, t0.NormalizedEmail, t0.NormalizedUserName, t0.PasswordHash, t0.PhoneNumber, t0.PhoneNumberConfirmed, t0.RefreshToken, t0.RefreshTokenExpiryTime, t0.Role, t0.SecurityStamp, t0.TwoFactorEnabled, t0.UpdatedAt0, t0.UserName
        FROM Specializations AS s
        LEFT JOIN 
        (
            SELECT b.BranchId, b.SpecializationId, b0.BranchId AS BranchId0, b0.Address, b0.BranchName, b0.CreatedAt, b0.Description, b0.Email, b0.ImageURL, b0.Phone, b0.UpdatedAt
            FROM BranchSpecializations AS b
            INNER JOIN Branches AS b0 ON b.BranchId == b0.BranchId
        ) AS t ON s.SpecializationId == t.SpecializationId
        LEFT JOIN 
        (
            SELECT d.DoctorId, d.Available, d.Biography, d.ConsultationFees, d.CreatedAt, d.ExperienceYears, d.ImageURL, d.SpecializationId, d.UpdatedAt, d.UserId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt AS CreatedAt0, u.DateOfBirth, u.Email, u.EmailConfirmed, u.FullName, u.Gender, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.RefreshToken, u.RefreshTokenExpiryTime, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UpdatedAt AS UpdatedAt0, u.UserName
            FROM Doctors AS d
            INNER JOIN Users AS u ON d.UserId == u.Id
        ) AS t0 ON s.SpecializationId == t0.SpecializationId
        ORDER BY s.SpecializationId ASC, t.BranchId ASC, t.SpecializationId ASC, t.BranchId0 ASC, t0.DoctorId ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Specialization>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-11-25 00:39:54.546 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:39:54.546 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 00:39:54.547 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:54.548 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:54.550 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:39:54.550 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 00:39:54.552 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 00:39:54.553 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 00:39:54.576 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 00:39:54.587 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:39:54.604 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchSpecialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:39:54.624 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:39:54.648 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:39:54.667 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:39:54.670 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:39:54.673 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:54.674 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 96ms reading results.
2025-11-25 00:39:54.676 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:54.677 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 00:39:54.687 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 00:39:54.690 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 00:39:54.691 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 00:39:54.691 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 00:39:54.692 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 00:39:54.694 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Specialization.SpecializationDTO, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 00:39:54.700 +02:00 [INF] Executed action Hospital.Controllers.SpecializationsController.GetAll (Hospital) in 496.7443ms
2025-11-25 00:39:54.702 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 00:39:54.703 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:39:54.704 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:54.706 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 00:39:54.707 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - 200 null application/json; charset=utf-8 551.1312ms
2025-11-25 00:39:54.907 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetAll - null null
2025-11-25 00:39:54.910 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetAll'
2025-11-25 00:39:54.910 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - null null
2025-11-25 00:39:54.912 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)' with route pattern 'api/Branch/GetAll' is valid for the request path '/api/Branch/GetAll'
2025-11-25 00:39:54.913 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Doctor/all - null null
2025-11-25 00:39:54.916 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Specializations/GetAll'
2025-11-25 00:39:54.917 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 00:39:54.920 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Doctor/all'
2025-11-25 00:39:54.920 +02:00 [DBG] Endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)' with route pattern 'api/Specializations/GetAll' is valid for the request path '/api/Specializations/GetAll'
2025-11-25 00:39:54.921 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:39:54.922 +02:00 [DBG] Endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)' with route pattern 'api/Doctor/all' is valid for the request path '/api/Doctor/all'
2025-11-25 00:39:54.924 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 00:39:54.924 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:39:54.926 +02:00 [DBG] Endpoint 'Hospital.Controllers.DoctorController.GetDoctor (Hospital)' with route pattern 'api/Doctor/{doctorId}' is valid for the request path '/api/Doctor/all'
2025-11-25 00:39:54.927 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:39:54.928 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:39:54.929 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:39:54.930 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:39:54.930 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:39:54.932 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:39:54.932 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:39:54.933 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 00:39:54.934 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:39:54.935 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:39:54.936 +02:00 [INF] Route matched with {action = "GetAll", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.BranchController (Hospital).
2025-11-25 00:39:54.937 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:39:54.938 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 00:39:54.939 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:39:54.940 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:39:54.941 +02:00 [INF] Route matched with {action = "GetAll", controller = "Specializations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Specialization.SpecializationDTO]]] GetAll() on controller Hospital.Controllers.SpecializationsController (Hospital).
2025-11-25 00:39:54.942 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:39:54.943 +02:00 [INF] Executing endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:39:54.944 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:39:54.946 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:39:54.948 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:39:54.949 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:39:54.949 +02:00 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.DoctorController (Hospital).
2025-11-25 00:39:54.950 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:39:54.952 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:39:54.953 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:39:54.955 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:39:54.957 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 00:39:54.958 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:39:54.959 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:39:54.961 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 00:39:54.962 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:39:54.963 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 00:39:54.964 +02:00 [INF] Get All Branch called at "2025-11-25T00:39:54.9647304+02:00"
2025-11-25 00:39:54.966 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:39:54.968 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 00:39:54.968 +02:00 [INF] Fetching all branches
2025-11-25 00:39:54.969 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:39:54.970 +02:00 [INF] get all Specialization called at "2025-11-25T00:39:54.9705990+02:00"
2025-11-25 00:39:54.972 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-11-25 00:39:54.973 +02:00 [INF] Fetching all specializations in the system
2025-11-25 00:39:54.978 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-11-25 00:39:54.981 +02:00 [INF] get all doctor in system called at "2025-11-25T00:39:54.9811482+02:00"
2025-11-25 00:39:54.981 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:39:54.981 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:39:54.983 +02:00 [INF] Fetching all doctors in the system
2025-11-25 00:39:54.984 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:39:54.985 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:39:54.987 +02:00 [DBG] Created DbConnection. (2ms).
2025-11-25 00:39:54.987 +02:00 [DBG] Created DbConnection. (1ms).
2025-11-25 00:39:54.988 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:39:54.988 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:54.989 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:54.992 +02:00 [DBG] Compiling query expression: 
'DbSet<Doctor>()
    .Include(d => d.User)
    .Include(d => d.Specialization)
    .Include(d => d.Branches)
    .Include(d => d.Schedules)'
2025-11-25 00:39:54.993 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:55.000 +02:00 [DBG] Including navigation: 'Doctor.User'.
2025-11-25 00:39:55.001 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:39:55.003 +02:00 [DBG] Including navigation: 'Doctor.Specialization'.
2025-11-25 00:39:55.003 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-25 00:39:55.004 +02:00 [DBG] Including navigation: 'Doctor.Branches'.
2025-11-25 00:39:55.005 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-11-25 00:39:55.007 +02:00 [DBG] Including navigation: 'Doctor.Schedules'.
2025-11-25 00:39:55.007 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:55.009 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 00:39:55.011 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:39:55.016 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 00:39:55.016 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-11-25 00:39:55.024 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:39:55.025 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-11-25 00:39:55.027 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchSpecialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:39:55.028 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 00:39:55.030 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:39:55.033 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:39:55.034 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 00:39:55.034 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:39:55.036 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:55.038 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:39:55.039 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-25 00:39:55.039 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-11-25 00:39:55.041 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:55.044 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:55.045 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 20ms reading results.
2025-11-25 00:39:55.046 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (2ms).
2025-11-25 00:39:55.047 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:55.050 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Doctor>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Doctor.DoctorId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Doctor.Available (bool?), 1], [Property: Doctor.Biography (string), 2], [Property: Doctor.ConsultationFees (decimal) Required, 3], [Property: Doctor.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 4], [Property: Doctor.ExperienceYears (int?), 5], [Property: Doctor.ImageURL (string) MaxLength(300), 6], [Property: Doctor.SpecializationId (int) Required FK Index, 7], [Property: Doctor.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 8], [Property: Doctor.UserId (string) Required FK Index, 9] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 10], [Property: User.AccessFailedCount (int) Required, 11], [Property: User.ConcurrencyStamp (string) Concurrency, 12], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 13], [Property: User.DateOfBirth (DateOnly?), 14], [Property: User.Email (string) Index MaxLength(256), 15], [Property: User.EmailConfirmed (bool) Required, 16], [Property: User.FullName (string) Required MaxLength(150), 17], [Property: User.Gender (GenderType?) MaxLength(10), 18], [Property: User.LockoutEnabled (bool) Required, 19], [Property: User.LockoutEnd (DateTimeOffset?), 20], [Property: User.NormalizedEmail (string) Index MaxLength(256), 21], [Property: User.NormalizedUserName (string) Index MaxLength(256), 22], [Property: User.PasswordHash (string), 23], [Property: User.PhoneNumber (string), 24], [Property: User.PhoneNumberConfirmed (bool) Required, 25], [Property: User.RefreshToken (string), 26], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 27], [Property: User.Role (string) Required MaxLength(50), 28], [Property: User.SecurityStamp (string), 29], [Property: User.TwoFactorEnabled (bool) Required, 30], [Property: User.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 31], [Property: User.UserName (string) MaxLength(256), 32] }
            2 -> Dictionary<IProperty, int> { [Property: Specialization.SpecializationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 33], [Property: Specialization.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 34], [Property: Specialization.Description (string), 35], [Property: Specialization.Name (string) Required MaxLength(120), 36], [Property: Specialization.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 37] }
            3 -> 0
            4 -> 10
            5 -> 33
            6 -> Dictionary<IProperty, int> { [Property: BranchDoctor (Dictionary<string, object>).BranchesBranchId (no field, int) Indexer Required PK FK AfterSave:Throw, 38], [Property: BranchDoctor (Dictionary<string, object>).DoctorsDoctorId (no field, int) Indexer Required PK FK Index AfterSave:Throw, 39] }
            7 -> Dictionary<IProperty, int> { [Property: Branch.BranchId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 40], [Property: Branch.Address (string) MaxLength(250), 41], [Property: Branch.BranchName (string) Required MaxLength(150), 42], [Property: Branch.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 43], [Property: Branch.Description (string), 44], [Property: Branch.Email (string) MaxLength(200), 45], [Property: Branch.ImageURL (string) MaxLength(300), 46], [Property: Branch.Phone (string) MaxLength(25), 47], [Property: Branch.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 48] }
            8 -> 38
            9 -> 39
            10 -> 40
            11 -> Dictionary<IProperty, int> { [Property: Schedule.ScheduleId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 49], [Property: Schedule.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 50], [Property: Schedule.DayOfWeek (string) Required MaxLength(20), 51], [Property: Schedule.DoctorId (int) Required FK Index, 52], [Property: Schedule.EndTime (DateTime) Required, 53], [Property: Schedule.Shift (AppointmentShift) Required, 54], [Property: Schedule.StartTime (DateTime) Required, 55], [Property: Schedule.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 56] }
            12 -> 49
        SELECT d.DoctorId, d.Available, d.Biography, d.ConsultationFees, d.CreatedAt, d.ExperienceYears, d.ImageURL, d.SpecializationId, d.UpdatedAt, d.UserId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DateOfBirth, u.Email, u.EmailConfirmed, u.FullName, u.Gender, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.RefreshToken, u.RefreshTokenExpiryTime, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UpdatedAt, u.UserName, s.SpecializationId, s.CreatedAt, s.Description, s.Name, s.UpdatedAt, t.BranchesBranchId, t.DoctorsDoctorId, t.BranchId, t.Address, t.BranchName, t.CreatedAt, t.Description, t.Email, t.ImageURL, t.Phone, t.UpdatedAt, s0.ScheduleId, s0.CreatedAt, s0.DayOfWeek, s0.DoctorId, s0.EndTime, s0.Shift, s0.StartTime, s0.UpdatedAt
        FROM Doctors AS d
        INNER JOIN Users AS u ON d.UserId == u.Id
        INNER JOIN Specializations AS s ON d.SpecializationId == s.SpecializationId
        LEFT JOIN 
        (
            SELECT d0.BranchesBranchId, d0.DoctorsDoctorId, b.BranchId, b.Address, b.BranchName, b.CreatedAt, b.Description, b.Email, b.ImageURL, b.Phone, b.UpdatedAt
            FROM DoctorBranches AS d0
            INNER JOIN Branches AS b ON d0.BranchesBranchId == b.BranchId
        ) AS t ON d.DoctorId == t.DoctorsDoctorId
        LEFT JOIN Schedules AS s0 ON d.DoctorId == s0.DoctorId
        ORDER BY d.DoctorId ASC, u.Id ASC, s.SpecializationId ASC, t.BranchesBranchId ASC, t.DoctorsDoctorId ASC, t.BranchId ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Doctor>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-11-25 00:39:55.049 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 00:39:55.050 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (2ms).
2025-11-25 00:39:55.053 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:39:55.054 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 00:39:55.056 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 00:39:55.057 +02:00 [DBG] Created DbConnection. (3ms).
2025-11-25 00:39:55.057 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 00:39:55.060 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 00:39:55.061 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:55.062 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 00:39:55.062 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 00:39:55.064 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:55.064 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 00:39:55.065 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 00:39:55.066 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:39:55.067 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Branch.BranchDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 00:39:55.068 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 00:39:55.069 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-11-25 00:39:55.071 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetAll (Hospital) in 114.2357ms
2025-11-25 00:39:55.072 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Specialization.SpecializationDTO, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 00:39:55.074 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-11-25 00:39:55.075 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 00:39:55.077 +02:00 [INF] Executed action Hospital.Controllers.SpecializationsController.GetAll (Hospital) in 113.6563ms
2025-11-25 00:39:55.078 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [s0].[ScheduleId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t] ON [d].[DoctorId] = [t].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [d].[DoctorId] = [s0].[DoctorId]
ORDER BY [d].[DoctorId], [u].[Id], [s].[SpecializationId], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId]
2025-11-25 00:39:55.079 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:39:55.081 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 00:39:55.084 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:55.087 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:39:55.088 +02:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-11-25 00:39:55.090 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:55.092 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetAll - 200 null application/json; charset=utf-8 185.0467ms
2025-11-25 00:39:55.093 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-11-25 00:39:55.098 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - 200 null application/json; charset=utf-8 187.5397ms
2025-11-25 00:39:55.104 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [s0].[ScheduleId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t] ON [d].[DoctorId] = [t].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [d].[DoctorId] = [s0].[DoctorId]
ORDER BY [d].[DoctorId], [u].[Id], [s].[SpecializationId], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId]
2025-11-25 00:39:55.107 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:39:55.109 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:39:55.110 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:39:55.113 +02:00 [DBG] The navigation 'Doctor.Specialization' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:39:55.116 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:39:55.121 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchDoctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:39:55.124 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:39:55.130 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:39:55.142 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:55.143 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 36ms reading results.
2025-11-25 00:39:55.145 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:55.146 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 00:39:55.160 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 00:39:55.162 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 00:39:55.163 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 00:39:55.164 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 00:39:55.165 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 00:39:55.166 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Doctor.DoctorDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 00:39:55.185 +02:00 [INF] Executed action Hospital.Controllers.DoctorController.GetAll (Hospital) in 212.7852ms
2025-11-25 00:39:55.187 +02:00 [INF] Executed endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:39:55.188 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:39:55.189 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:55.191 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 00:39:55.192 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Doctor/all - 200 null application/json; charset=utf-8 279.7116ms
2025-11-25 00:39:57.038 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetAll - null null
2025-11-25 00:39:57.041 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetAll'
2025-11-25 00:39:57.043 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)' with route pattern 'api/Branch/GetAll' is valid for the request path '/api/Branch/GetAll'
2025-11-25 00:39:57.045 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 00:39:57.046 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:39:57.046 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:39:57.047 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:39:57.048 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:39:57.049 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 00:39:57.050 +02:00 [INF] Route matched with {action = "GetAll", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.BranchController (Hospital).
2025-11-25 00:39:57.052 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:39:57.053 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:39:57.054 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:39:57.056 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:39:57.057 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:39:57.058 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 00:39:57.061 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 00:39:57.063 +02:00 [INF] Get All Branch called at "2025-11-25T00:39:57.0630727+02:00"
2025-11-25 00:39:57.064 +02:00 [INF] Fetching all branches
2025-11-25 00:39:57.065 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:39:57.067 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:39:57.068 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 00:39:57.069 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:57.070 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:57.071 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:39:57.072 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 00:39:57.073 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 00:39:57.074 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 00:39:57.079 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 00:39:57.081 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:57.082 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 00:39:57.084 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:57.085 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 00:39:57.087 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 00:39:57.089 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 00:39:57.090 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 00:39:57.091 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 00:39:57.091 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 00:39:57.092 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Branch.BranchDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 00:39:57.094 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetAll (Hospital) in 35.9183ms
2025-11-25 00:39:57.095 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 00:39:57.096 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:39:57.097 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:57.098 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 00:39:57.099 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetAll - 200 null application/json; charset=utf-8 60.9002ms
2025-11-25 00:39:58.625 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetAll - null null
2025-11-25 00:39:58.633 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetAll'
2025-11-25 00:39:58.636 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)' with route pattern 'api/Branch/GetAll' is valid for the request path '/api/Branch/GetAll'
2025-11-25 00:39:58.638 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 00:39:58.640 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:39:58.641 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:39:58.643 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:39:58.646 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:39:58.649 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 00:39:58.650 +02:00 [INF] Route matched with {action = "GetAll", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.BranchController (Hospital).
2025-11-25 00:39:58.653 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:39:58.655 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:39:58.657 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:39:58.660 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:39:58.662 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:39:58.665 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 00:39:58.670 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 00:39:58.672 +02:00 [INF] Get All Branch called at "2025-11-25T00:39:58.6722286+02:00"
2025-11-25 00:39:58.675 +02:00 [INF] Fetching all branches
2025-11-25 00:39:58.677 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:39:58.679 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:39:58.680 +02:00 [DBG] Created DbConnection. (1ms).
2025-11-25 00:39:58.682 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:58.683 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:58.685 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:39:58.687 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-11-25 00:39:58.689 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-11-25 00:39:58.691 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 00:39:58.699 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 00:39:58.702 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:58.703 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 00:39:58.706 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:58.707 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 00:39:58.709 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 00:39:58.712 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 00:39:58.713 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 00:39:58.714 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 00:39:58.715 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 00:39:58.716 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Branch.BranchDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 00:39:58.718 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetAll (Hospital) in 53.2472ms
2025-11-25 00:39:58.720 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 00:39:58.722 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:39:58.724 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:39:58.725 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 00:39:58.727 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetAll - 200 null application/json; charset=utf-8 102.5868ms
2025-11-25 00:39:58.758 +02:00 [DBG] Connection id "0HNHBL98NVIUA" received FIN.
2025-11-25 00:39:58.760 +02:00 [DBG] Connection id "0HNHBL98NVIUA" is closed. The last processed stream ID was 13.
2025-11-25 00:39:58.760 +02:00 [DBG] The connection queue processing loop for 0HNHBL98NVIUA completed.
2025-11-25 00:39:58.762 +02:00 [DBG] Connection id "0HNHBL98NVIUA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 00:39:58.766 +02:00 [DBG] Connection id "0HNHBL98NVIUA" stopped.
2025-11-25 00:40:00.623 +02:00 [DBG] Connection id "0HNHBL98NVIUB" accepted.
2025-11-25 00:40:00.624 +02:00 [DBG] Connection id "0HNHBL98NVIUB" started.
2025-11-25 00:40:00.628 +02:00 [DBG] Connection 0HNHBL98NVIUB established using the following protocol: "Tls13"
2025-11-25 00:40:00.630 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Doctor/all - null null
2025-11-25 00:40:00.633 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Doctor/all'
2025-11-25 00:40:00.635 +02:00 [DBG] Endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)' with route pattern 'api/Doctor/all' is valid for the request path '/api/Doctor/all'
2025-11-25 00:40:00.636 +02:00 [DBG] Endpoint 'Hospital.Controllers.DoctorController.GetDoctor (Hospital)' with route pattern 'api/Doctor/{doctorId}' is valid for the request path '/api/Doctor/all'
2025-11-25 00:40:00.637 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:40:00.638 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:40:00.639 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:40:00.639 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:40:00.640 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:40:00.641 +02:00 [INF] Executing endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:40:00.642 +02:00 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.DoctorController (Hospital).
2025-11-25 00:40:00.643 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:40:00.644 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:40:00.645 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:40:00.647 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:40:00.648 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:40:00.649 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-11-25 00:40:00.652 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-11-25 00:40:00.653 +02:00 [INF] get all doctor in system called at "2025-11-25T00:40:00.6531124+02:00"
2025-11-25 00:40:00.653 +02:00 [INF] Fetching all doctors in the system
2025-11-25 00:40:00.654 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:40:00.656 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:40:00.657 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 00:40:00.658 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:40:00.659 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:40:00.659 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:40:00.660 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 00:40:00.661 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 00:40:00.662 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [s0].[ScheduleId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t] ON [d].[DoctorId] = [t].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [d].[DoctorId] = [s0].[DoctorId]
ORDER BY [d].[DoctorId], [u].[Id], [s].[SpecializationId], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId]
2025-11-25 00:40:00.672 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [s0].[ScheduleId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t] ON [d].[DoctorId] = [t].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [d].[DoctorId] = [s0].[DoctorId]
ORDER BY [d].[DoctorId], [u].[Id], [s].[SpecializationId], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId]
2025-11-25 00:40:00.674 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:40:00.675 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:40:00.676 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:40:00.677 +02:00 [DBG] The navigation 'Doctor.Specialization' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:40:00.677 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:40:00.678 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchDoctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:40:00.679 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:40:00.680 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:40:00.681 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:40:00.682 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 8ms reading results.
2025-11-25 00:40:00.683 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:40:00.684 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 00:40:00.685 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 00:40:00.687 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 00:40:00.687 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 00:40:00.688 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 00:40:00.688 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 00:40:00.689 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Doctor.DoctorDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 00:40:00.690 +02:00 [INF] Executed action Hospital.Controllers.DoctorController.GetAll (Hospital) in 41.3352ms
2025-11-25 00:40:00.691 +02:00 [INF] Executed endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:40:00.692 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:40:00.693 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:40:00.694 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 00:40:00.695 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Doctor/all - 200 null application/json; charset=utf-8 64.9052ms
2025-11-25 00:40:03.759 +02:00 [DBG] Connection id "0HNHBL98NVIUB" received FIN.
2025-11-25 00:40:03.760 +02:00 [DBG] Connection id "0HNHBL98NVIUB" is closed. The last processed stream ID was 1.
2025-11-25 00:40:03.760 +02:00 [DBG] The connection queue processing loop for 0HNHBL98NVIUB completed.
2025-11-25 00:40:03.761 +02:00 [DBG] Connection id "0HNHBL98NVIUB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 00:40:03.763 +02:00 [DBG] Connection id "0HNHBL98NVIUB" stopped.
2025-11-25 00:41:06.010 +02:00 [DBG] Connection id "0HNHBL98NVIUC" accepted.
2025-11-25 00:41:06.017 +02:00 [DBG] Connection id "0HNHBL98NVIUC" started.
2025-11-25 00:41:06.023 +02:00 [DBG] Connection 0HNHBL98NVIUC established using the following protocol: "Tls13"
2025-11-25 00:41:06.029 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Doctor/all - null null
2025-11-25 00:41:06.036 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Doctor/all'
2025-11-25 00:41:06.037 +02:00 [DBG] Endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)' with route pattern 'api/Doctor/all' is valid for the request path '/api/Doctor/all'
2025-11-25 00:41:06.039 +02:00 [DBG] Endpoint 'Hospital.Controllers.DoctorController.GetDoctor (Hospital)' with route pattern 'api/Doctor/{doctorId}' is valid for the request path '/api/Doctor/all'
2025-11-25 00:41:06.040 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:41:06.041 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:41:06.041 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:41:06.042 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:41:06.043 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:41:06.044 +02:00 [INF] Executing endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:41:06.045 +02:00 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.DoctorController (Hospital).
2025-11-25 00:41:06.046 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:41:06.047 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:41:06.049 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:41:06.050 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:41:06.052 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:41:06.053 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-11-25 00:41:06.066 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-11-25 00:41:06.067 +02:00 [INF] get all doctor in system called at "2025-11-25T00:41:06.0672365+02:00"
2025-11-25 00:41:06.068 +02:00 [INF] Fetching all doctors in the system
2025-11-25 00:41:06.069 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:41:06.070 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:41:06.071 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 00:41:06.072 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:06.073 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:06.074 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:41:06.075 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 00:41:06.076 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 00:41:06.077 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [s0].[ScheduleId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t] ON [d].[DoctorId] = [t].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [d].[DoctorId] = [s0].[DoctorId]
ORDER BY [d].[DoctorId], [u].[Id], [s].[SpecializationId], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId]
2025-11-25 00:41:06.090 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [s0].[ScheduleId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t] ON [d].[DoctorId] = [t].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [d].[DoctorId] = [s0].[DoctorId]
ORDER BY [d].[DoctorId], [u].[Id], [s].[SpecializationId], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId]
2025-11-25 00:41:06.092 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:06.093 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:06.094 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:06.095 +02:00 [DBG] The navigation 'Doctor.Specialization' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:06.095 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:06.097 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchDoctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:06.099 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:06.100 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:06.101 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:06.102 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 10ms reading results.
2025-11-25 00:41:06.103 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:06.104 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 00:41:06.106 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 00:41:06.108 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 00:41:06.108 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 00:41:06.109 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 00:41:06.110 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 00:41:06.111 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Doctor.DoctorDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 00:41:06.112 +02:00 [INF] Executed action Hospital.Controllers.DoctorController.GetAll (Hospital) in 59.1145ms
2025-11-25 00:41:06.113 +02:00 [INF] Executed endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:41:06.114 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:41:06.114 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:06.115 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 00:41:06.116 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Schedule - null null
2025-11-25 00:41:06.117 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Doctor/all - 200 null application/json; charset=utf-8 87.6692ms
2025-11-25 00:41:06.119 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Schedule'
2025-11-25 00:41:06.122 +02:00 [DBG] Endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)' with route pattern 'api/Schedule' is valid for the request path '/api/Schedule'
2025-11-25 00:41:06.123 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)'
2025-11-25 00:41:06.124 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:41:06.125 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:41:06.125 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:41:06.126 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:41:06.127 +02:00 [INF] Executing endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)'
2025-11-25 00:41:06.131 +02:00 [INF] Route matched with {action = "GetAll", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Schedule.ScheduleDto]]] GetAll() on controller Hospital.Controllers.ScheduleController (Hospital).
2025-11-25 00:41:06.133 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:41:06.134 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:41:06.135 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:41:06.137 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:41:06.138 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:41:06.139 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 00:41:06.141 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 00:41:06.143 +02:00 [INF] get all schedule called at "2025-11-25T00:41:06.1436462+02:00"
2025-11-25 00:41:06.146 +02:00 [INF] Fetching all schedules
2025-11-25 00:41:06.148 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:41:06.151 +02:00 [DBG] Compiling query expression: 
'DbSet<Schedule>()
    .Include(s => s.Doctor)
    .ThenInclude(d => d.User)'
2025-11-25 00:41:06.153 +02:00 [DBG] Including navigation: 'Schedule.Doctor'.
2025-11-25 00:41:06.155 +02:00 [DBG] Including navigation: 'Doctor.User'.
2025-11-25 00:41:06.164 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Schedule>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Schedule.ScheduleId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Schedule.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: Schedule.DayOfWeek (string) Required MaxLength(20), 2], [Property: Schedule.DoctorId (int) Required FK Index, 3], [Property: Schedule.EndTime (DateTime) Required, 4], [Property: Schedule.Shift (AppointmentShift) Required, 5], [Property: Schedule.StartTime (DateTime) Required, 6], [Property: Schedule.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 7] }
            1 -> Dictionary<IProperty, int> { [Property: Doctor.DoctorId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 8], [Property: Doctor.Available (bool?), 9], [Property: Doctor.Biography (string), 10], [Property: Doctor.ConsultationFees (decimal) Required, 11], [Property: Doctor.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 12], [Property: Doctor.ExperienceYears (int?), 13], [Property: Doctor.ImageURL (string) MaxLength(300), 14], [Property: Doctor.SpecializationId (int) Required FK Index, 15], [Property: Doctor.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 16], [Property: Doctor.UserId (string) Required FK Index, 17] }
            2 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 18], [Property: User.AccessFailedCount (int) Required, 19], [Property: User.ConcurrencyStamp (string) Concurrency, 20], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 21], [Property: User.DateOfBirth (DateOnly?), 22], [Property: User.Email (string) Index MaxLength(256), 23], [Property: User.EmailConfirmed (bool) Required, 24], [Property: User.FullName (string) Required MaxLength(150), 25], [Property: User.Gender (GenderType?) MaxLength(10), 26], [Property: User.LockoutEnabled (bool) Required, 27], [Property: User.LockoutEnd (DateTimeOffset?), 28], [Property: User.NormalizedEmail (string) Index MaxLength(256), 29], [Property: User.NormalizedUserName (string) Index MaxLength(256), 30], [Property: User.PasswordHash (string), 31], [Property: User.PhoneNumber (string), 32], [Property: User.PhoneNumberConfirmed (bool) Required, 33], [Property: User.RefreshToken (string), 34], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 35], [Property: User.Role (string) Required MaxLength(50), 36], [Property: User.SecurityStamp (string), 37], [Property: User.TwoFactorEnabled (bool) Required, 38], [Property: User.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 39], [Property: User.UserName (string) MaxLength(256), 40] }
        SELECT s.ScheduleId, s.CreatedAt, s.DayOfWeek, s.DoctorId, s.EndTime, s.Shift, s.StartTime, s.UpdatedAt, d.DoctorId, d.Available, d.Biography, d.ConsultationFees, d.CreatedAt, d.ExperienceYears, d.ImageURL, d.SpecializationId, d.UpdatedAt, d.UserId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DateOfBirth, u.Email, u.EmailConfirmed, u.FullName, u.Gender, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.RefreshToken, u.RefreshTokenExpiryTime, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UpdatedAt, u.UserName
        FROM Schedules AS s
        INNER JOIN Doctors AS d ON s.DoctorId == d.DoctorId
        INNER JOIN Users AS u ON d.UserId == u.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Schedule>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-11-25 00:41:06.166 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:41:06.167 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 00:41:06.168 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:06.169 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:06.170 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:41:06.171 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 00:41:06.172 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 00:41:06.173 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
2025-11-25 00:41:06.179 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
2025-11-25 00:41:06.181 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:06.182 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:06.184 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:06.185 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:06.186 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:06.187 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:06.188 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-11-25 00:41:06.189 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:06.190 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 00:41:06.196 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 00:41:06.198 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 00:41:06.199 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 00:41:06.199 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 00:41:06.200 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 00:41:06.201 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Schedule.ScheduleDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 00:41:06.207 +02:00 [INF] Executed action Hospital.Controllers.ScheduleController.GetAll (Hospital) in 68.2688ms
2025-11-25 00:41:06.208 +02:00 [INF] Executed endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)'
2025-11-25 00:41:06.209 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:41:06.210 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:06.211 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 00:41:06.212 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Schedule - 200 null application/json; charset=utf-8 96.6826ms
2025-11-25 00:41:08.774 +02:00 [DBG] Connection id "0HNHBL98NVIUC" received FIN.
2025-11-25 00:41:08.775 +02:00 [DBG] Connection id "0HNHBL98NVIUC" is closed. The last processed stream ID was 3.
2025-11-25 00:41:08.775 +02:00 [DBG] The connection queue processing loop for 0HNHBL98NVIUC completed.
2025-11-25 00:41:08.777 +02:00 [DBG] Connection id "0HNHBL98NVIUC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 00:41:08.779 +02:00 [DBG] Connection id "0HNHBL98NVIUC" stopped.
2025-11-25 00:41:21.389 +02:00 [DBG] Connection id "0HNHBL98NVIUD" accepted.
2025-11-25 00:41:21.390 +02:00 [DBG] Connection id "0HNHBL98NVIUD" started.
2025-11-25 00:41:21.394 +02:00 [DBG] Connection 0HNHBL98NVIUD established using the following protocol: "Tls13"
2025-11-25 00:41:21.396 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Doctor/all - null null
2025-11-25 00:41:21.398 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Doctor/all'
2025-11-25 00:41:21.399 +02:00 [DBG] Endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)' with route pattern 'api/Doctor/all' is valid for the request path '/api/Doctor/all'
2025-11-25 00:41:21.401 +02:00 [DBG] Endpoint 'Hospital.Controllers.DoctorController.GetDoctor (Hospital)' with route pattern 'api/Doctor/{doctorId}' is valid for the request path '/api/Doctor/all'
2025-11-25 00:41:21.402 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:41:21.403 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:41:21.404 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:41:21.405 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:41:21.405 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:41:21.406 +02:00 [INF] Executing endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:41:21.407 +02:00 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.DoctorController (Hospital).
2025-11-25 00:41:21.409 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:41:21.410 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:41:21.411 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:41:21.413 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:41:21.414 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:41:21.415 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-11-25 00:41:21.416 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-11-25 00:41:21.418 +02:00 [INF] get all doctor in system called at "2025-11-25T00:41:21.4180078+02:00"
2025-11-25 00:41:21.418 +02:00 [INF] Fetching all doctors in the system
2025-11-25 00:41:21.420 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:41:21.422 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:41:21.423 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 00:41:21.423 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:21.425 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:21.426 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:41:21.427 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 00:41:21.428 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 00:41:21.429 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [s0].[ScheduleId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t] ON [d].[DoctorId] = [t].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [d].[DoctorId] = [s0].[DoctorId]
ORDER BY [d].[DoctorId], [u].[Id], [s].[SpecializationId], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId]
2025-11-25 00:41:21.441 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [s0].[ScheduleId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t] ON [d].[DoctorId] = [t].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [d].[DoctorId] = [s0].[DoctorId]
ORDER BY [d].[DoctorId], [u].[Id], [s].[SpecializationId], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId]
2025-11-25 00:41:21.443 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:21.444 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:21.445 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:21.446 +02:00 [DBG] The navigation 'Doctor.Specialization' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:21.447 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:21.448 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchDoctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:21.449 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:21.450 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:21.451 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:21.452 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 8ms reading results.
2025-11-25 00:41:21.453 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:21.454 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 00:41:21.456 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 00:41:21.458 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 00:41:21.458 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 00:41:21.459 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 00:41:21.459 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 00:41:21.461 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Doctor.DoctorDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 00:41:21.462 +02:00 [INF] Executed action Hospital.Controllers.DoctorController.GetAll (Hospital) in 46.6146ms
2025-11-25 00:41:21.463 +02:00 [INF] Executed endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:41:21.463 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:41:21.464 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:21.465 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 00:41:21.466 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Doctor/all - 200 null application/json; charset=utf-8 70.7133ms
2025-11-25 00:41:22.265 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Doctor/all - null null
2025-11-25 00:41:22.268 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Doctor/all'
2025-11-25 00:41:22.269 +02:00 [DBG] Endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)' with route pattern 'api/Doctor/all' is valid for the request path '/api/Doctor/all'
2025-11-25 00:41:22.270 +02:00 [DBG] Endpoint 'Hospital.Controllers.DoctorController.GetDoctor (Hospital)' with route pattern 'api/Doctor/{doctorId}' is valid for the request path '/api/Doctor/all'
2025-11-25 00:41:22.271 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:41:22.272 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:41:22.273 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:41:22.274 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:41:22.275 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:41:22.276 +02:00 [INF] Executing endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:41:22.277 +02:00 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.DoctorController (Hospital).
2025-11-25 00:41:22.279 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:41:22.280 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:41:22.281 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:41:22.282 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:41:22.283 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:41:22.285 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-11-25 00:41:22.286 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-11-25 00:41:22.288 +02:00 [INF] get all doctor in system called at "2025-11-25T00:41:22.2879731+02:00"
2025-11-25 00:41:22.288 +02:00 [INF] Fetching all doctors in the system
2025-11-25 00:41:22.289 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:41:22.292 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:41:22.293 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 00:41:22.294 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:22.295 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:22.296 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:41:22.297 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 00:41:22.298 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 00:41:22.299 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [s0].[ScheduleId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t] ON [d].[DoctorId] = [t].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [d].[DoctorId] = [s0].[DoctorId]
ORDER BY [d].[DoctorId], [u].[Id], [s].[SpecializationId], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId]
2025-11-25 00:41:22.313 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [s0].[ScheduleId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t] ON [d].[DoctorId] = [t].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [d].[DoctorId] = [s0].[DoctorId]
ORDER BY [d].[DoctorId], [u].[Id], [s].[SpecializationId], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId]
2025-11-25 00:41:22.315 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:22.317 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:22.318 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:22.319 +02:00 [DBG] The navigation 'Doctor.Specialization' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:22.320 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:22.322 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchDoctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:22.323 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:22.324 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:22.325 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:22.327 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 11ms reading results.
2025-11-25 00:41:22.328 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:22.329 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 00:41:22.331 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 00:41:22.332 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 00:41:22.333 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 00:41:22.334 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 00:41:22.334 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 00:41:22.336 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Doctor.DoctorDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 00:41:22.337 +02:00 [INF] Executed action Hospital.Controllers.DoctorController.GetAll (Hospital) in 52.2544ms
2025-11-25 00:41:22.338 +02:00 [INF] Executed endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:41:22.339 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:41:22.340 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:22.341 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 00:41:22.342 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Schedule - null null
2025-11-25 00:41:22.343 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Doctor/all - 200 null application/json; charset=utf-8 77.865ms
2025-11-25 00:41:22.344 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Schedule'
2025-11-25 00:41:22.348 +02:00 [DBG] Endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)' with route pattern 'api/Schedule' is valid for the request path '/api/Schedule'
2025-11-25 00:41:22.349 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)'
2025-11-25 00:41:22.350 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:41:22.350 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:41:22.351 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:41:22.352 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:41:22.353 +02:00 [INF] Executing endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)'
2025-11-25 00:41:22.355 +02:00 [INF] Route matched with {action = "GetAll", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Schedule.ScheduleDto]]] GetAll() on controller Hospital.Controllers.ScheduleController (Hospital).
2025-11-25 00:41:22.356 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:41:22.358 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:41:22.359 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:41:22.360 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:41:22.362 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:41:22.363 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 00:41:22.364 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 00:41:22.365 +02:00 [INF] get all schedule called at "2025-11-25T00:41:22.3658589+02:00"
2025-11-25 00:41:22.366 +02:00 [INF] Fetching all schedules
2025-11-25 00:41:22.367 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:41:22.369 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:41:22.370 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 00:41:22.371 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:22.372 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:22.373 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:41:22.374 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 00:41:22.375 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 00:41:22.376 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
2025-11-25 00:41:22.380 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
2025-11-25 00:41:22.382 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:22.384 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:22.385 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:22.386 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:22.387 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:22.388 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:22.389 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-11-25 00:41:22.391 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:22.392 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 00:41:22.393 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 00:41:22.395 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 00:41:22.395 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 00:41:22.396 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 00:41:22.397 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 00:41:22.398 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Schedule.ScheduleDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 00:41:22.399 +02:00 [INF] Executed action Hospital.Controllers.ScheduleController.GetAll (Hospital) in 36.2957ms
2025-11-25 00:41:22.400 +02:00 [INF] Executed endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)'
2025-11-25 00:41:22.401 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:41:22.405 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:22.406 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 00:41:22.407 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Schedule - 200 null application/json; charset=utf-8 65.8389ms
2025-11-25 00:41:23.776 +02:00 [DBG] Connection id "0HNHBL98NVIUD" received FIN.
2025-11-25 00:41:23.777 +02:00 [DBG] Connection id "0HNHBL98NVIUD" is closed. The last processed stream ID was 5.
2025-11-25 00:41:23.777 +02:00 [DBG] The connection queue processing loop for 0HNHBL98NVIUD completed.
2025-11-25 00:41:23.778 +02:00 [DBG] Connection id "0HNHBL98NVIUD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 00:41:23.781 +02:00 [DBG] Connection id "0HNHBL98NVIUD" stopped.
2025-11-25 00:41:24.610 +02:00 [DBG] Connection id "0HNHBL98NVIUE" accepted.
2025-11-25 00:41:24.611 +02:00 [DBG] Connection id "0HNHBL98NVIUE" started.
2025-11-25 00:41:24.615 +02:00 [DBG] Connection 0HNHBL98NVIUE established using the following protocol: "Tls13"
2025-11-25 00:41:24.618 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Doctor/all - null null
2025-11-25 00:41:24.621 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Doctor/all'
2025-11-25 00:41:24.622 +02:00 [DBG] Endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)' with route pattern 'api/Doctor/all' is valid for the request path '/api/Doctor/all'
2025-11-25 00:41:24.623 +02:00 [DBG] Endpoint 'Hospital.Controllers.DoctorController.GetDoctor (Hospital)' with route pattern 'api/Doctor/{doctorId}' is valid for the request path '/api/Doctor/all'
2025-11-25 00:41:24.625 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:41:24.626 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:41:24.627 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:41:24.628 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:41:24.629 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:41:24.629 +02:00 [INF] Executing endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:41:24.630 +02:00 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.DoctorController (Hospital).
2025-11-25 00:41:24.632 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:41:24.633 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:41:24.634 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:41:24.635 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:41:24.636 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:41:24.638 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-11-25 00:41:24.639 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-11-25 00:41:24.640 +02:00 [INF] get all doctor in system called at "2025-11-25T00:41:24.6403728+02:00"
2025-11-25 00:41:24.641 +02:00 [INF] Fetching all doctors in the system
2025-11-25 00:41:24.642 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:41:24.644 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:41:24.645 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 00:41:24.646 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:24.647 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:24.648 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:41:24.649 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 00:41:24.650 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 00:41:24.652 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [s0].[ScheduleId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t] ON [d].[DoctorId] = [t].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [d].[DoctorId] = [s0].[DoctorId]
ORDER BY [d].[DoctorId], [u].[Id], [s].[SpecializationId], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId]
2025-11-25 00:41:24.665 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [s0].[ScheduleId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t] ON [d].[DoctorId] = [t].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [d].[DoctorId] = [s0].[DoctorId]
ORDER BY [d].[DoctorId], [u].[Id], [s].[SpecializationId], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId]
2025-11-25 00:41:24.667 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:24.668 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:24.669 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:24.670 +02:00 [DBG] The navigation 'Doctor.Specialization' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:24.671 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:24.672 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchDoctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:24.673 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:24.674 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:24.676 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:24.676 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 9ms reading results.
2025-11-25 00:41:24.677 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:24.678 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 00:41:24.680 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 00:41:24.681 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 00:41:24.682 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 00:41:24.682 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 00:41:24.683 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 00:41:24.684 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Doctor.DoctorDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 00:41:24.685 +02:00 [INF] Executed action Hospital.Controllers.DoctorController.GetAll (Hospital) in 47.7047ms
2025-11-25 00:41:24.686 +02:00 [INF] Executed endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:41:24.687 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:41:24.688 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:24.689 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 00:41:24.690 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Doctor/all - 200 null application/json; charset=utf-8 72.8863ms
2025-11-25 00:41:28.777 +02:00 [DBG] Connection id "0HNHBL98NVIUE" received FIN.
2025-11-25 00:41:28.778 +02:00 [DBG] Connection id "0HNHBL98NVIUE" is closed. The last processed stream ID was 1.
2025-11-25 00:41:28.778 +02:00 [DBG] The connection queue processing loop for 0HNHBL98NVIUE completed.
2025-11-25 00:41:28.779 +02:00 [DBG] Connection id "0HNHBL98NVIUE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 00:41:28.781 +02:00 [DBG] Connection id "0HNHBL98NVIUE" stopped.
2025-11-25 00:41:37.175 +02:00 [DBG] Connection id "0HNHBL98NVIUF" accepted.
2025-11-25 00:41:37.176 +02:00 [DBG] Connection id "0HNHBL98NVIUF" started.
2025-11-25 00:41:37.181 +02:00 [DBG] Connection 0HNHBL98NVIUF established using the following protocol: "Tls13"
2025-11-25 00:41:37.184 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Doctor/all - null null
2025-11-25 00:41:37.187 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Doctor/all'
2025-11-25 00:41:37.188 +02:00 [DBG] Endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)' with route pattern 'api/Doctor/all' is valid for the request path '/api/Doctor/all'
2025-11-25 00:41:37.191 +02:00 [DBG] Endpoint 'Hospital.Controllers.DoctorController.GetDoctor (Hospital)' with route pattern 'api/Doctor/{doctorId}' is valid for the request path '/api/Doctor/all'
2025-11-25 00:41:37.192 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:41:37.194 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:41:37.195 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:41:37.196 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:41:37.197 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:41:37.198 +02:00 [INF] Executing endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:41:37.199 +02:00 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.DoctorController (Hospital).
2025-11-25 00:41:37.200 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:41:37.202 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:41:37.204 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:41:37.206 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:41:37.207 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:41:37.209 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-11-25 00:41:37.210 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-11-25 00:41:37.211 +02:00 [INF] get all doctor in system called at "2025-11-25T00:41:37.2119111+02:00"
2025-11-25 00:41:37.212 +02:00 [INF] Fetching all doctors in the system
2025-11-25 00:41:37.214 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:41:37.216 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:41:37.217 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 00:41:37.218 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:37.220 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:37.221 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:41:37.222 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-25 00:41:37.224 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 00:41:37.225 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [s0].[ScheduleId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t] ON [d].[DoctorId] = [t].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [d].[DoctorId] = [s0].[DoctorId]
ORDER BY [d].[DoctorId], [u].[Id], [s].[SpecializationId], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId]
2025-11-25 00:41:37.240 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [s0].[ScheduleId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t] ON [d].[DoctorId] = [t].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [d].[DoctorId] = [s0].[DoctorId]
ORDER BY [d].[DoctorId], [u].[Id], [s].[SpecializationId], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId]
2025-11-25 00:41:37.242 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:37.244 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:37.245 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:37.246 +02:00 [DBG] The navigation 'Doctor.Specialization' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:37.247 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:37.248 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchDoctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:37.249 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:37.251 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:37.252 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:37.254 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 11ms reading results.
2025-11-25 00:41:37.255 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:37.256 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 00:41:37.257 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 00:41:37.259 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 00:41:37.260 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 00:41:37.260 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 00:41:37.261 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 00:41:37.262 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Doctor.DoctorDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 00:41:37.264 +02:00 [INF] Executed action Hospital.Controllers.DoctorController.GetAll (Hospital) in 55.2826ms
2025-11-25 00:41:37.265 +02:00 [INF] Executed endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:41:37.266 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:41:37.267 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:37.269 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 00:41:37.270 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Schedule - null null
2025-11-25 00:41:37.270 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Doctor/all - 200 null application/json; charset=utf-8 86.4552ms
2025-11-25 00:41:37.272 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Schedule'
2025-11-25 00:41:37.276 +02:00 [DBG] Endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)' with route pattern 'api/Schedule' is valid for the request path '/api/Schedule'
2025-11-25 00:41:37.277 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)'
2025-11-25 00:41:37.278 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:41:37.278 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:41:37.279 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:41:37.280 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:41:37.281 +02:00 [INF] Executing endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)'
2025-11-25 00:41:37.282 +02:00 [INF] Route matched with {action = "GetAll", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Schedule.ScheduleDto]]] GetAll() on controller Hospital.Controllers.ScheduleController (Hospital).
2025-11-25 00:41:37.283 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:41:37.285 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:41:37.286 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:41:37.288 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:41:37.290 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:41:37.291 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 00:41:37.294 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 00:41:37.296 +02:00 [INF] get all schedule called at "2025-11-25T00:41:37.2964805+02:00"
2025-11-25 00:41:37.297 +02:00 [INF] Fetching all schedules
2025-11-25 00:41:37.298 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:41:37.300 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:41:37.301 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 00:41:37.302 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:37.303 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:37.304 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:41:37.305 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 00:41:37.306 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 00:41:37.307 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
2025-11-25 00:41:37.312 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
2025-11-25 00:41:37.314 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:37.316 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:37.317 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:37.318 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:37.319 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:41:37.321 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:37.322 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-11-25 00:41:37.323 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:37.324 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 00:41:37.326 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 00:41:37.328 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 00:41:37.329 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 00:41:37.329 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 00:41:37.330 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 00:41:37.331 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Schedule.ScheduleDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 00:41:37.333 +02:00 [INF] Executed action Hospital.Controllers.ScheduleController.GetAll (Hospital) in 41.7262ms
2025-11-25 00:41:37.334 +02:00 [INF] Executed endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)'
2025-11-25 00:41:37.335 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:41:37.336 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:41:37.337 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 00:41:37.338 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Schedule - 200 null application/json; charset=utf-8 69.217ms
2025-11-25 00:41:38.778 +02:00 [DBG] Connection id "0HNHBL98NVIUF" received FIN.
2025-11-25 00:41:38.779 +02:00 [DBG] Connection id "0HNHBL98NVIUF" is closed. The last processed stream ID was 3.
2025-11-25 00:41:38.779 +02:00 [DBG] The connection queue processing loop for 0HNHBL98NVIUF completed.
2025-11-25 00:41:38.780 +02:00 [DBG] Connection id "0HNHBL98NVIUF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 00:41:38.782 +02:00 [DBG] Connection id "0HNHBL98NVIUF" stopped.
2025-11-25 00:50:44.880 +02:00 [DBG] Connection id "0HNHBL98NVIUG" accepted.
2025-11-25 00:50:44.886 +02:00 [DBG] Connection id "0HNHBL98NVIUG" started.
2025-11-25 00:50:44.890 +02:00 [DBG] Connection 0HNHBL98NVIUG established using the following protocol: "Tls13"
2025-11-25 00:50:44.898 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Doctor/all - null null
2025-11-25 00:50:44.905 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Doctor/all'
2025-11-25 00:50:44.906 +02:00 [DBG] Endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)' with route pattern 'api/Doctor/all' is valid for the request path '/api/Doctor/all'
2025-11-25 00:50:44.907 +02:00 [DBG] Endpoint 'Hospital.Controllers.DoctorController.GetDoctor (Hospital)' with route pattern 'api/Doctor/{doctorId}' is valid for the request path '/api/Doctor/all'
2025-11-25 00:50:44.909 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:50:44.910 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:50:44.911 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:50:44.912 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:50:44.912 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:50:44.913 +02:00 [INF] Executing endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:50:44.914 +02:00 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.DoctorController (Hospital).
2025-11-25 00:50:44.916 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:50:44.917 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:50:44.918 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:50:44.920 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:50:44.921 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:50:44.922 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-11-25 00:50:44.924 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-11-25 00:50:44.925 +02:00 [INF] get all doctor in system called at "2025-11-25T00:50:44.9253346+02:00"
2025-11-25 00:50:44.926 +02:00 [INF] Fetching all doctors in the system
2025-11-25 00:50:44.927 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:50:44.929 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:50:44.929 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 00:50:44.930 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:50:44.974 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:50:44.976 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:50:44.977 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 00:50:44.978 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 00:50:44.979 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [s0].[ScheduleId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t] ON [d].[DoctorId] = [t].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [d].[DoctorId] = [s0].[DoctorId]
ORDER BY [d].[DoctorId], [u].[Id], [s].[SpecializationId], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId]
2025-11-25 00:50:44.998 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [s0].[ScheduleId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t] ON [d].[DoctorId] = [t].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [d].[DoctorId] = [s0].[DoctorId]
ORDER BY [d].[DoctorId], [u].[Id], [s].[SpecializationId], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId]
2025-11-25 00:50:45.000 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:50:45.001 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:50:45.003 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:50:45.004 +02:00 [DBG] The navigation 'Doctor.Specialization' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:50:45.004 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:50:45.005 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchDoctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:50:45.007 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:50:45.008 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:50:45.009 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:50:45.010 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 10ms reading results.
2025-11-25 00:50:45.012 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:50:45.013 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 00:50:45.015 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 00:50:45.017 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 00:50:45.017 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 00:50:45.018 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 00:50:45.018 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 00:50:45.019 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Doctor.DoctorDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 00:50:45.021 +02:00 [INF] Executed action Hospital.Controllers.DoctorController.GetAll (Hospital) in 98.4592ms
2025-11-25 00:50:45.022 +02:00 [INF] Executed endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:50:45.023 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:50:45.024 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:50:45.025 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 00:50:45.026 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Schedule - null null
2025-11-25 00:50:45.026 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Doctor/all - 200 null application/json; charset=utf-8 128.9943ms
2025-11-25 00:50:45.028 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Schedule'
2025-11-25 00:50:45.032 +02:00 [DBG] Endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)' with route pattern 'api/Schedule' is valid for the request path '/api/Schedule'
2025-11-25 00:50:45.033 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)'
2025-11-25 00:50:45.034 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:50:45.035 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:50:45.035 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:50:45.036 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:50:45.037 +02:00 [INF] Executing endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)'
2025-11-25 00:50:45.038 +02:00 [INF] Route matched with {action = "GetAll", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Schedule.ScheduleDto]]] GetAll() on controller Hospital.Controllers.ScheduleController (Hospital).
2025-11-25 00:50:45.039 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:50:45.041 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:50:45.042 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:50:45.043 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:50:45.045 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:50:45.046 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 00:50:45.047 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 00:50:45.049 +02:00 [INF] get all schedule called at "2025-11-25T00:50:45.0490298+02:00"
2025-11-25 00:50:45.050 +02:00 [INF] Fetching all schedules
2025-11-25 00:50:45.051 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:50:45.052 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:50:45.053 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 00:50:45.054 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:50:45.055 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:50:45.056 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:50:45.057 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 00:50:45.058 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 00:50:45.059 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
2025-11-25 00:50:45.064 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
2025-11-25 00:50:45.065 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:50:45.067 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:50:45.068 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:50:45.069 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:50:45.070 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:50:45.071 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:50:45.072 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-11-25 00:50:45.073 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:50:45.074 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 00:50:45.075 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 00:50:45.077 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 00:50:45.077 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 00:50:45.078 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 00:50:45.078 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 00:50:45.079 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Schedule.ScheduleDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 00:50:45.080 +02:00 [INF] Executed action Hospital.Controllers.ScheduleController.GetAll (Hospital) in 34.3729ms
2025-11-25 00:50:45.081 +02:00 [INF] Executed endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)'
2025-11-25 00:50:45.082 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:50:45.083 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:50:45.084 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 00:50:45.085 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Schedule - 200 null application/json; charset=utf-8 59.7454ms
2025-11-25 00:50:53.887 +02:00 [DBG] Connection id "0HNHBL98NVIUG" received FIN.
2025-11-25 00:50:53.888 +02:00 [DBG] Connection id "0HNHBL98NVIUG" is closed. The last processed stream ID was 3.
2025-11-25 00:50:53.888 +02:00 [DBG] The connection queue processing loop for 0HNHBL98NVIUG completed.
2025-11-25 00:50:53.889 +02:00 [DBG] Connection id "0HNHBL98NVIUG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 00:50:53.893 +02:00 [DBG] Connection id "0HNHBL98NVIUG" stopped.
2025-11-25 00:51:15.913 +02:00 [DBG] Connection id "0HNHBL98NVIUH" accepted.
2025-11-25 00:51:15.920 +02:00 [DBG] Connection id "0HNHBL98NVIUH" started.
2025-11-25 00:51:15.923 +02:00 [DBG] Connection 0HNHBL98NVIUH established using the following protocol: "Tls13"
2025-11-25 00:51:15.930 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Doctor/all - null null
2025-11-25 00:51:15.937 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Doctor/all'
2025-11-25 00:51:15.938 +02:00 [DBG] Endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)' with route pattern 'api/Doctor/all' is valid for the request path '/api/Doctor/all'
2025-11-25 00:51:15.939 +02:00 [DBG] Endpoint 'Hospital.Controllers.DoctorController.GetDoctor (Hospital)' with route pattern 'api/Doctor/{doctorId}' is valid for the request path '/api/Doctor/all'
2025-11-25 00:51:15.941 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:51:15.941 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:51:15.942 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:51:15.943 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:51:15.943 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:51:15.944 +02:00 [INF] Executing endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:51:15.945 +02:00 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.DoctorController (Hospital).
2025-11-25 00:51:15.947 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:51:15.948 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:51:15.949 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:51:15.950 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:51:15.951 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:51:15.952 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-11-25 00:51:15.954 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-11-25 00:51:15.955 +02:00 [INF] get all doctor in system called at "2025-11-25T00:51:15.9550650+02:00"
2025-11-25 00:51:15.955 +02:00 [INF] Fetching all doctors in the system
2025-11-25 00:51:15.956 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:51:15.958 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:51:15.959 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 00:51:15.959 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:15.960 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:15.962 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:51:15.962 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 00:51:15.964 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 00:51:15.965 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [s0].[ScheduleId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t] ON [d].[DoctorId] = [t].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [d].[DoctorId] = [s0].[DoctorId]
ORDER BY [d].[DoctorId], [u].[Id], [s].[SpecializationId], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId]
2025-11-25 00:51:15.976 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [s0].[ScheduleId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t] ON [d].[DoctorId] = [t].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [d].[DoctorId] = [s0].[DoctorId]
ORDER BY [d].[DoctorId], [u].[Id], [s].[SpecializationId], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId]
2025-11-25 00:51:15.978 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:15.979 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:15.980 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:15.981 +02:00 [DBG] The navigation 'Doctor.Specialization' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:15.982 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:15.983 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchDoctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:15.983 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:15.984 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:15.985 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:15.986 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 8ms reading results.
2025-11-25 00:51:15.987 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:15.988 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 00:51:15.989 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 00:51:15.991 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 00:51:15.991 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 00:51:15.992 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 00:51:15.992 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 00:51:15.993 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Doctor.DoctorDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 00:51:15.994 +02:00 [INF] Executed action Hospital.Controllers.DoctorController.GetAll (Hospital) in 42.1418ms
2025-11-25 00:51:15.995 +02:00 [INF] Executed endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:51:15.996 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:51:15.997 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:15.998 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 00:51:15.999 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Schedule - null null
2025-11-25 00:51:16.000 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Doctor/all - 200 null application/json; charset=utf-8 70.2074ms
2025-11-25 00:51:16.002 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Schedule'
2025-11-25 00:51:16.005 +02:00 [DBG] Endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)' with route pattern 'api/Schedule' is valid for the request path '/api/Schedule'
2025-11-25 00:51:16.006 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)'
2025-11-25 00:51:16.007 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:51:16.008 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:51:16.009 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:51:16.009 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:51:16.010 +02:00 [INF] Executing endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)'
2025-11-25 00:51:16.011 +02:00 [INF] Route matched with {action = "GetAll", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Schedule.ScheduleDto]]] GetAll() on controller Hospital.Controllers.ScheduleController (Hospital).
2025-11-25 00:51:16.012 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:51:16.014 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:51:16.015 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:51:16.016 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:51:16.018 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:51:16.019 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 00:51:16.020 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 00:51:16.021 +02:00 [INF] get all schedule called at "2025-11-25T00:51:16.0216943+02:00"
2025-11-25 00:51:16.022 +02:00 [INF] Fetching all schedules
2025-11-25 00:51:16.024 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:51:16.025 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:51:16.026 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 00:51:16.027 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:16.028 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:16.029 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:51:16.030 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 00:51:16.031 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 00:51:16.032 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
2025-11-25 00:51:16.037 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
2025-11-25 00:51:16.038 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:16.039 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:16.040 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:16.042 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:16.043 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:16.044 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:16.045 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-11-25 00:51:16.046 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:16.047 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 00:51:16.048 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 00:51:16.050 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 00:51:16.050 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 00:51:16.051 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 00:51:16.051 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 00:51:16.052 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Schedule.ScheduleDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 00:51:16.053 +02:00 [INF] Executed action Hospital.Controllers.ScheduleController.GetAll (Hospital) in 34.5132ms
2025-11-25 00:51:16.054 +02:00 [INF] Executed endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)'
2025-11-25 00:51:16.055 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:51:16.056 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:16.057 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 00:51:16.058 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Schedule - 200 null application/json; charset=utf-8 59.388ms
2025-11-25 00:51:18.892 +02:00 [DBG] Connection id "0HNHBL98NVIUH" received FIN.
2025-11-25 00:51:18.893 +02:00 [DBG] Connection id "0HNHBL98NVIUH" is closed. The last processed stream ID was 3.
2025-11-25 00:51:18.893 +02:00 [DBG] The connection queue processing loop for 0HNHBL98NVIUH completed.
2025-11-25 00:51:18.894 +02:00 [DBG] Connection id "0HNHBL98NVIUH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 00:51:18.899 +02:00 [DBG] Connection id "0HNHBL98NVIUH" stopped.
2025-11-25 00:51:58.256 +02:00 [DBG] Connection id "0HNHBL98NVIUI" accepted.
2025-11-25 00:51:58.261 +02:00 [DBG] Connection id "0HNHBL98NVIUI" started.
2025-11-25 00:51:58.266 +02:00 [DBG] Connection 0HNHBL98NVIUI established using the following protocol: "Tls13"
2025-11-25 00:51:58.273 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Doctor/all - null null
2025-11-25 00:51:58.279 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Doctor/all'
2025-11-25 00:51:58.280 +02:00 [DBG] Endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)' with route pattern 'api/Doctor/all' is valid for the request path '/api/Doctor/all'
2025-11-25 00:51:58.281 +02:00 [DBG] Endpoint 'Hospital.Controllers.DoctorController.GetDoctor (Hospital)' with route pattern 'api/Doctor/{doctorId}' is valid for the request path '/api/Doctor/all'
2025-11-25 00:51:58.283 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:51:58.284 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:51:58.284 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:51:58.285 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:51:58.286 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:51:58.287 +02:00 [INF] Executing endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:51:58.287 +02:00 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.DoctorController (Hospital).
2025-11-25 00:51:58.289 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:51:58.290 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:51:58.291 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:51:58.293 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:51:58.294 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:51:58.295 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-11-25 00:51:58.296 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-11-25 00:51:58.297 +02:00 [INF] get all doctor in system called at "2025-11-25T00:51:58.2976594+02:00"
2025-11-25 00:51:58.298 +02:00 [INF] Fetching all doctors in the system
2025-11-25 00:51:58.299 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:51:58.301 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:51:58.302 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 00:51:58.303 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:58.304 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:58.305 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:51:58.306 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-25 00:51:58.307 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 00:51:58.308 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [s0].[ScheduleId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t] ON [d].[DoctorId] = [t].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [d].[DoctorId] = [s0].[DoctorId]
ORDER BY [d].[DoctorId], [u].[Id], [s].[SpecializationId], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId]
2025-11-25 00:51:58.320 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [s0].[ScheduleId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t] ON [d].[DoctorId] = [t].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [d].[DoctorId] = [s0].[DoctorId]
ORDER BY [d].[DoctorId], [u].[Id], [s].[SpecializationId], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId]
2025-11-25 00:51:58.322 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:58.323 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:58.324 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:58.325 +02:00 [DBG] The navigation 'Doctor.Specialization' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:58.326 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:58.327 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchDoctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:58.328 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:58.329 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:58.329 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:58.330 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 8ms reading results.
2025-11-25 00:51:58.331 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:58.332 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 00:51:58.333 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 00:51:58.335 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 00:51:58.335 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 00:51:58.336 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 00:51:58.336 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 00:51:58.337 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Doctor.DoctorDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 00:51:58.338 +02:00 [INF] Executed action Hospital.Controllers.DoctorController.GetAll (Hospital) in 43.0919ms
2025-11-25 00:51:58.339 +02:00 [INF] Executed endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:51:58.340 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:51:58.341 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:58.342 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 00:51:58.342 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Schedule - null null
2025-11-25 00:51:58.343 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Doctor/all - 200 null application/json; charset=utf-8 70.4542ms
2025-11-25 00:51:58.344 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Schedule'
2025-11-25 00:51:58.347 +02:00 [DBG] Endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)' with route pattern 'api/Schedule' is valid for the request path '/api/Schedule'
2025-11-25 00:51:58.348 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)'
2025-11-25 00:51:58.349 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:51:58.349 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:51:58.350 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:51:58.351 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:51:58.351 +02:00 [INF] Executing endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)'
2025-11-25 00:51:58.352 +02:00 [INF] Route matched with {action = "GetAll", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Schedule.ScheduleDto]]] GetAll() on controller Hospital.Controllers.ScheduleController (Hospital).
2025-11-25 00:51:58.353 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:51:58.354 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:51:58.355 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:51:58.356 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:51:58.357 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:51:58.358 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 00:51:58.359 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 00:51:58.360 +02:00 [INF] get all schedule called at "2025-11-25T00:51:58.3602716+02:00"
2025-11-25 00:51:58.360 +02:00 [INF] Fetching all schedules
2025-11-25 00:51:58.361 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:51:58.363 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:51:58.363 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 00:51:58.364 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:58.365 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:58.366 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:51:58.366 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 00:51:58.367 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 00:51:58.368 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
2025-11-25 00:51:58.372 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
2025-11-25 00:51:58.374 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:58.375 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:58.376 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:58.377 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:58.378 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:58.379 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:58.380 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-11-25 00:51:58.381 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:58.382 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 00:51:58.383 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 00:51:58.385 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 00:51:58.386 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 00:51:58.386 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 00:51:58.387 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 00:51:58.387 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Schedule.ScheduleDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 00:51:58.389 +02:00 [INF] Executed action Hospital.Controllers.ScheduleController.GetAll (Hospital) in 30.9344ms
2025-11-25 00:51:58.390 +02:00 [INF] Executed endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)'
2025-11-25 00:51:58.391 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:51:58.391 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:58.392 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 00:51:58.393 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Schedule - 200 null application/json; charset=utf-8 50.9627ms
2025-11-25 00:51:58.703 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Doctor/all - null null
2025-11-25 00:51:58.705 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Doctor/all'
2025-11-25 00:51:58.706 +02:00 [DBG] Endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)' with route pattern 'api/Doctor/all' is valid for the request path '/api/Doctor/all'
2025-11-25 00:51:58.707 +02:00 [DBG] Endpoint 'Hospital.Controllers.DoctorController.GetDoctor (Hospital)' with route pattern 'api/Doctor/{doctorId}' is valid for the request path '/api/Doctor/all'
2025-11-25 00:51:58.709 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:51:58.710 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:51:58.710 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:51:58.711 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:51:58.712 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:51:58.713 +02:00 [INF] Executing endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:51:58.714 +02:00 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.DoctorController (Hospital).
2025-11-25 00:51:58.715 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:51:58.716 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:51:58.717 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:51:58.718 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:51:58.719 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:51:58.720 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-11-25 00:51:58.722 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-11-25 00:51:58.723 +02:00 [INF] get all doctor in system called at "2025-11-25T00:51:58.7233592+02:00"
2025-11-25 00:51:58.724 +02:00 [INF] Fetching all doctors in the system
2025-11-25 00:51:58.725 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:51:58.726 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:51:58.727 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 00:51:58.727 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:58.728 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:58.729 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:51:58.730 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 00:51:58.731 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 00:51:58.732 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [s0].[ScheduleId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t] ON [d].[DoctorId] = [t].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [d].[DoctorId] = [s0].[DoctorId]
ORDER BY [d].[DoctorId], [u].[Id], [s].[SpecializationId], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId]
2025-11-25 00:51:58.735 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [s0].[ScheduleId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t] ON [d].[DoctorId] = [t].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [d].[DoctorId] = [s0].[DoctorId]
ORDER BY [d].[DoctorId], [u].[Id], [s].[SpecializationId], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId]
2025-11-25 00:51:58.738 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:58.739 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:58.740 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:58.741 +02:00 [DBG] The navigation 'Doctor.Specialization' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:58.741 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:58.742 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchDoctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:58.743 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:58.744 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:58.745 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:58.746 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 8ms reading results.
2025-11-25 00:51:58.747 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:58.748 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 00:51:58.749 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 00:51:58.751 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 00:51:58.751 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 00:51:58.752 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 00:51:58.752 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 00:51:58.753 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Doctor.DoctorDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 00:51:58.754 +02:00 [INF] Executed action Hospital.Controllers.DoctorController.GetAll (Hospital) in 33.7326ms
2025-11-25 00:51:58.755 +02:00 [INF] Executed endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:51:58.756 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:51:58.757 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:58.758 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 00:51:58.759 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Doctor/all - 200 null application/json; charset=utf-8 56.6853ms
2025-11-25 00:51:58.898 +02:00 [DBG] Connection id "0HNHBL98NVIUI" received FIN.
2025-11-25 00:51:58.899 +02:00 [DBG] Connection id "0HNHBL98NVIUI" is closed. The last processed stream ID was 5.
2025-11-25 00:51:58.899 +02:00 [DBG] The connection queue processing loop for 0HNHBL98NVIUI completed.
2025-11-25 00:51:58.900 +02:00 [DBG] Connection id "0HNHBL98NVIUI" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 00:51:58.903 +02:00 [DBG] Connection id "0HNHBL98NVIUI" stopped.
2025-11-25 00:51:59.179 +02:00 [DBG] Connection id "0HNHBL98NVIUJ" accepted.
2025-11-25 00:51:59.180 +02:00 [DBG] Connection id "0HNHBL98NVIUJ" started.
2025-11-25 00:51:59.184 +02:00 [DBG] Connection 0HNHBL98NVIUJ established using the following protocol: "Tls13"
2025-11-25 00:51:59.186 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Doctor/all - null null
2025-11-25 00:51:59.196 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Doctor/all'
2025-11-25 00:51:59.197 +02:00 [DBG] Endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)' with route pattern 'api/Doctor/all' is valid for the request path '/api/Doctor/all'
2025-11-25 00:51:59.198 +02:00 [DBG] Endpoint 'Hospital.Controllers.DoctorController.GetDoctor (Hospital)' with route pattern 'api/Doctor/{doctorId}' is valid for the request path '/api/Doctor/all'
2025-11-25 00:51:59.199 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:51:59.200 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:51:59.200 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:51:59.201 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:51:59.202 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:51:59.203 +02:00 [INF] Executing endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:51:59.204 +02:00 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.DoctorController (Hospital).
2025-11-25 00:51:59.205 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:51:59.206 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:51:59.207 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:51:59.209 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:51:59.210 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:51:59.211 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-11-25 00:51:59.213 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-11-25 00:51:59.214 +02:00 [INF] get all doctor in system called at "2025-11-25T00:51:59.2142401+02:00"
2025-11-25 00:51:59.214 +02:00 [INF] Fetching all doctors in the system
2025-11-25 00:51:59.216 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:51:59.218 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:51:59.218 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 00:51:59.219 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:59.220 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:59.221 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:51:59.221 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 00:51:59.222 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 00:51:59.224 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [s0].[ScheduleId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t] ON [d].[DoctorId] = [t].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [d].[DoctorId] = [s0].[DoctorId]
ORDER BY [d].[DoctorId], [u].[Id], [s].[SpecializationId], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId]
2025-11-25 00:51:59.236 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [s0].[ScheduleId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t] ON [d].[DoctorId] = [t].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [d].[DoctorId] = [s0].[DoctorId]
ORDER BY [d].[DoctorId], [u].[Id], [s].[SpecializationId], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId]
2025-11-25 00:51:59.238 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:59.239 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:59.240 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:59.241 +02:00 [DBG] The navigation 'Doctor.Specialization' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:59.242 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:59.243 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchDoctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:59.244 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:59.245 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:59.246 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:59.247 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 9ms reading results.
2025-11-25 00:51:59.248 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:59.249 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 00:51:59.251 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 00:51:59.252 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 00:51:59.253 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 00:51:59.254 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 00:51:59.254 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 00:51:59.255 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Doctor.DoctorDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 00:51:59.257 +02:00 [INF] Executed action Hospital.Controllers.DoctorController.GetAll (Hospital) in 45.5563ms
2025-11-25 00:51:59.258 +02:00 [INF] Executed endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:51:59.259 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:51:59.260 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:59.261 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 00:51:59.261 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Schedule - null null
2025-11-25 00:51:59.262 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Doctor/all - 200 null application/json; charset=utf-8 76.6947ms
2025-11-25 00:51:59.265 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Schedule'
2025-11-25 00:51:59.268 +02:00 [DBG] Endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)' with route pattern 'api/Schedule' is valid for the request path '/api/Schedule'
2025-11-25 00:51:59.269 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)'
2025-11-25 00:51:59.270 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:51:59.271 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:51:59.271 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:51:59.272 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:51:59.273 +02:00 [INF] Executing endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)'
2025-11-25 00:51:59.274 +02:00 [INF] Route matched with {action = "GetAll", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Schedule.ScheduleDto]]] GetAll() on controller Hospital.Controllers.ScheduleController (Hospital).
2025-11-25 00:51:59.275 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:51:59.276 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:51:59.278 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:51:59.279 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:51:59.280 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:51:59.281 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 00:51:59.283 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 00:51:59.284 +02:00 [INF] get all schedule called at "2025-11-25T00:51:59.2841465+02:00"
2025-11-25 00:51:59.284 +02:00 [INF] Fetching all schedules
2025-11-25 00:51:59.286 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:51:59.287 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:51:59.288 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 00:51:59.289 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:59.290 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:59.291 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:51:59.292 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 00:51:59.293 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 00:51:59.294 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
2025-11-25 00:51:59.303 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
2025-11-25 00:51:59.305 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:59.306 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:59.308 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:59.309 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:59.310 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:59.311 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:59.312 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-11-25 00:51:59.313 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:59.314 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 00:51:59.316 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 00:51:59.318 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 00:51:59.318 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 00:51:59.319 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 00:51:59.320 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 00:51:59.321 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Schedule.ScheduleDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 00:51:59.322 +02:00 [INF] Executed action Hospital.Controllers.ScheduleController.GetAll (Hospital) in 40.5597ms
2025-11-25 00:51:59.324 +02:00 [INF] Executed endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)'
2025-11-25 00:51:59.325 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:51:59.326 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:59.327 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 00:51:59.329 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Schedule - 200 null application/json; charset=utf-8 67.2652ms
2025-11-25 00:51:59.527 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Doctor/all - null null
2025-11-25 00:51:59.530 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Doctor/all'
2025-11-25 00:51:59.530 +02:00 [DBG] Endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)' with route pattern 'api/Doctor/all' is valid for the request path '/api/Doctor/all'
2025-11-25 00:51:59.532 +02:00 [DBG] Endpoint 'Hospital.Controllers.DoctorController.GetDoctor (Hospital)' with route pattern 'api/Doctor/{doctorId}' is valid for the request path '/api/Doctor/all'
2025-11-25 00:51:59.534 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:51:59.535 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:51:59.536 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:51:59.537 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:51:59.537 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:51:59.538 +02:00 [INF] Executing endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:51:59.539 +02:00 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.DoctorController (Hospital).
2025-11-25 00:51:59.541 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:51:59.542 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:51:59.543 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:51:59.544 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:51:59.545 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:51:59.546 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-11-25 00:51:59.547 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-11-25 00:51:59.548 +02:00 [INF] get all doctor in system called at "2025-11-25T00:51:59.5487668+02:00"
2025-11-25 00:51:59.549 +02:00 [INF] Fetching all doctors in the system
2025-11-25 00:51:59.550 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:51:59.552 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:51:59.553 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 00:51:59.553 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:59.554 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:59.555 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:51:59.556 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 00:51:59.557 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 00:51:59.558 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [s0].[ScheduleId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t] ON [d].[DoctorId] = [t].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [d].[DoctorId] = [s0].[DoctorId]
ORDER BY [d].[DoctorId], [u].[Id], [s].[SpecializationId], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId]
2025-11-25 00:51:59.569 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [s0].[ScheduleId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t] ON [d].[DoctorId] = [t].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [d].[DoctorId] = [s0].[DoctorId]
ORDER BY [d].[DoctorId], [u].[Id], [s].[SpecializationId], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId]
2025-11-25 00:51:59.571 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:59.572 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:59.573 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:59.574 +02:00 [DBG] The navigation 'Doctor.Specialization' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:59.575 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:59.575 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchDoctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:59.576 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:59.577 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:51:59.578 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:59.579 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 8ms reading results.
2025-11-25 00:51:59.581 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:59.582 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 00:51:59.583 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 00:51:59.585 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 00:51:59.586 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 00:51:59.586 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 00:51:59.587 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 00:51:59.588 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Doctor.DoctorDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 00:51:59.589 +02:00 [INF] Executed action Hospital.Controllers.DoctorController.GetAll (Hospital) in 42.9559ms
2025-11-25 00:51:59.591 +02:00 [INF] Executed endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:51:59.592 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:51:59.593 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:51:59.594 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 00:51:59.595 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Doctor/all - 200 null application/json; charset=utf-8 67.8688ms
2025-11-25 00:52:00.047 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Doctor/all - null null
2025-11-25 00:52:00.049 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Doctor/all'
2025-11-25 00:52:00.051 +02:00 [DBG] Endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)' with route pattern 'api/Doctor/all' is valid for the request path '/api/Doctor/all'
2025-11-25 00:52:00.052 +02:00 [DBG] Endpoint 'Hospital.Controllers.DoctorController.GetDoctor (Hospital)' with route pattern 'api/Doctor/{doctorId}' is valid for the request path '/api/Doctor/all'
2025-11-25 00:52:00.053 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:52:00.053 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:52:00.054 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:52:00.055 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:52:00.055 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:52:00.056 +02:00 [INF] Executing endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:52:00.057 +02:00 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.DoctorController (Hospital).
2025-11-25 00:52:00.058 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:52:00.059 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:52:00.060 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:52:00.061 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:52:00.062 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:52:00.063 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-11-25 00:52:00.064 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-11-25 00:52:00.065 +02:00 [INF] get all doctor in system called at "2025-11-25T00:52:00.0656462+02:00"
2025-11-25 00:52:00.066 +02:00 [INF] Fetching all doctors in the system
2025-11-25 00:52:00.067 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:52:00.068 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:52:00.068 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 00:52:00.069 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:00.070 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:00.071 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:52:00.072 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 00:52:00.073 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 00:52:00.073 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [s0].[ScheduleId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t] ON [d].[DoctorId] = [t].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [d].[DoctorId] = [s0].[DoctorId]
ORDER BY [d].[DoctorId], [u].[Id], [s].[SpecializationId], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId]
2025-11-25 00:52:00.085 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [s0].[ScheduleId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t] ON [d].[DoctorId] = [t].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [d].[DoctorId] = [s0].[DoctorId]
ORDER BY [d].[DoctorId], [u].[Id], [s].[SpecializationId], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId]
2025-11-25 00:52:00.086 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:00.087 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:00.088 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:00.089 +02:00 [DBG] The navigation 'Doctor.Specialization' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:00.090 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:00.091 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchDoctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:00.092 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:00.094 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:00.095 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:00.095 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 9ms reading results.
2025-11-25 00:52:00.096 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:00.097 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 00:52:00.098 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 00:52:00.100 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 00:52:00.100 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 00:52:00.101 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 00:52:00.101 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 00:52:00.102 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Doctor.DoctorDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 00:52:00.104 +02:00 [INF] Executed action Hospital.Controllers.DoctorController.GetAll (Hospital) in 40.5778ms
2025-11-25 00:52:00.104 +02:00 [INF] Executed endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:52:00.105 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:52:00.106 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:00.107 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 00:52:00.108 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Schedule - null null
2025-11-25 00:52:00.108 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Doctor/all - 200 null application/json; charset=utf-8 62.2688ms
2025-11-25 00:52:00.110 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Schedule'
2025-11-25 00:52:00.113 +02:00 [DBG] Endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)' with route pattern 'api/Schedule' is valid for the request path '/api/Schedule'
2025-11-25 00:52:00.114 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)'
2025-11-25 00:52:00.115 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:52:00.116 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:52:00.116 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:52:00.117 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:52:00.117 +02:00 [INF] Executing endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)'
2025-11-25 00:52:00.118 +02:00 [INF] Route matched with {action = "GetAll", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Schedule.ScheduleDto]]] GetAll() on controller Hospital.Controllers.ScheduleController (Hospital).
2025-11-25 00:52:00.120 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:52:00.120 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:52:00.121 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:52:00.123 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:52:00.123 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:52:00.125 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 00:52:00.126 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 00:52:00.127 +02:00 [INF] get all schedule called at "2025-11-25T00:52:00.1270273+02:00"
2025-11-25 00:52:00.127 +02:00 [INF] Fetching all schedules
2025-11-25 00:52:00.128 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:52:00.129 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:52:00.130 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 00:52:00.130 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:00.131 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:00.132 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:52:00.133 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 00:52:00.134 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 00:52:00.135 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
2025-11-25 00:52:00.140 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
2025-11-25 00:52:00.142 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:00.143 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:00.143 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:00.144 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:00.145 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:00.146 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:00.147 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-11-25 00:52:00.148 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:00.149 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 00:52:00.150 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 00:52:00.152 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 00:52:00.152 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 00:52:00.153 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 00:52:00.153 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 00:52:00.154 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Schedule.ScheduleDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 00:52:00.155 +02:00 [INF] Executed action Hospital.Controllers.ScheduleController.GetAll (Hospital) in 30.3416ms
2025-11-25 00:52:00.156 +02:00 [INF] Executed endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)'
2025-11-25 00:52:00.157 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:52:00.158 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:00.159 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 00:52:00.160 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Schedule - 200 null application/json; charset=utf-8 52.2532ms
2025-11-25 00:52:00.429 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Doctor/all - null null
2025-11-25 00:52:00.431 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Doctor/all'
2025-11-25 00:52:00.433 +02:00 [DBG] Endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)' with route pattern 'api/Doctor/all' is valid for the request path '/api/Doctor/all'
2025-11-25 00:52:00.434 +02:00 [DBG] Endpoint 'Hospital.Controllers.DoctorController.GetDoctor (Hospital)' with route pattern 'api/Doctor/{doctorId}' is valid for the request path '/api/Doctor/all'
2025-11-25 00:52:00.435 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:52:00.436 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:52:00.437 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:52:00.438 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:52:00.438 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:52:00.439 +02:00 [INF] Executing endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:52:00.440 +02:00 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.DoctorController (Hospital).
2025-11-25 00:52:00.441 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:52:00.442 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:52:00.443 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:52:00.444 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:52:00.445 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:52:00.446 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-11-25 00:52:00.447 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-11-25 00:52:00.448 +02:00 [INF] get all doctor in system called at "2025-11-25T00:52:00.4485728+02:00"
2025-11-25 00:52:00.449 +02:00 [INF] Fetching all doctors in the system
2025-11-25 00:52:00.450 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:52:00.451 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:52:00.452 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 00:52:00.452 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:00.453 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:00.454 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:52:00.455 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 00:52:00.456 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 00:52:00.457 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [s0].[ScheduleId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t] ON [d].[DoctorId] = [t].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [d].[DoctorId] = [s0].[DoctorId]
ORDER BY [d].[DoctorId], [u].[Id], [s].[SpecializationId], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId]
2025-11-25 00:52:00.469 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [s0].[ScheduleId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t] ON [d].[DoctorId] = [t].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [d].[DoctorId] = [s0].[DoctorId]
ORDER BY [d].[DoctorId], [u].[Id], [s].[SpecializationId], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId]
2025-11-25 00:52:00.471 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:00.472 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:00.473 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:00.474 +02:00 [DBG] The navigation 'Doctor.Specialization' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:00.475 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:00.476 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchDoctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:00.477 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:00.478 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:00.479 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:00.480 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 8ms reading results.
2025-11-25 00:52:00.481 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:00.482 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 00:52:00.483 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 00:52:00.484 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 00:52:00.485 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 00:52:00.485 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 00:52:00.486 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 00:52:00.487 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Doctor.DoctorDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 00:52:00.488 +02:00 [INF] Executed action Hospital.Controllers.DoctorController.GetAll (Hospital) in 41.509ms
2025-11-25 00:52:00.489 +02:00 [INF] Executed endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:52:00.489 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:52:00.490 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:00.491 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 00:52:00.492 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Doctor/all - 200 null application/json; charset=utf-8 63.1026ms
2025-11-25 00:52:00.820 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetAll - null null
2025-11-25 00:52:00.823 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetAll'
2025-11-25 00:52:00.824 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)' with route pattern 'api/Branch/GetAll' is valid for the request path '/api/Branch/GetAll'
2025-11-25 00:52:00.825 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 00:52:00.826 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:52:00.827 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:52:00.828 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:52:00.828 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:52:00.830 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 00:52:00.831 +02:00 [INF] Route matched with {action = "GetAll", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.BranchController (Hospital).
2025-11-25 00:52:00.832 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:52:00.834 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:52:00.835 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:52:00.837 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:52:00.838 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:52:00.839 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 00:52:00.840 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 00:52:00.842 +02:00 [INF] Get All Branch called at "2025-11-25T00:52:00.8422247+02:00"
2025-11-25 00:52:00.843 +02:00 [INF] Fetching all branches
2025-11-25 00:52:00.844 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:52:00.846 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:52:00.847 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 00:52:00.848 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:00.849 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:00.850 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:52:00.851 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 00:52:00.852 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 00:52:00.854 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 00:52:00.858 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 00:52:00.860 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:00.861 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 00:52:00.863 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:00.864 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 00:52:00.865 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 00:52:00.868 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 00:52:00.869 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 00:52:00.869 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 00:52:00.870 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 00:52:00.871 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Branch.BranchDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 00:52:00.872 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetAll (Hospital) in 33.073ms
2025-11-25 00:52:00.873 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 00:52:00.874 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:52:00.876 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:00.877 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 00:52:00.878 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetAll - 200 null application/json; charset=utf-8 58.569ms
2025-11-25 00:52:01.143 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetAll - null null
2025-11-25 00:52:01.145 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetAll'
2025-11-25 00:52:01.146 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)' with route pattern 'api/Branch/GetAll' is valid for the request path '/api/Branch/GetAll'
2025-11-25 00:52:01.147 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 00:52:01.149 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:52:01.149 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:52:01.150 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:52:01.151 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:52:01.152 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 00:52:01.153 +02:00 [INF] Route matched with {action = "GetAll", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.BranchController (Hospital).
2025-11-25 00:52:01.155 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:52:01.158 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:52:01.159 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:52:01.160 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:52:01.162 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:52:01.163 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 00:52:01.165 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 00:52:01.166 +02:00 [INF] Get All Branch called at "2025-11-25T00:52:01.1665923+02:00"
2025-11-25 00:52:01.167 +02:00 [INF] Fetching all branches
2025-11-25 00:52:01.168 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:52:01.170 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:52:01.171 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 00:52:01.172 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:01.173 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:01.175 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:52:01.176 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-25 00:52:01.177 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 00:52:01.178 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 00:52:01.184 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 00:52:01.185 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:01.187 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 00:52:01.188 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:01.189 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 00:52:01.191 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 00:52:01.193 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 00:52:01.194 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 00:52:01.194 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 00:52:01.195 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 00:52:01.196 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Branch.BranchDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 00:52:01.197 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetAll (Hospital) in 33.936ms
2025-11-25 00:52:01.199 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 00:52:01.199 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:52:01.200 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:01.202 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 00:52:01.203 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetAll - 200 null application/json; charset=utf-8 60.1986ms
2025-11-25 00:52:01.769 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetAll - null null
2025-11-25 00:52:01.769 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - null null
2025-11-25 00:52:01.769 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Doctor/all - null null
2025-11-25 00:52:01.771 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetAll'
2025-11-25 00:52:01.774 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Specializations/GetAll'
2025-11-25 00:52:01.776 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Doctor/all'
2025-11-25 00:52:01.776 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)' with route pattern 'api/Branch/GetAll' is valid for the request path '/api/Branch/GetAll'
2025-11-25 00:52:01.777 +02:00 [DBG] Endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)' with route pattern 'api/Specializations/GetAll' is valid for the request path '/api/Specializations/GetAll'
2025-11-25 00:52:01.778 +02:00 [DBG] Endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)' with route pattern 'api/Doctor/all' is valid for the request path '/api/Doctor/all'
2025-11-25 00:52:01.780 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 00:52:01.781 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 00:52:01.782 +02:00 [DBG] Endpoint 'Hospital.Controllers.DoctorController.GetDoctor (Hospital)' with route pattern 'api/Doctor/{doctorId}' is valid for the request path '/api/Doctor/all'
2025-11-25 00:52:01.782 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:52:01.783 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:52:01.784 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:52:01.785 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:52:01.785 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:52:01.786 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:52:01.788 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:52:01.787 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:52:01.787 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:52:01.789 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:52:01.789 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:52:01.790 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:52:01.790 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:52:01.791 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 00:52:01.793 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 00:52:01.793 +02:00 [INF] Executing endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:52:01.794 +02:00 [INF] Route matched with {action = "GetAll", controller = "Specializations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Specialization.SpecializationDTO]]] GetAll() on controller Hospital.Controllers.SpecializationsController (Hospital).
2025-11-25 00:52:01.795 +02:00 [INF] Route matched with {action = "GetAll", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.BranchController (Hospital).
2025-11-25 00:52:01.796 +02:00 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.DoctorController (Hospital).
2025-11-25 00:52:01.797 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:52:01.798 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:52:01.800 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:52:01.801 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:52:01.802 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:52:01.802 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:52:01.803 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:52:01.804 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:52:01.805 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:52:01.806 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:52:01.808 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:52:01.809 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:52:01.810 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:52:01.811 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:52:01.813 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:52:01.814 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 00:52:01.815 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 00:52:01.816 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-11-25 00:52:01.818 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 00:52:01.818 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 00:52:01.819 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-11-25 00:52:01.820 +02:00 [INF] Get All Branch called at "2025-11-25T00:52:01.8205118+02:00"
2025-11-25 00:52:01.821 +02:00 [INF] get all Specialization called at "2025-11-25T00:52:01.8214034+02:00"
2025-11-25 00:52:01.822 +02:00 [INF] get all doctor in system called at "2025-11-25T00:52:01.8224020+02:00"
2025-11-25 00:52:01.824 +02:00 [INF] Fetching all doctors in the system
2025-11-25 00:52:01.823 +02:00 [INF] Fetching all specializations in the system
2025-11-25 00:52:01.822 +02:00 [INF] Fetching all branches
2025-11-25 00:52:01.825 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:52:01.825 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:52:01.826 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:52:01.827 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:52:01.829 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:52:01.830 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:52:01.830 +02:00 [DBG] Created DbConnection. (3ms).
2025-11-25 00:52:01.831 +02:00 [DBG] Created DbConnection. (2ms).
2025-11-25 00:52:01.831 +02:00 [DBG] Created DbConnection. (1ms).
2025-11-25 00:52:01.832 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:01.833 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:01.834 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:01.835 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:01.847 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:52:01.851 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-11-25 00:52:01.852 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-11-25 00:52:01.853 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:01.854 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [s0].[ScheduleId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t] ON [d].[DoctorId] = [t].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [d].[DoctorId] = [s0].[DoctorId]
ORDER BY [d].[DoctorId], [u].[Id], [s].[SpecializationId], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId]
2025-11-25 00:52:01.855 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:52:01.857 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:01.859 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-11-25 00:52:01.862 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:52:01.863 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-11-25 00:52:01.864 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-25 00:52:01.865 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 00:52:01.866 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-11-25 00:52:01.868 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 00:52:01.877 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 00:52:01.879 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [s0].[ScheduleId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t] ON [d].[DoctorId] = [t].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [d].[DoctorId] = [s0].[DoctorId]
ORDER BY [d].[DoctorId], [u].[Id], [s].[SpecializationId], [t].[BranchesBranchId], [t].[DoctorsDoctorId], [t].[BranchId]
2025-11-25 00:52:01.879 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:01.880 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 00:52:01.881 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:01.882 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-11-25 00:52:01.884 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:01.885 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:01.886 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:01.887 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchSpecialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:01.887 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:01.888 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (2ms).
2025-11-25 00:52:01.889 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:01.890 +02:00 [DBG] The navigation 'Doctor.Specialization' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:01.891 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 00:52:01.892 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:01.893 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:01.895 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 00:52:01.896 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:01.896 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchDoctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:01.897 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 00:52:01.898 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:01.899 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:01.899 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 00:52:01.900 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:01.901 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:01.902 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 00:52:01.903 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 19ms reading results.
2025-11-25 00:52:01.904 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:01.905 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Branch.BranchDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 00:52:01.906 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:01.907 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 25ms reading results.
2025-11-25 00:52:01.908 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetAll (Hospital) in 92.9673ms
2025-11-25 00:52:01.908 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (2ms).
2025-11-25 00:52:01.910 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:01.911 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 00:52:01.913 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 00:52:01.914 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (4ms).
2025-11-25 00:52:01.915 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:52:01.917 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 00:52:01.918 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 00:52:01.919 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:01.919 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 00:52:01.921 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 00:52:01.922 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-11-25 00:52:01.923 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 00:52:01.923 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 00:52:01.924 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetAll - 200 null application/json; charset=utf-8 155.8948ms
2025-11-25 00:52:01.925 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 00:52:01.925 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 00:52:01.929 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Specialization.SpecializationDTO, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 00:52:01.929 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 00:52:01.930 +02:00 [INF] Executed action Hospital.Controllers.SpecializationsController.GetAll (Hospital) in 116.872ms
2025-11-25 00:52:01.931 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Doctor.DoctorDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 00:52:01.932 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 00:52:01.933 +02:00 [INF] Executed action Hospital.Controllers.DoctorController.GetAll (Hospital) in 117.4227ms
2025-11-25 00:52:01.934 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:52:01.935 +02:00 [INF] Executed endpoint 'Hospital.Controllers.DoctorController.GetAll (Hospital)'
2025-11-25 00:52:01.936 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:01.937 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:52:01.938 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 00:52:01.938 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:01.939 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - 200 null application/json; charset=utf-8 170.5779ms
2025-11-25 00:52:01.940 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 00:52:01.944 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Doctor/all - 200 null application/json; charset=utf-8 175.1424ms
2025-11-25 00:52:02.082 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetAll - null null
2025-11-25 00:52:02.082 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - null null
2025-11-25 00:52:02.085 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetAll'
2025-11-25 00:52:02.087 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Specializations/GetAll'
2025-11-25 00:52:02.088 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)' with route pattern 'api/Branch/GetAll' is valid for the request path '/api/Branch/GetAll'
2025-11-25 00:52:02.090 +02:00 [DBG] Endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)' with route pattern 'api/Specializations/GetAll' is valid for the request path '/api/Specializations/GetAll'
2025-11-25 00:52:02.092 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 00:52:02.094 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 00:52:02.095 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:52:02.096 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 00:52:02.097 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:52:02.098 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 00:52:02.099 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:52:02.101 +02:00 [INF] CORS policy execution successful.
2025-11-25 00:52:02.102 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:52:02.103 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 00:52:02.104 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 00:52:02.105 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 00:52:02.106 +02:00 [INF] Route matched with {action = "GetAll", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.BranchController (Hospital).
2025-11-25 00:52:02.107 +02:00 [INF] Route matched with {action = "GetAll", controller = "Specializations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Specialization.SpecializationDTO]]] GetAll() on controller Hospital.Controllers.SpecializationsController (Hospital).
2025-11-25 00:52:02.109 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:52:02.111 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 00:52:02.113 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:52:02.114 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 00:52:02.116 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:52:02.117 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 00:52:02.119 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:52:02.121 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 00:52:02.123 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:52:02.124 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 00:52:02.126 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 00:52:02.127 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 00:52:02.129 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 00:52:02.130 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 00:52:02.131 +02:00 [INF] Get All Branch called at "2025-11-25T00:52:02.1314940+02:00"
2025-11-25 00:52:02.133 +02:00 [INF] get all Specialization called at "2025-11-25T00:52:02.1330453+02:00"
2025-11-25 00:52:02.134 +02:00 [INF] Fetching all branches
2025-11-25 00:52:02.134 +02:00 [INF] Fetching all specializations in the system
2025-11-25 00:52:02.136 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:52:02.136 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 00:52:02.138 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:52:02.139 +02:00 [DBG] Creating DbConnection.
2025-11-25 00:52:02.140 +02:00 [DBG] Created DbConnection. (2ms).
2025-11-25 00:52:02.140 +02:00 [DBG] Created DbConnection. (1ms).
2025-11-25 00:52:02.141 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:02.142 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:02.143 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:02.144 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:02.146 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:52:02.147 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 00:52:02.148 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-11-25 00:52:02.149 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-25 00:52:02.150 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-11-25 00:52:02.151 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-11-25 00:52:02.152 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 00:52:02.153 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 00:52:02.158 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 00:52:02.162 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:02.163 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 00:52:02.164 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:02.165 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 00:52:02.167 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 00:52:02.169 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 00:52:02.169 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 00:52:02.170 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 00:52:02.171 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 00:52:02.172 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Branch.BranchDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 00:52:02.173 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 00:52:02.173 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetAll (Hospital) in 47.3226ms
2025-11-25 00:52:02.175 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:02.176 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 00:52:02.177 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchSpecialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:02.178 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:52:02.179 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:02.180 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:02.181 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:02.182 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-11-25 00:52:02.183 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:02.185 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetAll - 200 null application/json; charset=utf-8 103.0774ms
2025-11-25 00:52:02.186 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 00:52:02.189 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:02.190 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 15ms reading results.
2025-11-25 00:52:02.192 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:02.193 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 00:52:02.194 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 00:52:02.196 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 00:52:02.197 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 00:52:02.197 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 00:52:02.198 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 00:52:02.199 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Specialization.SpecializationDTO, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 00:52:02.200 +02:00 [INF] Executed action Hospital.Controllers.SpecializationsController.GetAll (Hospital) in 72.8865ms
2025-11-25 00:52:02.201 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 00:52:02.202 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 00:52:02.203 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 00:52:02.204 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 00:52:02.205 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - 200 null application/json; charset=utf-8 123.6252ms
2025-11-25 00:52:03.898 +02:00 [DBG] Connection id "0HNHBL98NVIUJ" received FIN.
2025-11-25 00:52:03.900 +02:00 [DBG] Connection id "0HNHBL98NVIUJ" is closed. The last processed stream ID was 25.
2025-11-25 00:52:03.900 +02:00 [DBG] The connection queue processing loop for 0HNHBL98NVIUJ completed.
2025-11-25 00:52:03.901 +02:00 [DBG] Connection id "0HNHBL98NVIUJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 00:52:03.903 +02:00 [DBG] Connection id "0HNHBL98NVIUJ" stopped.
2025-11-25 01:09:11.185 +02:00 [DBG] Connection id "0HNHBL98NVIUK" accepted.
2025-11-25 01:09:11.185 +02:00 [DBG] Connection id "0HNHBL98NVIUK" received FIN.
2025-11-25 01:09:11.192 +02:00 [DBG] Connection id "0HNHBL98NVIUK" started.
2025-11-25 01:09:11.193 +02:00 [DBG] Connection id "0HNHBL98NVIUL" accepted.
2025-11-25 01:09:11.200 +02:00 [DBG] Connection id "0HNHBL98NVIUL" started.
2025-11-25 01:09:11.200 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-25 01:09:11.203 +02:00 [DBG] Connection id "0HNHBL98NVIUK" stopped.
2025-11-25 01:09:11.205 +02:00 [DBG] Connection id "0HNHBL98NVIUK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 01:09:11.205 +02:00 [DBG] Connection 0HNHBL98NVIUL established using the following protocol: "Tls13"
2025-11-25 01:09:11.218 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/Event/CreateEvent - application/json 205
2025-11-25 01:09:11.221 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Event/CreateEvent'
2025-11-25 01:09:11.222 +02:00 [DBG] Endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)' with route pattern 'api/Event/CreateEvent' is valid for the request path '/api/Event/CreateEvent'
2025-11-25 01:09:11.224 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)'
2025-11-25 01:09:11.225 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 01:09:11.226 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 01:09:11.227 +02:00 [INF] Executing endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)'
2025-11-25 01:09:11.231 +02:00 [INF] Route matched with {action = "CreateEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEvent(Hospital.Application.DTO.Event.AddEventDto) on controller Hospital.Controllers.EventController (Hospital).
2025-11-25 01:09:11.233 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 01:09:11.234 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 01:09:11.236 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 01:09:11.237 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 01:09:11.238 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 01:09:11.240 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 01:09:11.242 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 01:09:11.244 +02:00 [DBG] Attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto' ...
2025-11-25 01:09:11.246 +02:00 [DBG] Attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto' using the name '' in request data ...
2025-11-25 01:09:11.247 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 01:09:11.251 +02:00 [DBG] Connection id "0HNHBL98NVIUL", Request id "0HNHBL98NVIUL:00000001": started reading request body.
2025-11-25 01:09:11.252 +02:00 [DBG] Connection id "0HNHBL98NVIUL", Request id "0HNHBL98NVIUL:00000001": done reading request body.
2025-11-25 01:09:11.258 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.Event.AddEventDto'
2025-11-25 01:09:11.259 +02:00 [DBG] Done attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto'.
2025-11-25 01:09:11.260 +02:00 [DBG] Done attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto'.
2025-11-25 01:09:11.262 +02:00 [DBG] Attempting to validate the bound parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto' ...
2025-11-25 01:09:11.266 +02:00 [DBG] Done attempting to validate the bound parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto'.
2025-11-25 01:09:11.268 +02:00 [INF] create event  called at "2025-11-25T01:09:11.2685458+02:00"
2025-11-25 01:09:11.271 +02:00 [INF] Adding new event: event 2 for Branch ID: 2
2025-11-25 01:09:11.273 +02:00 [INF] Fetching branch by ID: 2
2025-11-25 01:09:11.275 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 01:09:11.277 +02:00 [DBG] Compiling query expression: 
'DbSet<Branch>()
    .FirstOrDefault(e => e.BranchId == __id_0)'
2025-11-25 01:09:11.282 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Branch>(
    asyncEnumerable: new SingleQueryingEnumerable<Branch>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Branch.BranchId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Branch.Address (string) MaxLength(250), 1], [Property: Branch.BranchName (string) Required MaxLength(150), 2], [Property: Branch.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: Branch.Description (string), 4], [Property: Branch.Email (string) MaxLength(200), 5], [Property: Branch.ImageURL (string) MaxLength(300), 6], [Property: Branch.Phone (string) MaxLength(25), 7], [Property: Branch.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 8] }
            SELECT TOP(1) b.BranchId, b.Address, b.BranchName, b.CreatedAt, b.Description, b.Email, b.ImageURL, b.Phone, b.UpdatedAt
            FROM Branches AS b
            WHERE b.BranchId == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Branch>, 
        Clinic.Infrastructure.Persistence.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-11-25 01:09:11.284 +02:00 [DBG] Creating DbConnection.
2025-11-25 01:09:11.285 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 01:09:11.285 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 01:09:11.336 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 01:09:11.338 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 01:09:11.339 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 01:09:11.340 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 01:09:11.341 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 01:09:11.348 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 01:09:11.350 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 01:09:11.351 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 01:09:11.352 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 01:09:11.353 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 01:09:11.355 +02:00 [WRN] Branch with ID 2 not found
2025-11-25 01:09:11.445 +02:00 [INF] Executed action Hospital.Controllers.EventController.CreateEvent (Hospital) in 205.418ms
2025-11-25 01:09:11.447 +02:00 [INF] Executed endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)'
2025-11-25 01:09:11.508 +02:00 [ERR]  Exception caught: Branch with ID 2 not found
System.Collections.Generic.KeyNotFoundException: Branch with ID 2 not found
   at Hospital.Infrastructure.Services.BranchService.GetByIdAsync(Int32 id) in D:\Hospital\Hospital\Hospital.Infrastructure\Services\BranchService.cs:line 85
   at Hospital.Infrastructure.Services.EventService.AddAsync(AddEventDto eventdto) in D:\Hospital\Hospital\Hospital.Infrastructure\Services\EventService.cs:line 40
   at Hospital.Controllers.EventController.CreateEvent(AddEventDto eventDto) in D:\Hospital\Hospital\Hospital\Controllers\EventController.cs:line 26
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hospital.Middleware.GlobalExceptionHandler.InvokeAsync(HttpContext context) in D:\Hospital\Hospital\Hospital\Middleware\GlobalExceptionHandler.cs:line 22
2025-11-25 01:09:11.532 +02:00 [DBG] Connection id "0HNHBL98NVIUL" completed keep alive response.
2025-11-25 01:09:11.534 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 01:09:11.534 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 01:09:11.535 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 01:09:11.537 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/Event/CreateEvent - 404 null application/json 319.3219ms
2025-11-25 01:09:24.565 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/Event/CreateEvent - application/json 205
2025-11-25 01:09:24.569 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Event/CreateEvent'
2025-11-25 01:09:24.570 +02:00 [DBG] Endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)' with route pattern 'api/Event/CreateEvent' is valid for the request path '/api/Event/CreateEvent'
2025-11-25 01:09:24.571 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)'
2025-11-25 01:09:24.572 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 01:09:24.573 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 01:09:24.574 +02:00 [INF] Executing endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)'
2025-11-25 01:09:24.575 +02:00 [INF] Route matched with {action = "CreateEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEvent(Hospital.Application.DTO.Event.AddEventDto) on controller Hospital.Controllers.EventController (Hospital).
2025-11-25 01:09:24.577 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 01:09:24.578 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 01:09:24.579 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 01:09:24.581 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 01:09:24.582 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 01:09:24.583 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 01:09:24.585 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 01:09:24.586 +02:00 [DBG] Attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto' ...
2025-11-25 01:09:24.587 +02:00 [DBG] Attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto' using the name '' in request data ...
2025-11-25 01:09:24.589 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 01:09:24.590 +02:00 [DBG] Connection id "0HNHBL98NVIUL", Request id "0HNHBL98NVIUL:00000002": started reading request body.
2025-11-25 01:09:24.591 +02:00 [DBG] Connection id "0HNHBL98NVIUL", Request id "0HNHBL98NVIUL:00000002": done reading request body.
2025-11-25 01:09:24.592 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.Event.AddEventDto'
2025-11-25 01:09:24.593 +02:00 [DBG] Done attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto'.
2025-11-25 01:09:24.594 +02:00 [DBG] Done attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto'.
2025-11-25 01:09:24.596 +02:00 [DBG] Attempting to validate the bound parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto' ...
2025-11-25 01:09:24.597 +02:00 [DBG] Done attempting to validate the bound parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto'.
2025-11-25 01:09:24.598 +02:00 [INF] create event  called at "2025-11-25T01:09:24.5988213+02:00"
2025-11-25 01:09:24.599 +02:00 [INF] Adding new event: event 2 for Branch ID: 1
2025-11-25 01:09:24.600 +02:00 [INF] Fetching branch by ID: 1
2025-11-25 01:09:24.602 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 01:09:24.604 +02:00 [DBG] Creating DbConnection.
2025-11-25 01:09:24.605 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 01:09:24.605 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 01:09:24.606 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 01:09:24.608 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 01:09:24.609 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 01:09:24.610 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 01:09:24.611 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 01:09:24.616 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 01:09:24.618 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 01:09:24.619 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 01:09:24.620 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-11-25 01:09:24.622 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 01:09:24.623 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 01:09:24.644 +02:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Event.EventId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 01:09:24.661 +02:00 [DBG] The navigation 'Event.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 01:09:24.664 +02:00 [DBG] Context 'AppDbContext' started tracking 'Event' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 01:09:24.666 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 01:09:24.679 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 01:09:24.682 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 01:09:24.683 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 01:09:24.683 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 01:09:24.696 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 01:09:24.697 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 01:09:24.698 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 01:09:24.698 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 01:09:24.699 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 01:09:24.700 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Events] ([BranchId], [CreatedAt], [Description], [EventDate], [ImageURL], [Title], [UpdatedAt])
OUTPUT INSERTED.[EventId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-25 01:09:24.714 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Events] ([BranchId], [CreatedAt], [Description], [EventDate], [ImageURL], [Title], [UpdatedAt])
OUTPUT INSERTED.[EventId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-25 01:09:24.722 +02:00 [DBG] The foreign key property 'Event.EventId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-25 01:09:24.726 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 01:09:24.727 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 12ms reading results.
2025-11-25 01:09:24.729 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 01:09:24.730 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 01:09:24.734 +02:00 [DBG] An entity of type 'Event' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 01:09:24.736 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-25 01:09:24.737 +02:00 [INF] Event event 2 added successfully with ID 1
2025-11-25 01:09:24.742 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 01:09:24.744 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 01:09:24.745 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 01:09:24.745 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 01:09:24.746 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 01:09:24.747 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Hospital.Application.DTO.Event.EventDto'.
2025-11-25 01:09:24.766 +02:00 [DBG] Found the endpoints ["Hospital.Controllers.EventController.GetEvent (Hospital)"] for address (id=[1],action=[GetEvent],controller=[Event])
2025-11-25 01:09:24.772 +02:00 [DBG] Successfully processed template api/Event/GetEvent for Hospital.Controllers.EventController.GetEvent (Hospital) resulting in /api/Event/GetEvent and ?id=1
2025-11-25 01:09:24.776 +02:00 [DBG] Link generation succeeded for endpoints ["Hospital.Controllers.EventController.GetEvent (Hospital)"] with result /api/Event/GetEvent?id=1
2025-11-25 01:09:24.780 +02:00 [INF] Executed action Hospital.Controllers.EventController.CreateEvent (Hospital) in 196.8197ms
2025-11-25 01:09:24.782 +02:00 [INF] Executed endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)'
2025-11-25 01:09:24.783 +02:00 [DBG] Connection id "0HNHBL98NVIUL" completed keep alive response.
2025-11-25 01:09:24.784 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 01:09:24.785 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 01:09:24.786 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 01:09:24.788 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/Event/CreateEvent - 201 null application/json; charset=utf-8 222.2947ms
2025-11-25 01:09:44.471 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7217/api/Event/GetAllEventsInSystem - null null
2025-11-25 01:09:44.473 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Event/GetAllEventsInSystem'
2025-11-25 01:09:44.475 +02:00 [DBG] Endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)' with route pattern 'api/Event/GetAllEventsInSystem' is valid for the request path '/api/Event/GetAllEventsInSystem'
2025-11-25 01:09:44.476 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 01:09:44.477 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 01:09:44.477 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 01:09:44.478 +02:00 [INF] Executing endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 01:09:44.482 +02:00 [INF] Route matched with {action = "GetAllEventsInSystem", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllEventsInSystem() on controller Hospital.Controllers.EventController (Hospital).
2025-11-25 01:09:44.484 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 01:09:44.485 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 01:09:44.486 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 01:09:44.488 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 01:09:44.489 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 01:09:44.490 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 01:09:44.493 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 01:09:44.495 +02:00 [INF] get all  event in system  called at "2025-11-25T01:09:44.4957147+02:00"
2025-11-25 01:09:44.497 +02:00 [INF] Fetching all events in the system
2025-11-25 01:09:44.499 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 01:09:44.501 +02:00 [DBG] Compiling query expression: 
'DbSet<Event>()
    .AsNoTracking()'
2025-11-25 01:09:44.505 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Event>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Event.EventId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Event.BranchId (int?) FK Index, 1], [Property: Event.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Event.Description (string), 3], [Property: Event.EventDate (DateTime) Required, 4], [Property: Event.ImageURL (string) MaxLength(300), 5], [Property: Event.Title (string) Required MaxLength(150), 6], [Property: Event.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 7] }
        SELECT e.EventId, e.BranchId, e.CreatedAt, e.Description, e.EventDate, e.ImageURL, e.Title, e.UpdatedAt
        FROM Events AS e), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Event>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-11-25 01:09:44.507 +02:00 [DBG] Creating DbConnection.
2025-11-25 01:09:44.508 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 01:09:44.509 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 01:09:44.510 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 01:09:44.511 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 01:09:44.512 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-25 01:09:44.513 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 01:09:44.514 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EventId], [e].[BranchId], [e].[CreatedAt], [e].[Description], [e].[EventDate], [e].[ImageURL], [e].[Title], [e].[UpdatedAt]
FROM [Events] AS [e]
2025-11-25 01:09:44.519 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EventId], [e].[BranchId], [e].[CreatedAt], [e].[Description], [e].[EventDate], [e].[ImageURL], [e].[Title], [e].[UpdatedAt]
FROM [Events] AS [e]
2025-11-25 01:09:44.521 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 01:09:44.522 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 01:09:44.524 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 01:09:44.525 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 01:09:44.529 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 01:09:44.531 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 01:09:44.531 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 01:09:44.532 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 01:09:44.533 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 01:09:44.534 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Event.EventDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 01:09:44.536 +02:00 [INF] Executed action Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital) in 45.4625ms
2025-11-25 01:09:44.537 +02:00 [INF] Executed endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 01:09:44.538 +02:00 [DBG] Connection id "0HNHBL98NVIUL" completed keep alive response.
2025-11-25 01:09:44.539 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 01:09:44.540 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 01:09:44.541 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 01:09:44.542 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7217/api/Event/GetAllEventsInSystem - 200 null application/json; charset=utf-8 70.967ms
2025-11-25 01:10:00.184 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7217/api/News/GetAllNewsInSystem - null null
2025-11-25 01:10:00.186 +02:00 [DBG] 1 candidate(s) found for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 01:10:00.186 +02:00 [DBG] Endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)' with route pattern 'api/News/GetAllNewsInSystem' is valid for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 01:10:00.187 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 01:10:00.188 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 01:10:00.189 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 01:10:00.189 +02:00 [INF] Executing endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 01:10:00.193 +02:00 [INF] Route matched with {action = "GetAllNewsInSystem", controller = "News"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllNewsInSystem() on controller Hospital.Controllers.NewsController (Hospital).
2025-11-25 01:10:00.194 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 01:10:00.195 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 01:10:00.197 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 01:10:00.198 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 01:10:00.199 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 01:10:00.200 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 01:10:00.201 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 01:10:00.204 +02:00 [INF] get all News in system  called at "2025-11-25T01:10:00.2038253+02:00"
2025-11-25 01:10:00.206 +02:00 [INF] Retrieving all news in the system
2025-11-25 01:10:00.209 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 01:10:00.211 +02:00 [DBG] Compiling query expression: 
'DbSet<News>()
    .AsNoTracking()'
2025-11-25 01:10:00.215 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<News>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: News.NewsId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: News.BranchId (int?) FK Index, 1], [Property: News.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 2], [Property: News.Date (DateTime) Required, 3], [Property: News.Description (string), 4], [Property: News.ImageURL (string) MaxLength(300), 5], [Property: News.Title (string) Required MaxLength(150), 6], [Property: News.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 7] }
        SELECT n.NewsId, n.BranchId, n.CreatedAt, n.Date, n.Description, n.ImageURL, n.Title, n.UpdatedAt
        FROM News AS n), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, News>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-11-25 01:10:00.216 +02:00 [DBG] Creating DbConnection.
2025-11-25 01:10:00.217 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 01:10:00.218 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 01:10:00.219 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 01:10:00.220 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 01:10:00.221 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 01:10:00.222 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 01:10:00.223 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 01:10:00.229 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 01:10:00.231 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 01:10:00.232 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 01:10:00.233 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 01:10:00.235 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 01:10:00.236 +02:00 [INF] No news found in the system
2025-11-25 01:10:00.238 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 01:10:00.239 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 01:10:00.240 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 01:10:00.241 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 01:10:00.241 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-11-25 01:10:00.242 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-11-25 01:10:00.244 +02:00 [INF] Executed action Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital) in 43.8892ms
2025-11-25 01:10:00.245 +02:00 [INF] Executed endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 01:10:00.246 +02:00 [DBG] Connection id "0HNHBL98NVIUL" completed keep alive response.
2025-11-25 01:10:00.246 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 01:10:00.248 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 01:10:00.249 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 01:10:00.250 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7217/api/News/GetAllNewsInSystem - 404 null text/plain; charset=utf-8 66.294ms
2025-11-25 01:10:11.210 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/News/CreateNews - application/json 203
2025-11-25 01:10:11.213 +02:00 [DBG] 1 candidate(s) found for the request path '/api/News/CreateNews'
2025-11-25 01:10:11.214 +02:00 [DBG] Endpoint 'Hospital.Controllers.NewsController.CreateNews (Hospital)' with route pattern 'api/News/CreateNews' is valid for the request path '/api/News/CreateNews'
2025-11-25 01:10:11.215 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.NewsController.CreateNews (Hospital)'
2025-11-25 01:10:11.216 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 01:10:11.216 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 01:10:11.217 +02:00 [INF] Executing endpoint 'Hospital.Controllers.NewsController.CreateNews (Hospital)'
2025-11-25 01:10:11.220 +02:00 [INF] Route matched with {action = "CreateNews", controller = "News"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNews(Hospital.Application.DTO.News.AddNewsDto) on controller Hospital.Controllers.NewsController (Hospital).
2025-11-25 01:10:11.222 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 01:10:11.223 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 01:10:11.224 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 01:10:11.226 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 01:10:11.227 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 01:10:11.228 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 01:10:11.230 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 01:10:11.231 +02:00 [DBG] Attempting to bind parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto' ...
2025-11-25 01:10:11.232 +02:00 [DBG] Attempting to bind parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto' using the name '' in request data ...
2025-11-25 01:10:11.234 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 01:10:11.235 +02:00 [DBG] Connection id "0HNHBL98NVIUL", Request id "0HNHBL98NVIUL:00000005": started reading request body.
2025-11-25 01:10:11.236 +02:00 [DBG] Connection id "0HNHBL98NVIUL", Request id "0HNHBL98NVIUL:00000005": done reading request body.
2025-11-25 01:10:11.239 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.News.AddNewsDto'
2025-11-25 01:10:11.240 +02:00 [DBG] Done attempting to bind parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto'.
2025-11-25 01:10:11.241 +02:00 [DBG] Done attempting to bind parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto'.
2025-11-25 01:10:11.242 +02:00 [DBG] Attempting to validate the bound parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto' ...
2025-11-25 01:10:11.246 +02:00 [DBG] Done attempting to validate the bound parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto'.
2025-11-25 01:10:11.248 +02:00 [INF] create News  called at "2025-11-25T01:10:11.2484937+02:00"
2025-11-25 01:10:11.250 +02:00 [INF] Adding a new news item: hiiiiiiiiii
2025-11-25 01:10:11.251 +02:00 [INF] Fetching branch by ID: 1
2025-11-25 01:10:11.252 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 01:10:11.254 +02:00 [DBG] Creating DbConnection.
2025-11-25 01:10:11.255 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 01:10:11.256 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 01:10:11.258 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 01:10:11.259 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 01:10:11.260 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-25 01:10:11.261 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 01:10:11.263 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 01:10:11.268 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 01:10:11.271 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 01:10:11.272 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 01:10:11.273 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-11-25 01:10:11.275 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 01:10:11.276 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 01:10:11.282 +02:00 [DBG] 'AppDbContext' generated a temporary value for the property 'News.NewsId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 01:10:11.297 +02:00 [DBG] The navigation 'News.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 01:10:11.299 +02:00 [DBG] Context 'AppDbContext' started tracking 'News' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 01:10:11.301 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 01:10:11.306 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 01:10:11.307 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 01:10:11.308 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 01:10:11.310 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 01:10:11.312 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 01:10:11.313 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 01:10:11.314 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 01:10:11.315 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 01:10:11.316 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 01:10:11.317 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [News] ([BranchId], [CreatedAt], [Date], [Description], [ImageURL], [Title], [UpdatedAt])
OUTPUT INSERTED.[NewsId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-25 01:10:11.324 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [News] ([BranchId], [CreatedAt], [Date], [Description], [ImageURL], [Title], [UpdatedAt])
OUTPUT INSERTED.[NewsId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-25 01:10:11.327 +02:00 [DBG] The foreign key property 'News.NewsId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-25 01:10:11.329 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 01:10:11.330 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-11-25 01:10:11.332 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 01:10:11.333 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 01:10:11.335 +02:00 [DBG] An entity of type 'News' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 01:10:11.337 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-25 01:10:11.339 +02:00 [INF] News item added successfully with ID: 1
2025-11-25 01:10:11.342 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 01:10:11.344 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 01:10:11.345 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 01:10:11.346 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 01:10:11.346 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 01:10:11.348 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Hospital.Application.DTO.News.NewsDto'.
2025-11-25 01:10:11.349 +02:00 [DBG] Found the endpoints ["Hospital.Controllers.NewsController.GetNews (Hospital)"] for address (id=[1],action=[GetNews],controller=[News])
2025-11-25 01:10:11.350 +02:00 [DBG] Successfully processed template api/News/GetNews for Hospital.Controllers.NewsController.GetNews (Hospital) resulting in /api/News/GetNews and ?id=1
2025-11-25 01:10:11.352 +02:00 [DBG] Link generation succeeded for endpoints ["Hospital.Controllers.NewsController.GetNews (Hospital)"] with result /api/News/GetNews?id=1
2025-11-25 01:10:11.356 +02:00 [INF] Executed action Hospital.Controllers.NewsController.CreateNews (Hospital) in 128.023ms
2025-11-25 01:10:11.357 +02:00 [INF] Executed endpoint 'Hospital.Controllers.NewsController.CreateNews (Hospital)'
2025-11-25 01:10:11.358 +02:00 [DBG] Connection id "0HNHBL98NVIUL" completed keep alive response.
2025-11-25 01:10:11.359 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 01:10:11.361 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 01:10:11.362 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 01:10:11.364 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/News/CreateNews - 201 null application/json; charset=utf-8 153.4198ms
2025-11-25 04:33:11.174 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-11-25 04:33:11.628 +02:00 [DBG] The index {'BranchesBranchId'} was not created on entity type 'BranchDoctor (Dictionary<string, object>)' as the properties are already covered by the index {'BranchesBranchId', 'DoctorsDoctorId'}.
2025-11-25 04:33:11.629 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchService (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'ServiceId'}.
2025-11-25 04:33:11.630 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchSpecialization (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'SpecializationId'}.
2025-11-25 04:33:11.630 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-11-25 04:33:11.630 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-11-25 04:33:11.718 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).BranchesBranchId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-11-25 04:33:11.718 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).DoctorsDoctorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-11-25 04:33:11.850 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 04:33:11.854 +02:00 [DBG] Creating DbConnection.
2025-11-25 04:33:11.889 +02:00 [DBG] Created DbConnection. (34ms).
2025-11-25 04:33:11.893 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 04:33:11.896 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:33:11.899 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 04:33:15.414 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-11-25 04:33:15.811 +02:00 [DBG] The index {'BranchesBranchId'} was not created on entity type 'BranchDoctor (Dictionary<string, object>)' as the properties are already covered by the index {'BranchesBranchId', 'DoctorsDoctorId'}.
2025-11-25 04:33:15.812 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchService (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'ServiceId'}.
2025-11-25 04:33:15.813 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchSpecialization (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'SpecializationId'}.
2025-11-25 04:33:15.813 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-11-25 04:33:15.813 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-11-25 04:33:15.891 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).BranchesBranchId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-11-25 04:33:15.891 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).DoctorsDoctorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-11-25 04:33:16.001 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 04:33:16.003 +02:00 [DBG] Creating DbConnection.
2025-11-25 04:33:16.023 +02:00 [DBG] Created DbConnection. (18ms).
2025-11-25 04:33:16.031 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:33:16.294 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:33:16.298 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:16.302 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2025-11-25 04:33:16.303 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (7ms).
2025-11-25 04:33:16.307 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-25 04:33:16.324 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-25 04:33:16.326 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:33:16.331 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (3ms).
2025-11-25 04:33:16.350 +02:00 [DBG] Creating DbConnection.
2025-11-25 04:33:16.350 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 04:33:16.350 +02:00 [DBG] Opening connection to database 'master' on server '.\SQLEXPRESS'.
2025-11-25 04:33:16.355 +02:00 [DBG] Opened connection to database 'master' on server '.\SQLEXPRESS'.
2025-11-25 04:33:16.355 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:16.356 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:16.356 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:16.356 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [HospitalDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2025-11-25 04:33:16.383 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [HospitalDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2025-11-25 04:33:16.383 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:16.383 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:16.383 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:16.383 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='60']
DROP DATABASE [HospitalDB];
2025-11-25 04:33:16.440 +02:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
DROP DATABASE [HospitalDB];
2025-11-25 04:33:16.440 +02:00 [DBG] Closing connection to database 'master' on server '.\SQLEXPRESS'.
2025-11-25 04:33:16.440 +02:00 [DBG] Closed connection to database 'master' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:33:16.441 +02:00 [DBG] Disposing connection to database 'master' on server '.\SQLEXPRESS'.
2025-11-25 04:33:16.442 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 04:33:16.443 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 04:33:16.443 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:33:16.443 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 04:33:30.889 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-11-25 04:33:31.303 +02:00 [DBG] The index {'BranchesBranchId'} was not created on entity type 'BranchDoctor (Dictionary<string, object>)' as the properties are already covered by the index {'BranchesBranchId', 'DoctorsDoctorId'}.
2025-11-25 04:33:31.304 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchService (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'ServiceId'}.
2025-11-25 04:33:31.304 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchSpecialization (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'SpecializationId'}.
2025-11-25 04:33:31.304 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-11-25 04:33:31.304 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-11-25 04:33:31.397 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).BranchesBranchId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-11-25 04:33:31.397 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).DoctorsDoctorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-11-25 04:33:31.530 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 04:33:31.547 +02:00 [DBG] Creating DbConnection.
2025-11-25 04:33:31.568 +02:00 [DBG] Created DbConnection. (19ms).
2025-11-25 04:33:31.569 +02:00 [DBG] Migrating using database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:33:31.572 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:33:31.680 +02:00 [DBG] An error occurred using the connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:33:31.680 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:33:31.681 +02:00 [DBG] An error occurred using the connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:33:31.741 +02:00 [DBG] The index {'BranchesBranchId'} was not created on entity type 'BranchDoctor (Dictionary<string, object>)' as the properties are already covered by the index {'BranchesBranchId', 'DoctorsDoctorId'}.
2025-11-25 04:33:31.742 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchService (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'ServiceId'}.
2025-11-25 04:33:31.742 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchSpecialization (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'SpecializationId'}.
2025-11-25 04:33:31.742 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-11-25 04:33:31.742 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-11-25 04:33:31.755 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).BranchesBranchId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-11-25 04:33:31.755 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).DoctorsDoctorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-11-25 04:33:31.781 +02:00 [DBG] Creating DbConnection.
2025-11-25 04:33:31.781 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 04:33:31.782 +02:00 [DBG] Opening connection to database 'master' on server '.\SQLEXPRESS'.
2025-11-25 04:33:31.791 +02:00 [DBG] Opened connection to database 'master' on server '.\SQLEXPRESS'.
2025-11-25 04:33:31.794 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:31.798 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2025-11-25 04:33:31.799 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (6ms).
2025-11-25 04:33:31.802 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [HospitalDB];
2025-11-25 04:33:31.916 +02:00 [INF] Executed DbCommand (113ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [HospitalDB];
2025-11-25 04:33:31.917 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:31.917 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:31.917 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:31.917 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [HospitalDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2025-11-25 04:33:31.946 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [HospitalDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2025-11-25 04:33:31.947 +02:00 [DBG] Closing connection to database 'master' on server '.\SQLEXPRESS'.
2025-11-25 04:33:31.951 +02:00 [DBG] Closed connection to database 'master' on server '.\SQLEXPRESS' (2ms).
2025-11-25 04:33:31.953 +02:00 [DBG] Disposing connection to database 'master' on server '.\SQLEXPRESS'.
2025-11-25 04:33:31.953 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 04:33:31.953 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:33:31.956 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:33:31.956 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:31.956 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:31.956 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:31.957 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-25 04:33:31.960 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-25 04:33:31.960 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:33:31.960 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:33:31.994 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:31.994 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:31.994 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:31.994 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:33:31.995 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:33:31.995 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2025-11-25 04:33:32.006 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2025-11-25 04:33:32.006 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:33:32.006 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:33:32.007 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:33:32.007 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:33:32.007 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:32.007 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:32.007 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:32.007 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-25 04:33:32.007 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-25 04:33:32.007 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:33:32.008 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:33:32.009 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-11-25 04:33:32.009 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-11-25 04:33:32.009 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-11-25 04:33:32.009 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:33:32.009 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:33:32.009 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-25 04:33:32.017 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-25 04:33:32.018 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:33:32.018 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:33:32.019 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:33:32.019 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:33:32.019 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:33:32.019 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:33:32.019 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:33:32.019 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-25 04:33:32.035 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-25 04:33:32.037 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:33:32.037 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 04:33:32.037 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:33:32.037 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:33:32.045 +02:00 [INF] Applying migration '20251111134048_init-auth'.
2025-11-25 04:33:32.101 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:33:32.101 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:33:32.103 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:33:33.246 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:33:33.247 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:33.247 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:33.248 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:33.248 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2025-11-25 04:33:33.250 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2025-11-25 04:33:33.251 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:33.251 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:33.251 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:33.251 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Branches] (
    [BranchId] int NOT NULL IDENTITY,
    [BranchName] nvarchar(150) NOT NULL,
    [Address] nvarchar(250) NULL,
    [Phone] nvarchar(25) NULL,
    [Email] nvarchar(200) NULL,
    [Description] nvarchar(max) NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Branches] PRIMARY KEY ([BranchId])
);
2025-11-25 04:33:33.254 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Branches] (
    [BranchId] int NOT NULL IDENTITY,
    [BranchName] nvarchar(150) NOT NULL,
    [Address] nvarchar(250) NULL,
    [Phone] nvarchar(25) NULL,
    [Email] nvarchar(200) NULL,
    [Description] nvarchar(max) NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Branches] PRIMARY KEY ([BranchId])
);
2025-11-25 04:33:33.254 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:33.254 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:33.254 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:33.254 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Specializations] (
    [SpecializationId] int NOT NULL IDENTITY,
    [Name] nvarchar(120) NOT NULL,
    [Description] nvarchar(max) NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Specializations] PRIMARY KEY ([SpecializationId])
);
2025-11-25 04:33:33.256 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Specializations] (
    [SpecializationId] int NOT NULL IDENTITY,
    [Name] nvarchar(120) NOT NULL,
    [Description] nvarchar(max) NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Specializations] PRIMARY KEY ([SpecializationId])
);
2025-11-25 04:33:33.257 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:33.257 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:33.257 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:33.257 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2025-11-25 04:33:33.258 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2025-11-25 04:33:35.208 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:35.209 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:35.209 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:35.209 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Banners] (
    [BannerId] int NOT NULL IDENTITY,
    [Title] nvarchar(150) NOT NULL,
    [ImageURL] nvarchar(300) NULL,
    [LinkURL] nvarchar(300) NULL,
    [Type] nvarchar(20) NULL,
    [BranchId] int NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Banners] PRIMARY KEY ([BannerId]),
    CONSTRAINT [FK_Banners_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE SET NULL
);
2025-11-25 04:33:35.212 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Banners] (
    [BannerId] int NOT NULL IDENTITY,
    [Title] nvarchar(150) NOT NULL,
    [ImageURL] nvarchar(300) NULL,
    [LinkURL] nvarchar(300) NULL,
    [Type] nvarchar(20) NULL,
    [BranchId] int NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Banners] PRIMARY KEY ([BannerId]),
    CONSTRAINT [FK_Banners_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE SET NULL
);
2025-11-25 04:33:35.212 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:35.212 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:35.212 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:35.212 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Events] (
    [EventId] int NOT NULL IDENTITY,
    [Title] nvarchar(150) NOT NULL,
    [Description] nvarchar(max) NULL,
    [EventDate] datetime2 NOT NULL,
    [ImageURL] nvarchar(300) NULL,
    [BranchId] int NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Events] PRIMARY KEY ([EventId]),
    CONSTRAINT [FK_Events_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE SET NULL
);
2025-11-25 04:33:35.215 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Events] (
    [EventId] int NOT NULL IDENTITY,
    [Title] nvarchar(150) NOT NULL,
    [Description] nvarchar(max) NULL,
    [EventDate] datetime2 NOT NULL,
    [ImageURL] nvarchar(300) NULL,
    [BranchId] int NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Events] PRIMARY KEY ([EventId]),
    CONSTRAINT [FK_Events_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE SET NULL
);
2025-11-25 04:33:35.215 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:35.215 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:35.215 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:35.215 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [News] (
    [NewsId] int NOT NULL IDENTITY,
    [Title] nvarchar(150) NOT NULL,
    [Description] nvarchar(max) NULL,
    [ImageURL] nvarchar(300) NULL,
    [Date] datetime2 NOT NULL,
    [BranchId] int NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_News] PRIMARY KEY ([NewsId]),
    CONSTRAINT [FK_News_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE SET NULL
);
2025-11-25 04:33:35.216 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [News] (
    [NewsId] int NOT NULL IDENTITY,
    [Title] nvarchar(150) NOT NULL,
    [Description] nvarchar(max) NULL,
    [ImageURL] nvarchar(300) NULL,
    [Date] datetime2 NOT NULL,
    [BranchId] int NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_News] PRIMARY KEY ([NewsId]),
    CONSTRAINT [FK_News_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE SET NULL
);
2025-11-25 04:33:37.854 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:37.854 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:37.854 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:37.854 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] nvarchar(450) NOT NULL,
    [FullName] nvarchar(150) NOT NULL,
    [Gender] nvarchar(10) NULL,
    [DateOfBirth] datetime2 NULL,
    [Role] nvarchar(50) NOT NULL,
    [BranchId] int NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE SET NULL
);
2025-11-25 04:33:37.857 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] nvarchar(450) NOT NULL,
    [FullName] nvarchar(150) NOT NULL,
    [Gender] nvarchar(10) NULL,
    [DateOfBirth] datetime2 NULL,
    [Role] nvarchar(50) NOT NULL,
    [BranchId] int NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE SET NULL
);
2025-11-25 04:33:37.857 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:37.857 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:37.857 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:37.857 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Services] (
    [ServiceId] int NOT NULL IDENTITY,
    [Name] nvarchar(120) NOT NULL,
    [Description] nvarchar(max) NULL,
    [ImageURL] nvarchar(300) NULL,
    [BranchId] int NULL,
    [SpecializationId] int NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Services] PRIMARY KEY ([ServiceId]),
    CONSTRAINT [FK_Services_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE SET NULL,
    CONSTRAINT [FK_Services_Specializations_SpecializationId] FOREIGN KEY ([SpecializationId]) REFERENCES [Specializations] ([SpecializationId]) ON DELETE SET NULL
);
2025-11-25 04:33:37.860 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Services] (
    [ServiceId] int NOT NULL IDENTITY,
    [Name] nvarchar(120) NOT NULL,
    [Description] nvarchar(max) NULL,
    [ImageURL] nvarchar(300) NULL,
    [BranchId] int NULL,
    [SpecializationId] int NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Services] PRIMARY KEY ([ServiceId]),
    CONSTRAINT [FK_Services_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE SET NULL,
    CONSTRAINT [FK_Services_Specializations_SpecializationId] FOREIGN KEY ([SpecializationId]) REFERENCES [Specializations] ([SpecializationId]) ON DELETE SET NULL
);
2025-11-25 04:33:40.368 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:40.368 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:40.368 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:40.368 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-11-25 04:33:40.372 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-11-25 04:33:40.372 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:40.372 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:40.372 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:40.372 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-11-25 04:33:40.377 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-11-25 04:33:40.377 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:40.377 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:40.377 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:40.377 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-11-25 04:33:40.379 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-11-25 04:33:43.143 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:43.143 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:43.143 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:43.143 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-11-25 04:33:43.146 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-11-25 04:33:43.146 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:43.146 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:43.146 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:43.146 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Doctors] (
    [DoctorId] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [SpecializationId] int NOT NULL,
    [BranchId] int NOT NULL,
    [Biography] nvarchar(max) NULL,
    [ExperienceYears] int NULL,
    [ConsultationFees] decimal(10,2) NULL,
    [Available] bit NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Doctors] PRIMARY KEY ([DoctorId]),
    CONSTRAINT [FK_Doctors_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Doctors_Specializations_SpecializationId] FOREIGN KEY ([SpecializationId]) REFERENCES [Specializations] ([SpecializationId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Doctors_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-11-25 04:33:43.150 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Doctors] (
    [DoctorId] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [SpecializationId] int NOT NULL,
    [BranchId] int NOT NULL,
    [Biography] nvarchar(max) NULL,
    [ExperienceYears] int NULL,
    [ConsultationFees] decimal(10,2) NULL,
    [Available] bit NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Doctors] PRIMARY KEY ([DoctorId]),
    CONSTRAINT [FK_Doctors_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Doctors_Specializations_SpecializationId] FOREIGN KEY ([SpecializationId]) REFERENCES [Specializations] ([SpecializationId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Doctors_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-11-25 04:33:43.150 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:43.150 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:43.151 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:43.151 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Patients] (
    [PatientId] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [BloodType] nvarchar(5) NULL,
    [EmergencyContact] nvarchar(150) NULL,
    [Address] nvarchar(250) NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Patients] PRIMARY KEY ([PatientId]),
    CONSTRAINT [FK_Patients_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-11-25 04:33:45.319 +02:00 [INF] Executed DbCommand (2,168ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Patients] (
    [PatientId] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [BloodType] nvarchar(5) NULL,
    [EmergencyContact] nvarchar(150) NULL,
    [Address] nvarchar(250) NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Patients] PRIMARY KEY ([PatientId]),
    CONSTRAINT [FK_Patients_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-11-25 04:33:45.319 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:45.319 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:45.319 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:45.319 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [SupportTickets] (
    [TicketId] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [Subject] nvarchar(200) NOT NULL,
    [Message] nvarchar(max) NOT NULL,
    [Status] nvarchar(20) NOT NULL,
    [Response] nvarchar(max) NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_SupportTickets] PRIMARY KEY ([TicketId]),
    CONSTRAINT [FK_SupportTickets_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-11-25 04:33:45.322 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [SupportTickets] (
    [TicketId] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [Subject] nvarchar(200) NOT NULL,
    [Message] nvarchar(max) NOT NULL,
    [Status] nvarchar(20) NOT NULL,
    [Response] nvarchar(max) NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_SupportTickets] PRIMARY KEY ([TicketId]),
    CONSTRAINT [FK_SupportTickets_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-11-25 04:33:45.322 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:45.322 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:45.322 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:45.322 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Schedules] (
    [ScheduleId] int NOT NULL IDENTITY,
    [DoctorId] int NOT NULL,
    [DayOfWeek] nvarchar(20) NOT NULL,
    [StartTime] time NOT NULL,
    [EndTime] time NOT NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Schedules] PRIMARY KEY ([ScheduleId]),
    CONSTRAINT [FK_Schedules_Doctors_DoctorId] FOREIGN KEY ([DoctorId]) REFERENCES [Doctors] ([DoctorId]) ON DELETE CASCADE
);
2025-11-25 04:33:45.324 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Schedules] (
    [ScheduleId] int NOT NULL IDENTITY,
    [DoctorId] int NOT NULL,
    [DayOfWeek] nvarchar(20) NOT NULL,
    [StartTime] time NOT NULL,
    [EndTime] time NOT NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Schedules] PRIMARY KEY ([ScheduleId]),
    CONSTRAINT [FK_Schedules_Doctors_DoctorId] FOREIGN KEY ([DoctorId]) REFERENCES [Doctors] ([DoctorId]) ON DELETE CASCADE
);
2025-11-25 04:33:45.324 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:45.324 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:45.324 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:45.324 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Appointments] (
    [AppointmentId] int NOT NULL IDENTITY,
    [PatientId] int NOT NULL,
    [DoctorId] int NOT NULL,
    [BranchId] int NOT NULL,
    [Date] datetime2 NOT NULL,
    [Time] time NOT NULL,
    [Status] nvarchar(20) NOT NULL,
    [CreatedBy] nvarchar(450) NULL,
    [Notes] nvarchar(max) NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Appointments] PRIMARY KEY ([AppointmentId]),
    CONSTRAINT [FK_Appointments_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Appointments_Doctors_DoctorId] FOREIGN KEY ([DoctorId]) REFERENCES [Doctors] ([DoctorId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Appointments_Patients_PatientId] FOREIGN KEY ([PatientId]) REFERENCES [Patients] ([PatientId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Appointments_Users_CreatedBy] FOREIGN KEY ([CreatedBy]) REFERENCES [Users] ([Id]) ON DELETE SET NULL
);
2025-11-25 04:33:47.634 +02:00 [INF] Executed DbCommand (2,310ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Appointments] (
    [AppointmentId] int NOT NULL IDENTITY,
    [PatientId] int NOT NULL,
    [DoctorId] int NOT NULL,
    [BranchId] int NOT NULL,
    [Date] datetime2 NOT NULL,
    [Time] time NOT NULL,
    [Status] nvarchar(20) NOT NULL,
    [CreatedBy] nvarchar(450) NULL,
    [Notes] nvarchar(max) NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Appointments] PRIMARY KEY ([AppointmentId]),
    CONSTRAINT [FK_Appointments_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Appointments_Doctors_DoctorId] FOREIGN KEY ([DoctorId]) REFERENCES [Doctors] ([DoctorId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Appointments_Patients_PatientId] FOREIGN KEY ([PatientId]) REFERENCES [Patients] ([PatientId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Appointments_Users_CreatedBy] FOREIGN KEY ([CreatedBy]) REFERENCES [Users] ([Id]) ON DELETE SET NULL
);
2025-11-25 04:33:47.634 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:47.634 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:47.634 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:47.634 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [MedicalRecords] (
    [RecordId] int NOT NULL IDENTITY,
    [AppointmentId] int NOT NULL,
    [DoctorId] int NOT NULL,
    [PatientId] int NOT NULL,
    [Diagnosis] nvarchar(max) NULL,
    [TreatmentPlan] nvarchar(max) NULL,
    [Notes] nvarchar(max) NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_MedicalRecords] PRIMARY KEY ([RecordId]),
    CONSTRAINT [FK_MedicalRecords_Appointments_AppointmentId] FOREIGN KEY ([AppointmentId]) REFERENCES [Appointments] ([AppointmentId]) ON DELETE CASCADE,
    CONSTRAINT [FK_MedicalRecords_Doctors_DoctorId] FOREIGN KEY ([DoctorId]) REFERENCES [Doctors] ([DoctorId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_MedicalRecords_Patients_PatientId] FOREIGN KEY ([PatientId]) REFERENCES [Patients] ([PatientId]) ON DELETE NO ACTION
);
2025-11-25 04:33:47.636 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [MedicalRecords] (
    [RecordId] int NOT NULL IDENTITY,
    [AppointmentId] int NOT NULL,
    [DoctorId] int NOT NULL,
    [PatientId] int NOT NULL,
    [Diagnosis] nvarchar(max) NULL,
    [TreatmentPlan] nvarchar(max) NULL,
    [Notes] nvarchar(max) NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_MedicalRecords] PRIMARY KEY ([RecordId]),
    CONSTRAINT [FK_MedicalRecords_Appointments_AppointmentId] FOREIGN KEY ([AppointmentId]) REFERENCES [Appointments] ([AppointmentId]) ON DELETE CASCADE,
    CONSTRAINT [FK_MedicalRecords_Doctors_DoctorId] FOREIGN KEY ([DoctorId]) REFERENCES [Doctors] ([DoctorId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_MedicalRecords_Patients_PatientId] FOREIGN KEY ([PatientId]) REFERENCES [Patients] ([PatientId]) ON DELETE NO ACTION
);
2025-11-25 04:33:50.096 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:50.096 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:50.096 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:50.096 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Appointments_BranchId] ON [Appointments] ([BranchId]);
2025-11-25 04:33:50.101 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Appointments_BranchId] ON [Appointments] ([BranchId]);
2025-11-25 04:33:50.101 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:50.101 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:50.101 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:50.101 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Appointments_CreatedBy] ON [Appointments] ([CreatedBy]);
2025-11-25 04:33:50.103 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Appointments_CreatedBy] ON [Appointments] ([CreatedBy]);
2025-11-25 04:33:50.103 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:50.103 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:50.103 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:50.103 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Appointments_DoctorId] ON [Appointments] ([DoctorId]);
2025-11-25 04:33:50.104 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Appointments_DoctorId] ON [Appointments] ([DoctorId]);
2025-11-25 04:33:50.104 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:50.104 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:50.104 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:50.104 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Appointments_PatientId] ON [Appointments] ([PatientId]);
2025-11-25 04:33:50.105 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Appointments_PatientId] ON [Appointments] ([PatientId]);
2025-11-25 04:33:50.105 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:50.105 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:50.105 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:50.105 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2025-11-25 04:33:50.106 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2025-11-25 04:33:50.106 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:50.106 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:50.106 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:50.106 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2025-11-25 04:33:50.107 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2025-11-25 04:33:50.107 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:50.107 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:50.107 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:50.107 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2025-11-25 04:33:50.108 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2025-11-25 04:33:50.108 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:50.108 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:52.242 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2133ms).
2025-11-25 04:33:52.242 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2025-11-25 04:33:52.243 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2025-11-25 04:33:52.243 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:52.244 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:52.244 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:52.244 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2025-11-25 04:33:52.246 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2025-11-25 04:33:52.246 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:52.246 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:52.246 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:52.246 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Banners_BranchId] ON [Banners] ([BranchId]);
2025-11-25 04:33:52.247 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Banners_BranchId] ON [Banners] ([BranchId]);
2025-11-25 04:33:52.247 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:52.247 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:52.247 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:52.247 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Doctors_BranchId] ON [Doctors] ([BranchId]);
2025-11-25 04:33:52.248 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Doctors_BranchId] ON [Doctors] ([BranchId]);
2025-11-25 04:33:52.248 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:52.248 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:52.248 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:52.248 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Doctors_SpecializationId] ON [Doctors] ([SpecializationId]);
2025-11-25 04:33:52.249 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Doctors_SpecializationId] ON [Doctors] ([SpecializationId]);
2025-11-25 04:33:52.249 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:52.249 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:52.249 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:52.249 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Doctors_UserId] ON [Doctors] ([UserId]);
2025-11-25 04:33:52.250 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Doctors_UserId] ON [Doctors] ([UserId]);
2025-11-25 04:33:52.250 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:52.250 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:52.250 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:52.250 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Events_BranchId] ON [Events] ([BranchId]);
2025-11-25 04:33:52.250 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Events_BranchId] ON [Events] ([BranchId]);
2025-11-25 04:33:52.251 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:52.251 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:52.251 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:52.251 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_MedicalRecords_AppointmentId] ON [MedicalRecords] ([AppointmentId]);
2025-11-25 04:33:52.252 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_MedicalRecords_AppointmentId] ON [MedicalRecords] ([AppointmentId]);
2025-11-25 04:33:52.252 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:53.894 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1642ms).
2025-11-25 04:33:53.894 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1642ms).
2025-11-25 04:33:53.894 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_MedicalRecords_DoctorId] ON [MedicalRecords] ([DoctorId]);
2025-11-25 04:33:53.895 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_MedicalRecords_DoctorId] ON [MedicalRecords] ([DoctorId]);
2025-11-25 04:33:53.896 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:53.896 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:53.896 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:53.896 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_MedicalRecords_PatientId] ON [MedicalRecords] ([PatientId]);
2025-11-25 04:33:53.896 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_MedicalRecords_PatientId] ON [MedicalRecords] ([PatientId]);
2025-11-25 04:33:53.896 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:53.896 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:53.896 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:53.896 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_News_BranchId] ON [News] ([BranchId]);
2025-11-25 04:33:53.897 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_News_BranchId] ON [News] ([BranchId]);
2025-11-25 04:33:53.897 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:53.897 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:53.897 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:53.897 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Patients_UserId] ON [Patients] ([UserId]);
2025-11-25 04:33:53.898 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Patients_UserId] ON [Patients] ([UserId]);
2025-11-25 04:33:53.898 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:53.898 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:53.898 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:53.898 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Schedules_DoctorId] ON [Schedules] ([DoctorId]);
2025-11-25 04:33:53.899 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Schedules_DoctorId] ON [Schedules] ([DoctorId]);
2025-11-25 04:33:53.899 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:53.899 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:53.899 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:53.899 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Services_BranchId] ON [Services] ([BranchId]);
2025-11-25 04:33:53.900 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Services_BranchId] ON [Services] ([BranchId]);
2025-11-25 04:33:53.900 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:53.900 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:53.900 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:53.900 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Services_SpecializationId] ON [Services] ([SpecializationId]);
2025-11-25 04:33:53.901 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Services_SpecializationId] ON [Services] ([SpecializationId]);
2025-11-25 04:33:53.901 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:53.901 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:53.901 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:53.901 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_SupportTickets_UserId] ON [SupportTickets] ([UserId]);
2025-11-25 04:33:53.902 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_SupportTickets_UserId] ON [SupportTickets] ([UserId]);
2025-11-25 04:33:55.618 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:55.618 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:55.618 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:55.619 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [Users] ([NormalizedEmail]);
2025-11-25 04:33:55.620 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [Users] ([NormalizedEmail]);
2025-11-25 04:33:55.620 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:55.620 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:55.620 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:55.620 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Users_BranchId] ON [Users] ([BranchId]);
2025-11-25 04:33:55.621 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Users_BranchId] ON [Users] ([BranchId]);
2025-11-25 04:33:55.621 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:55.621 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:55.621 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:55.621 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Users_Email] ON [Users] ([Email]) WHERE [Email] IS NOT NULL;
2025-11-25 04:33:55.622 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Users_Email] ON [Users] ([Email]) WHERE [Email] IS NOT NULL;
2025-11-25 04:33:55.622 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:55.622 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:55.622 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:55.622 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [Users] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2025-11-25 04:33:55.623 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [Users] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2025-11-25 04:33:55.623 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:55.623 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:55.623 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:55.623 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251111134048_init-auth', N'8.0.21');
2025-11-25 04:33:55.630 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251111134048_init-auth', N'8.0.21');
2025-11-25 04:33:55.630 +02:00 [DBG] Committing transaction.
2025-11-25 04:33:55.634 +02:00 [DBG] Committed transaction.
2025-11-25 04:33:55.634 +02:00 [DBG] Disposing transaction.
2025-11-25 04:33:55.634 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:33:55.634 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:33:55.635 +02:00 [INF] Applying migration '20251111134638__SeedRoles'.
2025-11-25 04:33:55.678 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:33:55.678 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:33:55.678 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:33:55.678 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:33:55.678 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:55.678 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:55.678 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:55.678 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Name', N'NormalizedName', N'ConcurrencyStamp') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [Name], [NormalizedName], [ConcurrencyStamp])
VALUES (N'49d192ca-a1d3-4a84-b46c-8886a40daeaf', N'Admin', N'ADMIN', N'1ad675dd-cace-46fc-b4f1-08b89879decf');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Name', N'NormalizedName', N'ConcurrencyStamp') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2025-11-25 04:33:57.377 +02:00 [INF] Executed DbCommand (1,699ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Name', N'NormalizedName', N'ConcurrencyStamp') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [Name], [NormalizedName], [ConcurrencyStamp])
VALUES (N'49d192ca-a1d3-4a84-b46c-8886a40daeaf', N'Admin', N'ADMIN', N'1ad675dd-cace-46fc-b4f1-08b89879decf');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Name', N'NormalizedName', N'ConcurrencyStamp') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2025-11-25 04:33:57.377 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:57.377 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:57.377 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:57.377 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Name', N'NormalizedName', N'ConcurrencyStamp') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [Name], [NormalizedName], [ConcurrencyStamp])
VALUES (N'3b855183-d6b3-4cae-8675-eb727f9b440f', N'Doctor', N'DOCTOR', N'a598d151-1f23-4062-893b-bee805614027');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Name', N'NormalizedName', N'ConcurrencyStamp') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2025-11-25 04:33:57.386 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Name', N'NormalizedName', N'ConcurrencyStamp') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [Name], [NormalizedName], [ConcurrencyStamp])
VALUES (N'3b855183-d6b3-4cae-8675-eb727f9b440f', N'Doctor', N'DOCTOR', N'a598d151-1f23-4062-893b-bee805614027');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Name', N'NormalizedName', N'ConcurrencyStamp') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2025-11-25 04:33:57.386 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:57.386 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:57.386 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:57.386 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Name', N'NormalizedName', N'ConcurrencyStamp') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [Name], [NormalizedName], [ConcurrencyStamp])
VALUES (N'169d1c24-89cd-4c96-b65a-a486ae9e6e18', N'Patient', N'PATIENT', N'01bb150f-bd48-4a4a-b4b5-af9b9afd5407');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Name', N'NormalizedName', N'ConcurrencyStamp') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2025-11-25 04:33:57.395 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Name', N'NormalizedName', N'ConcurrencyStamp') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [Name], [NormalizedName], [ConcurrencyStamp])
VALUES (N'169d1c24-89cd-4c96-b65a-a486ae9e6e18', N'Patient', N'PATIENT', N'01bb150f-bd48-4a4a-b4b5-af9b9afd5407');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Name', N'NormalizedName', N'ConcurrencyStamp') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2025-11-25 04:33:59.068 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:59.068 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:59.068 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:59.068 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251111134638__SeedRoles', N'8.0.21');
2025-11-25 04:33:59.070 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251111134638__SeedRoles', N'8.0.21');
2025-11-25 04:33:59.070 +02:00 [DBG] Committing transaction.
2025-11-25 04:33:59.070 +02:00 [DBG] Committed transaction.
2025-11-25 04:33:59.070 +02:00 [DBG] Disposing transaction.
2025-11-25 04:33:59.070 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:33:59.070 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:33:59.071 +02:00 [INF] Applying migration '20251111153509__SeedRolesAdmin'.
2025-11-25 04:33:59.203 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:33:59.203 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:33:59.203 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:33:59.203 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:33:59.203 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:33:59.204 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:59.204 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:33:59.204 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'FullName', N'UserName', N'NormalizedUserName', N'Email', N'NormalizedEmail', N'PasswordHash', N'Role', N'CreatedAt', N'UpdatedAt', N'EmailConfirmed', N'AccessFailedCount', N'PhoneNumberConfirmed', N'TwoFactorEnabled', N'LockoutEnabled', N'SecurityStamp') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [FullName], [UserName], [NormalizedUserName], [Email], [NormalizedEmail], [PasswordHash], [Role], [CreatedAt], [UpdatedAt], [EmailConfirmed], [AccessFailedCount], [PhoneNumberConfirmed], [TwoFactorEnabled], [LockoutEnabled], [SecurityStamp])
VALUES (N'f98fa86b-57cb-4cfe-a282-3a4ec8b94c27', N'Admin', N'admin', N'ADMIN', N'admin@Hospital.com', N'ADMIN@HOSPITAL.COM', N'AQAAAAIAAYagAAAAEOaU/XoQR5IKabHAb+2NhsIINOVRVMcEaS8LbbLJppxEZl46nO+b3yh4FTAh/9hzYg==', N'Admin', '2025-11-25T02:33:59.1523458Z', '2025-11-25T02:33:59.1523463Z', CAST(1 AS bit), 0, CAST(0 AS bit), CAST(0 AS bit), CAST(0 AS bit), N'2d021773-1caf-4fd4-8e9b-4b99683b7d5c');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'FullName', N'UserName', N'NormalizedUserName', N'Email', N'NormalizedEmail', N'PasswordHash', N'Role', N'CreatedAt', N'UpdatedAt', N'EmailConfirmed', N'AccessFailedCount', N'PhoneNumberConfirmed', N'TwoFactorEnabled', N'LockoutEnabled', N'SecurityStamp') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
2025-11-25 04:33:59.231 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'FullName', N'UserName', N'NormalizedUserName', N'Email', N'NormalizedEmail', N'PasswordHash', N'Role', N'CreatedAt', N'UpdatedAt', N'EmailConfirmed', N'AccessFailedCount', N'PhoneNumberConfirmed', N'TwoFactorEnabled', N'LockoutEnabled', N'SecurityStamp') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [FullName], [UserName], [NormalizedUserName], [Email], [NormalizedEmail], [PasswordHash], [Role], [CreatedAt], [UpdatedAt], [EmailConfirmed], [AccessFailedCount], [PhoneNumberConfirmed], [TwoFactorEnabled], [LockoutEnabled], [SecurityStamp])
VALUES (N'f98fa86b-57cb-4cfe-a282-3a4ec8b94c27', N'Admin', N'admin', N'ADMIN', N'admin@Hospital.com', N'ADMIN@HOSPITAL.COM', N'AQAAAAIAAYagAAAAEOaU/XoQR5IKabHAb+2NhsIINOVRVMcEaS8LbbLJppxEZl46nO+b3yh4FTAh/9hzYg==', N'Admin', '2025-11-25T02:33:59.1523458Z', '2025-11-25T02:33:59.1523463Z', CAST(1 AS bit), 0, CAST(0 AS bit), CAST(0 AS bit), CAST(0 AS bit), N'2d021773-1caf-4fd4-8e9b-4b99683b7d5c');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'FullName', N'UserName', N'NormalizedUserName', N'Email', N'NormalizedEmail', N'PasswordHash', N'Role', N'CreatedAt', N'UpdatedAt', N'EmailConfirmed', N'AccessFailedCount', N'PhoneNumberConfirmed', N'TwoFactorEnabled', N'LockoutEnabled', N'SecurityStamp') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
2025-11-25 04:34:00.380 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:00.380 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:00.380 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:00.380 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

        INSERT INTO [AspNetUserRoles] ([UserId], [RoleId])
        SELECT 'f98fa86b-57cb-4cfe-a282-3a4ec8b94c27', [Id]
        FROM [AspNetRoles]
        WHERE [Name] = 'Admin';
2025-11-25 04:34:00.392 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

        INSERT INTO [AspNetUserRoles] ([UserId], [RoleId])
        SELECT 'f98fa86b-57cb-4cfe-a282-3a4ec8b94c27', [Id]
        FROM [AspNetRoles]
        WHERE [Name] = 'Admin';
2025-11-25 04:34:00.392 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:00.392 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:00.392 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:00.392 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251111153509__SeedRolesAdmin', N'8.0.21');
2025-11-25 04:34:00.393 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251111153509__SeedRolesAdmin', N'8.0.21');
2025-11-25 04:34:00.394 +02:00 [DBG] Committing transaction.
2025-11-25 04:34:00.394 +02:00 [DBG] Committed transaction.
2025-11-25 04:34:00.394 +02:00 [DBG] Disposing transaction.
2025-11-25 04:34:00.394 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:00.394 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:34:00.394 +02:00 [INF] Applying migration '20251112174524_AddRefreshTokenColumns'.
2025-11-25 04:34:00.410 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:00.410 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:00.410 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:34:00.411 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:34:00.411 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:00.411 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:00.411 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:00.411 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Users] ADD [RefreshToken] nvarchar(max) NOT NULL DEFAULT N'';
2025-11-25 04:34:00.429 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Users] ADD [RefreshToken] nvarchar(max) NOT NULL DEFAULT N'';
2025-11-25 04:34:00.429 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:00.429 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:00.429 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:00.429 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Users] ADD [RefreshTokenExpiryTime] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';
2025-11-25 04:34:00.436 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Users] ADD [RefreshTokenExpiryTime] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';
2025-11-25 04:34:00.436 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:00.436 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:00.436 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:01.477 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251112174524_AddRefreshTokenColumns', N'8.0.21');
2025-11-25 04:34:01.480 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251112174524_AddRefreshTokenColumns', N'8.0.21');
2025-11-25 04:34:01.480 +02:00 [DBG] Committing transaction.
2025-11-25 04:34:01.481 +02:00 [DBG] Committed transaction.
2025-11-25 04:34:01.481 +02:00 [DBG] Disposing transaction.
2025-11-25 04:34:01.481 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:01.481 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:34:01.481 +02:00 [INF] Applying migration '20251113233448_update in banner and service and branch and specilization relations'.
2025-11-25 04:34:01.497 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:01.497 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:01.497 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:34:01.497 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:34:01.497 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:01.497 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:01.497 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:01.497 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Banners] DROP CONSTRAINT [FK_Banners_Branches_BranchId];
2025-11-25 04:34:01.501 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Banners] DROP CONSTRAINT [FK_Banners_Branches_BranchId];
2025-11-25 04:34:01.501 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:01.501 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:01.501 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:01.501 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Events] DROP CONSTRAINT [FK_Events_Branches_BranchId];
2025-11-25 04:34:01.503 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Events] DROP CONSTRAINT [FK_Events_Branches_BranchId];
2025-11-25 04:34:01.503 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:01.503 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:01.503 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:01.503 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [News] DROP CONSTRAINT [FK_News_Branches_BranchId];
2025-11-25 04:34:01.504 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [News] DROP CONSTRAINT [FK_News_Branches_BranchId];
2025-11-25 04:34:01.504 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:01.504 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:01.504 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:01.504 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Services] DROP CONSTRAINT [FK_Services_Branches_BranchId];
2025-11-25 04:34:01.505 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Services] DROP CONSTRAINT [FK_Services_Branches_BranchId];
2025-11-25 04:34:01.505 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:01.505 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:01.505 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:01.505 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Services] DROP CONSTRAINT [FK_Services_Specializations_SpecializationId];
2025-11-25 04:34:01.506 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Services] DROP CONSTRAINT [FK_Services_Specializations_SpecializationId];
2025-11-25 04:34:01.506 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:01.506 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:01.506 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:01.506 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Services_BranchId] ON [Services];
2025-11-25 04:34:03.099 +02:00 [INF] Executed DbCommand (1,593ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Services_BranchId] ON [Services];
2025-11-25 04:34:03.099 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:03.099 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:03.099 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:03.099 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Services_SpecializationId] ON [Services];
2025-11-25 04:34:03.100 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Services_SpecializationId] ON [Services];
2025-11-25 04:34:03.100 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:03.100 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:03.100 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:03.100 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Banners_BranchId] ON [Banners];
2025-11-25 04:34:03.101 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Banners_BranchId] ON [Banners];
2025-11-25 04:34:03.101 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:03.101 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:03.101 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:03.101 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Services]') AND [c].[name] = N'BranchId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Services] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Services] DROP COLUMN [BranchId];
2025-11-25 04:34:03.138 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Services]') AND [c].[name] = N'BranchId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Services] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Services] DROP COLUMN [BranchId];
2025-11-25 04:34:03.138 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:03.138 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:03.138 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:03.138 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Services]') AND [c].[name] = N'SpecializationId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Services] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Services] DROP COLUMN [SpecializationId];
2025-11-25 04:34:03.149 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Services]') AND [c].[name] = N'SpecializationId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Services] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Services] DROP COLUMN [SpecializationId];
2025-11-25 04:34:03.149 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:03.149 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:03.149 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:03.149 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Banners]') AND [c].[name] = N'BranchId');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [Banners] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [Banners] DROP COLUMN [BranchId];
2025-11-25 04:34:04.832 +02:00 [INF] Executed DbCommand (1,683ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Banners]') AND [c].[name] = N'BranchId');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [Banners] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [Banners] DROP COLUMN [BranchId];
2025-11-25 04:34:04.832 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:04.832 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:04.832 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:04.832 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BranchServices] (
    [BranchId] int NOT NULL,
    [ServiceId] int NOT NULL,
    CONSTRAINT [PK_BranchServices] PRIMARY KEY ([BranchId], [ServiceId]),
    CONSTRAINT [FK_BranchServices_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE CASCADE,
    CONSTRAINT [FK_BranchServices_Services_ServiceId] FOREIGN KEY ([ServiceId]) REFERENCES [Services] ([ServiceId]) ON DELETE CASCADE
);
2025-11-25 04:34:04.834 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BranchServices] (
    [BranchId] int NOT NULL,
    [ServiceId] int NOT NULL,
    CONSTRAINT [PK_BranchServices] PRIMARY KEY ([BranchId], [ServiceId]),
    CONSTRAINT [FK_BranchServices_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE CASCADE,
    CONSTRAINT [FK_BranchServices_Services_ServiceId] FOREIGN KEY ([ServiceId]) REFERENCES [Services] ([ServiceId]) ON DELETE CASCADE
);
2025-11-25 04:34:04.834 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:04.834 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:04.834 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:04.834 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BranchSpecializations] (
    [BranchId] int NOT NULL,
    [SpecializationId] int NOT NULL,
    CONSTRAINT [PK_BranchSpecializations] PRIMARY KEY ([BranchId], [SpecializationId]),
    CONSTRAINT [FK_BranchSpecializations_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE CASCADE,
    CONSTRAINT [FK_BranchSpecializations_Specializations_SpecializationId] FOREIGN KEY ([SpecializationId]) REFERENCES [Specializations] ([SpecializationId]) ON DELETE CASCADE
);
2025-11-25 04:34:04.836 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BranchSpecializations] (
    [BranchId] int NOT NULL,
    [SpecializationId] int NOT NULL,
    CONSTRAINT [PK_BranchSpecializations] PRIMARY KEY ([BranchId], [SpecializationId]),
    CONSTRAINT [FK_BranchSpecializations_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE CASCADE,
    CONSTRAINT [FK_BranchSpecializations_Specializations_SpecializationId] FOREIGN KEY ([SpecializationId]) REFERENCES [Specializations] ([SpecializationId]) ON DELETE CASCADE
);
2025-11-25 04:34:04.836 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:04.836 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:04.836 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:04.836 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BranchServices_ServiceId] ON [BranchServices] ([ServiceId]);
2025-11-25 04:34:04.837 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BranchServices_ServiceId] ON [BranchServices] ([ServiceId]);
2025-11-25 04:34:04.837 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:06.754 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1916ms).
2025-11-25 04:34:06.754 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1916ms).
2025-11-25 04:34:06.754 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BranchSpecializations_SpecializationId] ON [BranchSpecializations] ([SpecializationId]);
2025-11-25 04:34:06.755 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BranchSpecializations_SpecializationId] ON [BranchSpecializations] ([SpecializationId]);
2025-11-25 04:34:06.755 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:06.755 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:06.755 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:06.755 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Events] ADD CONSTRAINT [FK_Events_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]);
2025-11-25 04:34:06.756 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Events] ADD CONSTRAINT [FK_Events_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]);
2025-11-25 04:34:06.756 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:06.756 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:06.756 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:06.756 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [News] ADD CONSTRAINT [FK_News_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]);
2025-11-25 04:34:06.757 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [News] ADD CONSTRAINT [FK_News_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]);
2025-11-25 04:34:06.757 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:06.757 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:06.757 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:06.757 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251113233448_update in banner and service and branch and specilization relations', N'8.0.21');
2025-11-25 04:34:06.760 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251113233448_update in banner and service and branch and specilization relations', N'8.0.21');
2025-11-25 04:34:06.760 +02:00 [DBG] Committing transaction.
2025-11-25 04:34:06.760 +02:00 [DBG] Committed transaction.
2025-11-25 04:34:06.760 +02:00 [DBG] Disposing transaction.
2025-11-25 04:34:06.760 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:06.760 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:34:06.760 +02:00 [INF] Applying migration '20251115194238_add many to many relation between branch and doctor'.
2025-11-25 04:34:06.773 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:06.773 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:06.773 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:34:06.773 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:34:06.773 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:06.773 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:06.773 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:06.773 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Doctors] DROP CONSTRAINT [FK_Doctors_Branches_BranchId];
2025-11-25 04:34:06.775 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Doctors] DROP CONSTRAINT [FK_Doctors_Branches_BranchId];
2025-11-25 04:34:06.775 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:06.775 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:06.775 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:06.775 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Doctors_BranchId] ON [Doctors];
2025-11-25 04:34:08.567 +02:00 [INF] Executed DbCommand (1,792ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Doctors_BranchId] ON [Doctors];
2025-11-25 04:34:08.567 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:08.567 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:08.567 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:08.567 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var3 sysname;
SELECT @var3 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Doctors]') AND [c].[name] = N'BranchId');
IF @var3 IS NOT NULL EXEC(N'ALTER TABLE [Doctors] DROP CONSTRAINT [' + @var3 + '];');
ALTER TABLE [Doctors] DROP COLUMN [BranchId];
2025-11-25 04:34:08.586 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var3 sysname;
SELECT @var3 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Doctors]') AND [c].[name] = N'BranchId');
IF @var3 IS NOT NULL EXEC(N'ALTER TABLE [Doctors] DROP CONSTRAINT [' + @var3 + '];');
ALTER TABLE [Doctors] DROP COLUMN [BranchId];
2025-11-25 04:34:08.586 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:08.586 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:08.586 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:08.586 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [DoctorBranches] (
    [BranchesBranchId] int NOT NULL,
    [DoctorsDoctorId] int NOT NULL,
    CONSTRAINT [PK_DoctorBranches] PRIMARY KEY ([BranchesBranchId], [DoctorsDoctorId]),
    CONSTRAINT [FK_DoctorBranches_Branches_BranchesBranchId] FOREIGN KEY ([BranchesBranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE CASCADE,
    CONSTRAINT [FK_DoctorBranches_Doctors_DoctorsDoctorId] FOREIGN KEY ([DoctorsDoctorId]) REFERENCES [Doctors] ([DoctorId]) ON DELETE CASCADE
);
2025-11-25 04:34:08.589 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [DoctorBranches] (
    [BranchesBranchId] int NOT NULL,
    [DoctorsDoctorId] int NOT NULL,
    CONSTRAINT [PK_DoctorBranches] PRIMARY KEY ([BranchesBranchId], [DoctorsDoctorId]),
    CONSTRAINT [FK_DoctorBranches_Branches_BranchesBranchId] FOREIGN KEY ([BranchesBranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE CASCADE,
    CONSTRAINT [FK_DoctorBranches_Doctors_DoctorsDoctorId] FOREIGN KEY ([DoctorsDoctorId]) REFERENCES [Doctors] ([DoctorId]) ON DELETE CASCADE
);
2025-11-25 04:34:08.589 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:08.589 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:08.589 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:08.589 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_DoctorBranches_DoctorsDoctorId] ON [DoctorBranches] ([DoctorsDoctorId]);
2025-11-25 04:34:08.590 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_DoctorBranches_DoctorsDoctorId] ON [DoctorBranches] ([DoctorsDoctorId]);
2025-11-25 04:34:08.590 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:08.590 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:08.590 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:08.590 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251115194238_add many to many relation between branch and doctor', N'8.0.21');
2025-11-25 04:34:08.592 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251115194238_add many to many relation between branch and doctor', N'8.0.21');
2025-11-25 04:34:08.592 +02:00 [DBG] Committing transaction.
2025-11-25 04:34:10.135 +02:00 [DBG] Committed transaction.
2025-11-25 04:34:10.135 +02:00 [DBG] Disposing transaction.
2025-11-25 04:34:10.135 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:10.135 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:34:10.135 +02:00 [INF] Applying migration '20251115200531_remove relation between branch and user'.
2025-11-25 04:34:10.147 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:10.148 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:10.148 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:34:10.148 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:34:10.148 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:10.148 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:10.148 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:10.148 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Users] DROP CONSTRAINT [FK_Users_Branches_BranchId];
2025-11-25 04:34:10.150 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Users] DROP CONSTRAINT [FK_Users_Branches_BranchId];
2025-11-25 04:34:10.150 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:10.150 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:10.150 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:10.150 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Users_BranchId] ON [Users];
2025-11-25 04:34:10.151 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Users_BranchId] ON [Users];
2025-11-25 04:34:10.151 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:10.151 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:10.151 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:10.151 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var4 sysname;
SELECT @var4 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Users]') AND [c].[name] = N'BranchId');
IF @var4 IS NOT NULL EXEC(N'ALTER TABLE [Users] DROP CONSTRAINT [' + @var4 + '];');
ALTER TABLE [Users] DROP COLUMN [BranchId];
2025-11-25 04:34:10.182 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var4 sysname;
SELECT @var4 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Users]') AND [c].[name] = N'BranchId');
IF @var4 IS NOT NULL EXEC(N'ALTER TABLE [Users] DROP CONSTRAINT [' + @var4 + '];');
ALTER TABLE [Users] DROP COLUMN [BranchId];
2025-11-25 04:34:10.182 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:10.182 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:10.182 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:10.182 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251115200531_remove relation between branch and user', N'8.0.21');
2025-11-25 04:34:10.186 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251115200531_remove relation between branch and user', N'8.0.21');
2025-11-25 04:34:10.186 +02:00 [DBG] Committing transaction.
2025-11-25 04:34:10.186 +02:00 [DBG] Committed transaction.
2025-11-25 04:34:10.186 +02:00 [DBG] Disposing transaction.
2025-11-25 04:34:10.186 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:10.186 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:34:10.186 +02:00 [INF] Applying migration '20251116144214_MakeRefreshTokenNullable'.
2025-11-25 04:34:10.202 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:10.202 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:11.942 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:34:11.942 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:34:11.942 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:11.942 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:11.942 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:11.942 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var5 sysname;
SELECT @var5 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Users]') AND [c].[name] = N'RefreshToken');
IF @var5 IS NOT NULL EXEC(N'ALTER TABLE [Users] DROP CONSTRAINT [' + @var5 + '];');
ALTER TABLE [Users] ALTER COLUMN [RefreshToken] nvarchar(max) NULL;
2025-11-25 04:34:11.965 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var5 sysname;
SELECT @var5 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Users]') AND [c].[name] = N'RefreshToken');
IF @var5 IS NOT NULL EXEC(N'ALTER TABLE [Users] DROP CONSTRAINT [' + @var5 + '];');
ALTER TABLE [Users] ALTER COLUMN [RefreshToken] nvarchar(max) NULL;
2025-11-25 04:34:11.965 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:11.965 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:11.965 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:11.965 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251116144214_MakeRefreshTokenNullable', N'8.0.21');
2025-11-25 04:34:11.968 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251116144214_MakeRefreshTokenNullable', N'8.0.21');
2025-11-25 04:34:11.968 +02:00 [DBG] Committing transaction.
2025-11-25 04:34:11.968 +02:00 [DBG] Committed transaction.
2025-11-25 04:34:11.968 +02:00 [DBG] Disposing transaction.
2025-11-25 04:34:11.968 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:11.968 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:34:11.968 +02:00 [INF] Applying migration '20251116184844_editPatientModel'.
2025-11-25 04:34:11.981 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:11.981 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:11.981 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:34:11.981 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:34:11.981 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:11.981 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:11.981 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:11.981 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var6 sysname;
SELECT @var6 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Patients]') AND [c].[name] = N'Address');
IF @var6 IS NOT NULL EXEC(N'ALTER TABLE [Patients] DROP CONSTRAINT [' + @var6 + '];');
ALTER TABLE [Patients] DROP COLUMN [Address];
2025-11-25 04:34:11.999 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var6 sysname;
SELECT @var6 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Patients]') AND [c].[name] = N'Address');
IF @var6 IS NOT NULL EXEC(N'ALTER TABLE [Patients] DROP CONSTRAINT [' + @var6 + '];');
ALTER TABLE [Patients] DROP COLUMN [Address];
2025-11-25 04:34:11.999 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:13.788 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1789ms).
2025-11-25 04:34:13.788 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1789ms).
2025-11-25 04:34:13.789 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var7 sysname;
SELECT @var7 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Patients]') AND [c].[name] = N'BloodType');
IF @var7 IS NOT NULL EXEC(N'ALTER TABLE [Patients] DROP CONSTRAINT [' + @var7 + '];');
ALTER TABLE [Patients] DROP COLUMN [BloodType];
2025-11-25 04:34:13.806 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var7 sysname;
SELECT @var7 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Patients]') AND [c].[name] = N'BloodType');
IF @var7 IS NOT NULL EXEC(N'ALTER TABLE [Patients] DROP CONSTRAINT [' + @var7 + '];');
ALTER TABLE [Patients] DROP COLUMN [BloodType];
2025-11-25 04:34:13.806 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:13.806 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:13.806 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:13.806 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251116184844_editPatientModel', N'8.0.21');
2025-11-25 04:34:13.808 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251116184844_editPatientModel', N'8.0.21');
2025-11-25 04:34:13.808 +02:00 [DBG] Committing transaction.
2025-11-25 04:34:13.809 +02:00 [DBG] Committed transaction.
2025-11-25 04:34:13.809 +02:00 [DBG] Disposing transaction.
2025-11-25 04:34:13.809 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:13.809 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:34:13.809 +02:00 [INF] Applying migration '20251116220101_change Timeonly in schedule to DateTime'.
2025-11-25 04:34:13.823 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:13.823 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:13.823 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:34:13.824 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:34:13.824 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:13.824 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:13.824 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:13.824 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var8 sysname;
SELECT @var8 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Schedules]') AND [c].[name] = N'StartTime');
IF @var8 IS NOT NULL EXEC(N'ALTER TABLE [Schedules] DROP CONSTRAINT [' + @var8 + '];');
ALTER TABLE [Schedules] ALTER COLUMN [StartTime] datetime2 NOT NULL;
2025-11-25 04:34:13.837 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var8 sysname;
SELECT @var8 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Schedules]') AND [c].[name] = N'StartTime');
IF @var8 IS NOT NULL EXEC(N'ALTER TABLE [Schedules] DROP CONSTRAINT [' + @var8 + '];');
ALTER TABLE [Schedules] ALTER COLUMN [StartTime] datetime2 NOT NULL;
2025-11-25 04:34:13.837 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:13.837 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:13.837 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:13.837 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var9 sysname;
SELECT @var9 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Schedules]') AND [c].[name] = N'EndTime');
IF @var9 IS NOT NULL EXEC(N'ALTER TABLE [Schedules] DROP CONSTRAINT [' + @var9 + '];');
ALTER TABLE [Schedules] ALTER COLUMN [EndTime] datetime2 NOT NULL;
2025-11-25 04:34:15.960 +02:00 [INF] Executed DbCommand (2,123ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var9 sysname;
SELECT @var9 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Schedules]') AND [c].[name] = N'EndTime');
IF @var9 IS NOT NULL EXEC(N'ALTER TABLE [Schedules] DROP CONSTRAINT [' + @var9 + '];');
ALTER TABLE [Schedules] ALTER COLUMN [EndTime] datetime2 NOT NULL;
2025-11-25 04:34:15.960 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:15.960 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:15.960 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:15.960 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251116220101_change Timeonly in schedule to DateTime', N'8.0.21');
2025-11-25 04:34:15.961 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251116220101_change Timeonly in schedule to DateTime', N'8.0.21');
2025-11-25 04:34:15.961 +02:00 [DBG] Committing transaction.
2025-11-25 04:34:15.961 +02:00 [DBG] Committed transaction.
2025-11-25 04:34:15.961 +02:00 [DBG] Disposing transaction.
2025-11-25 04:34:15.961 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:15.962 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:34:15.962 +02:00 [INF] Applying migration '20251117115532_addPhotoToDoctor'.
2025-11-25 04:34:15.973 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:15.973 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:15.973 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:34:15.974 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:34:15.974 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:15.974 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:15.974 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:15.974 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Doctors] ADD [ImageURL] nvarchar(300) NULL;
2025-11-25 04:34:15.975 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Doctors] ADD [ImageURL] nvarchar(300) NULL;
2025-11-25 04:34:15.975 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:15.975 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:15.975 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:15.976 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251117115532_addPhotoToDoctor', N'8.0.21');
2025-11-25 04:34:15.976 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251117115532_addPhotoToDoctor', N'8.0.21');
2025-11-25 04:34:15.976 +02:00 [DBG] Committing transaction.
2025-11-25 04:34:15.977 +02:00 [DBG] Committed transaction.
2025-11-25 04:34:15.977 +02:00 [DBG] Disposing transaction.
2025-11-25 04:34:15.977 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:15.977 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:34:15.977 +02:00 [INF] Applying migration '20251118140238_editTimeOnlYToDateTime'.
2025-11-25 04:34:15.988 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:15.988 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:15.988 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:34:17.979 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:34:17.979 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:17.979 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:17.979 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:17.979 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var10 sysname;
SELECT @var10 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Appointments]') AND [c].[name] = N'Time');
IF @var10 IS NOT NULL EXEC(N'ALTER TABLE [Appointments] DROP CONSTRAINT [' + @var10 + '];');
ALTER TABLE [Appointments] ALTER COLUMN [Time] datetime2 NOT NULL;
2025-11-25 04:34:17.998 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var10 sysname;
SELECT @var10 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Appointments]') AND [c].[name] = N'Time');
IF @var10 IS NOT NULL EXEC(N'ALTER TABLE [Appointments] DROP CONSTRAINT [' + @var10 + '];');
ALTER TABLE [Appointments] ALTER COLUMN [Time] datetime2 NOT NULL;
2025-11-25 04:34:17.998 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:17.998 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:17.998 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:17.998 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251118140238_editTimeOnlYToDateTime', N'8.0.21');
2025-11-25 04:34:17.999 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251118140238_editTimeOnlYToDateTime', N'8.0.21');
2025-11-25 04:34:17.999 +02:00 [DBG] Committing transaction.
2025-11-25 04:34:18.000 +02:00 [DBG] Committed transaction.
2025-11-25 04:34:18.000 +02:00 [DBG] Disposing transaction.
2025-11-25 04:34:18.000 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:18.000 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:34:18.000 +02:00 [INF] Applying migration '20251118182335_improve schedule'.
2025-11-25 04:34:18.012 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:18.012 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:18.012 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:34:18.013 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:34:18.013 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:18.013 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:18.013 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:18.013 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Schedules] ADD [Shift] int NOT NULL DEFAULT 0;
2025-11-25 04:34:18.014 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Schedules] ADD [Shift] int NOT NULL DEFAULT 0;
2025-11-25 04:34:18.014 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:18.014 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:18.014 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:18.014 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251118182335_improve schedule', N'8.0.21');
2025-11-25 04:34:18.015 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251118182335_improve schedule', N'8.0.21');
2025-11-25 04:34:18.015 +02:00 [DBG] Committing transaction.
2025-11-25 04:34:18.015 +02:00 [DBG] Committed transaction.
2025-11-25 04:34:18.015 +02:00 [DBG] Disposing transaction.
2025-11-25 04:34:18.015 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:19.832 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1816ms).
2025-11-25 04:34:19.832 +02:00 [INF] Applying migration '20251119214128_resetPaswoard'.
2025-11-25 04:34:19.844 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:19.844 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:19.844 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:34:19.845 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:34:19.845 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:19.845 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:19.845 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:19.845 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [PasswordResetCodes] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [Code] nvarchar(max) NOT NULL,
    [ExpireAt] datetime2 NOT NULL,
    CONSTRAINT [PK_PasswordResetCodes] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_PasswordResetCodes_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-11-25 04:34:19.848 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [PasswordResetCodes] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [Code] nvarchar(max) NOT NULL,
    [ExpireAt] datetime2 NOT NULL,
    CONSTRAINT [PK_PasswordResetCodes] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_PasswordResetCodes_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-11-25 04:34:19.848 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:19.848 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:19.848 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:19.848 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_PasswordResetCodes_UserId] ON [PasswordResetCodes] ([UserId]);
2025-11-25 04:34:19.849 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_PasswordResetCodes_UserId] ON [PasswordResetCodes] ([UserId]);
2025-11-25 04:34:19.849 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:19.849 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:19.849 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:19.849 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251119214128_resetPaswoard', N'8.0.21');
2025-11-25 04:34:19.852 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251119214128_resetPaswoard', N'8.0.21');
2025-11-25 04:34:19.852 +02:00 [DBG] Committing transaction.
2025-11-25 04:34:19.852 +02:00 [DBG] Committed transaction.
2025-11-25 04:34:19.852 +02:00 [DBG] Disposing transaction.
2025-11-25 04:34:19.852 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:19.852 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:34:19.852 +02:00 [INF] Applying migration '20251120170506_create payment with paymob and update appoiment '.
2025-11-25 04:34:19.866 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:19.866 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:19.866 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:34:19.867 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:34:19.867 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:19.867 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:19.867 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:19.867 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Payments] (
    [PaymentId] int NOT NULL IDENTITY,
    [AppointmentId] int NOT NULL,
    [Amount] decimal(10,2) NOT NULL,
    [Currency] nvarchar(3) NOT NULL,
    [PaymobOrderId] bigint NULL,
    [PaymobTransactionId] bigint NULL,
    [PaymobMerchantOrderId] nvarchar(100) NULL,
    [Status] nvarchar(20) NOT NULL,
    [GatewayResponse] nvarchar(max) NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Payments] PRIMARY KEY ([PaymentId]),
    CONSTRAINT [FK_Payments_Appointments_AppointmentId] FOREIGN KEY ([AppointmentId]) REFERENCES [Appointments] ([AppointmentId]) ON DELETE NO ACTION
);
2025-11-25 04:34:21.685 +02:00 [INF] Executed DbCommand (1,819ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Payments] (
    [PaymentId] int NOT NULL IDENTITY,
    [AppointmentId] int NOT NULL,
    [Amount] decimal(10,2) NOT NULL,
    [Currency] nvarchar(3) NOT NULL,
    [PaymobOrderId] bigint NULL,
    [PaymobTransactionId] bigint NULL,
    [PaymobMerchantOrderId] nvarchar(100) NULL,
    [Status] nvarchar(20) NOT NULL,
    [GatewayResponse] nvarchar(max) NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Payments] PRIMARY KEY ([PaymentId]),
    CONSTRAINT [FK_Payments_Appointments_AppointmentId] FOREIGN KEY ([AppointmentId]) REFERENCES [Appointments] ([AppointmentId]) ON DELETE NO ACTION
);
2025-11-25 04:34:21.685 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:21.685 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:21.685 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:21.686 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Payments_AppointmentId] ON [Payments] ([AppointmentId]);
2025-11-25 04:34:21.686 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Payments_AppointmentId] ON [Payments] ([AppointmentId]);
2025-11-25 04:34:21.686 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:21.686 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:21.686 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:21.686 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251120170506_create payment with paymob and update appoiment ', N'8.0.21');
2025-11-25 04:34:21.689 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251120170506_create payment with paymob and update appoiment ', N'8.0.21');
2025-11-25 04:34:21.689 +02:00 [DBG] Committing transaction.
2025-11-25 04:34:21.691 +02:00 [DBG] Committed transaction.
2025-11-25 04:34:21.691 +02:00 [DBG] Disposing transaction.
2025-11-25 04:34:21.691 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:21.691 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:34:21.691 +02:00 [INF] Applying migration '20251122193859_update appoiment with payment method'.
2025-11-25 04:34:21.703 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:21.703 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:21.703 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:34:21.703 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:34:21.703 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:21.703 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:21.703 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:21.704 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Appointments] ADD [PaymentMethod] int NOT NULL DEFAULT 0;
2025-11-25 04:34:21.705 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Appointments] ADD [PaymentMethod] int NOT NULL DEFAULT 0;
2025-11-25 04:34:21.705 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:21.705 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:21.705 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:21.705 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251122193859_update appoiment with payment method', N'8.0.21');
2025-11-25 04:34:23.757 +02:00 [INF] Executed DbCommand (2,052ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251122193859_update appoiment with payment method', N'8.0.21');
2025-11-25 04:34:23.757 +02:00 [DBG] Committing transaction.
2025-11-25 04:34:23.758 +02:00 [DBG] Committed transaction.
2025-11-25 04:34:23.758 +02:00 [DBG] Disposing transaction.
2025-11-25 04:34:23.758 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:23.758 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:34:23.758 +02:00 [INF] Applying migration '20251122203902_convert type of fess in codtor to ba require'.
2025-11-25 04:34:23.773 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:23.773 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:23.773 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:34:23.773 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:34:23.773 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:23.773 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:23.773 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:23.773 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var11 sysname;
SELECT @var11 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Doctors]') AND [c].[name] = N'ConsultationFees');
IF @var11 IS NOT NULL EXEC(N'ALTER TABLE [Doctors] DROP CONSTRAINT [' + @var11 + '];');
UPDATE [Doctors] SET [ConsultationFees] = 0.0 WHERE [ConsultationFees] IS NULL;
ALTER TABLE [Doctors] ALTER COLUMN [ConsultationFees] decimal(10,2) NOT NULL;
ALTER TABLE [Doctors] ADD DEFAULT 0.0 FOR [ConsultationFees];
2025-11-25 04:34:23.794 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var11 sysname;
SELECT @var11 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Doctors]') AND [c].[name] = N'ConsultationFees');
IF @var11 IS NOT NULL EXEC(N'ALTER TABLE [Doctors] DROP CONSTRAINT [' + @var11 + '];');
UPDATE [Doctors] SET [ConsultationFees] = 0.0 WHERE [ConsultationFees] IS NULL;
ALTER TABLE [Doctors] ALTER COLUMN [ConsultationFees] decimal(10,2) NOT NULL;
ALTER TABLE [Doctors] ADD DEFAULT 0.0 FOR [ConsultationFees];
2025-11-25 04:34:23.794 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:23.794 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:23.794 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:23.794 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251122203902_convert type of fess in codtor to ba require', N'8.0.21');
2025-11-25 04:34:23.794 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251122203902_convert type of fess in codtor to ba require', N'8.0.21');
2025-11-25 04:34:23.795 +02:00 [DBG] Committing transaction.
2025-11-25 04:34:23.795 +02:00 [DBG] Committed transaction.
2025-11-25 04:34:23.795 +02:00 [DBG] Disposing transaction.
2025-11-25 04:34:23.795 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:23.795 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:34:23.795 +02:00 [INF] Applying migration '20251122214638_addImageInBranch'.
2025-11-25 04:34:23.808 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:23.808 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:23.808 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:34:23.809 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:34:23.809 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:23.809 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:23.809 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:25.660 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Branches] ADD [ImageURL] nvarchar(300) NULL;
2025-11-25 04:34:25.662 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Branches] ADD [ImageURL] nvarchar(300) NULL;
2025-11-25 04:34:25.662 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:25.662 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:25.662 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:25.662 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251122214638_addImageInBranch', N'8.0.21');
2025-11-25 04:34:25.665 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251122214638_addImageInBranch', N'8.0.21');
2025-11-25 04:34:25.666 +02:00 [DBG] Committing transaction.
2025-11-25 04:34:25.666 +02:00 [DBG] Committed transaction.
2025-11-25 04:34:25.666 +02:00 [DBG] Disposing transaction.
2025-11-25 04:34:25.666 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:25.666 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:34:25.666 +02:00 [INF] Applying migration '20251124135933_addDateinschudule'.
2025-11-25 04:34:25.680 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:25.680 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:25.680 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:34:25.680 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:34:25.680 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:25.680 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:25.680 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:25.680 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var12 sysname;
SELECT @var12 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Schedules]') AND [c].[name] = N'DayOfWeek');
IF @var12 IS NOT NULL EXEC(N'ALTER TABLE [Schedules] DROP CONSTRAINT [' + @var12 + '];');
ALTER TABLE [Schedules] DROP COLUMN [DayOfWeek];
2025-11-25 04:34:25.696 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var12 sysname;
SELECT @var12 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Schedules]') AND [c].[name] = N'DayOfWeek');
IF @var12 IS NOT NULL EXEC(N'ALTER TABLE [Schedules] DROP CONSTRAINT [' + @var12 + '];');
ALTER TABLE [Schedules] DROP COLUMN [DayOfWeek];
2025-11-25 04:34:25.696 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:25.696 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:25.696 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:25.696 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Schedules] ADD [ScheduleDate] date NOT NULL DEFAULT '0001-01-01';
2025-11-25 04:34:25.697 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Schedules] ADD [ScheduleDate] date NOT NULL DEFAULT '0001-01-01';
2025-11-25 04:34:25.697 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:25.697 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:25.697 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:25.697 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251124135933_addDateinschudule', N'8.0.21');
2025-11-25 04:34:25.698 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251124135933_addDateinschudule', N'8.0.21');
2025-11-25 04:34:27.471 +02:00 [DBG] Committing transaction.
2025-11-25 04:34:27.471 +02:00 [DBG] Committed transaction.
2025-11-25 04:34:27.471 +02:00 [DBG] Disposing transaction.
2025-11-25 04:34:27.471 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:27.472 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:34:27.472 +02:00 [INF] Applying migration '20251124164506_AddShiftToAppointments'.
2025-11-25 04:34:27.484 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:27.484 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:27.484 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:34:27.485 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:34:27.485 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:27.485 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:27.485 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:27.485 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var13 sysname;
SELECT @var13 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Appointments]') AND [c].[name] = N'Time');
IF @var13 IS NOT NULL EXEC(N'ALTER TABLE [Appointments] DROP CONSTRAINT [' + @var13 + '];');
ALTER TABLE [Appointments] DROP COLUMN [Time];
2025-11-25 04:34:27.502 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var13 sysname;
SELECT @var13 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Appointments]') AND [c].[name] = N'Time');
IF @var13 IS NOT NULL EXEC(N'ALTER TABLE [Appointments] DROP CONSTRAINT [' + @var13 + '];');
ALTER TABLE [Appointments] DROP COLUMN [Time];
2025-11-25 04:34:27.502 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:27.502 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:27.502 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:27.502 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Appointments] ADD [Shift] nvarchar(20) NOT NULL DEFAULT N'';
2025-11-25 04:34:27.504 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Appointments] ADD [Shift] nvarchar(20) NOT NULL DEFAULT N'';
2025-11-25 04:34:27.504 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:27.504 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:27.504 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:27.504 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251124164506_AddShiftToAppointments', N'8.0.21');
2025-11-25 04:34:27.505 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251124164506_AddShiftToAppointments', N'8.0.21');
2025-11-25 04:34:27.505 +02:00 [DBG] Committing transaction.
2025-11-25 04:34:27.506 +02:00 [DBG] Committed transaction.
2025-11-25 04:34:27.506 +02:00 [DBG] Disposing transaction.
2025-11-25 04:34:27.506 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:27.506 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:34:27.506 +02:00 [INF] Applying migration '20251124182248_editSchedule'.
2025-11-25 04:34:27.518 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:27.518 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:27.518 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:34:27.519 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:34:27.519 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:27.519 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:27.519 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:27.519 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var14 sysname;
SELECT @var14 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Schedules]') AND [c].[name] = N'ScheduleDate');
IF @var14 IS NOT NULL EXEC(N'ALTER TABLE [Schedules] DROP CONSTRAINT [' + @var14 + '];');
ALTER TABLE [Schedules] DROP COLUMN [ScheduleDate];
2025-11-25 04:34:29.302 +02:00 [INF] Executed DbCommand (1,783ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var14 sysname;
SELECT @var14 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Schedules]') AND [c].[name] = N'ScheduleDate');
IF @var14 IS NOT NULL EXEC(N'ALTER TABLE [Schedules] DROP CONSTRAINT [' + @var14 + '];');
ALTER TABLE [Schedules] DROP COLUMN [ScheduleDate];
2025-11-25 04:34:29.302 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:29.302 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:29.302 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:29.302 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Schedules] ADD [DayOfWeek] nvarchar(20) NOT NULL DEFAULT N'';
2025-11-25 04:34:29.303 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Schedules] ADD [DayOfWeek] nvarchar(20) NOT NULL DEFAULT N'';
2025-11-25 04:34:29.303 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:34:29.303 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:29.303 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:34:29.303 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251124182248_editSchedule', N'8.0.21');
2025-11-25 04:34:29.305 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251124182248_editSchedule', N'8.0.21');
2025-11-25 04:34:29.306 +02:00 [DBG] Committing transaction.
2025-11-25 04:34:29.306 +02:00 [DBG] Committed transaction.
2025-11-25 04:34:29.306 +02:00 [DBG] Disposing transaction.
2025-11-25 04:34:29.306 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:29.306 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:34:29.307 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 04:34:29.308 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:29.308 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 04:34:56.876 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-11-25 04:34:57.267 +02:00 [DBG] The index {'BranchesBranchId'} was not created on entity type 'BranchDoctor (Dictionary<string, object>)' as the properties are already covered by the index {'BranchesBranchId', 'DoctorsDoctorId'}.
2025-11-25 04:34:57.268 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchService (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'ServiceId'}.
2025-11-25 04:34:57.268 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchSpecialization (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'SpecializationId'}.
2025-11-25 04:34:57.268 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-11-25 04:34:57.268 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-11-25 04:34:57.349 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).BranchesBranchId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-11-25 04:34:57.349 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).DoctorsDoctorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-11-25 04:34:57.457 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 04:34:57.460 +02:00 [DBG] Creating DbConnection.
2025-11-25 04:34:57.481 +02:00 [DBG] Created DbConnection. (19ms).
2025-11-25 04:34:57.485 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 04:34:57.487 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:34:57.490 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 04:35:00.009 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-11-25 04:35:00.395 +02:00 [DBG] The index {'BranchesBranchId'} was not created on entity type 'BranchDoctor (Dictionary<string, object>)' as the properties are already covered by the index {'BranchesBranchId', 'DoctorsDoctorId'}.
2025-11-25 04:35:00.396 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchService (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'ServiceId'}.
2025-11-25 04:35:00.396 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchSpecialization (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'SpecializationId'}.
2025-11-25 04:35:00.396 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-11-25 04:35:00.396 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-11-25 04:35:00.475 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).BranchesBranchId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-11-25 04:35:00.475 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).DoctorsDoctorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-11-25 04:35:00.586 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 04:35:00.590 +02:00 [DBG] Creating DbConnection.
2025-11-25 04:35:00.613 +02:00 [DBG] Created DbConnection. (21ms).
2025-11-25 04:35:00.618 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:35:00.756 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:35:00.761 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:35:00.765 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2025-11-25 04:35:00.766 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (7ms).
2025-11-25 04:35:00.771 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-25 04:35:00.789 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-25 04:35:00.790 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:35:00.794 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (2ms).
2025-11-25 04:35:00.808 +02:00 [DBG] Creating DbConnection.
2025-11-25 04:35:00.808 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 04:35:00.808 +02:00 [DBG] Opening connection to database 'master' on server '.\SQLEXPRESS'.
2025-11-25 04:35:00.811 +02:00 [DBG] Opened connection to database 'master' on server '.\SQLEXPRESS'.
2025-11-25 04:35:00.812 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:35:00.812 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:35:00.812 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:35:00.812 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [HospitalDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2025-11-25 04:35:00.815 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [HospitalDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2025-11-25 04:35:00.815 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:35:00.815 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:35:00.815 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:35:00.815 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='60']
DROP DATABASE [HospitalDB];
2025-11-25 04:35:00.826 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
DROP DATABASE [HospitalDB];
2025-11-25 04:35:00.827 +02:00 [DBG] Closing connection to database 'master' on server '.\SQLEXPRESS'.
2025-11-25 04:35:00.827 +02:00 [DBG] Closed connection to database 'master' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:35:00.828 +02:00 [DBG] Disposing connection to database 'master' on server '.\SQLEXPRESS'.
2025-11-25 04:35:00.828 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 04:35:00.829 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 04:35:00.829 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:35:00.829 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 04:35:31.485 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-11-25 04:35:31.860 +02:00 [DBG] The index {'BranchesBranchId'} was not created on entity type 'BranchDoctor (Dictionary<string, object>)' as the properties are already covered by the index {'BranchesBranchId', 'DoctorsDoctorId'}.
2025-11-25 04:35:31.861 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchService (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'ServiceId'}.
2025-11-25 04:35:31.861 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchSpecialization (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'SpecializationId'}.
2025-11-25 04:35:31.861 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-11-25 04:35:31.861 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-11-25 04:35:31.943 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).BranchesBranchId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-11-25 04:35:31.943 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).DoctorsDoctorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-11-25 04:35:32.072 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 04:35:32.086 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 04:36:07.289 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-11-25 04:36:07.670 +02:00 [DBG] The index {'BranchesBranchId'} was not created on entity type 'BranchDoctor (Dictionary<string, object>)' as the properties are already covered by the index {'BranchesBranchId', 'DoctorsDoctorId'}.
2025-11-25 04:36:07.671 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchService (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'ServiceId'}.
2025-11-25 04:36:07.671 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchSpecialization (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'SpecializationId'}.
2025-11-25 04:36:07.672 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-11-25 04:36:07.672 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-11-25 04:36:07.750 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).BranchesBranchId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-11-25 04:36:07.750 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).DoctorsDoctorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-11-25 04:36:07.862 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 04:36:07.926 +02:00 [DBG] The index {'BranchesBranchId'} was not created on entity type 'BranchDoctor (Dictionary<string, object>)' as the properties are already covered by the index {'BranchesBranchId', 'DoctorsDoctorId'}.
2025-11-25 04:36:07.926 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchService (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'ServiceId'}.
2025-11-25 04:36:07.926 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchSpecialization (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'SpecializationId'}.
2025-11-25 04:36:07.926 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-11-25 04:36:07.926 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-11-25 04:36:07.939 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).BranchesBranchId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-11-25 04:36:07.939 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).DoctorsDoctorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-11-25 04:36:09.688 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 04:36:59.400 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-11-25 04:36:59.776 +02:00 [DBG] The index {'BranchesBranchId'} was not created on entity type 'BranchDoctor (Dictionary<string, object>)' as the properties are already covered by the index {'BranchesBranchId', 'DoctorsDoctorId'}.
2025-11-25 04:36:59.777 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchService (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'ServiceId'}.
2025-11-25 04:36:59.777 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchSpecialization (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'SpecializationId'}.
2025-11-25 04:36:59.777 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-11-25 04:36:59.778 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-11-25 04:36:59.861 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).BranchesBranchId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-11-25 04:36:59.861 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).DoctorsDoctorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-11-25 04:36:59.974 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 04:36:59.985 +02:00 [DBG] Creating DbConnection.
2025-11-25 04:37:00.006 +02:00 [DBG] Created DbConnection. (18ms).
2025-11-25 04:37:00.008 +02:00 [DBG] Migrating using database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:00.012 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:00.110 +02:00 [DBG] An error occurred using the connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:00.110 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:00.111 +02:00 [DBG] An error occurred using the connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:00.173 +02:00 [DBG] The index {'BranchesBranchId'} was not created on entity type 'BranchDoctor (Dictionary<string, object>)' as the properties are already covered by the index {'BranchesBranchId', 'DoctorsDoctorId'}.
2025-11-25 04:37:00.173 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchService (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'ServiceId'}.
2025-11-25 04:37:00.173 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchSpecialization (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'SpecializationId'}.
2025-11-25 04:37:00.173 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-11-25 04:37:00.173 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-11-25 04:37:00.187 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).BranchesBranchId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-11-25 04:37:00.187 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).DoctorsDoctorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-11-25 04:37:00.211 +02:00 [DBG] Creating DbConnection.
2025-11-25 04:37:00.212 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 04:37:00.212 +02:00 [DBG] Opening connection to database 'master' on server '.\SQLEXPRESS'.
2025-11-25 04:37:00.221 +02:00 [DBG] Opened connection to database 'master' on server '.\SQLEXPRESS'.
2025-11-25 04:37:00.225 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:00.229 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2025-11-25 04:37:00.230 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (6ms).
2025-11-25 04:37:00.233 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [HospitalDB];
2025-11-25 04:37:00.334 +02:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [HospitalDB];
2025-11-25 04:37:00.335 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:00.335 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:00.335 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:00.335 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [HospitalDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2025-11-25 04:37:00.365 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [HospitalDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2025-11-25 04:37:00.366 +02:00 [DBG] Closing connection to database 'master' on server '.\SQLEXPRESS'.
2025-11-25 04:37:00.370 +02:00 [DBG] Closed connection to database 'master' on server '.\SQLEXPRESS' (2ms).
2025-11-25 04:37:00.372 +02:00 [DBG] Disposing connection to database 'master' on server '.\SQLEXPRESS'.
2025-11-25 04:37:00.372 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 04:37:00.372 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:00.375 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:00.376 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:00.376 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:00.376 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:00.376 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-25 04:37:00.379 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-25 04:37:00.380 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:00.380 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:37:00.412 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:00.412 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:00.413 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:00.413 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:00.413 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:00.413 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2025-11-25 04:37:00.419 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2025-11-25 04:37:00.419 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:00.419 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:37:00.419 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:00.419 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:00.420 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:00.420 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:00.420 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:00.420 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-25 04:37:00.420 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-25 04:37:00.420 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:00.420 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:37:00.422 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-11-25 04:37:00.422 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-11-25 04:37:00.566 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (144ms).
2025-11-25 04:37:00.566 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:00.566 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:00.566 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-25 04:37:00.575 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-25 04:37:00.575 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:00.575 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:37:00.576 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:00.576 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:00.576 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:37:00.576 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:37:00.576 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:37:00.576 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-25 04:37:00.583 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-25 04:37:00.585 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:00.585 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 04:37:00.585 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:00.586 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:37:00.593 +02:00 [INF] Applying migration '20251111134048_init-auth'.
2025-11-25 04:37:00.646 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:00.647 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:00.648 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:37:00.651 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:37:00.651 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:00.651 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:00.652 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:00.652 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2025-11-25 04:37:00.653 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2025-11-25 04:37:00.654 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:00.654 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:00.654 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:00.654 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Branches] (
    [BranchId] int NOT NULL IDENTITY,
    [BranchName] nvarchar(150) NOT NULL,
    [Address] nvarchar(250) NULL,
    [Phone] nvarchar(25) NULL,
    [Email] nvarchar(200) NULL,
    [Description] nvarchar(max) NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Branches] PRIMARY KEY ([BranchId])
);
2025-11-25 04:37:00.655 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Branches] (
    [BranchId] int NOT NULL IDENTITY,
    [BranchName] nvarchar(150) NOT NULL,
    [Address] nvarchar(250) NULL,
    [Phone] nvarchar(25) NULL,
    [Email] nvarchar(200) NULL,
    [Description] nvarchar(max) NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Branches] PRIMARY KEY ([BranchId])
);
2025-11-25 04:37:02.660 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:02.660 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:02.660 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:02.660 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Specializations] (
    [SpecializationId] int NOT NULL IDENTITY,
    [Name] nvarchar(120) NOT NULL,
    [Description] nvarchar(max) NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Specializations] PRIMARY KEY ([SpecializationId])
);
2025-11-25 04:37:02.664 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Specializations] (
    [SpecializationId] int NOT NULL IDENTITY,
    [Name] nvarchar(120) NOT NULL,
    [Description] nvarchar(max) NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Specializations] PRIMARY KEY ([SpecializationId])
);
2025-11-25 04:37:02.664 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:02.664 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:02.664 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:02.664 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2025-11-25 04:37:02.665 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2025-11-25 04:37:02.665 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:02.665 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:02.665 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:02.665 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Banners] (
    [BannerId] int NOT NULL IDENTITY,
    [Title] nvarchar(150) NOT NULL,
    [ImageURL] nvarchar(300) NULL,
    [LinkURL] nvarchar(300) NULL,
    [Type] nvarchar(20) NULL,
    [BranchId] int NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Banners] PRIMARY KEY ([BannerId]),
    CONSTRAINT [FK_Banners_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE SET NULL
);
2025-11-25 04:37:02.667 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Banners] (
    [BannerId] int NOT NULL IDENTITY,
    [Title] nvarchar(150) NOT NULL,
    [ImageURL] nvarchar(300) NULL,
    [LinkURL] nvarchar(300) NULL,
    [Type] nvarchar(20) NULL,
    [BranchId] int NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Banners] PRIMARY KEY ([BannerId]),
    CONSTRAINT [FK_Banners_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE SET NULL
);
2025-11-25 04:37:02.667 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:02.667 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:02.667 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:02.667 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Events] (
    [EventId] int NOT NULL IDENTITY,
    [Title] nvarchar(150) NOT NULL,
    [Description] nvarchar(max) NULL,
    [EventDate] datetime2 NOT NULL,
    [ImageURL] nvarchar(300) NULL,
    [BranchId] int NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Events] PRIMARY KEY ([EventId]),
    CONSTRAINT [FK_Events_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE SET NULL
);
2025-11-25 04:37:04.963 +02:00 [INF] Executed DbCommand (2,296ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Events] (
    [EventId] int NOT NULL IDENTITY,
    [Title] nvarchar(150) NOT NULL,
    [Description] nvarchar(max) NULL,
    [EventDate] datetime2 NOT NULL,
    [ImageURL] nvarchar(300) NULL,
    [BranchId] int NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Events] PRIMARY KEY ([EventId]),
    CONSTRAINT [FK_Events_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE SET NULL
);
2025-11-25 04:37:04.963 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:04.963 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:04.963 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:04.963 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [News] (
    [NewsId] int NOT NULL IDENTITY,
    [Title] nvarchar(150) NOT NULL,
    [Description] nvarchar(max) NULL,
    [ImageURL] nvarchar(300) NULL,
    [Date] datetime2 NOT NULL,
    [BranchId] int NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_News] PRIMARY KEY ([NewsId]),
    CONSTRAINT [FK_News_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE SET NULL
);
2025-11-25 04:37:04.965 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [News] (
    [NewsId] int NOT NULL IDENTITY,
    [Title] nvarchar(150) NOT NULL,
    [Description] nvarchar(max) NULL,
    [ImageURL] nvarchar(300) NULL,
    [Date] datetime2 NOT NULL,
    [BranchId] int NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_News] PRIMARY KEY ([NewsId]),
    CONSTRAINT [FK_News_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE SET NULL
);
2025-11-25 04:37:04.965 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:04.965 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:04.965 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:04.965 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] nvarchar(450) NOT NULL,
    [FullName] nvarchar(150) NOT NULL,
    [Gender] nvarchar(10) NULL,
    [DateOfBirth] datetime2 NULL,
    [Role] nvarchar(50) NOT NULL,
    [BranchId] int NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE SET NULL
);
2025-11-25 04:37:04.966 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] nvarchar(450) NOT NULL,
    [FullName] nvarchar(150) NOT NULL,
    [Gender] nvarchar(10) NULL,
    [DateOfBirth] datetime2 NULL,
    [Role] nvarchar(50) NOT NULL,
    [BranchId] int NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE SET NULL
);
2025-11-25 04:37:07.443 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:07.443 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:07.443 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:07.443 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Services] (
    [ServiceId] int NOT NULL IDENTITY,
    [Name] nvarchar(120) NOT NULL,
    [Description] nvarchar(max) NULL,
    [ImageURL] nvarchar(300) NULL,
    [BranchId] int NULL,
    [SpecializationId] int NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Services] PRIMARY KEY ([ServiceId]),
    CONSTRAINT [FK_Services_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE SET NULL,
    CONSTRAINT [FK_Services_Specializations_SpecializationId] FOREIGN KEY ([SpecializationId]) REFERENCES [Specializations] ([SpecializationId]) ON DELETE SET NULL
);
2025-11-25 04:37:07.447 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Services] (
    [ServiceId] int NOT NULL IDENTITY,
    [Name] nvarchar(120) NOT NULL,
    [Description] nvarchar(max) NULL,
    [ImageURL] nvarchar(300) NULL,
    [BranchId] int NULL,
    [SpecializationId] int NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Services] PRIMARY KEY ([ServiceId]),
    CONSTRAINT [FK_Services_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE SET NULL,
    CONSTRAINT [FK_Services_Specializations_SpecializationId] FOREIGN KEY ([SpecializationId]) REFERENCES [Specializations] ([SpecializationId]) ON DELETE SET NULL
);
2025-11-25 04:37:07.447 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:07.447 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:07.447 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:07.447 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-11-25 04:37:07.449 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-11-25 04:37:07.449 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:07.449 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:10.106 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2656ms).
2025-11-25 04:37:10.106 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-11-25 04:37:10.116 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-11-25 04:37:10.116 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:10.116 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:10.116 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:10.116 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-11-25 04:37:10.124 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-11-25 04:37:10.124 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:10.124 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:10.124 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:10.124 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-11-25 04:37:10.129 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-11-25 04:37:10.129 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:10.129 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:10.129 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:10.129 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Doctors] (
    [DoctorId] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [SpecializationId] int NOT NULL,
    [BranchId] int NOT NULL,
    [Biography] nvarchar(max) NULL,
    [ExperienceYears] int NULL,
    [ConsultationFees] decimal(10,2) NULL,
    [Available] bit NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Doctors] PRIMARY KEY ([DoctorId]),
    CONSTRAINT [FK_Doctors_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Doctors_Specializations_SpecializationId] FOREIGN KEY ([SpecializationId]) REFERENCES [Specializations] ([SpecializationId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Doctors_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-11-25 04:37:12.607 +02:00 [INF] Executed DbCommand (2,478ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Doctors] (
    [DoctorId] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [SpecializationId] int NOT NULL,
    [BranchId] int NOT NULL,
    [Biography] nvarchar(max) NULL,
    [ExperienceYears] int NULL,
    [ConsultationFees] decimal(10,2) NULL,
    [Available] bit NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Doctors] PRIMARY KEY ([DoctorId]),
    CONSTRAINT [FK_Doctors_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Doctors_Specializations_SpecializationId] FOREIGN KEY ([SpecializationId]) REFERENCES [Specializations] ([SpecializationId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Doctors_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-11-25 04:37:12.608 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:12.608 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:12.608 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:12.608 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Patients] (
    [PatientId] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [BloodType] nvarchar(5) NULL,
    [EmergencyContact] nvarchar(150) NULL,
    [Address] nvarchar(250) NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Patients] PRIMARY KEY ([PatientId]),
    CONSTRAINT [FK_Patients_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-11-25 04:37:12.610 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Patients] (
    [PatientId] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [BloodType] nvarchar(5) NULL,
    [EmergencyContact] nvarchar(150) NULL,
    [Address] nvarchar(250) NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Patients] PRIMARY KEY ([PatientId]),
    CONSTRAINT [FK_Patients_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-11-25 04:37:12.610 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:12.610 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:12.610 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:12.610 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [SupportTickets] (
    [TicketId] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [Subject] nvarchar(200) NOT NULL,
    [Message] nvarchar(max) NOT NULL,
    [Status] nvarchar(20) NOT NULL,
    [Response] nvarchar(max) NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_SupportTickets] PRIMARY KEY ([TicketId]),
    CONSTRAINT [FK_SupportTickets_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-11-25 04:37:12.612 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [SupportTickets] (
    [TicketId] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [Subject] nvarchar(200) NOT NULL,
    [Message] nvarchar(max) NOT NULL,
    [Status] nvarchar(20) NOT NULL,
    [Response] nvarchar(max) NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_SupportTickets] PRIMARY KEY ([TicketId]),
    CONSTRAINT [FK_SupportTickets_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-11-25 04:37:14.817 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:14.817 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:14.817 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:14.817 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Schedules] (
    [ScheduleId] int NOT NULL IDENTITY,
    [DoctorId] int NOT NULL,
    [DayOfWeek] nvarchar(20) NOT NULL,
    [StartTime] time NOT NULL,
    [EndTime] time NOT NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Schedules] PRIMARY KEY ([ScheduleId]),
    CONSTRAINT [FK_Schedules_Doctors_DoctorId] FOREIGN KEY ([DoctorId]) REFERENCES [Doctors] ([DoctorId]) ON DELETE CASCADE
);
2025-11-25 04:37:14.825 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Schedules] (
    [ScheduleId] int NOT NULL IDENTITY,
    [DoctorId] int NOT NULL,
    [DayOfWeek] nvarchar(20) NOT NULL,
    [StartTime] time NOT NULL,
    [EndTime] time NOT NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Schedules] PRIMARY KEY ([ScheduleId]),
    CONSTRAINT [FK_Schedules_Doctors_DoctorId] FOREIGN KEY ([DoctorId]) REFERENCES [Doctors] ([DoctorId]) ON DELETE CASCADE
);
2025-11-25 04:37:14.825 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:14.826 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:14.826 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:14.826 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Appointments] (
    [AppointmentId] int NOT NULL IDENTITY,
    [PatientId] int NOT NULL,
    [DoctorId] int NOT NULL,
    [BranchId] int NOT NULL,
    [Date] datetime2 NOT NULL,
    [Time] time NOT NULL,
    [Status] nvarchar(20) NOT NULL,
    [CreatedBy] nvarchar(450) NULL,
    [Notes] nvarchar(max) NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Appointments] PRIMARY KEY ([AppointmentId]),
    CONSTRAINT [FK_Appointments_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Appointments_Doctors_DoctorId] FOREIGN KEY ([DoctorId]) REFERENCES [Doctors] ([DoctorId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Appointments_Patients_PatientId] FOREIGN KEY ([PatientId]) REFERENCES [Patients] ([PatientId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Appointments_Users_CreatedBy] FOREIGN KEY ([CreatedBy]) REFERENCES [Users] ([Id]) ON DELETE SET NULL
);
2025-11-25 04:37:14.833 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Appointments] (
    [AppointmentId] int NOT NULL IDENTITY,
    [PatientId] int NOT NULL,
    [DoctorId] int NOT NULL,
    [BranchId] int NOT NULL,
    [Date] datetime2 NOT NULL,
    [Time] time NOT NULL,
    [Status] nvarchar(20) NOT NULL,
    [CreatedBy] nvarchar(450) NULL,
    [Notes] nvarchar(max) NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Appointments] PRIMARY KEY ([AppointmentId]),
    CONSTRAINT [FK_Appointments_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Appointments_Doctors_DoctorId] FOREIGN KEY ([DoctorId]) REFERENCES [Doctors] ([DoctorId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Appointments_Patients_PatientId] FOREIGN KEY ([PatientId]) REFERENCES [Patients] ([PatientId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Appointments_Users_CreatedBy] FOREIGN KEY ([CreatedBy]) REFERENCES [Users] ([Id]) ON DELETE SET NULL
);
2025-11-25 04:37:17.100 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:17.101 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:17.101 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:17.101 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [MedicalRecords] (
    [RecordId] int NOT NULL IDENTITY,
    [AppointmentId] int NOT NULL,
    [DoctorId] int NOT NULL,
    [PatientId] int NOT NULL,
    [Diagnosis] nvarchar(max) NULL,
    [TreatmentPlan] nvarchar(max) NULL,
    [Notes] nvarchar(max) NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_MedicalRecords] PRIMARY KEY ([RecordId]),
    CONSTRAINT [FK_MedicalRecords_Appointments_AppointmentId] FOREIGN KEY ([AppointmentId]) REFERENCES [Appointments] ([AppointmentId]) ON DELETE CASCADE,
    CONSTRAINT [FK_MedicalRecords_Doctors_DoctorId] FOREIGN KEY ([DoctorId]) REFERENCES [Doctors] ([DoctorId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_MedicalRecords_Patients_PatientId] FOREIGN KEY ([PatientId]) REFERENCES [Patients] ([PatientId]) ON DELETE NO ACTION
);
2025-11-25 04:37:17.108 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [MedicalRecords] (
    [RecordId] int NOT NULL IDENTITY,
    [AppointmentId] int NOT NULL,
    [DoctorId] int NOT NULL,
    [PatientId] int NOT NULL,
    [Diagnosis] nvarchar(max) NULL,
    [TreatmentPlan] nvarchar(max) NULL,
    [Notes] nvarchar(max) NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_MedicalRecords] PRIMARY KEY ([RecordId]),
    CONSTRAINT [FK_MedicalRecords_Appointments_AppointmentId] FOREIGN KEY ([AppointmentId]) REFERENCES [Appointments] ([AppointmentId]) ON DELETE CASCADE,
    CONSTRAINT [FK_MedicalRecords_Doctors_DoctorId] FOREIGN KEY ([DoctorId]) REFERENCES [Doctors] ([DoctorId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_MedicalRecords_Patients_PatientId] FOREIGN KEY ([PatientId]) REFERENCES [Patients] ([PatientId]) ON DELETE NO ACTION
);
2025-11-25 04:37:17.108 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:17.108 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:17.108 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:17.108 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Appointments_BranchId] ON [Appointments] ([BranchId]);
2025-11-25 04:37:17.109 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Appointments_BranchId] ON [Appointments] ([BranchId]);
2025-11-25 04:37:17.109 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:17.109 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:17.109 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:17.109 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Appointments_CreatedBy] ON [Appointments] ([CreatedBy]);
2025-11-25 04:37:17.110 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Appointments_CreatedBy] ON [Appointments] ([CreatedBy]);
2025-11-25 04:37:17.110 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:17.110 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:17.110 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:17.110 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Appointments_DoctorId] ON [Appointments] ([DoctorId]);
2025-11-25 04:37:17.110 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Appointments_DoctorId] ON [Appointments] ([DoctorId]);
2025-11-25 04:37:17.110 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:17.110 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:17.110 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:19.415 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Appointments_PatientId] ON [Appointments] ([PatientId]);
2025-11-25 04:37:19.416 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Appointments_PatientId] ON [Appointments] ([PatientId]);
2025-11-25 04:37:19.416 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:19.416 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:19.417 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:19.417 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2025-11-25 04:37:19.418 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2025-11-25 04:37:19.418 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:19.418 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:19.418 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:19.418 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2025-11-25 04:37:19.419 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2025-11-25 04:37:19.419 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:19.419 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:19.419 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:19.419 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2025-11-25 04:37:19.420 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2025-11-25 04:37:19.420 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:19.420 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:19.420 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:19.420 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2025-11-25 04:37:19.420 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2025-11-25 04:37:19.420 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:19.420 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:19.420 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:19.420 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2025-11-25 04:37:19.421 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2025-11-25 04:37:19.421 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:19.421 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:19.421 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:19.421 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Banners_BranchId] ON [Banners] ([BranchId]);
2025-11-25 04:37:19.422 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Banners_BranchId] ON [Banners] ([BranchId]);
2025-11-25 04:37:19.422 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:19.422 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:19.422 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:19.422 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Doctors_BranchId] ON [Doctors] ([BranchId]);
2025-11-25 04:37:19.422 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Doctors_BranchId] ON [Doctors] ([BranchId]);
2025-11-25 04:37:19.422 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:21.320 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1897ms).
2025-11-25 04:37:21.320 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1897ms).
2025-11-25 04:37:21.320 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Doctors_SpecializationId] ON [Doctors] ([SpecializationId]);
2025-11-25 04:37:21.322 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Doctors_SpecializationId] ON [Doctors] ([SpecializationId]);
2025-11-25 04:37:21.322 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:21.322 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:21.322 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:21.322 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Doctors_UserId] ON [Doctors] ([UserId]);
2025-11-25 04:37:21.323 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Doctors_UserId] ON [Doctors] ([UserId]);
2025-11-25 04:37:21.323 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:21.323 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:21.323 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:21.323 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Events_BranchId] ON [Events] ([BranchId]);
2025-11-25 04:37:21.323 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Events_BranchId] ON [Events] ([BranchId]);
2025-11-25 04:37:21.323 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:21.323 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:21.323 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:21.324 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_MedicalRecords_AppointmentId] ON [MedicalRecords] ([AppointmentId]);
2025-11-25 04:37:21.324 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_MedicalRecords_AppointmentId] ON [MedicalRecords] ([AppointmentId]);
2025-11-25 04:37:21.324 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:21.324 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:21.324 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:21.324 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_MedicalRecords_DoctorId] ON [MedicalRecords] ([DoctorId]);
2025-11-25 04:37:21.325 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_MedicalRecords_DoctorId] ON [MedicalRecords] ([DoctorId]);
2025-11-25 04:37:21.325 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:21.325 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:21.325 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:21.325 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_MedicalRecords_PatientId] ON [MedicalRecords] ([PatientId]);
2025-11-25 04:37:21.325 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_MedicalRecords_PatientId] ON [MedicalRecords] ([PatientId]);
2025-11-25 04:37:21.325 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:21.325 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:21.325 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:21.325 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_News_BranchId] ON [News] ([BranchId]);
2025-11-25 04:37:21.326 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_News_BranchId] ON [News] ([BranchId]);
2025-11-25 04:37:21.326 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:21.326 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:21.326 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:21.326 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Patients_UserId] ON [Patients] ([UserId]);
2025-11-25 04:37:21.327 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Patients_UserId] ON [Patients] ([UserId]);
2025-11-25 04:37:23.010 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:23.010 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:23.010 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:23.011 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Schedules_DoctorId] ON [Schedules] ([DoctorId]);
2025-11-25 04:37:23.012 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Schedules_DoctorId] ON [Schedules] ([DoctorId]);
2025-11-25 04:37:23.012 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:23.012 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:23.012 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:23.012 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Services_BranchId] ON [Services] ([BranchId]);
2025-11-25 04:37:23.012 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Services_BranchId] ON [Services] ([BranchId]);
2025-11-25 04:37:23.012 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:23.012 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:23.012 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:23.012 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Services_SpecializationId] ON [Services] ([SpecializationId]);
2025-11-25 04:37:23.013 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Services_SpecializationId] ON [Services] ([SpecializationId]);
2025-11-25 04:37:23.013 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:23.013 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:23.013 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:23.013 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_SupportTickets_UserId] ON [SupportTickets] ([UserId]);
2025-11-25 04:37:23.014 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_SupportTickets_UserId] ON [SupportTickets] ([UserId]);
2025-11-25 04:37:23.014 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:23.014 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:23.014 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:23.014 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [Users] ([NormalizedEmail]);
2025-11-25 04:37:23.014 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [Users] ([NormalizedEmail]);
2025-11-25 04:37:23.014 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:23.014 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:23.014 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:23.014 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Users_BranchId] ON [Users] ([BranchId]);
2025-11-25 04:37:23.015 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Users_BranchId] ON [Users] ([BranchId]);
2025-11-25 04:37:23.015 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:23.015 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:23.015 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:23.015 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Users_Email] ON [Users] ([Email]) WHERE [Email] IS NOT NULL;
2025-11-25 04:37:23.016 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Users_Email] ON [Users] ([Email]) WHERE [Email] IS NOT NULL;
2025-11-25 04:37:23.016 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:23.016 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:23.016 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:23.016 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [Users] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2025-11-25 04:37:24.691 +02:00 [INF] Executed DbCommand (1,675ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [Users] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2025-11-25 04:37:24.691 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:24.691 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:24.691 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:24.691 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251111134048_init-auth', N'8.0.21');
2025-11-25 04:37:24.696 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251111134048_init-auth', N'8.0.21');
2025-11-25 04:37:24.697 +02:00 [DBG] Committing transaction.
2025-11-25 04:37:24.700 +02:00 [DBG] Committed transaction.
2025-11-25 04:37:24.700 +02:00 [DBG] Disposing transaction.
2025-11-25 04:37:24.700 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:24.700 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:37:24.701 +02:00 [INF] Applying migration '20251111134638__SeedRoles'.
2025-11-25 04:37:24.740 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:24.740 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:24.740 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:37:24.741 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:37:24.741 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:24.741 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:24.741 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:24.741 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Name', N'NormalizedName', N'ConcurrencyStamp') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [Name], [NormalizedName], [ConcurrencyStamp])
VALUES (N'7821c460-c0c4-4230-a346-6522c95eac8d', N'Admin', N'ADMIN', N'ea5276a4-2171-4c2d-b856-859c89d45e22');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Name', N'NormalizedName', N'ConcurrencyStamp') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2025-11-25 04:37:24.766 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Name', N'NormalizedName', N'ConcurrencyStamp') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [Name], [NormalizedName], [ConcurrencyStamp])
VALUES (N'7821c460-c0c4-4230-a346-6522c95eac8d', N'Admin', N'ADMIN', N'ea5276a4-2171-4c2d-b856-859c89d45e22');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Name', N'NormalizedName', N'ConcurrencyStamp') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2025-11-25 04:37:24.766 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:24.766 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:24.766 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:24.766 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Name', N'NormalizedName', N'ConcurrencyStamp') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [Name], [NormalizedName], [ConcurrencyStamp])
VALUES (N'a4a764c1-6509-40aa-8e9b-6263147d103e', N'Doctor', N'DOCTOR', N'ad9b207d-ee6b-4491-b1ae-a7de21722e41');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Name', N'NormalizedName', N'ConcurrencyStamp') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2025-11-25 04:37:24.773 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Name', N'NormalizedName', N'ConcurrencyStamp') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [Name], [NormalizedName], [ConcurrencyStamp])
VALUES (N'a4a764c1-6509-40aa-8e9b-6263147d103e', N'Doctor', N'DOCTOR', N'ad9b207d-ee6b-4491-b1ae-a7de21722e41');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Name', N'NormalizedName', N'ConcurrencyStamp') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2025-11-25 04:37:26.416 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:26.416 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:26.416 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:26.416 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Name', N'NormalizedName', N'ConcurrencyStamp') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [Name], [NormalizedName], [ConcurrencyStamp])
VALUES (N'661c0d34-7d95-4c79-b8c8-b4ad9beb820c', N'Patient', N'PATIENT', N'67b3eb68-5fc1-435e-9e3a-e86431617b6f');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Name', N'NormalizedName', N'ConcurrencyStamp') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2025-11-25 04:37:26.427 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Name', N'NormalizedName', N'ConcurrencyStamp') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [Name], [NormalizedName], [ConcurrencyStamp])
VALUES (N'661c0d34-7d95-4c79-b8c8-b4ad9beb820c', N'Patient', N'PATIENT', N'67b3eb68-5fc1-435e-9e3a-e86431617b6f');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Name', N'NormalizedName', N'ConcurrencyStamp') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2025-11-25 04:37:26.427 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:26.427 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:26.427 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:26.427 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251111134638__SeedRoles', N'8.0.21');
2025-11-25 04:37:26.428 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251111134638__SeedRoles', N'8.0.21');
2025-11-25 04:37:26.428 +02:00 [DBG] Committing transaction.
2025-11-25 04:37:26.429 +02:00 [DBG] Committed transaction.
2025-11-25 04:37:26.429 +02:00 [DBG] Disposing transaction.
2025-11-25 04:37:26.429 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:26.429 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:37:26.429 +02:00 [INF] Applying migration '20251111153509__SeedRolesAdmin'.
2025-11-25 04:37:26.545 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:26.545 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:26.545 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:37:26.546 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:37:26.546 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:26.546 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:26.546 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:26.546 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'FullName', N'UserName', N'NormalizedUserName', N'Email', N'NormalizedEmail', N'PasswordHash', N'Role', N'CreatedAt', N'UpdatedAt', N'EmailConfirmed', N'AccessFailedCount', N'PhoneNumberConfirmed', N'TwoFactorEnabled', N'LockoutEnabled', N'SecurityStamp') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [FullName], [UserName], [NormalizedUserName], [Email], [NormalizedEmail], [PasswordHash], [Role], [CreatedAt], [UpdatedAt], [EmailConfirmed], [AccessFailedCount], [PhoneNumberConfirmed], [TwoFactorEnabled], [LockoutEnabled], [SecurityStamp])
VALUES (N'cc3d4bc3-c691-46fa-b458-c951d934b2ed', N'Admin', N'admin', N'ADMIN', N'admin@Hospital.com', N'ADMIN@HOSPITAL.COM', N'AQAAAAIAAYagAAAAEFOXTMCyEho3nh3XJueTadAZcQO8O15t6U03bBRqEnzDrQZ80XgX9AgpDTtbq+xBww==', N'Admin', '2025-11-25T02:37:26.5076726Z', '2025-11-25T02:37:26.5076731Z', CAST(1 AS bit), 0, CAST(0 AS bit), CAST(0 AS bit), CAST(0 AS bit), N'433250b1-d9a3-4a51-bcd5-9ab41f5cb070');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'FullName', N'UserName', N'NormalizedUserName', N'Email', N'NormalizedEmail', N'PasswordHash', N'Role', N'CreatedAt', N'UpdatedAt', N'EmailConfirmed', N'AccessFailedCount', N'PhoneNumberConfirmed', N'TwoFactorEnabled', N'LockoutEnabled', N'SecurityStamp') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
2025-11-25 04:37:27.954 +02:00 [INF] Executed DbCommand (1,408ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'FullName', N'UserName', N'NormalizedUserName', N'Email', N'NormalizedEmail', N'PasswordHash', N'Role', N'CreatedAt', N'UpdatedAt', N'EmailConfirmed', N'AccessFailedCount', N'PhoneNumberConfirmed', N'TwoFactorEnabled', N'LockoutEnabled', N'SecurityStamp') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [FullName], [UserName], [NormalizedUserName], [Email], [NormalizedEmail], [PasswordHash], [Role], [CreatedAt], [UpdatedAt], [EmailConfirmed], [AccessFailedCount], [PhoneNumberConfirmed], [TwoFactorEnabled], [LockoutEnabled], [SecurityStamp])
VALUES (N'cc3d4bc3-c691-46fa-b458-c951d934b2ed', N'Admin', N'admin', N'ADMIN', N'admin@Hospital.com', N'ADMIN@HOSPITAL.COM', N'AQAAAAIAAYagAAAAEFOXTMCyEho3nh3XJueTadAZcQO8O15t6U03bBRqEnzDrQZ80XgX9AgpDTtbq+xBww==', N'Admin', '2025-11-25T02:37:26.5076726Z', '2025-11-25T02:37:26.5076731Z', CAST(1 AS bit), 0, CAST(0 AS bit), CAST(0 AS bit), CAST(0 AS bit), N'433250b1-d9a3-4a51-bcd5-9ab41f5cb070');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'FullName', N'UserName', N'NormalizedUserName', N'Email', N'NormalizedEmail', N'PasswordHash', N'Role', N'CreatedAt', N'UpdatedAt', N'EmailConfirmed', N'AccessFailedCount', N'PhoneNumberConfirmed', N'TwoFactorEnabled', N'LockoutEnabled', N'SecurityStamp') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
2025-11-25 04:37:27.954 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:27.954 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:27.954 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:27.954 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

        INSERT INTO [AspNetUserRoles] ([UserId], [RoleId])
        SELECT 'cc3d4bc3-c691-46fa-b458-c951d934b2ed', [Id]
        FROM [AspNetRoles]
        WHERE [Name] = 'Admin';
2025-11-25 04:37:27.961 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

        INSERT INTO [AspNetUserRoles] ([UserId], [RoleId])
        SELECT 'cc3d4bc3-c691-46fa-b458-c951d934b2ed', [Id]
        FROM [AspNetRoles]
        WHERE [Name] = 'Admin';
2025-11-25 04:37:27.961 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:27.961 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:27.961 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:27.961 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251111153509__SeedRolesAdmin', N'8.0.21');
2025-11-25 04:37:27.962 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251111153509__SeedRolesAdmin', N'8.0.21');
2025-11-25 04:37:29.415 +02:00 [DBG] Committing transaction.
2025-11-25 04:37:29.416 +02:00 [DBG] Committed transaction.
2025-11-25 04:37:29.416 +02:00 [DBG] Disposing transaction.
2025-11-25 04:37:29.416 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:29.416 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:37:29.416 +02:00 [INF] Applying migration '20251112174524_AddRefreshTokenColumns'.
2025-11-25 04:37:29.431 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:29.431 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:29.431 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:37:29.431 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:37:29.432 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:29.432 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:29.432 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:29.432 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Users] ADD [RefreshToken] nvarchar(max) NOT NULL DEFAULT N'';
2025-11-25 04:37:29.439 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Users] ADD [RefreshToken] nvarchar(max) NOT NULL DEFAULT N'';
2025-11-25 04:37:29.439 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:29.439 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:29.439 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:29.439 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Users] ADD [RefreshTokenExpiryTime] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';
2025-11-25 04:37:29.441 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Users] ADD [RefreshTokenExpiryTime] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';
2025-11-25 04:37:29.441 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:29.441 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:29.441 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:29.441 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251112174524_AddRefreshTokenColumns', N'8.0.21');
2025-11-25 04:37:29.443 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251112174524_AddRefreshTokenColumns', N'8.0.21');
2025-11-25 04:37:29.443 +02:00 [DBG] Committing transaction.
2025-11-25 04:37:29.443 +02:00 [DBG] Committed transaction.
2025-11-25 04:37:29.443 +02:00 [DBG] Disposing transaction.
2025-11-25 04:37:29.444 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:29.444 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:37:29.444 +02:00 [INF] Applying migration '20251113233448_update in banner and service and branch and specilization relations'.
2025-11-25 04:37:29.461 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:29.461 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:29.461 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:37:29.461 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:37:29.461 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:29.461 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:29.461 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:29.461 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Banners] DROP CONSTRAINT [FK_Banners_Branches_BranchId];
2025-11-25 04:37:29.463 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Banners] DROP CONSTRAINT [FK_Banners_Branches_BranchId];
2025-11-25 04:37:29.463 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:29.463 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:29.463 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:29.463 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Events] DROP CONSTRAINT [FK_Events_Branches_BranchId];
2025-11-25 04:37:30.447 +02:00 [INF] Executed DbCommand (984ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Events] DROP CONSTRAINT [FK_Events_Branches_BranchId];
2025-11-25 04:37:30.447 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:30.447 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:30.447 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:30.447 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [News] DROP CONSTRAINT [FK_News_Branches_BranchId];
2025-11-25 04:37:30.448 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [News] DROP CONSTRAINT [FK_News_Branches_BranchId];
2025-11-25 04:37:30.448 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:30.448 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:30.448 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:30.448 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Services] DROP CONSTRAINT [FK_Services_Branches_BranchId];
2025-11-25 04:37:30.449 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Services] DROP CONSTRAINT [FK_Services_Branches_BranchId];
2025-11-25 04:37:30.449 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:30.449 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:30.449 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:30.449 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Services] DROP CONSTRAINT [FK_Services_Specializations_SpecializationId];
2025-11-25 04:37:30.450 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Services] DROP CONSTRAINT [FK_Services_Specializations_SpecializationId];
2025-11-25 04:37:30.450 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:30.450 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:30.450 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:30.450 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Services_BranchId] ON [Services];
2025-11-25 04:37:30.451 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Services_BranchId] ON [Services];
2025-11-25 04:37:30.451 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:30.451 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:30.451 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:30.451 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Services_SpecializationId] ON [Services];
2025-11-25 04:37:30.451 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Services_SpecializationId] ON [Services];
2025-11-25 04:37:30.452 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:30.452 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:30.452 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:30.452 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Banners_BranchId] ON [Banners];
2025-11-25 04:37:30.452 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Banners_BranchId] ON [Banners];
2025-11-25 04:37:30.452 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:30.452 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:30.452 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:30.452 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Services]') AND [c].[name] = N'BranchId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Services] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Services] DROP COLUMN [BranchId];
2025-11-25 04:37:30.485 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Services]') AND [c].[name] = N'BranchId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Services] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Services] DROP COLUMN [BranchId];
2025-11-25 04:37:32.198 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:32.198 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:32.198 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:32.198 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Services]') AND [c].[name] = N'SpecializationId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Services] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Services] DROP COLUMN [SpecializationId];
2025-11-25 04:37:32.216 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Services]') AND [c].[name] = N'SpecializationId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Services] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Services] DROP COLUMN [SpecializationId];
2025-11-25 04:37:32.216 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:32.217 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:32.217 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:32.217 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Banners]') AND [c].[name] = N'BranchId');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [Banners] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [Banners] DROP COLUMN [BranchId];
2025-11-25 04:37:32.227 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Banners]') AND [c].[name] = N'BranchId');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [Banners] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [Banners] DROP COLUMN [BranchId];
2025-11-25 04:37:32.227 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:32.227 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:32.227 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:32.227 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BranchServices] (
    [BranchId] int NOT NULL,
    [ServiceId] int NOT NULL,
    CONSTRAINT [PK_BranchServices] PRIMARY KEY ([BranchId], [ServiceId]),
    CONSTRAINT [FK_BranchServices_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE CASCADE,
    CONSTRAINT [FK_BranchServices_Services_ServiceId] FOREIGN KEY ([ServiceId]) REFERENCES [Services] ([ServiceId]) ON DELETE CASCADE
);
2025-11-25 04:37:32.230 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BranchServices] (
    [BranchId] int NOT NULL,
    [ServiceId] int NOT NULL,
    CONSTRAINT [PK_BranchServices] PRIMARY KEY ([BranchId], [ServiceId]),
    CONSTRAINT [FK_BranchServices_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE CASCADE,
    CONSTRAINT [FK_BranchServices_Services_ServiceId] FOREIGN KEY ([ServiceId]) REFERENCES [Services] ([ServiceId]) ON DELETE CASCADE
);
2025-11-25 04:37:33.971 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:33.971 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:33.971 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:33.971 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BranchSpecializations] (
    [BranchId] int NOT NULL,
    [SpecializationId] int NOT NULL,
    CONSTRAINT [PK_BranchSpecializations] PRIMARY KEY ([BranchId], [SpecializationId]),
    CONSTRAINT [FK_BranchSpecializations_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE CASCADE,
    CONSTRAINT [FK_BranchSpecializations_Specializations_SpecializationId] FOREIGN KEY ([SpecializationId]) REFERENCES [Specializations] ([SpecializationId]) ON DELETE CASCADE
);
2025-11-25 04:37:33.974 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BranchSpecializations] (
    [BranchId] int NOT NULL,
    [SpecializationId] int NOT NULL,
    CONSTRAINT [PK_BranchSpecializations] PRIMARY KEY ([BranchId], [SpecializationId]),
    CONSTRAINT [FK_BranchSpecializations_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE CASCADE,
    CONSTRAINT [FK_BranchSpecializations_Specializations_SpecializationId] FOREIGN KEY ([SpecializationId]) REFERENCES [Specializations] ([SpecializationId]) ON DELETE CASCADE
);
2025-11-25 04:37:33.974 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:33.974 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:33.974 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:33.974 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BranchServices_ServiceId] ON [BranchServices] ([ServiceId]);
2025-11-25 04:37:33.974 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BranchServices_ServiceId] ON [BranchServices] ([ServiceId]);
2025-11-25 04:37:33.974 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:33.974 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:33.974 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:33.974 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BranchSpecializations_SpecializationId] ON [BranchSpecializations] ([SpecializationId]);
2025-11-25 04:37:33.975 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BranchSpecializations_SpecializationId] ON [BranchSpecializations] ([SpecializationId]);
2025-11-25 04:37:33.975 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:33.975 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:33.975 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:33.975 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Events] ADD CONSTRAINT [FK_Events_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]);
2025-11-25 04:37:33.976 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Events] ADD CONSTRAINT [FK_Events_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]);
2025-11-25 04:37:33.976 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:33.976 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:33.976 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:33.976 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [News] ADD CONSTRAINT [FK_News_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]);
2025-11-25 04:37:33.977 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [News] ADD CONSTRAINT [FK_News_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]);
2025-11-25 04:37:33.977 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:33.977 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:35.910 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1933ms).
2025-11-25 04:37:35.910 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251113233448_update in banner and service and branch and specilization relations', N'8.0.21');
2025-11-25 04:37:35.913 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251113233448_update in banner and service and branch and specilization relations', N'8.0.21');
2025-11-25 04:37:35.913 +02:00 [DBG] Committing transaction.
2025-11-25 04:37:35.915 +02:00 [DBG] Committed transaction.
2025-11-25 04:37:35.915 +02:00 [DBG] Disposing transaction.
2025-11-25 04:37:35.915 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:35.915 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:37:35.915 +02:00 [INF] Applying migration '20251115194238_add many to many relation between branch and doctor'.
2025-11-25 04:37:35.927 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:35.927 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:35.927 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:37:35.928 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:37:35.928 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:35.928 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:35.928 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:35.928 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Doctors] DROP CONSTRAINT [FK_Doctors_Branches_BranchId];
2025-11-25 04:37:35.929 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Doctors] DROP CONSTRAINT [FK_Doctors_Branches_BranchId];
2025-11-25 04:37:35.929 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:35.929 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:35.929 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:35.929 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Doctors_BranchId] ON [Doctors];
2025-11-25 04:37:35.930 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Doctors_BranchId] ON [Doctors];
2025-11-25 04:37:35.930 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:35.931 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:35.931 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:35.931 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var3 sysname;
SELECT @var3 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Doctors]') AND [c].[name] = N'BranchId');
IF @var3 IS NOT NULL EXEC(N'ALTER TABLE [Doctors] DROP CONSTRAINT [' + @var3 + '];');
ALTER TABLE [Doctors] DROP COLUMN [BranchId];
2025-11-25 04:37:35.946 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var3 sysname;
SELECT @var3 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Doctors]') AND [c].[name] = N'BranchId');
IF @var3 IS NOT NULL EXEC(N'ALTER TABLE [Doctors] DROP CONSTRAINT [' + @var3 + '];');
ALTER TABLE [Doctors] DROP COLUMN [BranchId];
2025-11-25 04:37:35.946 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:35.946 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:35.946 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:35.946 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [DoctorBranches] (
    [BranchesBranchId] int NOT NULL,
    [DoctorsDoctorId] int NOT NULL,
    CONSTRAINT [PK_DoctorBranches] PRIMARY KEY ([BranchesBranchId], [DoctorsDoctorId]),
    CONSTRAINT [FK_DoctorBranches_Branches_BranchesBranchId] FOREIGN KEY ([BranchesBranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE CASCADE,
    CONSTRAINT [FK_DoctorBranches_Doctors_DoctorsDoctorId] FOREIGN KEY ([DoctorsDoctorId]) REFERENCES [Doctors] ([DoctorId]) ON DELETE CASCADE
);
2025-11-25 04:37:37.507 +02:00 [INF] Executed DbCommand (1,561ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [DoctorBranches] (
    [BranchesBranchId] int NOT NULL,
    [DoctorsDoctorId] int NOT NULL,
    CONSTRAINT [PK_DoctorBranches] PRIMARY KEY ([BranchesBranchId], [DoctorsDoctorId]),
    CONSTRAINT [FK_DoctorBranches_Branches_BranchesBranchId] FOREIGN KEY ([BranchesBranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE CASCADE,
    CONSTRAINT [FK_DoctorBranches_Doctors_DoctorsDoctorId] FOREIGN KEY ([DoctorsDoctorId]) REFERENCES [Doctors] ([DoctorId]) ON DELETE CASCADE
);
2025-11-25 04:37:37.507 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:37.507 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:37.507 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:37.507 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_DoctorBranches_DoctorsDoctorId] ON [DoctorBranches] ([DoctorsDoctorId]);
2025-11-25 04:37:37.508 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_DoctorBranches_DoctorsDoctorId] ON [DoctorBranches] ([DoctorsDoctorId]);
2025-11-25 04:37:37.508 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:37.508 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:37.508 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:37.508 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251115194238_add many to many relation between branch and doctor', N'8.0.21');
2025-11-25 04:37:37.510 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251115194238_add many to many relation between branch and doctor', N'8.0.21');
2025-11-25 04:37:37.510 +02:00 [DBG] Committing transaction.
2025-11-25 04:37:37.512 +02:00 [DBG] Committed transaction.
2025-11-25 04:37:37.512 +02:00 [DBG] Disposing transaction.
2025-11-25 04:37:37.512 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:37.512 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:37:37.512 +02:00 [INF] Applying migration '20251115200531_remove relation between branch and user'.
2025-11-25 04:37:37.524 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:37.524 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:37.524 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:37:37.524 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:37:37.524 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:37.524 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:37.524 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:37.524 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Users] DROP CONSTRAINT [FK_Users_Branches_BranchId];
2025-11-25 04:37:37.526 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Users] DROP CONSTRAINT [FK_Users_Branches_BranchId];
2025-11-25 04:37:37.526 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:37.526 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:37.526 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:37.526 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Users_BranchId] ON [Users];
2025-11-25 04:37:37.527 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Users_BranchId] ON [Users];
2025-11-25 04:37:37.527 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:37.527 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:37.527 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:37.527 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var4 sysname;
SELECT @var4 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Users]') AND [c].[name] = N'BranchId');
IF @var4 IS NOT NULL EXEC(N'ALTER TABLE [Users] DROP CONSTRAINT [' + @var4 + '];');
ALTER TABLE [Users] DROP COLUMN [BranchId];
2025-11-25 04:37:39.366 +02:00 [INF] Executed DbCommand (1,840ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var4 sysname;
SELECT @var4 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Users]') AND [c].[name] = N'BranchId');
IF @var4 IS NOT NULL EXEC(N'ALTER TABLE [Users] DROP CONSTRAINT [' + @var4 + '];');
ALTER TABLE [Users] DROP COLUMN [BranchId];
2025-11-25 04:37:39.367 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:39.367 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:39.367 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:39.367 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251115200531_remove relation between branch and user', N'8.0.21');
2025-11-25 04:37:39.370 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251115200531_remove relation between branch and user', N'8.0.21');
2025-11-25 04:37:39.370 +02:00 [DBG] Committing transaction.
2025-11-25 04:37:39.370 +02:00 [DBG] Committed transaction.
2025-11-25 04:37:39.370 +02:00 [DBG] Disposing transaction.
2025-11-25 04:37:39.370 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:39.370 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:37:39.370 +02:00 [INF] Applying migration '20251116144214_MakeRefreshTokenNullable'.
2025-11-25 04:37:39.386 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:39.386 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:39.386 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:37:39.386 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:37:39.386 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:39.386 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:39.386 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:39.386 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var5 sysname;
SELECT @var5 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Users]') AND [c].[name] = N'RefreshToken');
IF @var5 IS NOT NULL EXEC(N'ALTER TABLE [Users] DROP CONSTRAINT [' + @var5 + '];');
ALTER TABLE [Users] ALTER COLUMN [RefreshToken] nvarchar(max) NULL;
2025-11-25 04:37:39.401 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var5 sysname;
SELECT @var5 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Users]') AND [c].[name] = N'RefreshToken');
IF @var5 IS NOT NULL EXEC(N'ALTER TABLE [Users] DROP CONSTRAINT [' + @var5 + '];');
ALTER TABLE [Users] ALTER COLUMN [RefreshToken] nvarchar(max) NULL;
2025-11-25 04:37:39.401 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:39.401 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:39.401 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:39.401 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251116144214_MakeRefreshTokenNullable', N'8.0.21');
2025-11-25 04:37:39.401 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251116144214_MakeRefreshTokenNullable', N'8.0.21');
2025-11-25 04:37:41.070 +02:00 [DBG] Committing transaction.
2025-11-25 04:37:41.071 +02:00 [DBG] Committed transaction.
2025-11-25 04:37:41.071 +02:00 [DBG] Disposing transaction.
2025-11-25 04:37:41.071 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:41.071 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:37:41.071 +02:00 [INF] Applying migration '20251116184844_editPatientModel'.
2025-11-25 04:37:41.083 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:41.083 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:41.083 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:37:41.083 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:37:41.083 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:41.083 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:41.083 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:41.083 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var6 sysname;
SELECT @var6 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Patients]') AND [c].[name] = N'Address');
IF @var6 IS NOT NULL EXEC(N'ALTER TABLE [Patients] DROP CONSTRAINT [' + @var6 + '];');
ALTER TABLE [Patients] DROP COLUMN [Address];
2025-11-25 04:37:41.100 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var6 sysname;
SELECT @var6 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Patients]') AND [c].[name] = N'Address');
IF @var6 IS NOT NULL EXEC(N'ALTER TABLE [Patients] DROP CONSTRAINT [' + @var6 + '];');
ALTER TABLE [Patients] DROP COLUMN [Address];
2025-11-25 04:37:41.101 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:41.101 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:41.101 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:41.101 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var7 sysname;
SELECT @var7 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Patients]') AND [c].[name] = N'BloodType');
IF @var7 IS NOT NULL EXEC(N'ALTER TABLE [Patients] DROP CONSTRAINT [' + @var7 + '];');
ALTER TABLE [Patients] DROP COLUMN [BloodType];
2025-11-25 04:37:41.111 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var7 sysname;
SELECT @var7 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Patients]') AND [c].[name] = N'BloodType');
IF @var7 IS NOT NULL EXEC(N'ALTER TABLE [Patients] DROP CONSTRAINT [' + @var7 + '];');
ALTER TABLE [Patients] DROP COLUMN [BloodType];
2025-11-25 04:37:41.111 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:41.112 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:41.112 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:41.112 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251116184844_editPatientModel', N'8.0.21');
2025-11-25 04:37:41.113 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251116184844_editPatientModel', N'8.0.21');
2025-11-25 04:37:41.113 +02:00 [DBG] Committing transaction.
2025-11-25 04:37:41.113 +02:00 [DBG] Committed transaction.
2025-11-25 04:37:41.113 +02:00 [DBG] Disposing transaction.
2025-11-25 04:37:42.914 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:42.915 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:37:42.915 +02:00 [INF] Applying migration '20251116220101_change Timeonly in schedule to DateTime'.
2025-11-25 04:37:42.928 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:42.928 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:42.929 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:37:42.929 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:37:42.929 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:42.929 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:42.929 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:42.929 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var8 sysname;
SELECT @var8 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Schedules]') AND [c].[name] = N'StartTime');
IF @var8 IS NOT NULL EXEC(N'ALTER TABLE [Schedules] DROP CONSTRAINT [' + @var8 + '];');
ALTER TABLE [Schedules] ALTER COLUMN [StartTime] datetime2 NOT NULL;
2025-11-25 04:37:42.946 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var8 sysname;
SELECT @var8 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Schedules]') AND [c].[name] = N'StartTime');
IF @var8 IS NOT NULL EXEC(N'ALTER TABLE [Schedules] DROP CONSTRAINT [' + @var8 + '];');
ALTER TABLE [Schedules] ALTER COLUMN [StartTime] datetime2 NOT NULL;
2025-11-25 04:37:42.946 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:42.946 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:42.946 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:42.946 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var9 sysname;
SELECT @var9 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Schedules]') AND [c].[name] = N'EndTime');
IF @var9 IS NOT NULL EXEC(N'ALTER TABLE [Schedules] DROP CONSTRAINT [' + @var9 + '];');
ALTER TABLE [Schedules] ALTER COLUMN [EndTime] datetime2 NOT NULL;
2025-11-25 04:37:42.957 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var9 sysname;
SELECT @var9 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Schedules]') AND [c].[name] = N'EndTime');
IF @var9 IS NOT NULL EXEC(N'ALTER TABLE [Schedules] DROP CONSTRAINT [' + @var9 + '];');
ALTER TABLE [Schedules] ALTER COLUMN [EndTime] datetime2 NOT NULL;
2025-11-25 04:37:42.957 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:42.957 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:42.957 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:42.957 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251116220101_change Timeonly in schedule to DateTime', N'8.0.21');
2025-11-25 04:37:42.960 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251116220101_change Timeonly in schedule to DateTime', N'8.0.21');
2025-11-25 04:37:42.960 +02:00 [DBG] Committing transaction.
2025-11-25 04:37:42.960 +02:00 [DBG] Committed transaction.
2025-11-25 04:37:42.960 +02:00 [DBG] Disposing transaction.
2025-11-25 04:37:42.960 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:42.960 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:37:44.847 +02:00 [INF] Applying migration '20251117115532_addPhotoToDoctor'.
2025-11-25 04:37:44.858 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:44.858 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:44.858 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:37:44.859 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:37:44.859 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:44.859 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:44.859 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:44.859 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Doctors] ADD [ImageURL] nvarchar(300) NULL;
2025-11-25 04:37:44.860 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Doctors] ADD [ImageURL] nvarchar(300) NULL;
2025-11-25 04:37:44.860 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:44.860 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:44.860 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:44.860 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251117115532_addPhotoToDoctor', N'8.0.21');
2025-11-25 04:37:44.863 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251117115532_addPhotoToDoctor', N'8.0.21');
2025-11-25 04:37:44.863 +02:00 [DBG] Committing transaction.
2025-11-25 04:37:44.864 +02:00 [DBG] Committed transaction.
2025-11-25 04:37:44.864 +02:00 [DBG] Disposing transaction.
2025-11-25 04:37:44.864 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:44.864 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:37:44.864 +02:00 [INF] Applying migration '20251118140238_editTimeOnlYToDateTime'.
2025-11-25 04:37:44.876 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:44.876 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:44.876 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:37:44.876 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:37:44.876 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:44.876 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:44.876 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:44.876 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var10 sysname;
SELECT @var10 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Appointments]') AND [c].[name] = N'Time');
IF @var10 IS NOT NULL EXEC(N'ALTER TABLE [Appointments] DROP CONSTRAINT [' + @var10 + '];');
ALTER TABLE [Appointments] ALTER COLUMN [Time] datetime2 NOT NULL;
2025-11-25 04:37:44.892 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var10 sysname;
SELECT @var10 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Appointments]') AND [c].[name] = N'Time');
IF @var10 IS NOT NULL EXEC(N'ALTER TABLE [Appointments] DROP CONSTRAINT [' + @var10 + '];');
ALTER TABLE [Appointments] ALTER COLUMN [Time] datetime2 NOT NULL;
2025-11-25 04:37:44.892 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:44.892 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:44.892 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:44.892 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251118140238_editTimeOnlYToDateTime', N'8.0.21');
2025-11-25 04:37:44.893 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251118140238_editTimeOnlYToDateTime', N'8.0.21');
2025-11-25 04:37:46.691 +02:00 [DBG] Committing transaction.
2025-11-25 04:37:46.692 +02:00 [DBG] Committed transaction.
2025-11-25 04:37:46.692 +02:00 [DBG] Disposing transaction.
2025-11-25 04:37:46.692 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:46.693 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:37:46.693 +02:00 [INF] Applying migration '20251118182335_improve schedule'.
2025-11-25 04:37:46.704 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:46.705 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:46.705 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:37:46.705 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:37:46.705 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:46.705 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:46.705 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:46.705 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Schedules] ADD [Shift] int NOT NULL DEFAULT 0;
2025-11-25 04:37:46.706 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Schedules] ADD [Shift] int NOT NULL DEFAULT 0;
2025-11-25 04:37:46.706 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:46.706 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:46.706 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:46.706 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251118182335_improve schedule', N'8.0.21');
2025-11-25 04:37:46.709 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251118182335_improve schedule', N'8.0.21');
2025-11-25 04:37:46.709 +02:00 [DBG] Committing transaction.
2025-11-25 04:37:46.709 +02:00 [DBG] Committed transaction.
2025-11-25 04:37:46.709 +02:00 [DBG] Disposing transaction.
2025-11-25 04:37:46.709 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:46.709 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:37:46.709 +02:00 [INF] Applying migration '20251119214128_resetPaswoard'.
2025-11-25 04:37:46.722 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:46.722 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:46.722 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:37:46.722 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:37:46.722 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:46.722 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:46.722 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:46.722 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [PasswordResetCodes] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [Code] nvarchar(max) NOT NULL,
    [ExpireAt] datetime2 NOT NULL,
    CONSTRAINT [PK_PasswordResetCodes] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_PasswordResetCodes_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-11-25 04:37:46.725 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [PasswordResetCodes] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [Code] nvarchar(max) NOT NULL,
    [ExpireAt] datetime2 NOT NULL,
    CONSTRAINT [PK_PasswordResetCodes] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_PasswordResetCodes_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-11-25 04:37:46.725 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:46.725 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:46.725 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:46.725 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_PasswordResetCodes_UserId] ON [PasswordResetCodes] ([UserId]);
2025-11-25 04:37:46.725 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_PasswordResetCodes_UserId] ON [PasswordResetCodes] ([UserId]);
2025-11-25 04:37:48.503 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:48.503 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:48.503 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:48.503 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251119214128_resetPaswoard', N'8.0.21');
2025-11-25 04:37:48.506 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251119214128_resetPaswoard', N'8.0.21');
2025-11-25 04:37:48.506 +02:00 [DBG] Committing transaction.
2025-11-25 04:37:48.507 +02:00 [DBG] Committed transaction.
2025-11-25 04:37:48.507 +02:00 [DBG] Disposing transaction.
2025-11-25 04:37:48.507 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:48.507 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:37:48.507 +02:00 [INF] Applying migration '20251120170506_create payment with paymob and update appoiment '.
2025-11-25 04:37:48.522 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:48.522 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:48.522 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:37:48.522 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:37:48.522 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:48.522 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:48.522 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:48.522 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Payments] (
    [PaymentId] int NOT NULL IDENTITY,
    [AppointmentId] int NOT NULL,
    [Amount] decimal(10,2) NOT NULL,
    [Currency] nvarchar(3) NOT NULL,
    [PaymobOrderId] bigint NULL,
    [PaymobTransactionId] bigint NULL,
    [PaymobMerchantOrderId] nvarchar(100) NULL,
    [Status] nvarchar(20) NOT NULL,
    [GatewayResponse] nvarchar(max) NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Payments] PRIMARY KEY ([PaymentId]),
    CONSTRAINT [FK_Payments_Appointments_AppointmentId] FOREIGN KEY ([AppointmentId]) REFERENCES [Appointments] ([AppointmentId]) ON DELETE NO ACTION
);
2025-11-25 04:37:48.525 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Payments] (
    [PaymentId] int NOT NULL IDENTITY,
    [AppointmentId] int NOT NULL,
    [Amount] decimal(10,2) NOT NULL,
    [Currency] nvarchar(3) NOT NULL,
    [PaymobOrderId] bigint NULL,
    [PaymobTransactionId] bigint NULL,
    [PaymobMerchantOrderId] nvarchar(100) NULL,
    [Status] nvarchar(20) NOT NULL,
    [GatewayResponse] nvarchar(max) NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_Payments] PRIMARY KEY ([PaymentId]),
    CONSTRAINT [FK_Payments_Appointments_AppointmentId] FOREIGN KEY ([AppointmentId]) REFERENCES [Appointments] ([AppointmentId]) ON DELETE NO ACTION
);
2025-11-25 04:37:48.525 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:48.525 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:48.525 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:48.525 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Payments_AppointmentId] ON [Payments] ([AppointmentId]);
2025-11-25 04:37:48.526 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Payments_AppointmentId] ON [Payments] ([AppointmentId]);
2025-11-25 04:37:48.526 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:48.526 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:48.526 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:48.526 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251120170506_create payment with paymob and update appoiment ', N'8.0.21');
2025-11-25 04:37:50.511 +02:00 [INF] Executed DbCommand (1,986ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251120170506_create payment with paymob and update appoiment ', N'8.0.21');
2025-11-25 04:37:50.512 +02:00 [DBG] Committing transaction.
2025-11-25 04:37:50.513 +02:00 [DBG] Committed transaction.
2025-11-25 04:37:50.513 +02:00 [DBG] Disposing transaction.
2025-11-25 04:37:50.513 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:50.513 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:37:50.513 +02:00 [INF] Applying migration '20251122193859_update appoiment with payment method'.
2025-11-25 04:37:50.525 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:50.525 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:50.525 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:37:50.525 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:37:50.525 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:50.525 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:50.525 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:50.525 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Appointments] ADD [PaymentMethod] int NOT NULL DEFAULT 0;
2025-11-25 04:37:50.526 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Appointments] ADD [PaymentMethod] int NOT NULL DEFAULT 0;
2025-11-25 04:37:50.526 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:50.526 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:50.526 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:50.526 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251122193859_update appoiment with payment method', N'8.0.21');
2025-11-25 04:37:50.527 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251122193859_update appoiment with payment method', N'8.0.21');
2025-11-25 04:37:50.527 +02:00 [DBG] Committing transaction.
2025-11-25 04:37:50.527 +02:00 [DBG] Committed transaction.
2025-11-25 04:37:50.527 +02:00 [DBG] Disposing transaction.
2025-11-25 04:37:50.527 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:50.527 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:37:50.527 +02:00 [INF] Applying migration '20251122203902_convert type of fess in codtor to ba require'.
2025-11-25 04:37:50.540 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:50.540 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:50.540 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:37:50.540 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:37:50.540 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:50.540 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:50.540 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:50.540 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var11 sysname;
SELECT @var11 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Doctors]') AND [c].[name] = N'ConsultationFees');
IF @var11 IS NOT NULL EXEC(N'ALTER TABLE [Doctors] DROP CONSTRAINT [' + @var11 + '];');
UPDATE [Doctors] SET [ConsultationFees] = 0.0 WHERE [ConsultationFees] IS NULL;
ALTER TABLE [Doctors] ALTER COLUMN [ConsultationFees] decimal(10,2) NOT NULL;
ALTER TABLE [Doctors] ADD DEFAULT 0.0 FOR [ConsultationFees];
2025-11-25 04:37:50.558 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var11 sysname;
SELECT @var11 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Doctors]') AND [c].[name] = N'ConsultationFees');
IF @var11 IS NOT NULL EXEC(N'ALTER TABLE [Doctors] DROP CONSTRAINT [' + @var11 + '];');
UPDATE [Doctors] SET [ConsultationFees] = 0.0 WHERE [ConsultationFees] IS NULL;
ALTER TABLE [Doctors] ALTER COLUMN [ConsultationFees] decimal(10,2) NOT NULL;
ALTER TABLE [Doctors] ADD DEFAULT 0.0 FOR [ConsultationFees];
2025-11-25 04:37:52.570 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:52.570 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:52.570 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:52.570 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251122203902_convert type of fess in codtor to ba require', N'8.0.21');
2025-11-25 04:37:52.574 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251122203902_convert type of fess in codtor to ba require', N'8.0.21');
2025-11-25 04:37:52.574 +02:00 [DBG] Committing transaction.
2025-11-25 04:37:52.574 +02:00 [DBG] Committed transaction.
2025-11-25 04:37:52.574 +02:00 [DBG] Disposing transaction.
2025-11-25 04:37:52.574 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:52.574 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:37:52.575 +02:00 [INF] Applying migration '20251122214638_addImageInBranch'.
2025-11-25 04:37:52.588 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:52.588 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:52.588 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:37:52.589 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:37:52.589 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:52.589 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:52.589 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:52.589 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Branches] ADD [ImageURL] nvarchar(300) NULL;
2025-11-25 04:37:52.590 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Branches] ADD [ImageURL] nvarchar(300) NULL;
2025-11-25 04:37:52.590 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:52.590 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:52.590 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:52.590 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251122214638_addImageInBranch', N'8.0.21');
2025-11-25 04:37:52.593 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251122214638_addImageInBranch', N'8.0.21');
2025-11-25 04:37:52.593 +02:00 [DBG] Committing transaction.
2025-11-25 04:37:52.593 +02:00 [DBG] Committed transaction.
2025-11-25 04:37:52.594 +02:00 [DBG] Disposing transaction.
2025-11-25 04:37:52.594 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:52.594 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:37:52.594 +02:00 [INF] Applying migration '20251124135933_addDateinschudule'.
2025-11-25 04:37:52.607 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:52.607 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:52.607 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:37:52.607 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:37:52.607 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:52.607 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:52.608 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:52.608 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var12 sysname;
SELECT @var12 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Schedules]') AND [c].[name] = N'DayOfWeek');
IF @var12 IS NOT NULL EXEC(N'ALTER TABLE [Schedules] DROP CONSTRAINT [' + @var12 + '];');
ALTER TABLE [Schedules] DROP COLUMN [DayOfWeek];
2025-11-25 04:37:54.331 +02:00 [INF] Executed DbCommand (1,724ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var12 sysname;
SELECT @var12 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Schedules]') AND [c].[name] = N'DayOfWeek');
IF @var12 IS NOT NULL EXEC(N'ALTER TABLE [Schedules] DROP CONSTRAINT [' + @var12 + '];');
ALTER TABLE [Schedules] DROP COLUMN [DayOfWeek];
2025-11-25 04:37:54.331 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:54.331 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:54.331 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:54.331 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Schedules] ADD [ScheduleDate] date NOT NULL DEFAULT '0001-01-01';
2025-11-25 04:37:54.332 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Schedules] ADD [ScheduleDate] date NOT NULL DEFAULT '0001-01-01';
2025-11-25 04:37:54.332 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:54.332 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:54.332 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:54.332 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251124135933_addDateinschudule', N'8.0.21');
2025-11-25 04:37:54.335 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251124135933_addDateinschudule', N'8.0.21');
2025-11-25 04:37:54.335 +02:00 [DBG] Committing transaction.
2025-11-25 04:37:54.336 +02:00 [DBG] Committed transaction.
2025-11-25 04:37:54.336 +02:00 [DBG] Disposing transaction.
2025-11-25 04:37:54.336 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:54.337 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:37:54.337 +02:00 [INF] Applying migration '20251124164506_AddShiftToAppointments'.
2025-11-25 04:37:54.350 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:54.350 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:54.350 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:37:54.351 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:37:54.351 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:54.351 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:54.351 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:54.351 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var13 sysname;
SELECT @var13 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Appointments]') AND [c].[name] = N'Time');
IF @var13 IS NOT NULL EXEC(N'ALTER TABLE [Appointments] DROP CONSTRAINT [' + @var13 + '];');
ALTER TABLE [Appointments] DROP COLUMN [Time];
2025-11-25 04:37:54.362 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var13 sysname;
SELECT @var13 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Appointments]') AND [c].[name] = N'Time');
IF @var13 IS NOT NULL EXEC(N'ALTER TABLE [Appointments] DROP CONSTRAINT [' + @var13 + '];');
ALTER TABLE [Appointments] DROP COLUMN [Time];
2025-11-25 04:37:56.130 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:56.130 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:56.130 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:56.130 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Appointments] ADD [Shift] nvarchar(20) NOT NULL DEFAULT N'';
2025-11-25 04:37:56.131 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Appointments] ADD [Shift] nvarchar(20) NOT NULL DEFAULT N'';
2025-11-25 04:37:56.131 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:56.131 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:56.131 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:56.131 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251124164506_AddShiftToAppointments', N'8.0.21');
2025-11-25 04:37:56.134 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251124164506_AddShiftToAppointments', N'8.0.21');
2025-11-25 04:37:56.134 +02:00 [DBG] Committing transaction.
2025-11-25 04:37:56.135 +02:00 [DBG] Committed transaction.
2025-11-25 04:37:56.135 +02:00 [DBG] Disposing transaction.
2025-11-25 04:37:56.135 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:56.135 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:37:56.135 +02:00 [INF] Applying migration '20251124182248_editSchedule'.
2025-11-25 04:37:56.149 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:56.149 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:56.149 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:37:56.149 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:37:56.149 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:56.149 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:56.149 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:56.149 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var14 sysname;
SELECT @var14 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Schedules]') AND [c].[name] = N'ScheduleDate');
IF @var14 IS NOT NULL EXEC(N'ALTER TABLE [Schedules] DROP CONSTRAINT [' + @var14 + '];');
ALTER TABLE [Schedules] DROP COLUMN [ScheduleDate];
2025-11-25 04:37:56.165 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var14 sysname;
SELECT @var14 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Schedules]') AND [c].[name] = N'ScheduleDate');
IF @var14 IS NOT NULL EXEC(N'ALTER TABLE [Schedules] DROP CONSTRAINT [' + @var14 + '];');
ALTER TABLE [Schedules] DROP COLUMN [ScheduleDate];
2025-11-25 04:37:56.165 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:56.165 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:56.165 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:56.165 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Schedules] ADD [DayOfWeek] nvarchar(20) NOT NULL DEFAULT N'';
2025-11-25 04:37:56.166 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Schedules] ADD [DayOfWeek] nvarchar(20) NOT NULL DEFAULT N'';
2025-11-25 04:37:56.166 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:56.166 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:56.166 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:56.166 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251124182248_editSchedule', N'8.0.21');
2025-11-25 04:37:56.166 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251124182248_editSchedule', N'8.0.21');
2025-11-25 04:37:57.973 +02:00 [DBG] Committing transaction.
2025-11-25 04:37:57.973 +02:00 [DBG] Committed transaction.
2025-11-25 04:37:57.973 +02:00 [DBG] Disposing transaction.
2025-11-25 04:37:57.973 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:57.973 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:37:57.973 +02:00 [INF] Applying migration '20251125023609_update schedule so it has branchid'.
2025-11-25 04:37:57.986 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:57.986 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:57.986 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:37:57.986 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:37:57.986 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:57.986 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:57.986 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:57.986 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Schedules] ADD [BranchId] int NOT NULL DEFAULT 0;
2025-11-25 04:37:57.988 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Schedules] ADD [BranchId] int NOT NULL DEFAULT 0;
2025-11-25 04:37:57.988 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:57.988 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:57.988 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:57.988 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Schedules_BranchId] ON [Schedules] ([BranchId]);
2025-11-25 04:37:57.989 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Schedules_BranchId] ON [Schedules] ([BranchId]);
2025-11-25 04:37:57.989 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:57.989 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:57.989 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:57.989 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Schedules] ADD CONSTRAINT [FK_Schedules_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE CASCADE;
2025-11-25 04:37:57.990 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Schedules] ADD CONSTRAINT [FK_Schedules_Branches_BranchId] FOREIGN KEY ([BranchId]) REFERENCES [Branches] ([BranchId]) ON DELETE CASCADE;
2025-11-25 04:37:57.990 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-25 04:37:57.990 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:57.990 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-25 04:37:57.990 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251125023609_update schedule so it has branchid', N'8.0.21');
2025-11-25 04:37:57.993 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251125023609_update schedule so it has branchid', N'8.0.21');
2025-11-25 04:37:57.993 +02:00 [DBG] Committing transaction.
2025-11-25 04:37:57.993 +02:00 [DBG] Committed transaction.
2025-11-25 04:37:57.993 +02:00 [DBG] Disposing transaction.
2025-11-25 04:37:57.993 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:57.994 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:37:57.995 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 04:37:57.995 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:37:57.995 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 04:38:36.287 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-11-25 04:38:36.455 +02:00 [DBG] Hosting starting
2025-11-25 04:38:36.492 +02:00 [INF] User profile is available. Using 'C:\Users\yossr\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-25 04:38:36.505 +02:00 [DBG] Reading data from file 'C:\Users\yossr\AppData\Local\ASP.NET\DataProtection-Keys\key-69bbab29-81b6-4865-ac9a-ae2b6fa39013.xml'.
2025-11-25 04:38:36.519 +02:00 [DBG] Reading data from file 'C:\Users\yossr\AppData\Local\ASP.NET\DataProtection-Keys\key-80d0efac-0f9c-4630-990a-b52d8a5ce829.xml'.
2025-11-25 04:38:36.521 +02:00 [DBG] Reading data from file 'C:\Users\yossr\AppData\Local\ASP.NET\DataProtection-Keys\key-c9eadb9e-fd70-4dbd-a2e4-2439a22a723f.xml'.
2025-11-25 04:38:36.523 +02:00 [DBG] Reading data from file 'C:\Users\yossr\AppData\Local\ASP.NET\DataProtection-Keys\key-e6a4e949-cc09-4772-b903-b3c0844fb846.xml'.
2025-11-25 04:38:36.531 +02:00 [DBG] Found key {69bbab29-81b6-4865-ac9a-ae2b6fa39013}.
2025-11-25 04:38:36.541 +02:00 [DBG] Found key {80d0efac-0f9c-4630-990a-b52d8a5ce829}.
2025-11-25 04:38:36.543 +02:00 [DBG] Found key {c9eadb9e-fd70-4dbd-a2e4-2439a22a723f}.
2025-11-25 04:38:36.544 +02:00 [DBG] Found key {e6a4e949-cc09-4772-b903-b3c0844fb846}.
2025-11-25 04:38:36.551 +02:00 [DBG] Considering key {69bbab29-81b6-4865-ac9a-ae2b6fa39013} with expiration date 2026-01-04 04:20:00Z as default key.
2025-11-25 04:38:36.556 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-25 04:38:36.560 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-11-25 04:38:36.563 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-25 04:38:36.568 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-11-25 04:38:36.572 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-11-25 04:38:36.575 +02:00 [DBG] Using key {69bbab29-81b6-4865-ac9a-ae2b6fa39013} as the default key.
2025-11-25 04:38:36.577 +02:00 [DBG] Key ring with default key {69bbab29-81b6-4865-ac9a-ae2b6fa39013} was loaded during application startup.
2025-11-25 04:38:36.586 +02:00 [DBG] Middleware loaded
2025-11-25 04:38:36.588 +02:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16501 B).
2025-11-25 04:38:36.590 +02:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-11-25 04:38:36.685 +02:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-11-25 04:38:36.792 +02:00 [INF] Now listening on: https://localhost:7217
2025-11-25 04:38:36.794 +02:00 [INF] Now listening on: http://localhost:5163
2025-11-25 04:38:36.794 +02:00 [DBG] Loaded hosting startup assembly Hospital
2025-11-25 04:38:36.795 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-11-25 04:38:36.796 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-11-25 04:38:36.796 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-11-25 04:38:36.871 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-25 04:38:36.872 +02:00 [INF] Hosting environment: Development
2025-11-25 04:38:36.873 +02:00 [INF] Content root path: D:\Hospital\Hospital\Hospital
2025-11-25 04:38:36.874 +02:00 [DBG] Hosting started
2025-11-25 04:38:37.080 +02:00 [DBG] Connection id "0HNHBPEU4SU9A" accepted.
2025-11-25 04:38:37.081 +02:00 [DBG] Connection id "0HNHBPEU4SU9B" accepted.
2025-11-25 04:38:37.082 +02:00 [DBG] Connection id "0HNHBPEU4SU9A" started.
2025-11-25 04:38:37.083 +02:00 [DBG] Connection id "0HNHBPEU4SU9B" started.
2025-11-25 04:38:37.094 +02:00 [DBG] Connection id "0HNHBPEU4SU9B" received FIN.
2025-11-25 04:38:37.094 +02:00 [DBG] Connection id "0HNHBPEU4SU9A" received FIN.
2025-11-25 04:38:37.115 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-25 04:38:37.115 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-25 04:38:37.307 +02:00 [DBG] Connection id "0HNHBPEU4SU9B" stopped.
2025-11-25 04:38:37.307 +02:00 [DBG] Connection id "0HNHBPEU4SU9A" stopped.
2025-11-25 04:38:37.311 +02:00 [DBG] Connection id "0HNHBPEU4SU9B" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 04:38:37.311 +02:00 [DBG] Connection id "0HNHBPEU4SU9A" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 04:38:37.420 +02:00 [DBG] Connection id "0HNHBPEU4SU9C" accepted.
2025-11-25 04:38:37.422 +02:00 [DBG] Connection id "0HNHBPEU4SU9C" started.
2025-11-25 04:38:37.468 +02:00 [DBG] Connection 0HNHBPEU4SU9C established using the following protocol: "Tls13"
2025-11-25 04:38:37.548 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/swagger/index.html - null null
2025-11-25 04:38:37.713 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-11-25 04:38:37.744 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-11-25 04:38:37.745 +02:00 [DBG] Request did not match any endpoints
2025-11-25 04:38:37.789 +02:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-11-25 04:38:37.790 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-11-25 04:38:37.810 +02:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-11-25 04:38:37.811 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-11-25 04:38:37.816 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/swagger/index.html - 200 null text/html;charset=utf-8 276.9346ms
2025-11-25 04:38:37.879 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/_vs/browserLink - null null
2025-11-25 04:38:37.879 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/_framework/aspnetcore-browser-refresh.js - null null
2025-11-25 04:38:37.933 +02:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-11-25 04:38:37.934 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 55.8278ms
2025-11-25 04:38:37.973 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/_vs/browserLink - 200 null text/javascript; charset=UTF-8 94.8475ms
2025-11-25 04:38:38.005 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/swagger/v1/swagger.json - null null
2025-11-25 04:38:38.009 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-11-25 04:38:38.010 +02:00 [DBG] Request did not match any endpoints
2025-11-25 04:38:38.043 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 38.5919ms
2025-11-25 04:38:41.346 +02:00 [DBG] Connection id "0HNHBPEU4SU9C" received FIN.
2025-11-25 04:38:41.350 +02:00 [DBG] The connection queue processing loop for 0HNHBPEU4SU9C completed.
2025-11-25 04:38:41.352 +02:00 [DBG] Connection id "0HNHBPEU4SU9C" is closed. The last processed stream ID was 7.
2025-11-25 04:38:41.353 +02:00 [DBG] Connection id "0HNHBPEU4SU9C" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 04:38:41.355 +02:00 [DBG] Connection id "0HNHBPEU4SU9C" stopped.
2025-11-25 04:39:10.285 +02:00 [DBG] Connection id "0HNHBPEU4SU9D" accepted.
2025-11-25 04:39:10.285 +02:00 [DBG] Connection id "0HNHBPEU4SU9D" received FIN.
2025-11-25 04:39:10.292 +02:00 [DBG] Connection id "0HNHBPEU4SU9D" started.
2025-11-25 04:39:10.301 +02:00 [DBG] Connection id "0HNHBPEU4SU9E" accepted.
2025-11-25 04:39:10.305 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-25 04:39:10.306 +02:00 [DBG] Connection id "0HNHBPEU4SU9E" started.
2025-11-25 04:39:10.308 +02:00 [DBG] Connection id "0HNHBPEU4SU9D" stopped.
2025-11-25 04:39:10.310 +02:00 [DBG] Connection id "0HNHBPEU4SU9D" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 04:39:10.322 +02:00 [DBG] Connection 0HNHBPEU4SU9E established using the following protocol: "Tls13"
2025-11-25 04:39:10.328 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/Branch/Create - application/json 145
2025-11-25 04:39:10.337 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/Create'
2025-11-25 04:39:10.342 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.Create (Hospital)' with route pattern 'api/Branch/Create' is valid for the request path '/api/Branch/Create'
2025-11-25 04:39:10.346 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.Create (Hospital)'
2025-11-25 04:39:10.350 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 04:39:10.397 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 04:39:10.400 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.Create (Hospital)'
2025-11-25 04:39:10.432 +02:00 [INF] Route matched with {action = "Create", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Hospital.Application.DTO.Branch.CreateBranchDto) on controller Hospital.Controllers.BranchController (Hospital).
2025-11-25 04:39:10.435 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 04:39:10.437 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 04:39:10.438 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 04:39:10.440 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 04:39:10.441 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 04:39:10.445 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 04:39:10.613 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-11-25 04:39:10.880 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 04:39:10.896 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto' ...
2025-11-25 04:39:10.899 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto' using the name '' in request data ...
2025-11-25 04:39:10.903 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 04:39:10.912 +02:00 [DBG] Connection id "0HNHBPEU4SU9E", Request id "0HNHBPEU4SU9E:00000001": started reading request body.
2025-11-25 04:39:10.914 +02:00 [DBG] Connection id "0HNHBPEU4SU9E", Request id "0HNHBPEU4SU9E:00000001": done reading request body.
2025-11-25 04:39:10.925 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.Branch.CreateBranchDto'
2025-11-25 04:39:10.926 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto'.
2025-11-25 04:39:10.927 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto'.
2025-11-25 04:39:10.929 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto' ...
2025-11-25 04:39:10.940 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto'.
2025-11-25 04:39:10.945 +02:00 [INF] Create Branch called at "2025-11-25T04:39:10.9449674+02:00"
2025-11-25 04:39:10.948 +02:00 [INF] Creating new branch with name: adam7
2025-11-25 04:39:11.523 +02:00 [DBG] The index {'BranchesBranchId'} was not created on entity type 'BranchDoctor (Dictionary<string, object>)' as the properties are already covered by the index {'BranchesBranchId', 'DoctorsDoctorId'}.
2025-11-25 04:39:11.525 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchService (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'ServiceId'}.
2025-11-25 04:39:11.526 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchSpecialization (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'SpecializationId'}.
2025-11-25 04:39:11.527 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-11-25 04:39:11.528 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-11-25 04:39:11.646 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).BranchesBranchId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-11-25 04:39:11.648 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).DoctorsDoctorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-11-25 04:39:11.809 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 04:39:11.862 +02:00 [DBG] Compiling query expression: 
'DbSet<Branch>()
    .AsNoTracking()'
2025-11-25 04:39:12.662 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Branch>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Branch.BranchId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Branch.Address (string) MaxLength(250), 1], [Property: Branch.BranchName (string) Required MaxLength(150), 2], [Property: Branch.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: Branch.Description (string), 4], [Property: Branch.Email (string) MaxLength(200), 5], [Property: Branch.ImageURL (string) MaxLength(300), 6], [Property: Branch.Phone (string) MaxLength(25), 7], [Property: Branch.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 8] }
        SELECT b.BranchId, b.Address, b.BranchName, b.CreatedAt, b.Description, b.Email, b.ImageURL, b.Phone, b.UpdatedAt
        FROM Branches AS b), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Branch>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-11-25 04:39:12.689 +02:00 [DBG] Creating DbConnection.
2025-11-25 04:39:12.708 +02:00 [DBG] Created DbConnection. (17ms).
2025-11-25 04:39:12.711 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:13.032 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:13.036 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:39:13.050 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (13ms).
2025-11-25 04:39:13.052 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2025-11-25 04:39:13.059 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 04:39:13.114 +02:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 04:39:13.127 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:13.133 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 12ms reading results.
2025-11-25 04:39:13.137 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:13.143 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (5ms).
2025-11-25 04:39:13.185 +02:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Branch.BranchId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:13.253 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:13.260 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 04:39:13.274 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 04:39:13.284 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 04:39:13.286 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 04:39:13.287 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 04:39:13.357 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:13.359 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:13.362 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:39:13.363 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:39:13.368 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-11-25 04:39:13.372 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 150), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 200), @p5='?' (Size = 300), @p6='?' (Size = 25), @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Branches] ([Address], [BranchName], [CreatedAt], [Description], [Email], [ImageURL], [Phone], [UpdatedAt])
OUTPUT INSERTED.[BranchId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-11-25 04:39:13.403 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 150), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 200), @p5='?' (Size = 300), @p6='?' (Size = 25), @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Branches] ([Address], [BranchName], [CreatedAt], [Description], [Email], [ImageURL], [Phone], [UpdatedAt])
OUTPUT INSERTED.[BranchId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-11-25 04:39:13.414 +02:00 [DBG] The foreign key property 'Branch.BranchId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-25 04:39:13.421 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:13.422 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 17ms reading results.
2025-11-25 04:39:13.424 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:13.425 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 04:39:13.432 +02:00 [DBG] An entity of type 'Branch' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:13.434 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-25 04:39:13.436 +02:00 [INF] Branch created successfully with ID: 1
2025-11-25 04:39:13.444 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 04:39:13.447 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 04:39:13.447 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 04:39:13.448 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 04:39:13.449 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 04:39:13.450 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Hospital.Application.DTO.Branch.BranchDto'.
2025-11-25 04:39:13.482 +02:00 [DBG] Found the endpoints ["Hospital.Controllers.BranchController.GetById (Hospital)"] for address (id=[1],action=[GetById],controller=[Branch])
2025-11-25 04:39:13.487 +02:00 [DBG] Successfully processed template api/Branch/GetBy/{id} for Hospital.Controllers.BranchController.GetById (Hospital) resulting in /api/Branch/GetBy/1 and 
2025-11-25 04:39:13.490 +02:00 [DBG] Link generation succeeded for endpoints ["Hospital.Controllers.BranchController.GetById (Hospital)"] with result /api/Branch/GetBy/1
2025-11-25 04:39:13.508 +02:00 [INF] Executed action Hospital.Controllers.BranchController.Create (Hospital) in 3061.916ms
2025-11-25 04:39:13.510 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.Create (Hospital)'
2025-11-25 04:39:13.512 +02:00 [DBG] Connection id "0HNHBPEU4SU9E" completed keep alive response.
2025-11-25 04:39:13.515 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 04:39:13.519 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:13.521 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-11-25 04:39:13.523 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/Branch/Create - 201 null application/json; charset=utf-8 3194.5719ms
2025-11-25 04:39:19.860 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/Specializations/Create - application/json 176
2025-11-25 04:39:19.864 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Specializations/Create'
2025-11-25 04:39:19.865 +02:00 [DBG] Endpoint 'Hospital.Controllers.SpecializationsController.Create (Hospital)' with route pattern 'api/Specializations/Create' is valid for the request path '/api/Specializations/Create'
2025-11-25 04:39:19.866 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SpecializationsController.Create (Hospital)'
2025-11-25 04:39:19.867 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 04:39:19.868 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 04:39:19.869 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SpecializationsController.Create (Hospital)'
2025-11-25 04:39:19.875 +02:00 [INF] Route matched with {action = "Create", controller = "Specializations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Hospital.Application.DTO.Specialization.SpecializationDTO]] Create(Hospital.Application.DTO.Specialization.CreateSpecialization) on controller Hospital.Controllers.SpecializationsController (Hospital).
2025-11-25 04:39:19.876 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 04:39:19.877 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 04:39:19.879 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 04:39:19.880 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 04:39:19.881 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 04:39:19.882 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 04:39:19.885 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 04:39:19.886 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Specialization.CreateSpecialization' ...
2025-11-25 04:39:19.888 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Specialization.CreateSpecialization' using the name '' in request data ...
2025-11-25 04:39:19.889 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 04:39:19.891 +02:00 [DBG] Connection id "0HNHBPEU4SU9E", Request id "0HNHBPEU4SU9E:00000002": started reading request body.
2025-11-25 04:39:19.892 +02:00 [DBG] Connection id "0HNHBPEU4SU9E", Request id "0HNHBPEU4SU9E:00000002": done reading request body.
2025-11-25 04:39:19.897 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.Specialization.CreateSpecialization'
2025-11-25 04:39:19.898 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Specialization.CreateSpecialization'.
2025-11-25 04:39:19.899 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Specialization.CreateSpecialization'.
2025-11-25 04:39:19.900 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Specialization.CreateSpecialization' ...
2025-11-25 04:39:19.904 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Specialization.CreateSpecialization'.
2025-11-25 04:39:19.906 +02:00 [INF] create Specialization called at "2025-11-25T04:39:19.9064343+02:00"
2025-11-25 04:39:19.909 +02:00 [INF] Adding specialization: legg
2025-11-25 04:39:19.945 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 04:39:19.952 +02:00 [DBG] Compiling query expression: 
'DbSet<Branch>()
    .Where(b => __branchIds_0.Contains(b.BranchId))'
2025-11-25 04:39:20.050 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Branch>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Branch.BranchId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Branch.Address (string) MaxLength(250), 1], [Property: Branch.BranchName (string) Required MaxLength(150), 2], [Property: Branch.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: Branch.Description (string), 4], [Property: Branch.Email (string) MaxLength(200), 5], [Property: Branch.ImageURL (string) MaxLength(300), 6], [Property: Branch.Phone (string) MaxLength(25), 7], [Property: Branch.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 8] }
        SELECT b.BranchId, b.Address, b.BranchName, b.CreatedAt, b.Description, b.Email, b.ImageURL, b.Phone, b.UpdatedAt
        FROM Branches AS b
        WHERE b.BranchId IN (
            SELECT b0.value
            FROM OPENJSON(@__branchIds_0) WITH (value int '') AS b0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Branch>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-11-25 04:39:20.062 +02:00 [DBG] Creating DbConnection.
2025-11-25 04:39:20.063 +02:00 [DBG] Created DbConnection. (1ms).
2025-11-25 04:39:20.064 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:20.065 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:20.066 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:39:20.067 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:39:20.072 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-11-25 04:39:20.073 +02:00 [DBG] Executing DbCommand [Parameters=[@__branchIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__branchIds_0) WITH ([value] int '$') AS [b0]
)
2025-11-25 04:39:20.097 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__branchIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__branchIds_0) WITH ([value] int '$') AS [b0]
)
2025-11-25 04:39:20.104 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:20.106 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:20.107 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-11-25 04:39:20.108 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:20.109 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 04:39:20.114 +02:00 [DBG] Compiling query expression: 
'DbSet<Specialization>()
    .Include(s => s.Branches)
    .Include(s => s.Doctors)
    .ThenInclude(d => d.User)'
2025-11-25 04:39:20.122 +02:00 [DBG] Including navigation: 'Specialization.Branches'.
2025-11-25 04:39:20.137 +02:00 [DBG] Including navigation: 'Specialization.Doctors'.
2025-11-25 04:39:20.145 +02:00 [DBG] Including navigation: 'Doctor.User'.
2025-11-25 04:39:20.208 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-25 04:39:20.215 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Specialization>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Specialization.SpecializationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Specialization.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: Specialization.Description (string), 2], [Property: Specialization.Name (string) Required MaxLength(120), 3], [Property: Specialization.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: BranchSpecialization (Dictionary<string, object>).BranchId (no field, int) Indexer Required PK FK AfterSave:Throw, 5], [Property: BranchSpecialization (Dictionary<string, object>).SpecializationId (no field, int) Indexer Required PK FK Index AfterSave:Throw, 6] }
            3 -> Dictionary<IProperty, int> { [Property: Branch.BranchId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Branch.Address (string) MaxLength(250), 8], [Property: Branch.BranchName (string) Required MaxLength(150), 9], [Property: Branch.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 10], [Property: Branch.Description (string), 11], [Property: Branch.Email (string) MaxLength(200), 12], [Property: Branch.ImageURL (string) MaxLength(300), 13], [Property: Branch.Phone (string) MaxLength(25), 14], [Property: Branch.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 15] }
            4 -> 5
            5 -> 6
            6 -> 7
            7 -> Dictionary<IProperty, int> { [Property: Doctor.DoctorId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: Doctor.Available (bool?), 17], [Property: Doctor.Biography (string), 18], [Property: Doctor.ConsultationFees (decimal) Required, 19], [Property: Doctor.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 20], [Property: Doctor.ExperienceYears (int?), 21], [Property: Doctor.ImageURL (string) MaxLength(300), 22], [Property: Doctor.SpecializationId (int) Required FK Index, 23], [Property: Doctor.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 24], [Property: Doctor.UserId (string) Required FK Index, 25] }
            8 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 26], [Property: User.AccessFailedCount (int) Required, 27], [Property: User.ConcurrencyStamp (string) Concurrency, 28], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 29], [Property: User.DateOfBirth (DateOnly?), 30], [Property: User.Email (string) Index MaxLength(256), 31], [Property: User.EmailConfirmed (bool) Required, 32], [Property: User.FullName (string) Required MaxLength(150), 33], [Property: User.Gender (GenderType?) MaxLength(10), 34], [Property: User.LockoutEnabled (bool) Required, 35], [Property: User.LockoutEnd (DateTimeOffset?), 36], [Property: User.NormalizedEmail (string) Index MaxLength(256), 37], [Property: User.NormalizedUserName (string) Index MaxLength(256), 38], [Property: User.PasswordHash (string), 39], [Property: User.PhoneNumber (string), 40], [Property: User.PhoneNumberConfirmed (bool) Required, 41], [Property: User.RefreshToken (string), 42], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 43], [Property: User.Role (string) Required MaxLength(50), 44], [Property: User.SecurityStamp (string), 45], [Property: User.TwoFactorEnabled (bool) Required, 46], [Property: User.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 47], [Property: User.UserName (string) MaxLength(256), 48] }
            9 -> 16
            10 -> 26
        SELECT s.SpecializationId, s.CreatedAt, s.Description, s.Name, s.UpdatedAt, t.BranchId, t.SpecializationId, t.BranchId0, t.Address, t.BranchName, t.CreatedAt, t.Description, t.Email, t.ImageURL, t.Phone, t.UpdatedAt, t0.DoctorId, t0.Available, t0.Biography, t0.ConsultationFees, t0.CreatedAt, t0.ExperienceYears, t0.ImageURL, t0.SpecializationId, t0.UpdatedAt, t0.UserId, t0.Id, t0.AccessFailedCount, t0.ConcurrencyStamp, t0.CreatedAt0, t0.DateOfBirth, t0.Email, t0.EmailConfirmed, t0.FullName, t0.Gender, t0.LockoutEnabled, t0.LockoutEnd, t0.NormalizedEmail, t0.NormalizedUserName, t0.PasswordHash, t0.PhoneNumber, t0.PhoneNumberConfirmed, t0.RefreshToken, t0.RefreshTokenExpiryTime, t0.Role, t0.SecurityStamp, t0.TwoFactorEnabled, t0.UpdatedAt0, t0.UserName
        FROM Specializations AS s
        LEFT JOIN 
        (
            SELECT b.BranchId, b.SpecializationId, b0.BranchId AS BranchId0, b0.Address, b0.BranchName, b0.CreatedAt, b0.Description, b0.Email, b0.ImageURL, b0.Phone, b0.UpdatedAt
            FROM BranchSpecializations AS b
            INNER JOIN Branches AS b0 ON b.BranchId == b0.BranchId
        ) AS t ON s.SpecializationId == t.SpecializationId
        LEFT JOIN 
        (
            SELECT d.DoctorId, d.Available, d.Biography, d.ConsultationFees, d.CreatedAt, d.ExperienceYears, d.ImageURL, d.SpecializationId, d.UpdatedAt, d.UserId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt AS CreatedAt0, u.DateOfBirth, u.Email, u.EmailConfirmed, u.FullName, u.Gender, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.RefreshToken, u.RefreshTokenExpiryTime, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UpdatedAt AS UpdatedAt0, u.UserName
            FROM Doctors AS d
            INNER JOIN Users AS u ON d.UserId == u.Id
        ) AS t0 ON s.SpecializationId == t0.SpecializationId
        ORDER BY s.SpecializationId ASC, t.BranchId ASC, t.SpecializationId ASC, t.BranchId0 ASC, t0.DoctorId ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Specialization>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-11-25 04:39:20.221 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:20.223 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:20.224 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:39:20.225 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:39:20.226 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 04:39:20.228 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 04:39:20.244 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 04:39:20.247 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:20.248 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 04:39:20.249 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:20.250 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 04:39:20.255 +02:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Specialization.SpecializationId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:20.272 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:20.292 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchSpecialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:20.293 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 04:39:20.298 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 04:39:20.299 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 04:39:20.300 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 04:39:20.301 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 04:39:20.310 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:20.312 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:20.316 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:39:20.322 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:39:20.324 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:39:20.324 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:39:20.326 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 04:39:20.327 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 120), @p3='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Specializations] ([CreatedAt], [Description], [Name], [UpdatedAt])
OUTPUT INSERTED.[SpecializationId]
VALUES (@p0, @p1, @p2, @p3);
2025-11-25 04:39:20.331 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 120), @p3='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Specializations] ([CreatedAt], [Description], [Name], [UpdatedAt])
OUTPUT INSERTED.[SpecializationId]
VALUES (@p0, @p1, @p2, @p3);
2025-11-25 04:39:20.333 +02:00 [DBG] The foreign key property 'Specialization.SpecializationId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-25 04:39:20.337 +02:00 [DBG] The foreign key property 'BranchSpecialization.SpecializationId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-25 04:39:20.340 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:20.341 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 8ms reading results.
2025-11-25 04:39:20.342 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:39:20.343 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:39:20.344 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:39:20.345 +02:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BranchSpecializations] ([BranchId], [SpecializationId])
VALUES (@p4, @p5);
2025-11-25 04:39:20.348 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BranchSpecializations] ([BranchId], [SpecializationId])
VALUES (@p4, @p5);
2025-11-25 04:39:20.350 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:20.351 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 04:39:20.354 +02:00 [DBG] Committing transaction.
2025-11-25 04:39:20.358 +02:00 [DBG] Committed transaction.
2025-11-25 04:39:20.360 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:20.361 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:39:20.363 +02:00 [DBG] Disposing transaction.
2025-11-25 04:39:20.364 +02:00 [DBG] An entity of type 'Specialization' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:20.367 +02:00 [DBG] An entity of type 'BranchSpecialization' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:20.368 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 2 entities written to the database.
2025-11-25 04:39:20.369 +02:00 [INF] Specialization 'legg' added successfully
2025-11-25 04:39:20.378 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 04:39:20.380 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 04:39:20.380 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 04:39:20.381 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 04:39:20.382 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 04:39:20.383 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Hospital.Application.DTO.Specialization.SpecializationDTO'.
2025-11-25 04:39:20.384 +02:00 [DBG] Found the endpoints ["Hospital.Controllers.SpecializationsController.Get (Hospital)"] for address (id=[1],action=[Get],controller=[Specializations])
2025-11-25 04:39:20.385 +02:00 [DBG] Successfully processed template api/Specializations/Get/{id} for Hospital.Controllers.SpecializationsController.Get (Hospital) resulting in /api/Specializations/Get/1 and 
2025-11-25 04:39:20.387 +02:00 [DBG] Link generation succeeded for endpoints ["Hospital.Controllers.SpecializationsController.Get (Hospital)"] with result /api/Specializations/Get/1
2025-11-25 04:39:20.392 +02:00 [INF] Executed action Hospital.Controllers.SpecializationsController.Create (Hospital) in 509.5326ms
2025-11-25 04:39:20.393 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SpecializationsController.Create (Hospital)'
2025-11-25 04:39:20.393 +02:00 [DBG] Connection id "0HNHBPEU4SU9E" completed keep alive response.
2025-11-25 04:39:20.394 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 04:39:20.395 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:20.396 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 04:39:20.397 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/Specializations/Create - 201 null application/json; charset=utf-8 536.9373ms
2025-11-25 04:39:31.009 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/Doctor/add - application/json 371
2025-11-25 04:39:31.012 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Doctor/add'
2025-11-25 04:39:31.013 +02:00 [DBG] Endpoint 'Hospital.Controllers.DoctorController.AddDoctor (Hospital)' with route pattern 'api/Doctor/add' is valid for the request path '/api/Doctor/add'
2025-11-25 04:39:31.014 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.DoctorController.AddDoctor (Hospital)'
2025-11-25 04:39:31.016 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 04:39:31.019 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 04:39:31.020 +02:00 [INF] Executing endpoint 'Hospital.Controllers.DoctorController.AddDoctor (Hospital)'
2025-11-25 04:39:31.025 +02:00 [INF] Route matched with {action = "AddDoctor", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDoctor(Hospital.Application.DTO.Doctor.AddDoctorDto) on controller Hospital.Controllers.DoctorController (Hospital).
2025-11-25 04:39:31.026 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 04:39:31.027 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 04:39:31.028 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 04:39:31.030 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 04:39:31.031 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 04:39:31.033 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-11-25 04:39:31.054 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-11-25 04:39:31.056 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Doctor.AddDoctorDto' ...
2025-11-25 04:39:31.057 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Doctor.AddDoctorDto' using the name '' in request data ...
2025-11-25 04:39:31.058 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 04:39:31.067 +02:00 [DBG] Connection id "0HNHBPEU4SU9E", Request id "0HNHBPEU4SU9E:00000003": started reading request body.
2025-11-25 04:39:31.068 +02:00 [DBG] Connection id "0HNHBPEU4SU9E", Request id "0HNHBPEU4SU9E:00000003": done reading request body.
2025-11-25 04:39:31.075 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.Doctor.AddDoctorDto'
2025-11-25 04:39:31.077 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Doctor.AddDoctorDto'.
2025-11-25 04:39:31.078 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Doctor.AddDoctorDto'.
2025-11-25 04:39:31.079 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Doctor.AddDoctorDto' ...
2025-11-25 04:39:31.085 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Doctor.AddDoctorDto'.
2025-11-25 04:39:31.088 +02:00 [INF] add doctor called at "2025-11-25T04:39:31.0879959+02:00"
2025-11-25 04:39:31.091 +02:00 [INF] Adding new doctor: Walaa, Email: walaa.elbishlawy@gmail.com
2025-11-25 04:39:31.103 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 04:39:31.109 +02:00 [DBG] Creating DbConnection.
2025-11-25 04:39:31.110 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 04:39:31.111 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:31.112 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:31.113 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:39:31.115 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:39:31.131 +02:00 [DBG] Compiling query expression: 
'DbSet<Specialization>()
    .FirstOrDefault(e => EF.Property<int>(e, "SpecializationId") == __p_0)'
2025-11-25 04:39:31.142 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Specialization>(
    asyncEnumerable: new SingleQueryingEnumerable<Specialization>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Specialization.SpecializationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Specialization.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: Specialization.Description (string), 2], [Property: Specialization.Name (string) Required MaxLength(120), 3], [Property: Specialization.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 4] }
            SELECT TOP(1) s.SpecializationId, s.CreatedAt, s.Description, s.Name, s.UpdatedAt
            FROM Specializations AS s
            WHERE s.SpecializationId == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Specialization>, 
        Clinic.Infrastructure.Persistence.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-11-25 04:39:31.146 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:39:31.147 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:39:31.148 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 04:39:31.150 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt]
FROM [Specializations] AS [s]
WHERE [s].[SpecializationId] = @__p_0
2025-11-25 04:39:31.166 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt]
FROM [Specializations] AS [s]
WHERE [s].[SpecializationId] = @__p_0
2025-11-25 04:39:31.169 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:31.171 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:31.172 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-11-25 04:39:31.177 +02:00 [INF] Registration attempt for email: walaa.elbishlawy@gmail.com, role: Doctor
2025-11-25 04:39:31.182 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-11-25 04:39:31.188 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: User.DateOfBirth (DateOnly?), 4], [Property: User.Email (string) Index MaxLength(256), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.FullName (string) Required MaxLength(150), 7], [Property: User.Gender (GenderType?) MaxLength(10), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string) Index MaxLength(256), 11], [Property: User.NormalizedUserName (string) Index MaxLength(256), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.RefreshToken (string), 16], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 17], [Property: User.Role (string) Required MaxLength(50), 18], [Property: User.SecurityStamp (string), 19], [Property: User.TwoFactorEnabled (bool) Required, 20], [Property: User.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 21], [Property: User.UserName (string) MaxLength(256), 22] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DateOfBirth, u.Email, u.EmailConfirmed, u.FullName, u.Gender, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.RefreshToken, u.RefreshTokenExpiryTime, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UpdatedAt, u.UserName
            FROM Users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Clinic.Infrastructure.Persistence.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-11-25 04:39:31.193 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:39:31.194 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:39:31.195 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 04:39:31.196 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-11-25 04:39:31.205 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-11-25 04:39:31.207 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:31.209 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 04:39:31.213 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-11-25 04:39:31.218 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: User.DateOfBirth (DateOnly?), 4], [Property: User.Email (string) Index MaxLength(256), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.FullName (string) Required MaxLength(150), 7], [Property: User.Gender (GenderType?) MaxLength(10), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string) Index MaxLength(256), 11], [Property: User.NormalizedUserName (string) Index MaxLength(256), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.RefreshToken (string), 16], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 17], [Property: User.Role (string) Required MaxLength(50), 18], [Property: User.SecurityStamp (string), 19], [Property: User.TwoFactorEnabled (bool) Required, 20], [Property: User.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 21], [Property: User.UserName (string) MaxLength(256), 22] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DateOfBirth, u.Email, u.EmailConfirmed, u.FullName, u.Gender, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.RefreshToken, u.RefreshTokenExpiryTime, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UpdatedAt, u.UserName
            FROM Users AS u
            WHERE u.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Clinic.Infrastructure.Persistence.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-11-25 04:39:31.220 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:39:31.221 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:39:31.222 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 04:39:31.224 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-11-25 04:39:31.241 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-11-25 04:39:31.243 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:31.244 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 04:39:31.249 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-11-25 04:39:31.254 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        Clinic.Infrastructure.Persistence.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-11-25 04:39:31.256 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:39:31.257 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:39:31.258 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 04:39:31.259 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-25 04:39:31.269 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-25 04:39:31.278 +02:00 [DBG] Context 'AppDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:31.284 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:31.285 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 14ms reading results.
2025-11-25 04:39:31.403 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:39:31.404 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:39:31.406 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 04:39:31.407 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-11-25 04:39:31.414 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-11-25 04:39:31.416 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:31.417 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 04:39:31.487 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:31.488 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 04:39:31.504 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 04:39:31.506 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 04:39:31.507 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 04:39:31.508 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 04:39:31.516 +02:00 [DBG] Creating transaction savepoint.
2025-11-25 04:39:31.528 +02:00 [DBG] Created transaction savepoint.
2025-11-25 04:39:31.529 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:39:31.530 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:39:31.533 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-11-25 04:39:31.534 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (Size = 150), @p8='?' (Size = 10), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (Size = 50), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (DbType = DateTime2), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [AccessFailedCount], [ConcurrencyStamp], [CreatedAt], [DateOfBirth], [Email], [EmailConfirmed], [FullName], [Gender], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [Role], [SecurityStamp], [TwoFactorEnabled], [UpdatedAt], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22);
2025-11-25 04:39:31.540 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (Size = 150), @p8='?' (Size = 10), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (Size = 50), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (DbType = DateTime2), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [AccessFailedCount], [ConcurrencyStamp], [CreatedAt], [DateOfBirth], [Email], [EmailConfirmed], [FullName], [Gender], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [Role], [SecurityStamp], [TwoFactorEnabled], [UpdatedAt], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22);
2025-11-25 04:39:31.542 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:31.543 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 04:39:31.546 +02:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:31.547 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-25 04:39:31.552 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2025-11-25 04:39:31.556 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        Clinic.Infrastructure.Persistence.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-11-25 04:39:31.557 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:39:31.558 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:39:31.559 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:39:31.560 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-11-25 04:39:31.564 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-11-25 04:39:31.566 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:31.567 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 04:39:31.571 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .FirstOrDefault(e => EF.Property<string>(e, "UserId") == __p_0 && EF.Property<string>(e, "RoleId") == __p_1)'
2025-11-25 04:39:31.576 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<string>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityUserRole<string>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<string>.UserId (string) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<string>.RoleId (string) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.UserId, a.RoleId
            FROM AspNetUserRoles AS a
            WHERE (a.UserId == @__p_0) && (a.RoleId == @__p_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityUserRole<string>>, 
        Clinic.Infrastructure.Persistence.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-11-25 04:39:31.579 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:39:31.580 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:39:31.581 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:39:31.582 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-11-25 04:39:31.589 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-11-25 04:39:31.590 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:31.591 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 04:39:31.595 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:39:31.596 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:39:31.597 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:39:31.598 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-11-25 04:39:31.600 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-11-25 04:39:31.602 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:31.603 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 04:39:31.609 +02:00 [DBG] Context 'AppDbContext' started tracking 'IdentityUserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:31.611 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:39:31.612 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:39:31.613 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 04:39:31.614 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-11-25 04:39:31.619 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-11-25 04:39:31.622 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:31.623 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 04:39:31.627 +02:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:31.629 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 04:39:31.630 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 04:39:31.631 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 04:39:31.632 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 04:39:31.633 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 04:39:31.643 +02:00 [DBG] Executing 2 update commands as a batch.
2025-11-25 04:39:31.644 +02:00 [DBG] Creating transaction savepoint.
2025-11-25 04:39:31.646 +02:00 [DBG] Created transaction savepoint.
2025-11-25 04:39:31.647 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:39:31.648 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:39:31.649 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 04:39:31.650 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p24='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 150), @p9='?' (Size = 10), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (DbType = DateTime2), @p19='?' (Size = 50), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (DbType = DateTime2), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [Users] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [CreatedAt] = @p4, [DateOfBirth] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [FullName] = @p8, [Gender] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [RefreshToken] = @p17, [RefreshTokenExpiryTime] = @p18, [Role] = @p19, [SecurityStamp] = @p20, [TwoFactorEnabled] = @p21, [UpdatedAt] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-11-25 04:39:31.675 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p24='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 150), @p9='?' (Size = 10), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (DbType = DateTime2), @p19='?' (Size = 50), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (DbType = DateTime2), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [Users] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [CreatedAt] = @p4, [DateOfBirth] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [FullName] = @p8, [Gender] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [RefreshToken] = @p17, [RefreshTokenExpiryTime] = @p18, [Role] = @p19, [SecurityStamp] = @p20, [TwoFactorEnabled] = @p21, [UpdatedAt] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-11-25 04:39:31.681 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:31.683 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-11-25 04:39:31.685 +02:00 [DBG] An entity of type 'IdentityUserRole' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:31.688 +02:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:31.691 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 2 entities written to the database.
2025-11-25 04:39:31.693 +02:00 [INF] User walaa.elbishlawy@gmail.com assigned to role Doctor
2025-11-25 04:39:31.696 +02:00 [INF] Registration successful for user walaa.elbishlawy@gmail.com with ID ebd41087-dd04-412e-8c6d-a379862241dd
2025-11-25 04:39:31.705 +02:00 [DBG] Compiling query expression: 
'DbSet<Branch>()
    .Where(b => __ids_0
        .Contains(b.BranchId))'
2025-11-25 04:39:31.718 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Branch>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Branch.BranchId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Branch.Address (string) MaxLength(250), 1], [Property: Branch.BranchName (string) Required MaxLength(150), 2], [Property: Branch.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: Branch.Description (string), 4], [Property: Branch.Email (string) MaxLength(200), 5], [Property: Branch.ImageURL (string) MaxLength(300), 6], [Property: Branch.Phone (string) MaxLength(25), 7], [Property: Branch.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 8] }
        SELECT b.BranchId, b.Address, b.BranchName, b.CreatedAt, b.Description, b.Email, b.ImageURL, b.Phone, b.UpdatedAt
        FROM Branches AS b
        WHERE b.BranchId IN (
            SELECT i.value
            FROM OPENJSON(@__ids_0) WITH (value int '') AS i)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Branch>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-11-25 04:39:31.720 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:39:31.722 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:39:31.725 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-11-25 04:39:31.726 +02:00 [DBG] Executing DbCommand [Parameters=[@__ids_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] IN (
    SELECT [i].[value]
    FROM OPENJSON(@__ids_0) WITH ([value] int '$') AS [i]
)
2025-11-25 04:39:31.736 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__ids_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] IN (
    SELECT [i].[value]
    FROM OPENJSON(@__ids_0) WITH ([value] int '$') AS [i]
)
2025-11-25 04:39:31.740 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:31.741 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:31.743 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-11-25 04:39:31.752 +02:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Doctor.DoctorId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:31.783 +02:00 [DBG] The navigation 'Doctor.Specialization' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:31.786 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:31.790 +02:00 [DBG] The navigation 'User.DoctorProfile' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:31.794 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:31.799 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchDoctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:31.800 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 04:39:31.812 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 04:39:31.815 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 04:39:31.816 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 04:39:31.817 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 04:39:31.818 +02:00 [DBG] Creating transaction savepoint.
2025-11-25 04:39:31.820 +02:00 [DBG] Created transaction savepoint.
2025-11-25 04:39:31.820 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:39:31.821 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:39:31.824 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-11-25 04:39:31.825 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (Size = 4000), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 300), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Doctors] ([Available], [Biography], [ConsultationFees], [CreatedAt], [ExperienceYears], [ImageURL], [SpecializationId], [UpdatedAt], [UserId])
OUTPUT INSERTED.[DoctorId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-11-25 04:39:31.834 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (Size = 4000), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 300), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Doctors] ([Available], [Biography], [ConsultationFees], [CreatedAt], [ExperienceYears], [ImageURL], [SpecializationId], [UpdatedAt], [UserId])
OUTPUT INSERTED.[DoctorId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-11-25 04:39:31.836 +02:00 [DBG] The foreign key property 'Doctor.DoctorId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-25 04:39:31.839 +02:00 [DBG] The foreign key property 'BranchDoctor.DoctorsDoctorId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-25 04:39:31.840 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:31.841 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-11-25 04:39:31.842 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:39:31.843 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:39:31.844 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:39:31.845 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p10='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DoctorBranches] ([BranchesBranchId], [DoctorsDoctorId])
VALUES (@p9, @p10);
2025-11-25 04:39:31.849 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p9='?' (DbType = Int32), @p10='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DoctorBranches] ([BranchesBranchId], [DoctorsDoctorId])
VALUES (@p9, @p10);
2025-11-25 04:39:31.851 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:31.852 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-25 04:39:31.855 +02:00 [DBG] An entity of type 'Doctor' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:31.857 +02:00 [DBG] An entity of type 'BranchDoctor' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:31.858 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 2 entities written to the database.
2025-11-25 04:39:31.859 +02:00 [DBG] Committing transaction.
2025-11-25 04:39:31.860 +02:00 [DBG] Committed transaction.
2025-11-25 04:39:31.860 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:31.862 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 04:39:35.070 +02:00 [INF] Sent registration email to walaa.elbishlawy@gmail.com
2025-11-25 04:39:35.077 +02:00 [DBG] Disposing transaction.
2025-11-25 04:39:35.083 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 04:39:35.086 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 04:39:35.086 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 04:39:35.087 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 04:39:35.087 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 04:39:35.088 +02:00 [INF] Executing OkObjectResult, writing value of type 'Hospital.Application.DTO.Doctor.DoctorDto'.
2025-11-25 04:39:35.096 +02:00 [INF] Executed action Hospital.Controllers.DoctorController.AddDoctor (Hospital) in 4063.6023ms
2025-11-25 04:39:35.098 +02:00 [INF] Executed endpoint 'Hospital.Controllers.DoctorController.AddDoctor (Hospital)'
2025-11-25 04:39:35.099 +02:00 [DBG] Connection id "0HNHBPEU4SU9E" completed keep alive response.
2025-11-25 04:39:35.100 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 04:39:35.101 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:35.102 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 04:39:35.104 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/Doctor/add - 200 null application/json; charset=utf-8 4094.601ms
2025-11-25 04:39:49.680 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/Auth/register - application/json 164
2025-11-25 04:39:49.682 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2025-11-25 04:39:49.683 +02:00 [DBG] Endpoint 'Hospital.Controllers.AuthController.RegisterAsync (Hospital)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2025-11-25 04:39:49.684 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.AuthController.RegisterAsync (Hospital)'
2025-11-25 04:39:49.684 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 04:39:49.685 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 04:39:49.685 +02:00 [INF] Executing endpoint 'Hospital.Controllers.AuthController.RegisterAsync (Hospital)'
2025-11-25 04:39:49.689 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(Hospital.Domain.Models.RegisterModel) on controller Hospital.Controllers.AuthController (Hospital).
2025-11-25 04:39:49.690 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 04:39:49.691 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 04:39:49.692 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 04:39:49.693 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 04:39:49.694 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 04:39:49.695 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.AuthController (Hospital)
2025-11-25 04:39:49.698 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.AuthController (Hospital)
2025-11-25 04:39:49.699 +02:00 [DBG] Attempting to bind parameter 'model' of type 'Hospital.Domain.Models.RegisterModel' ...
2025-11-25 04:39:49.700 +02:00 [DBG] Attempting to bind parameter 'model' of type 'Hospital.Domain.Models.RegisterModel' using the name '' in request data ...
2025-11-25 04:39:49.701 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 04:39:49.702 +02:00 [DBG] Connection id "0HNHBPEU4SU9E", Request id "0HNHBPEU4SU9E:00000004": started reading request body.
2025-11-25 04:39:49.703 +02:00 [DBG] Connection id "0HNHBPEU4SU9E", Request id "0HNHBPEU4SU9E:00000004": done reading request body.
2025-11-25 04:39:49.705 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Domain.Models.RegisterModel'
2025-11-25 04:39:49.705 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'Hospital.Domain.Models.RegisterModel'.
2025-11-25 04:39:49.706 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'Hospital.Domain.Models.RegisterModel'.
2025-11-25 04:39:49.707 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Hospital.Domain.Models.RegisterModel' ...
2025-11-25 04:39:49.709 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Hospital.Domain.Models.RegisterModel'.
2025-11-25 04:39:49.711 +02:00 [INF] Register called at "2025-11-25T04:39:49.7108262+02:00"
2025-11-25 04:39:49.713 +02:00 [INF] Registration attempt for email: nour210@gmail.com, role: Patient
2025-11-25 04:39:49.715 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 04:39:49.717 +02:00 [DBG] Creating DbConnection.
2025-11-25 04:39:49.718 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 04:39:49.719 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.720 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.721 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:39:49.721 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:39:49.722 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:39:49.724 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-11-25 04:39:49.729 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-11-25 04:39:49.730 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.731 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 04:39:49.733 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.734 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:39:49.735 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.736 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.737 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:39:49.738 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:39:49.739 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:39:49.740 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-11-25 04:39:49.744 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-11-25 04:39:49.745 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.746 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-25 04:39:49.747 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.748 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:39:49.750 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.751 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.751 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:39:49.752 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:39:49.753 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:39:49.754 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-25 04:39:49.759 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-25 04:39:49.761 +02:00 [DBG] Context 'AppDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:49.762 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.763 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-11-25 04:39:49.764 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.765 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 04:39:49.847 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.848 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.849 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:39:49.850 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:39:49.852 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 04:39:49.853 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-11-25 04:39:49.860 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-11-25 04:39:49.862 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.863 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 04:39:49.865 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.866 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 04:39:49.867 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:49.869 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 04:39:49.870 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 04:39:49.871 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 04:39:49.872 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 04:39:49.873 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 04:39:49.874 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.876 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.877 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:39:49.878 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:39:49.879 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 04:39:49.881 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (Size = 150), @p8='?' (Size = 10), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (Size = 50), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (DbType = DateTime2), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [AccessFailedCount], [ConcurrencyStamp], [CreatedAt], [DateOfBirth], [Email], [EmailConfirmed], [FullName], [Gender], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [Role], [SecurityStamp], [TwoFactorEnabled], [UpdatedAt], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22);
2025-11-25 04:39:49.903 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (Size = 150), @p8='?' (Size = 10), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (Size = 50), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (DbType = DateTime2), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [AccessFailedCount], [ConcurrencyStamp], [CreatedAt], [DateOfBirth], [Email], [EmailConfirmed], [FullName], [Gender], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [Role], [SecurityStamp], [TwoFactorEnabled], [UpdatedAt], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22);
2025-11-25 04:39:49.905 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.907 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 04:39:49.908 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.910 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 04:39:49.911 +02:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:49.913 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-25 04:39:49.914 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.916 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.917 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:39:49.918 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:39:49.919 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:39:49.920 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-11-25 04:39:49.925 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-11-25 04:39:49.927 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.928 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 04:39:49.929 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.930 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 04:39:49.932 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.933 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.935 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:39:49.935 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:39:49.937 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 04:39:49.938 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-11-25 04:39:49.941 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-11-25 04:39:49.942 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.943 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 04:39:49.945 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.946 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 04:39:49.948 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.949 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.950 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:39:49.951 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:39:49.952 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 04:39:49.953 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-11-25 04:39:49.955 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-11-25 04:39:49.957 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.958 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 04:39:49.959 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.960 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 04:39:49.962 +02:00 [DBG] Context 'AppDbContext' started tracking 'IdentityUserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:49.963 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.964 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.965 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:39:49.966 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:39:49.967 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:39:49.968 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-11-25 04:39:49.972 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-11-25 04:39:49.974 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.975 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 04:39:49.976 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.977 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 04:39:49.979 +02:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:49.980 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 04:39:49.981 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 04:39:49.981 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 04:39:49.982 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 04:39:49.983 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 04:39:49.984 +02:00 [DBG] Executing 2 update commands as a batch.
2025-11-25 04:39:49.985 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.986 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.987 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 04:39:49.987 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 04:39:49.988 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:39:49.989 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:39:49.990 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:39:49.991 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p24='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 150), @p9='?' (Size = 10), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (DbType = DateTime2), @p19='?' (Size = 50), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (DbType = DateTime2), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [Users] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [CreatedAt] = @p4, [DateOfBirth] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [FullName] = @p8, [Gender] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [RefreshToken] = @p17, [RefreshTokenExpiryTime] = @p18, [Role] = @p19, [SecurityStamp] = @p20, [TwoFactorEnabled] = @p21, [UpdatedAt] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-11-25 04:39:49.997 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p24='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 150), @p9='?' (Size = 10), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (DbType = DateTime2), @p19='?' (Size = 50), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (DbType = DateTime2), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [Users] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [CreatedAt] = @p4, [DateOfBirth] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [FullName] = @p8, [Gender] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [RefreshToken] = @p17, [RefreshTokenExpiryTime] = @p18, [Role] = @p19, [SecurityStamp] = @p20, [TwoFactorEnabled] = @p21, [UpdatedAt] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-11-25 04:39:49.998 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:49.999 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-25 04:39:50.000 +02:00 [DBG] Committing transaction.
2025-11-25 04:39:50.011 +02:00 [DBG] Committed transaction.
2025-11-25 04:39:50.012 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:50.013 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 04:39:50.014 +02:00 [DBG] Disposing transaction.
2025-11-25 04:39:50.016 +02:00 [DBG] An entity of type 'IdentityUserRole' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:50.017 +02:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:50.018 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 2 entities written to the database.
2025-11-25 04:39:50.019 +02:00 [INF] User nour210@gmail.com assigned to role Patient
2025-11-25 04:39:50.023 +02:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Patient.PatientId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:50.033 +02:00 [DBG] The navigation 'User.PatientProfile' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:50.035 +02:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:50.037 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 04:39:50.040 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 04:39:50.041 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 04:39:50.042 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 04:39:50.043 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 04:39:50.045 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:50.046 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:50.047 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:39:50.048 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:39:50.049 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 04:39:50.050 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 150), @p2='?' (DbType = DateTime2), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Patients] ([CreatedAt], [EmergencyContact], [UpdatedAt], [UserId])
OUTPUT INSERTED.[PatientId]
VALUES (@p0, @p1, @p2, @p3);
2025-11-25 04:39:50.059 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 150), @p2='?' (DbType = DateTime2), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Patients] ([CreatedAt], [EmergencyContact], [UpdatedAt], [UserId])
OUTPUT INSERTED.[PatientId]
VALUES (@p0, @p1, @p2, @p3);
2025-11-25 04:39:50.061 +02:00 [DBG] The foreign key property 'Patient.PatientId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-25 04:39:50.064 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:50.065 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-11-25 04:39:50.067 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:50.068 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:39:50.070 +02:00 [DBG] An entity of type 'Patient' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:50.071 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-25 04:39:50.072 +02:00 [INF] Patient record created for user e9010162-2722-4a04-9814-9b948c0bb637
2025-11-25 04:39:50.073 +02:00 [INF] Registration successful for user nour210@gmail.com with ID e9010162-2722-4a04-9814-9b948c0bb637
2025-11-25 04:39:50.075 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 04:39:50.077 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 04:39:50.077 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 04:39:50.078 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 04:39:50.079 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 04:39:50.080 +02:00 [INF] Executing OkObjectResult, writing value of type 'Hospital.Application.DTO.Auth.RegisterDto'.
2025-11-25 04:39:50.083 +02:00 [INF] Executed action Hospital.Controllers.AuthController.RegisterAsync (Hospital) in 387.9447ms
2025-11-25 04:39:50.084 +02:00 [INF] Executed endpoint 'Hospital.Controllers.AuthController.RegisterAsync (Hospital)'
2025-11-25 04:39:50.085 +02:00 [DBG] Connection id "0HNHBPEU4SU9E" completed keep alive response.
2025-11-25 04:39:50.086 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 04:39:50.087 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:50.088 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 04:39:50.089 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/Auth/register - 200 null application/json; charset=utf-8 409.5989ms
2025-11-25 04:39:53.158 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/Auth/login - application/json 64
2025-11-25 04:39:53.161 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-11-25 04:39:53.162 +02:00 [DBG] Endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2025-11-25 04:39:53.163 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)'
2025-11-25 04:39:53.165 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 04:39:53.165 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 04:39:53.166 +02:00 [INF] Executing endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)'
2025-11-25 04:39:53.169 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(Hospital.Domain.Models.LoginModel) on controller Hospital.Controllers.AuthController (Hospital).
2025-11-25 04:39:53.171 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 04:39:53.173 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 04:39:53.174 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 04:39:53.175 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 04:39:53.176 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 04:39:53.177 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.AuthController (Hospital)
2025-11-25 04:39:53.179 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.AuthController (Hospital)
2025-11-25 04:39:53.181 +02:00 [DBG] Attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel' ...
2025-11-25 04:39:53.182 +02:00 [DBG] Attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel' using the name '' in request data ...
2025-11-25 04:39:53.183 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 04:39:53.184 +02:00 [DBG] Connection id "0HNHBPEU4SU9E", Request id "0HNHBPEU4SU9E:00000005": started reading request body.
2025-11-25 04:39:53.185 +02:00 [DBG] Connection id "0HNHBPEU4SU9E", Request id "0HNHBPEU4SU9E:00000005": done reading request body.
2025-11-25 04:39:53.186 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Domain.Models.LoginModel'
2025-11-25 04:39:53.187 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel'.
2025-11-25 04:39:53.188 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'Hospital.Domain.Models.LoginModel'.
2025-11-25 04:39:53.189 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Hospital.Domain.Models.LoginModel' ...
2025-11-25 04:39:53.190 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Hospital.Domain.Models.LoginModel'.
2025-11-25 04:39:53.192 +02:00 [INF] Login called at "2025-11-25T04:39:53.1920739+02:00"
2025-11-25 04:39:53.195 +02:00 [INF] Login attempt for email: nour210@gmail.com
2025-11-25 04:39:53.196 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 04:39:53.198 +02:00 [DBG] Creating DbConnection.
2025-11-25 04:39:53.199 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 04:39:53.199 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:53.200 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:53.201 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:39:53.202 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:39:53.203 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:39:53.204 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-11-25 04:39:53.209 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-11-25 04:39:53.212 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:53.213 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:53.214 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-11-25 04:39:53.215 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:53.216 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:39:53.287 +02:00 [DBG] Creating JWT token for user e9010162-2722-4a04-9814-9b948c0bb637
2025-11-25 04:39:53.292 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2025-11-25 04:39:53.297 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-11-25 04:39:53.299 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:53.300 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:53.301 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:39:53.302 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:39:53.303 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:39:53.304 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-11-25 04:39:53.308 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-11-25 04:39:53.310 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:53.311 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 04:39:53.312 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:53.313 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:39:53.321 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2025-11-25 04:39:53.326 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-11-25 04:39:53.327 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:53.329 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:53.330 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:39:53.331 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:39:53.332 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:39:53.333 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-11-25 04:39:53.339 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-11-25 04:39:53.341 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:53.343 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 04:39:53.344 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:53.346 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 04:39:53.355 +02:00 [DBG] JWT token created for user e9010162-2722-4a04-9814-9b948c0bb637, expires at "2025-11-25T03:39:53.0000000Z"
2025-11-25 04:39:53.357 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:53.358 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:53.359 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:39:53.360 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:39:53.362 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 04:39:53.364 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-11-25 04:39:53.369 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-11-25 04:39:53.371 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:53.373 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 04:39:53.374 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:53.376 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 04:39:53.378 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:53.380 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:53.381 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:39:53.382 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:39:53.383 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 04:39:53.384 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-11-25 04:39:53.391 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-11-25 04:39:53.393 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:53.394 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 04:39:53.396 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:53.397 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 04:39:53.399 +02:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:53.401 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 04:39:53.402 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 04:39:53.403 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 04:39:53.404 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 04:39:53.405 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 04:39:53.407 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:53.408 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:53.409 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:39:53.410 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:39:53.412 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 04:39:53.413 +02:00 [DBG] Executing DbCommand [Parameters=[@p22='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p23='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 150), @p7='?' (Size = 10), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 50), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (DbType = DateTime2), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DateOfBirth] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FullName] = @p6, [Gender] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiryTime] = @p16, [Role] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UpdatedAt] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] = @p23;
2025-11-25 04:39:53.424 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p22='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p23='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 150), @p7='?' (Size = 10), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 50), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (DbType = DateTime2), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DateOfBirth] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FullName] = @p6, [Gender] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiryTime] = @p16, [Role] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UpdatedAt] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] = @p23;
2025-11-25 04:39:53.426 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:53.427 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 04:39:53.429 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:53.430 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 04:39:53.432 +02:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:53.434 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-25 04:39:53.462 +02:00 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .FirstOrDefault(p => p.UserId == __user_Id_0)'
2025-11-25 04:39:53.467 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Patient>(
    asyncEnumerable: new SingleQueryingEnumerable<Patient>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Patient.PatientId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Patient.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: Patient.EmergencyContact (string) MaxLength(150), 2], [Property: Patient.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: Patient.UserId (string) Required FK Index, 4] }
            SELECT TOP(1) p.PatientId, p.CreatedAt, p.EmergencyContact, p.UpdatedAt, p.UserId
            FROM Patients AS p
            WHERE p.UserId == @__user_Id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Patient>, 
        Clinic.Infrastructure.Persistence.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-11-25 04:39:53.469 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:53.470 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:53.471 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:39:53.472 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:39:53.473 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:39:53.474 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PatientId], [p].[CreatedAt], [p].[EmergencyContact], [p].[UpdatedAt], [p].[UserId]
FROM [Patients] AS [p]
WHERE [p].[UserId] = @__user_Id_0
2025-11-25 04:39:53.479 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PatientId], [p].[CreatedAt], [p].[EmergencyContact], [p].[UpdatedAt], [p].[UserId]
FROM [Patients] AS [p]
WHERE [p].[UserId] = @__user_Id_0
2025-11-25 04:39:53.482 +02:00 [DBG] The navigation 'User.PatientProfile' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:53.483 +02:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:39:53.484 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:53.485 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-11-25 04:39:53.486 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:53.487 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:39:53.488 +02:00 [INF] Patient 1 logged in successfully
2025-11-25 04:39:53.489 +02:00 [INF] User nour210@gmail.com logged in successfully with roles: Patient
2025-11-25 04:39:53.490 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 04:39:53.491 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 04:39:53.491 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 04:39:53.492 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 04:39:53.492 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 04:39:53.493 +02:00 [INF] Executing OkObjectResult, writing value of type 'Hospital.Domain.Models.AuthModel'.
2025-11-25 04:39:53.497 +02:00 [INF] Executed action Hospital.Controllers.AuthController.LoginAsync (Hospital) in 319.7258ms
2025-11-25 04:39:53.498 +02:00 [INF] Executed endpoint 'Hospital.Controllers.AuthController.LoginAsync (Hospital)'
2025-11-25 04:39:53.498 +02:00 [DBG] Connection id "0HNHBPEU4SU9E" completed keep alive response.
2025-11-25 04:39:53.499 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 04:39:53.500 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:39:53.501 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 04:39:53.502 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/Auth/login - 200 null application/json; charset=utf-8 343.8649ms
2025-11-25 04:40:26.910 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/Schedule - application/json 91
2025-11-25 04:40:26.912 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Schedule'
2025-11-25 04:40:26.913 +02:00 [DBG] Endpoint 'Hospital.Controllers.ScheduleController.Create (Hospital)' with route pattern 'api/Schedule' is valid for the request path '/api/Schedule'
2025-11-25 04:40:26.914 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.ScheduleController.Create (Hospital)'
2025-11-25 04:40:26.915 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 04:40:26.916 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 04:40:26.917 +02:00 [INF] Executing endpoint 'Hospital.Controllers.ScheduleController.Create (Hospital)'
2025-11-25 04:40:26.920 +02:00 [INF] Route matched with {action = "Create", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Hospital.Application.DTO.Schedule.ScheduleDto]] Create(Hospital.Application.DTO.Schedule.CreateScheduleDto) on controller Hospital.Controllers.ScheduleController (Hospital).
2025-11-25 04:40:26.921 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 04:40:26.922 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 04:40:26.923 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 04:40:26.924 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 04:40:26.925 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 04:40:26.926 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 04:40:26.928 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 04:40:26.929 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto' ...
2025-11-25 04:40:26.930 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto' using the name '' in request data ...
2025-11-25 04:40:26.931 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 04:40:26.935 +02:00 [DBG] Connection id "0HNHBPEU4SU9E", Request id "0HNHBPEU4SU9E:00000006": started reading request body.
2025-11-25 04:40:26.936 +02:00 [DBG] Connection id "0HNHBPEU4SU9E", Request id "0HNHBPEU4SU9E:00000006": done reading request body.
2025-11-25 04:40:26.945 +02:00 [DBG] JSON input formatter threw an exception: '"' is invalid after a value. Expected either ',', '}', or ']'. Path: $ | LineNumber: 4 | BytePositionInLine: 2.
2025-11-25 04:40:26.946 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto'.
2025-11-25 04:40:26.948 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto'.
2025-11-25 04:40:26.949 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto' ...
2025-11-25 04:40:26.951 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto'.
2025-11-25 04:40:26.953 +02:00 [DBG] The request has model state errors, returning an error response.
2025-11-25 04:40:26.955 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-11-25 04:40:26.956 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 04:40:26.957 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 04:40:26.958 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-11-25 04:40:26.960 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-11-25 04:40:26.961 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-11-25 04:40:26.986 +02:00 [INF] Executed action Hospital.Controllers.ScheduleController.Create (Hospital) in 59.2725ms
2025-11-25 04:40:26.987 +02:00 [INF] Executed endpoint 'Hospital.Controllers.ScheduleController.Create (Hospital)'
2025-11-25 04:40:26.988 +02:00 [DBG] Connection id "0HNHBPEU4SU9E" completed keep alive response.
2025-11-25 04:40:26.989 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/Schedule - 400 null application/problem+json; charset=utf-8 79.2615ms
2025-11-25 04:40:34.708 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/Schedule - application/json 92
2025-11-25 04:40:34.710 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Schedule'
2025-11-25 04:40:34.711 +02:00 [DBG] Endpoint 'Hospital.Controllers.ScheduleController.Create (Hospital)' with route pattern 'api/Schedule' is valid for the request path '/api/Schedule'
2025-11-25 04:40:34.712 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.ScheduleController.Create (Hospital)'
2025-11-25 04:40:34.713 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 04:40:34.714 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 04:40:34.715 +02:00 [INF] Executing endpoint 'Hospital.Controllers.ScheduleController.Create (Hospital)'
2025-11-25 04:40:34.716 +02:00 [INF] Route matched with {action = "Create", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Hospital.Application.DTO.Schedule.ScheduleDto]] Create(Hospital.Application.DTO.Schedule.CreateScheduleDto) on controller Hospital.Controllers.ScheduleController (Hospital).
2025-11-25 04:40:34.717 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 04:40:34.718 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 04:40:34.719 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 04:40:34.720 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 04:40:34.721 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 04:40:34.722 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 04:40:34.724 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 04:40:34.725 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto' ...
2025-11-25 04:40:34.726 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto' using the name '' in request data ...
2025-11-25 04:40:34.726 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 04:40:34.727 +02:00 [DBG] Connection id "0HNHBPEU4SU9E", Request id "0HNHBPEU4SU9E:00000007": started reading request body.
2025-11-25 04:40:34.728 +02:00 [DBG] Connection id "0HNHBPEU4SU9E", Request id "0HNHBPEU4SU9E:00000007": done reading request body.
2025-11-25 04:40:34.730 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.Schedule.CreateScheduleDto'
2025-11-25 04:40:34.730 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto'.
2025-11-25 04:40:34.731 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto'.
2025-11-25 04:40:34.732 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto' ...
2025-11-25 04:40:34.735 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto'.
2025-11-25 04:40:34.738 +02:00 [INF] create schedule  called at "2025-11-25T04:40:34.7384058+02:00"
2025-11-25 04:40:34.741 +02:00 [INF] Creating schedule for DoctorId: 1, Day: friday, Shift: "Afternoon"
2025-11-25 04:40:34.744 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 04:40:34.747 +02:00 [DBG] Compiling query expression: 
'DbSet<Doctor>()
    .Include(d => d.User)
    .Include(d => d.Specialization)
    .Include(d => d.Branches)
    .Include(d => d.Schedules)
    .FirstOrDefault(d => d.DoctorId == __doctorId_0)'
2025-11-25 04:40:34.748 +02:00 [DBG] Including navigation: 'Doctor.User'.
2025-11-25 04:40:34.749 +02:00 [DBG] Including navigation: 'Doctor.Specialization'.
2025-11-25 04:40:34.750 +02:00 [DBG] Including navigation: 'Doctor.Branches'.
2025-11-25 04:40:34.751 +02:00 [DBG] Including navigation: 'Doctor.Schedules'.
2025-11-25 04:40:34.764 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-25 04:40:34.770 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Doctor>(
    asyncEnumerable: new SingleQueryingEnumerable<Doctor>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Doctor.DoctorId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Doctor.Available (bool?), 1], [Property: Doctor.Biography (string), 2], [Property: Doctor.ConsultationFees (decimal) Required, 3], [Property: Doctor.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 4], [Property: Doctor.ExperienceYears (int?), 5], [Property: Doctor.ImageURL (string) MaxLength(300), 6], [Property: Doctor.SpecializationId (int) Required FK Index, 7], [Property: Doctor.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 8], [Property: Doctor.UserId (string) Required FK Index, 9] }
                1 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 10], [Property: User.AccessFailedCount (int) Required, 11], [Property: User.ConcurrencyStamp (string) Concurrency, 12], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 13], [Property: User.DateOfBirth (DateOnly?), 14], [Property: User.Email (string) Index MaxLength(256), 15], [Property: User.EmailConfirmed (bool) Required, 16], [Property: User.FullName (string) Required MaxLength(150), 17], [Property: User.Gender (GenderType?) MaxLength(10), 18], [Property: User.LockoutEnabled (bool) Required, 19], [Property: User.LockoutEnd (DateTimeOffset?), 20], [Property: User.NormalizedEmail (string) Index MaxLength(256), 21], [Property: User.NormalizedUserName (string) Index MaxLength(256), 22], [Property: User.PasswordHash (string), 23], [Property: User.PhoneNumber (string), 24], [Property: User.PhoneNumberConfirmed (bool) Required, 25], [Property: User.RefreshToken (string), 26], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 27], [Property: User.Role (string) Required MaxLength(50), 28], [Property: User.SecurityStamp (string), 29], [Property: User.TwoFactorEnabled (bool) Required, 30], [Property: User.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 31], [Property: User.UserName (string) MaxLength(256), 32] }
                2 -> Dictionary<IProperty, int> { [Property: Specialization.SpecializationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 33], [Property: Specialization.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 34], [Property: Specialization.Description (string), 35], [Property: Specialization.Name (string) Required MaxLength(120), 36], [Property: Specialization.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 37] }
                3 -> 0
                4 -> 10
                5 -> 33
                6 -> Dictionary<IProperty, int> { [Property: BranchDoctor (Dictionary<string, object>).BranchesBranchId (no field, int) Indexer Required PK FK AfterSave:Throw, 38], [Property: BranchDoctor (Dictionary<string, object>).DoctorsDoctorId (no field, int) Indexer Required PK FK Index AfterSave:Throw, 39] }
                7 -> Dictionary<IProperty, int> { [Property: Branch.BranchId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 40], [Property: Branch.Address (string) MaxLength(250), 41], [Property: Branch.BranchName (string) Required MaxLength(150), 42], [Property: Branch.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 43], [Property: Branch.Description (string), 44], [Property: Branch.Email (string) MaxLength(200), 45], [Property: Branch.ImageURL (string) MaxLength(300), 46], [Property: Branch.Phone (string) MaxLength(25), 47], [Property: Branch.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 48] }
                8 -> 38
                9 -> 39
                10 -> 40
                11 -> Dictionary<IProperty, int> { [Property: Schedule.ScheduleId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 49], [Property: Schedule.BranchId (int) Required FK Index, 50], [Property: Schedule.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 51], [Property: Schedule.DayOfWeek (string) Required MaxLength(20), 52], [Property: Schedule.DoctorId (int) Required FK Index, 53], [Property: Schedule.EndTime (DateTime) Required, 54], [Property: Schedule.Shift (AppointmentShift) Required, 55], [Property: Schedule.StartTime (DateTime) Required, 56], [Property: Schedule.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 57] }
                12 -> 49
            SELECT t.DoctorId, t.Available, t.Biography, t.ConsultationFees, t.CreatedAt, t.ExperienceYears, t.ImageURL, t.SpecializationId, t.UpdatedAt, t.UserId, t.Id, t.AccessFailedCount, t.ConcurrencyStamp, t.CreatedAt0, t.DateOfBirth, t.Email, t.EmailConfirmed, t.FullName, t.Gender, t.LockoutEnabled, t.LockoutEnd, t.NormalizedEmail, t.NormalizedUserName, t.PasswordHash, t.PhoneNumber, t.PhoneNumberConfirmed, t.RefreshToken, t.RefreshTokenExpiryTime, t.Role, t.SecurityStamp, t.TwoFactorEnabled, t.UpdatedAt0, t.UserName, t.SpecializationId0, t.CreatedAt1, t.Description, t.Name, t.UpdatedAt1, t0.BranchesBranchId, t0.DoctorsDoctorId, t0.BranchId, t0.Address, t0.BranchName, t0.CreatedAt, t0.Description, t0.Email, t0.ImageURL, t0.Phone, t0.UpdatedAt, s0.ScheduleId, s0.BranchId, s0.CreatedAt, s0.DayOfWeek, s0.DoctorId, s0.EndTime, s0.Shift, s0.StartTime, s0.UpdatedAt
            FROM 
            (
                SELECT TOP(1) d.DoctorId, d.Available, d.Biography, d.ConsultationFees, d.CreatedAt, d.ExperienceYears, d.ImageURL, d.SpecializationId, d.UpdatedAt, d.UserId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt AS CreatedAt0, u.DateOfBirth, u.Email, u.EmailConfirmed, u.FullName, u.Gender, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.RefreshToken, u.RefreshTokenExpiryTime, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UpdatedAt AS UpdatedAt0, u.UserName, s.SpecializationId AS SpecializationId0, s.CreatedAt AS CreatedAt1, s.Description, s.Name, s.UpdatedAt AS UpdatedAt1
                FROM Doctors AS d
                INNER JOIN Users AS u ON d.UserId == u.Id
                INNER JOIN Specializations AS s ON d.SpecializationId == s.SpecializationId
                WHERE d.DoctorId == @__doctorId_0
            ) AS t
            LEFT JOIN 
            (
                SELECT d0.BranchesBranchId, d0.DoctorsDoctorId, b.BranchId, b.Address, b.BranchName, b.CreatedAt, b.Description, b.Email, b.ImageURL, b.Phone, b.UpdatedAt
                FROM DoctorBranches AS d0
                INNER JOIN Branches AS b ON d0.BranchesBranchId == b.BranchId
            ) AS t0 ON t.DoctorId == t0.DoctorsDoctorId
            LEFT JOIN Schedules AS s0 ON t.DoctorId == s0.DoctorId
            ORDER BY t.DoctorId ASC, t.Id ASC, t.SpecializationId0 ASC, t0.BranchesBranchId ASC, t0.DoctorsDoctorId ASC, t0.BranchId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Doctor>, 
        Clinic.Infrastructure.Persistence.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-11-25 04:40:34.772 +02:00 [DBG] Creating DbConnection.
2025-11-25 04:40:34.773 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 04:40:34.774 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:40:34.775 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:40:34.776 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:40:34.776 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:40:34.777 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:40:34.779 +02:00 [DBG] Executing DbCommand [Parameters=[@__doctorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DoctorId], [t].[Available], [t].[Biography], [t].[ConsultationFees], [t].[CreatedAt], [t].[ExperienceYears], [t].[ImageURL], [t].[SpecializationId], [t].[UpdatedAt], [t].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[CreatedAt0], [t].[DateOfBirth], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[Gender], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[Role], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UpdatedAt0], [t].[UserName], [t].[SpecializationId0], [t].[CreatedAt1], [t].[Description], [t].[Name], [t].[UpdatedAt1], [t0].[BranchesBranchId], [t0].[DoctorsDoctorId], [t0].[BranchId], [t0].[Address], [t0].[BranchName], [t0].[CreatedAt], [t0].[Description], [t0].[Email], [t0].[ImageURL], [t0].[Phone], [t0].[UpdatedAt], [s0].[ScheduleId], [s0].[BranchId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM (
    SELECT TOP(1) [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName], [s].[SpecializationId] AS [SpecializationId0], [s].[CreatedAt] AS [CreatedAt1], [s].[Description], [s].[Name], [s].[UpdatedAt] AS [UpdatedAt1]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
    WHERE [d].[DoctorId] = @__doctorId_0
) AS [t]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t0] ON [t].[DoctorId] = [t0].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [t].[DoctorId] = [s0].[DoctorId]
ORDER BY [t].[DoctorId], [t].[Id], [t].[SpecializationId0], [t0].[BranchesBranchId], [t0].[DoctorsDoctorId], [t0].[BranchId]
2025-11-25 04:40:34.794 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__doctorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DoctorId], [t].[Available], [t].[Biography], [t].[ConsultationFees], [t].[CreatedAt], [t].[ExperienceYears], [t].[ImageURL], [t].[SpecializationId], [t].[UpdatedAt], [t].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[CreatedAt0], [t].[DateOfBirth], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[Gender], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[Role], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UpdatedAt0], [t].[UserName], [t].[SpecializationId0], [t].[CreatedAt1], [t].[Description], [t].[Name], [t].[UpdatedAt1], [t0].[BranchesBranchId], [t0].[DoctorsDoctorId], [t0].[BranchId], [t0].[Address], [t0].[BranchName], [t0].[CreatedAt], [t0].[Description], [t0].[Email], [t0].[ImageURL], [t0].[Phone], [t0].[UpdatedAt], [s0].[ScheduleId], [s0].[BranchId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM (
    SELECT TOP(1) [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName], [s].[SpecializationId] AS [SpecializationId0], [s].[CreatedAt] AS [CreatedAt1], [s].[Description], [s].[Name], [s].[UpdatedAt] AS [UpdatedAt1]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
    WHERE [d].[DoctorId] = @__doctorId_0
) AS [t]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t0] ON [t].[DoctorId] = [t0].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [t].[DoctorId] = [s0].[DoctorId]
ORDER BY [t].[DoctorId], [t].[Id], [t].[SpecializationId0], [t0].[BranchesBranchId], [t0].[DoctorsDoctorId], [t0].[BranchId]
2025-11-25 04:40:34.797 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:40:34.799 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:40:34.800 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:40:34.801 +02:00 [DBG] The navigation 'Doctor.Specialization' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:40:34.802 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:40:34.806 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchDoctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:40:34.807 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:40:34.808 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:40:34.809 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 13ms reading results.
2025-11-25 04:40:34.810 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:40:34.810 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:40:34.824 +02:00 [DBG] Compiling query expression: 
'DbSet<Schedule>()
    .Where(s => s.DayOfWeek.ToLower() == __ToLower_0)
    .Include(s => s.Doctor)
    .ThenInclude(d => d.User)'
2025-11-25 04:40:34.826 +02:00 [DBG] Including navigation: 'Schedule.Doctor'.
2025-11-25 04:40:34.827 +02:00 [DBG] Including navigation: 'Doctor.User'.
2025-11-25 04:40:34.836 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Schedule>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Schedule.ScheduleId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Schedule.BranchId (int) Required FK Index, 1], [Property: Schedule.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Schedule.DayOfWeek (string) Required MaxLength(20), 3], [Property: Schedule.DoctorId (int) Required FK Index, 4], [Property: Schedule.EndTime (DateTime) Required, 5], [Property: Schedule.Shift (AppointmentShift) Required, 6], [Property: Schedule.StartTime (DateTime) Required, 7], [Property: Schedule.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 8] }
            1 -> Dictionary<IProperty, int> { [Property: Doctor.DoctorId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Doctor.Available (bool?), 10], [Property: Doctor.Biography (string), 11], [Property: Doctor.ConsultationFees (decimal) Required, 12], [Property: Doctor.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 13], [Property: Doctor.ExperienceYears (int?), 14], [Property: Doctor.ImageURL (string) MaxLength(300), 15], [Property: Doctor.SpecializationId (int) Required FK Index, 16], [Property: Doctor.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 17], [Property: Doctor.UserId (string) Required FK Index, 18] }
            2 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 19], [Property: User.AccessFailedCount (int) Required, 20], [Property: User.ConcurrencyStamp (string) Concurrency, 21], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 22], [Property: User.DateOfBirth (DateOnly?), 23], [Property: User.Email (string) Index MaxLength(256), 24], [Property: User.EmailConfirmed (bool) Required, 25], [Property: User.FullName (string) Required MaxLength(150), 26], [Property: User.Gender (GenderType?) MaxLength(10), 27], [Property: User.LockoutEnabled (bool) Required, 28], [Property: User.LockoutEnd (DateTimeOffset?), 29], [Property: User.NormalizedEmail (string) Index MaxLength(256), 30], [Property: User.NormalizedUserName (string) Index MaxLength(256), 31], [Property: User.PasswordHash (string), 32], [Property: User.PhoneNumber (string), 33], [Property: User.PhoneNumberConfirmed (bool) Required, 34], [Property: User.RefreshToken (string), 35], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 36], [Property: User.Role (string) Required MaxLength(50), 37], [Property: User.SecurityStamp (string), 38], [Property: User.TwoFactorEnabled (bool) Required, 39], [Property: User.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 40], [Property: User.UserName (string) MaxLength(256), 41] }
        SELECT s.ScheduleId, s.BranchId, s.CreatedAt, s.DayOfWeek, s.DoctorId, s.EndTime, s.Shift, s.StartTime, s.UpdatedAt, d.DoctorId, d.Available, d.Biography, d.ConsultationFees, d.CreatedAt, d.ExperienceYears, d.ImageURL, d.SpecializationId, d.UpdatedAt, d.UserId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DateOfBirth, u.Email, u.EmailConfirmed, u.FullName, u.Gender, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.RefreshToken, u.RefreshTokenExpiryTime, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UpdatedAt, u.UserName
        FROM Schedules AS s
        INNER JOIN Doctors AS d ON s.DoctorId == d.DoctorId
        INNER JOIN Users AS u ON d.UserId == u.Id
        WHERE LOWER(s.DayOfWeek) == @__ToLower_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Schedule>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-11-25 04:40:34.840 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:40:34.841 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:40:34.842 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:40:34.842 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:40:34.843 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:40:34.844 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[BranchId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE LOWER([s].[DayOfWeek]) = @__ToLower_0
2025-11-25 04:40:34.850 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__ToLower_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[BranchId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE LOWER([s].[DayOfWeek]) = @__ToLower_0
2025-11-25 04:40:34.851 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:40:34.852 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-25 04:40:34.853 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:40:34.854 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:40:34.858 +02:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Schedule.ScheduleId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:40:34.869 +02:00 [DBG] The navigation 'Schedule.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:40:34.871 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:40:34.872 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:40:34.872 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 04:40:34.878 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 04:40:34.880 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 04:40:34.880 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 04:40:34.882 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 04:40:34.883 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:40:34.884 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:40:34.885 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:40:34.886 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:40:34.888 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 04:40:34.889 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 20), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Schedules] ([BranchId], [CreatedAt], [DayOfWeek], [DoctorId], [EndTime], [Shift], [StartTime], [UpdatedAt])
OUTPUT INSERTED.[ScheduleId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-11-25 04:40:34.893 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 20), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Schedules] ([BranchId], [CreatedAt], [DayOfWeek], [DoctorId], [EndTime], [Shift], [StartTime], [UpdatedAt])
OUTPUT INSERTED.[ScheduleId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-11-25 04:40:34.895 +02:00 [DBG] The foreign key property 'Schedule.ScheduleId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-25 04:40:34.897 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:40:34.897 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-11-25 04:40:34.899 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:40:34.899 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:40:34.901 +02:00 [DBG] An entity of type 'Schedule' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:40:34.903 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-25 04:40:34.904 +02:00 [INF] Schedule created successfully for DoctorId 1
2025-11-25 04:40:34.907 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 04:40:34.909 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 04:40:34.909 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 04:40:34.910 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 04:40:34.910 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 04:40:34.911 +02:00 [INF] Executing OkObjectResult, writing value of type 'Hospital.Application.DTO.Schedule.ScheduleDto'.
2025-11-25 04:40:34.914 +02:00 [INF] Executed action Hospital.Controllers.ScheduleController.Create (Hospital) in 192.3628ms
2025-11-25 04:40:34.915 +02:00 [INF] Executed endpoint 'Hospital.Controllers.ScheduleController.Create (Hospital)'
2025-11-25 04:40:34.916 +02:00 [DBG] Connection id "0HNHBPEU4SU9E" completed keep alive response.
2025-11-25 04:40:34.917 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 04:40:34.918 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:40:34.919 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 04:40:34.920 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/Schedule - 200 null application/json; charset=utf-8 212.0728ms
2025-11-25 04:41:31.577 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/Branch/Create - application/json 146
2025-11-25 04:41:31.579 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/Create'
2025-11-25 04:41:31.580 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.Create (Hospital)' with route pattern 'api/Branch/Create' is valid for the request path '/api/Branch/Create'
2025-11-25 04:41:31.581 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.Create (Hospital)'
2025-11-25 04:41:31.581 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 04:41:31.582 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 04:41:31.583 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.Create (Hospital)'
2025-11-25 04:41:31.583 +02:00 [INF] Route matched with {action = "Create", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Hospital.Application.DTO.Branch.CreateBranchDto) on controller Hospital.Controllers.BranchController (Hospital).
2025-11-25 04:41:31.585 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 04:41:31.586 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 04:41:31.587 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 04:41:31.588 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 04:41:31.589 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 04:41:31.590 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 04:41:31.592 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 04:41:31.598 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto' ...
2025-11-25 04:41:31.599 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto' using the name '' in request data ...
2025-11-25 04:41:31.600 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 04:41:31.601 +02:00 [DBG] Connection id "0HNHBPEU4SU9E", Request id "0HNHBPEU4SU9E:00000008": started reading request body.
2025-11-25 04:41:31.603 +02:00 [DBG] Connection id "0HNHBPEU4SU9E", Request id "0HNHBPEU4SU9E:00000008": done reading request body.
2025-11-25 04:41:31.605 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.Branch.CreateBranchDto'
2025-11-25 04:41:31.606 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto'.
2025-11-25 04:41:31.607 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto'.
2025-11-25 04:41:31.608 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto' ...
2025-11-25 04:41:31.610 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto'.
2025-11-25 04:41:31.611 +02:00 [INF] Create Branch called at "2025-11-25T04:41:31.6110008+02:00"
2025-11-25 04:41:31.611 +02:00 [INF] Creating new branch with name: adam77
2025-11-25 04:41:31.613 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 04:41:31.615 +02:00 [DBG] Creating DbConnection.
2025-11-25 04:41:31.615 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 04:41:31.616 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:41:31.618 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:41:31.619 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:41:31.620 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:41:31.621 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 04:41:31.622 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 04:41:31.627 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 04:41:31.628 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:41:31.630 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 04:41:31.631 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:41:31.632 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 04:41:31.635 +02:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Branch.BranchId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:41:31.637 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:41:31.638 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 04:41:31.639 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 04:41:31.640 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 04:41:31.641 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 04:41:31.642 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 04:41:31.644 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:41:31.645 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:41:31.646 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:41:31.647 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:41:31.649 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 04:41:31.650 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 150), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 200), @p5='?' (Size = 300), @p6='?' (Size = 25), @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Branches] ([Address], [BranchName], [CreatedAt], [Description], [Email], [ImageURL], [Phone], [UpdatedAt])
OUTPUT INSERTED.[BranchId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-11-25 04:41:31.653 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 150), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 200), @p5='?' (Size = 300), @p6='?' (Size = 25), @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Branches] ([Address], [BranchName], [CreatedAt], [Description], [Email], [ImageURL], [Phone], [UpdatedAt])
OUTPUT INSERTED.[BranchId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-11-25 04:41:31.655 +02:00 [DBG] The foreign key property 'Branch.BranchId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-25 04:41:31.656 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:41:31.658 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-11-25 04:41:31.659 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:41:31.660 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 04:41:31.661 +02:00 [DBG] An entity of type 'Branch' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:41:31.663 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-25 04:41:31.664 +02:00 [INF] Branch created successfully with ID: 2
2025-11-25 04:41:31.665 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 04:41:31.667 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 04:41:31.667 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 04:41:31.668 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 04:41:31.669 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 04:41:31.670 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Hospital.Application.DTO.Branch.BranchDto'.
2025-11-25 04:41:31.671 +02:00 [DBG] Found the endpoints ["Hospital.Controllers.BranchController.GetById (Hospital)"] for address (id=[2],action=[GetById],controller=[Branch])
2025-11-25 04:41:31.673 +02:00 [DBG] Successfully processed template api/Branch/GetBy/{id} for Hospital.Controllers.BranchController.GetById (Hospital) resulting in /api/Branch/GetBy/2 and 
2025-11-25 04:41:31.674 +02:00 [DBG] Link generation succeeded for endpoints ["Hospital.Controllers.BranchController.GetById (Hospital)"] with result /api/Branch/GetBy/2
2025-11-25 04:41:31.676 +02:00 [INF] Executed action Hospital.Controllers.BranchController.Create (Hospital) in 85.3764ms
2025-11-25 04:41:31.677 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.Create (Hospital)'
2025-11-25 04:41:31.678 +02:00 [DBG] Connection id "0HNHBPEU4SU9E" completed keep alive response.
2025-11-25 04:41:31.679 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 04:41:31.680 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:41:31.681 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 04:41:31.682 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/Branch/Create - 201 null application/json; charset=utf-8 106.4217ms
2025-11-25 04:41:38.881 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7217/api/Schedule - application/json 93
2025-11-25 04:41:38.883 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Schedule'
2025-11-25 04:41:38.885 +02:00 [DBG] Endpoint 'Hospital.Controllers.ScheduleController.Update (Hospital)' with route pattern 'api/Schedule' is valid for the request path '/api/Schedule'
2025-11-25 04:41:38.886 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.ScheduleController.Update (Hospital)'
2025-11-25 04:41:38.887 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 04:41:38.888 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 04:41:38.889 +02:00 [INF] Executing endpoint 'Hospital.Controllers.ScheduleController.Update (Hospital)'
2025-11-25 04:41:38.893 +02:00 [INF] Route matched with {action = "Update", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Hospital.Application.DTO.Schedule.ScheduleDto]] Update(Hospital.Application.DTO.Schedule.UpdateScheduleDto) on controller Hospital.Controllers.ScheduleController (Hospital).
2025-11-25 04:41:38.895 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 04:41:38.896 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 04:41:38.898 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 04:41:38.900 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 04:41:38.901 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 04:41:38.903 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 04:41:38.907 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 04:41:38.909 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Schedule.UpdateScheduleDto' ...
2025-11-25 04:41:38.910 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Schedule.UpdateScheduleDto' using the name '' in request data ...
2025-11-25 04:41:38.911 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 04:41:38.917 +02:00 [DBG] Connection id "0HNHBPEU4SU9E", Request id "0HNHBPEU4SU9E:00000009": started reading request body.
2025-11-25 04:41:38.918 +02:00 [DBG] Connection id "0HNHBPEU4SU9E", Request id "0HNHBPEU4SU9E:00000009": done reading request body.
2025-11-25 04:41:38.922 +02:00 [DBG] JSON input formatter threw an exception: '"' is invalid after a value. Expected either ',', '}', or ']'. Path: $ | LineNumber: 4 | BytePositionInLine: 2.
2025-11-25 04:41:38.923 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Schedule.UpdateScheduleDto'.
2025-11-25 04:41:38.924 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Schedule.UpdateScheduleDto'.
2025-11-25 04:41:38.925 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Schedule.UpdateScheduleDto' ...
2025-11-25 04:41:38.927 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Schedule.UpdateScheduleDto'.
2025-11-25 04:41:38.928 +02:00 [DBG] The request has model state errors, returning an error response.
2025-11-25 04:41:38.929 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-11-25 04:41:38.930 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 04:41:38.931 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 04:41:38.932 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-11-25 04:41:38.934 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-11-25 04:41:38.935 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-11-25 04:41:38.936 +02:00 [INF] Executed action Hospital.Controllers.ScheduleController.Update (Hospital) in 33.726ms
2025-11-25 04:41:38.938 +02:00 [INF] Executed endpoint 'Hospital.Controllers.ScheduleController.Update (Hospital)'
2025-11-25 04:41:38.939 +02:00 [DBG] Connection id "0HNHBPEU4SU9E" completed keep alive response.
2025-11-25 04:41:38.939 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7217/api/Schedule - 400 null application/problem+json; charset=utf-8 59.0079ms
2025-11-25 04:41:43.920 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7217/api/Schedule - application/json 94
2025-11-25 04:41:43.922 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Schedule'
2025-11-25 04:41:43.922 +02:00 [DBG] Endpoint 'Hospital.Controllers.ScheduleController.Update (Hospital)' with route pattern 'api/Schedule' is valid for the request path '/api/Schedule'
2025-11-25 04:41:43.923 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.ScheduleController.Update (Hospital)'
2025-11-25 04:41:43.924 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 04:41:43.925 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 04:41:43.925 +02:00 [INF] Executing endpoint 'Hospital.Controllers.ScheduleController.Update (Hospital)'
2025-11-25 04:41:43.926 +02:00 [INF] Route matched with {action = "Update", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Hospital.Application.DTO.Schedule.ScheduleDto]] Update(Hospital.Application.DTO.Schedule.UpdateScheduleDto) on controller Hospital.Controllers.ScheduleController (Hospital).
2025-11-25 04:41:43.927 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 04:41:43.928 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 04:41:43.929 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 04:41:43.930 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 04:41:43.931 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 04:41:43.932 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 04:41:43.933 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 04:41:43.934 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Schedule.UpdateScheduleDto' ...
2025-11-25 04:41:43.935 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Schedule.UpdateScheduleDto' using the name '' in request data ...
2025-11-25 04:41:43.937 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 04:41:43.938 +02:00 [DBG] Connection id "0HNHBPEU4SU9E", Request id "0HNHBPEU4SU9E:0000000A": started reading request body.
2025-11-25 04:41:43.938 +02:00 [DBG] Connection id "0HNHBPEU4SU9E", Request id "0HNHBPEU4SU9E:0000000A": done reading request body.
2025-11-25 04:41:43.940 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.Schedule.UpdateScheduleDto'
2025-11-25 04:41:43.940 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Schedule.UpdateScheduleDto'.
2025-11-25 04:41:43.941 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Schedule.UpdateScheduleDto'.
2025-11-25 04:41:43.942 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Schedule.UpdateScheduleDto' ...
2025-11-25 04:41:43.944 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Schedule.UpdateScheduleDto'.
2025-11-25 04:41:43.946 +02:00 [INF] update schedule  called at "2025-11-25T04:41:43.9460242+02:00"
2025-11-25 04:41:43.948 +02:00 [INF] Updating schedule with ScheduleId: 1
2025-11-25 04:41:43.950 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 04:41:43.952 +02:00 [DBG] Compiling query expression: 
'DbSet<Schedule>()
    .Include(s => s.Doctor)
    .ThenInclude(d => d.User)
    .FirstOrDefault(s => s.ScheduleId == __scheduleId_0)'
2025-11-25 04:41:43.953 +02:00 [DBG] Including navigation: 'Schedule.Doctor'.
2025-11-25 04:41:43.954 +02:00 [DBG] Including navigation: 'Doctor.User'.
2025-11-25 04:41:43.960 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Schedule>(
    asyncEnumerable: new SingleQueryingEnumerable<Schedule>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Schedule.ScheduleId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Schedule.BranchId (int) Required FK Index, 1], [Property: Schedule.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Schedule.DayOfWeek (string) Required MaxLength(20), 3], [Property: Schedule.DoctorId (int) Required FK Index, 4], [Property: Schedule.EndTime (DateTime) Required, 5], [Property: Schedule.Shift (AppointmentShift) Required, 6], [Property: Schedule.StartTime (DateTime) Required, 7], [Property: Schedule.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 8] }
                1 -> Dictionary<IProperty, int> { [Property: Doctor.DoctorId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Doctor.Available (bool?), 10], [Property: Doctor.Biography (string), 11], [Property: Doctor.ConsultationFees (decimal) Required, 12], [Property: Doctor.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 13], [Property: Doctor.ExperienceYears (int?), 14], [Property: Doctor.ImageURL (string) MaxLength(300), 15], [Property: Doctor.SpecializationId (int) Required FK Index, 16], [Property: Doctor.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 17], [Property: Doctor.UserId (string) Required FK Index, 18] }
                2 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 19], [Property: User.AccessFailedCount (int) Required, 20], [Property: User.ConcurrencyStamp (string) Concurrency, 21], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 22], [Property: User.DateOfBirth (DateOnly?), 23], [Property: User.Email (string) Index MaxLength(256), 24], [Property: User.EmailConfirmed (bool) Required, 25], [Property: User.FullName (string) Required MaxLength(150), 26], [Property: User.Gender (GenderType?) MaxLength(10), 27], [Property: User.LockoutEnabled (bool) Required, 28], [Property: User.LockoutEnd (DateTimeOffset?), 29], [Property: User.NormalizedEmail (string) Index MaxLength(256), 30], [Property: User.NormalizedUserName (string) Index MaxLength(256), 31], [Property: User.PasswordHash (string), 32], [Property: User.PhoneNumber (string), 33], [Property: User.PhoneNumberConfirmed (bool) Required, 34], [Property: User.RefreshToken (string), 35], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 36], [Property: User.Role (string) Required MaxLength(50), 37], [Property: User.SecurityStamp (string), 38], [Property: User.TwoFactorEnabled (bool) Required, 39], [Property: User.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 40], [Property: User.UserName (string) MaxLength(256), 41] }
            SELECT TOP(1) s.ScheduleId, s.BranchId, s.CreatedAt, s.DayOfWeek, s.DoctorId, s.EndTime, s.Shift, s.StartTime, s.UpdatedAt, d.DoctorId, d.Available, d.Biography, d.ConsultationFees, d.CreatedAt, d.ExperienceYears, d.ImageURL, d.SpecializationId, d.UpdatedAt, d.UserId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DateOfBirth, u.Email, u.EmailConfirmed, u.FullName, u.Gender, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.RefreshToken, u.RefreshTokenExpiryTime, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UpdatedAt, u.UserName
            FROM Schedules AS s
            INNER JOIN Doctors AS d ON s.DoctorId == d.DoctorId
            INNER JOIN Users AS u ON d.UserId == u.Id
            WHERE s.ScheduleId == @__scheduleId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Schedule>, 
        Clinic.Infrastructure.Persistence.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-11-25 04:41:43.962 +02:00 [DBG] Creating DbConnection.
2025-11-25 04:41:43.962 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 04:41:43.963 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:41:43.964 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:41:43.965 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:41:43.966 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:41:43.967 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:41:43.967 +02:00 [DBG] Executing DbCommand [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ScheduleId], [s].[BranchId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [s].[ScheduleId] = @__scheduleId_0
2025-11-25 04:41:43.977 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ScheduleId], [s].[BranchId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [s].[ScheduleId] = @__scheduleId_0
2025-11-25 04:41:43.979 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:41:43.981 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:41:43.982 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:41:43.983 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:41:43.984 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:41:43.986 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:41:43.987 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-11-25 04:41:43.988 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:41:43.989 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 04:41:43.992 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:41:43.993 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:41:43.994 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:41:43.995 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:41:43.996 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:41:43.997 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[BranchId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE LOWER([s].[DayOfWeek]) = @__ToLower_0
2025-11-25 04:41:44.005 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__ToLower_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[BranchId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE LOWER([s].[DayOfWeek]) = @__ToLower_0
2025-11-25 04:41:44.007 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:41:44.009 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 04:41:44.010 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:41:44.012 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 04:41:44.014 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:41:44.015 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:41:44.016 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:41:44.017 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:41:44.018 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:41:44.019 +02:00 [DBG] Executing DbCommand [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ScheduleId], [s].[BranchId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [s].[ScheduleId] = @__scheduleId_0
2025-11-25 04:41:44.021 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ScheduleId], [s].[BranchId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [s].[ScheduleId] = @__scheduleId_0
2025-11-25 04:41:44.023 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:41:44.024 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 04:41:44.025 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:41:44.026 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 04:41:44.028 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:41:44.029 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:41:44.030 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:41:44.031 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:41:44.032 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:41:44.033 +02:00 [DBG] Executing DbCommand [Parameters=[@__doctorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DoctorId], [t].[Available], [t].[Biography], [t].[ConsultationFees], [t].[CreatedAt], [t].[ExperienceYears], [t].[ImageURL], [t].[SpecializationId], [t].[UpdatedAt], [t].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[CreatedAt0], [t].[DateOfBirth], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[Gender], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[Role], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UpdatedAt0], [t].[UserName], [t].[SpecializationId0], [t].[CreatedAt1], [t].[Description], [t].[Name], [t].[UpdatedAt1], [t0].[BranchesBranchId], [t0].[DoctorsDoctorId], [t0].[BranchId], [t0].[Address], [t0].[BranchName], [t0].[CreatedAt], [t0].[Description], [t0].[Email], [t0].[ImageURL], [t0].[Phone], [t0].[UpdatedAt], [s0].[ScheduleId], [s0].[BranchId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM (
    SELECT TOP(1) [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName], [s].[SpecializationId] AS [SpecializationId0], [s].[CreatedAt] AS [CreatedAt1], [s].[Description], [s].[Name], [s].[UpdatedAt] AS [UpdatedAt1]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
    WHERE [d].[DoctorId] = @__doctorId_0
) AS [t]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t0] ON [t].[DoctorId] = [t0].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [t].[DoctorId] = [s0].[DoctorId]
ORDER BY [t].[DoctorId], [t].[Id], [t].[SpecializationId0], [t0].[BranchesBranchId], [t0].[DoctorsDoctorId], [t0].[BranchId]
2025-11-25 04:41:44.043 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__doctorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DoctorId], [t].[Available], [t].[Biography], [t].[ConsultationFees], [t].[CreatedAt], [t].[ExperienceYears], [t].[ImageURL], [t].[SpecializationId], [t].[UpdatedAt], [t].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[CreatedAt0], [t].[DateOfBirth], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[Gender], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[Role], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UpdatedAt0], [t].[UserName], [t].[SpecializationId0], [t].[CreatedAt1], [t].[Description], [t].[Name], [t].[UpdatedAt1], [t0].[BranchesBranchId], [t0].[DoctorsDoctorId], [t0].[BranchId], [t0].[Address], [t0].[BranchName], [t0].[CreatedAt], [t0].[Description], [t0].[Email], [t0].[ImageURL], [t0].[Phone], [t0].[UpdatedAt], [s0].[ScheduleId], [s0].[BranchId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM (
    SELECT TOP(1) [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName], [s].[SpecializationId] AS [SpecializationId0], [s].[CreatedAt] AS [CreatedAt1], [s].[Description], [s].[Name], [s].[UpdatedAt] AS [UpdatedAt1]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
    WHERE [d].[DoctorId] = @__doctorId_0
) AS [t]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t0] ON [t].[DoctorId] = [t0].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [t].[DoctorId] = [s0].[DoctorId]
ORDER BY [t].[DoctorId], [t].[Id], [t].[SpecializationId0], [t0].[BranchesBranchId], [t0].[DoctorsDoctorId], [t0].[BranchId]
2025-11-25 04:41:44.046 +02:00 [DBG] The navigation 'Doctor.Specialization' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:41:44.047 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:41:44.048 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchDoctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:41:44.050 +02:00 [DBG] The navigation 'Schedule.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:41:44.052 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:41:44.053 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:41:44.054 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 8ms reading results.
2025-11-25 04:41:44.055 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:41:44.056 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 04:41:44.058 +02:00 [WRN] Doctor with ID 1 is not associated with BranchId 2
2025-11-25 04:41:44.216 +02:00 [INF] Executed action Hospital.Controllers.ScheduleController.Update (Hospital) in 284.0486ms
2025-11-25 04:41:44.219 +02:00 [INF] Executed endpoint 'Hospital.Controllers.ScheduleController.Update (Hospital)'
2025-11-25 04:41:44.282 +02:00 [ERR]  Exception caught: Doctor is not associated with the specified branch.
System.InvalidOperationException: Doctor is not associated with the specified branch.
   at Hospital.Infrastructure.Services.ScheduleService.UpdateAsync(UpdateScheduleDto dto) in D:\Hospital\Hospital\Hospital.Infrastructure\Services\ScheduleService.cs:line 117
   at Hospital.Controllers.ScheduleController.Update(UpdateScheduleDto dto) in D:\Hospital\Hospital\Hospital\Controllers\ScheduleController.cs:line 37
   at lambda_method1098(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hospital.Middleware.GlobalExceptionHandler.InvokeAsync(HttpContext context) in D:\Hospital\Hospital\Hospital\Middleware\GlobalExceptionHandler.cs:line 22
2025-11-25 04:41:44.327 +02:00 [DBG] Connection id "0HNHBPEU4SU9E" completed keep alive response.
2025-11-25 04:41:44.328 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 04:41:44.329 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:41:44.330 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 04:41:44.331 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7217/api/Schedule - 500 null application/json 411.5815ms
2025-11-25 04:42:18.906 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7217/api/Schedule - null null
2025-11-25 04:42:18.908 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Schedule'
2025-11-25 04:42:18.909 +02:00 [DBG] Endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)' with route pattern 'api/Schedule' is valid for the request path '/api/Schedule'
2025-11-25 04:42:18.910 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)'
2025-11-25 04:42:18.911 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 04:42:18.912 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 04:42:18.912 +02:00 [INF] Executing endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)'
2025-11-25 04:42:18.917 +02:00 [INF] Route matched with {action = "GetAll", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Schedule.ScheduleDto]]] GetAll() on controller Hospital.Controllers.ScheduleController (Hospital).
2025-11-25 04:42:18.918 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 04:42:18.919 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 04:42:18.920 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 04:42:18.922 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 04:42:18.923 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 04:42:18.924 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 04:42:18.925 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 04:42:18.926 +02:00 [INF] get all schedule called at "2025-11-25T04:42:18.9268221+02:00"
2025-11-25 04:42:18.928 +02:00 [INF] Fetching all schedules
2025-11-25 04:42:18.930 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 04:42:18.931 +02:00 [DBG] Compiling query expression: 
'DbSet<Schedule>()
    .Include(s => s.Doctor)
    .ThenInclude(d => d.User)'
2025-11-25 04:42:18.933 +02:00 [DBG] Including navigation: 'Schedule.Doctor'.
2025-11-25 04:42:18.934 +02:00 [DBG] Including navigation: 'Doctor.User'.
2025-11-25 04:42:18.941 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Schedule>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Schedule.ScheduleId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Schedule.BranchId (int) Required FK Index, 1], [Property: Schedule.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Schedule.DayOfWeek (string) Required MaxLength(20), 3], [Property: Schedule.DoctorId (int) Required FK Index, 4], [Property: Schedule.EndTime (DateTime) Required, 5], [Property: Schedule.Shift (AppointmentShift) Required, 6], [Property: Schedule.StartTime (DateTime) Required, 7], [Property: Schedule.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 8] }
            1 -> Dictionary<IProperty, int> { [Property: Doctor.DoctorId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Doctor.Available (bool?), 10], [Property: Doctor.Biography (string), 11], [Property: Doctor.ConsultationFees (decimal) Required, 12], [Property: Doctor.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 13], [Property: Doctor.ExperienceYears (int?), 14], [Property: Doctor.ImageURL (string) MaxLength(300), 15], [Property: Doctor.SpecializationId (int) Required FK Index, 16], [Property: Doctor.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 17], [Property: Doctor.UserId (string) Required FK Index, 18] }
            2 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 19], [Property: User.AccessFailedCount (int) Required, 20], [Property: User.ConcurrencyStamp (string) Concurrency, 21], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 22], [Property: User.DateOfBirth (DateOnly?), 23], [Property: User.Email (string) Index MaxLength(256), 24], [Property: User.EmailConfirmed (bool) Required, 25], [Property: User.FullName (string) Required MaxLength(150), 26], [Property: User.Gender (GenderType?) MaxLength(10), 27], [Property: User.LockoutEnabled (bool) Required, 28], [Property: User.LockoutEnd (DateTimeOffset?), 29], [Property: User.NormalizedEmail (string) Index MaxLength(256), 30], [Property: User.NormalizedUserName (string) Index MaxLength(256), 31], [Property: User.PasswordHash (string), 32], [Property: User.PhoneNumber (string), 33], [Property: User.PhoneNumberConfirmed (bool) Required, 34], [Property: User.RefreshToken (string), 35], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 36], [Property: User.Role (string) Required MaxLength(50), 37], [Property: User.SecurityStamp (string), 38], [Property: User.TwoFactorEnabled (bool) Required, 39], [Property: User.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 40], [Property: User.UserName (string) MaxLength(256), 41] }
        SELECT s.ScheduleId, s.BranchId, s.CreatedAt, s.DayOfWeek, s.DoctorId, s.EndTime, s.Shift, s.StartTime, s.UpdatedAt, d.DoctorId, d.Available, d.Biography, d.ConsultationFees, d.CreatedAt, d.ExperienceYears, d.ImageURL, d.SpecializationId, d.UpdatedAt, d.UserId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DateOfBirth, u.Email, u.EmailConfirmed, u.FullName, u.Gender, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.RefreshToken, u.RefreshTokenExpiryTime, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UpdatedAt, u.UserName
        FROM Schedules AS s
        INNER JOIN Doctors AS d ON s.DoctorId == d.DoctorId
        INNER JOIN Users AS u ON d.UserId == u.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Schedule>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-11-25 04:42:18.943 +02:00 [DBG] Creating DbConnection.
2025-11-25 04:42:18.943 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 04:42:18.944 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:42:18.945 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:42:18.946 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:42:18.947 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:42:18.948 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:42:18.949 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[BranchId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
2025-11-25 04:42:18.973 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[BranchId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
2025-11-25 04:42:18.976 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:42:18.977 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:42:18.978 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:42:18.979 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:42:18.980 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:42:18.981 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:42:18.982 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-11-25 04:42:18.983 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:42:18.985 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 04:42:18.991 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 04:42:18.993 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 04:42:18.994 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 04:42:18.994 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 04:42:18.995 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 04:42:18.996 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Schedule.ScheduleDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 04:42:18.998 +02:00 [INF] Executed action Hospital.Controllers.ScheduleController.GetAll (Hospital) in 74.3166ms
2025-11-25 04:42:18.999 +02:00 [INF] Executed endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)'
2025-11-25 04:42:19.000 +02:00 [DBG] Connection id "0HNHBPEU4SU9E" completed keep alive response.
2025-11-25 04:42:19.001 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 04:42:19.002 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:42:19.003 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 04:42:19.005 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7217/api/Schedule - 200 null application/json; charset=utf-8 98.5139ms
2025-11-25 04:42:27.059 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7217/api/Schedule/1 - null null
2025-11-25 04:42:27.062 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Schedule/1'
2025-11-25 04:42:27.063 +02:00 [DBG] Endpoint 'Hospital.Controllers.ScheduleController.GetById (Hospital)' with route pattern 'api/Schedule/{id}' is valid for the request path '/api/Schedule/1'
2025-11-25 04:42:27.065 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.ScheduleController.GetById (Hospital)'
2025-11-25 04:42:27.066 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 04:42:27.066 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 04:42:27.067 +02:00 [INF] Executing endpoint 'Hospital.Controllers.ScheduleController.GetById (Hospital)'
2025-11-25 04:42:27.073 +02:00 [INF] Route matched with {action = "GetById", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Hospital.Application.DTO.Schedule.ScheduleDto]] GetById(Int32) on controller Hospital.Controllers.ScheduleController (Hospital).
2025-11-25 04:42:27.075 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 04:42:27.076 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 04:42:27.078 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 04:42:27.080 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 04:42:27.081 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 04:42:27.083 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 04:42:27.084 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 04:42:27.085 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-11-25 04:42:27.087 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-11-25 04:42:27.089 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-11-25 04:42:27.091 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-11-25 04:42:27.092 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-11-25 04:42:27.093 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-11-25 04:42:27.095 +02:00 [INF] get schedule by id called at "2025-11-25T04:42:27.0953678+02:00"
2025-11-25 04:42:27.097 +02:00 [INF] Fetching schedule with ScheduleId: 1
2025-11-25 04:42:27.098 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 04:42:27.100 +02:00 [DBG] Creating DbConnection.
2025-11-25 04:42:27.101 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 04:42:27.101 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:42:27.103 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:42:27.104 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:42:27.104 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:42:27.106 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 04:42:27.107 +02:00 [DBG] Executing DbCommand [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ScheduleId], [s].[BranchId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [s].[ScheduleId] = @__scheduleId_0
2025-11-25 04:42:27.120 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ScheduleId], [s].[BranchId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [s].[ScheduleId] = @__scheduleId_0
2025-11-25 04:42:27.122 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:42:27.123 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:42:27.125 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:42:27.126 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:42:27.127 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:42:27.128 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:42:27.129 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-11-25 04:42:27.130 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:42:27.131 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 04:42:27.133 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 04:42:27.135 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 04:42:27.135 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 04:42:27.136 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 04:42:27.137 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 04:42:27.138 +02:00 [INF] Executing OkObjectResult, writing value of type 'Hospital.Application.DTO.Schedule.ScheduleDto'.
2025-11-25 04:42:27.140 +02:00 [INF] Executed action Hospital.Controllers.ScheduleController.GetById (Hospital) in 56.9714ms
2025-11-25 04:42:27.141 +02:00 [INF] Executed endpoint 'Hospital.Controllers.ScheduleController.GetById (Hospital)'
2025-11-25 04:42:27.142 +02:00 [DBG] Connection id "0HNHBPEU4SU9E" completed keep alive response.
2025-11-25 04:42:27.143 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 04:42:27.144 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:42:27.145 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 04:42:27.146 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7217/api/Schedule/1 - 200 null application/json; charset=utf-8 86.8512ms
2025-11-25 04:42:33.279 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7217/api/Schedule/doctor/1 - null null
2025-11-25 04:42:33.283 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Schedule/doctor/1'
2025-11-25 04:42:33.284 +02:00 [DBG] Endpoint 'Hospital.Controllers.ScheduleController.GetByDoctorId (Hospital)' with route pattern 'api/Schedule/doctor/{doctorId}' is valid for the request path '/api/Schedule/doctor/1'
2025-11-25 04:42:33.285 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.ScheduleController.GetByDoctorId (Hospital)'
2025-11-25 04:42:33.286 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 04:42:33.287 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 04:42:33.288 +02:00 [INF] Executing endpoint 'Hospital.Controllers.ScheduleController.GetByDoctorId (Hospital)'
2025-11-25 04:42:33.292 +02:00 [INF] Route matched with {action = "GetByDoctorId", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Schedule.ScheduleDto]]] GetByDoctorId(Int32) on controller Hospital.Controllers.ScheduleController (Hospital).
2025-11-25 04:42:33.294 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 04:42:33.295 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 04:42:33.297 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 04:42:33.299 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 04:42:33.300 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 04:42:33.301 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 04:42:33.303 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 04:42:33.304 +02:00 [DBG] Attempting to bind parameter 'doctorId' of type 'System.Int32' ...
2025-11-25 04:42:33.305 +02:00 [DBG] Attempting to bind parameter 'doctorId' of type 'System.Int32' using the name 'doctorId' in request data ...
2025-11-25 04:42:33.307 +02:00 [DBG] Done attempting to bind parameter 'doctorId' of type 'System.Int32'.
2025-11-25 04:42:33.308 +02:00 [DBG] Done attempting to bind parameter 'doctorId' of type 'System.Int32'.
2025-11-25 04:42:33.310 +02:00 [DBG] Attempting to validate the bound parameter 'doctorId' of type 'System.Int32' ...
2025-11-25 04:42:33.311 +02:00 [DBG] Done attempting to validate the bound parameter 'doctorId' of type 'System.Int32'.
2025-11-25 04:42:33.313 +02:00 [INF] get schedule by doctor id called at "2025-11-25T04:42:33.3135371+02:00"
2025-11-25 04:42:33.315 +02:00 [INF] Fetching schedules for DoctorId: 1
2025-11-25 04:42:33.318 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 04:42:33.320 +02:00 [DBG] Compiling query expression: 
'DbSet<Schedule>()
    .Where(s => s.DoctorId == __doctorId_0)
    .Include(s => s.Doctor)
    .ThenInclude(d => d.User)'
2025-11-25 04:42:33.321 +02:00 [DBG] Including navigation: 'Schedule.Doctor'.
2025-11-25 04:42:33.322 +02:00 [DBG] Including navigation: 'Doctor.User'.
2025-11-25 04:42:33.330 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Schedule>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Schedule.ScheduleId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Schedule.BranchId (int) Required FK Index, 1], [Property: Schedule.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Schedule.DayOfWeek (string) Required MaxLength(20), 3], [Property: Schedule.DoctorId (int) Required FK Index, 4], [Property: Schedule.EndTime (DateTime) Required, 5], [Property: Schedule.Shift (AppointmentShift) Required, 6], [Property: Schedule.StartTime (DateTime) Required, 7], [Property: Schedule.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 8] }
            1 -> Dictionary<IProperty, int> { [Property: Doctor.DoctorId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Doctor.Available (bool?), 10], [Property: Doctor.Biography (string), 11], [Property: Doctor.ConsultationFees (decimal) Required, 12], [Property: Doctor.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 13], [Property: Doctor.ExperienceYears (int?), 14], [Property: Doctor.ImageURL (string) MaxLength(300), 15], [Property: Doctor.SpecializationId (int) Required FK Index, 16], [Property: Doctor.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 17], [Property: Doctor.UserId (string) Required FK Index, 18] }
            2 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 19], [Property: User.AccessFailedCount (int) Required, 20], [Property: User.ConcurrencyStamp (string) Concurrency, 21], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 22], [Property: User.DateOfBirth (DateOnly?), 23], [Property: User.Email (string) Index MaxLength(256), 24], [Property: User.EmailConfirmed (bool) Required, 25], [Property: User.FullName (string) Required MaxLength(150), 26], [Property: User.Gender (GenderType?) MaxLength(10), 27], [Property: User.LockoutEnabled (bool) Required, 28], [Property: User.LockoutEnd (DateTimeOffset?), 29], [Property: User.NormalizedEmail (string) Index MaxLength(256), 30], [Property: User.NormalizedUserName (string) Index MaxLength(256), 31], [Property: User.PasswordHash (string), 32], [Property: User.PhoneNumber (string), 33], [Property: User.PhoneNumberConfirmed (bool) Required, 34], [Property: User.RefreshToken (string), 35], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 36], [Property: User.Role (string) Required MaxLength(50), 37], [Property: User.SecurityStamp (string), 38], [Property: User.TwoFactorEnabled (bool) Required, 39], [Property: User.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 40], [Property: User.UserName (string) MaxLength(256), 41] }
        SELECT s.ScheduleId, s.BranchId, s.CreatedAt, s.DayOfWeek, s.DoctorId, s.EndTime, s.Shift, s.StartTime, s.UpdatedAt, d.DoctorId, d.Available, d.Biography, d.ConsultationFees, d.CreatedAt, d.ExperienceYears, d.ImageURL, d.SpecializationId, d.UpdatedAt, d.UserId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DateOfBirth, u.Email, u.EmailConfirmed, u.FullName, u.Gender, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.RefreshToken, u.RefreshTokenExpiryTime, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UpdatedAt, u.UserName
        FROM Schedules AS s
        INNER JOIN Doctors AS d ON s.DoctorId == d.DoctorId
        INNER JOIN Users AS u ON d.UserId == u.Id
        WHERE s.DoctorId == @__doctorId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Schedule>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-11-25 04:42:33.331 +02:00 [DBG] Creating DbConnection.
2025-11-25 04:42:33.332 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 04:42:33.333 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:42:33.334 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:42:33.335 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:42:33.336 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:42:33.338 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 04:42:33.339 +02:00 [DBG] Executing DbCommand [Parameters=[@__doctorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[BranchId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [s].[DoctorId] = @__doctorId_0
2025-11-25 04:42:33.350 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__doctorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[BranchId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [s].[DoctorId] = @__doctorId_0
2025-11-25 04:42:33.352 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:42:33.353 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:42:33.355 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:42:33.356 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:42:33.357 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:42:33.358 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:42:33.359 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-11-25 04:42:33.360 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:42:33.361 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:42:33.363 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 04:42:33.365 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 04:42:33.365 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 04:42:33.366 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 04:42:33.366 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 04:42:33.367 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Schedule.ScheduleDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 04:42:33.369 +02:00 [INF] Executed action Hospital.Controllers.ScheduleController.GetByDoctorId (Hospital) in 67.4657ms
2025-11-25 04:42:33.370 +02:00 [INF] Executed endpoint 'Hospital.Controllers.ScheduleController.GetByDoctorId (Hospital)'
2025-11-25 04:42:33.371 +02:00 [DBG] Connection id "0HNHBPEU4SU9E" completed keep alive response.
2025-11-25 04:42:33.372 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 04:42:33.373 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:42:33.374 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 04:42:33.375 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7217/api/Schedule/doctor/1 - 200 null application/json; charset=utf-8 95.8656ms
2025-11-25 04:44:10.202 +02:00 [DBG] Connection id "0HNHBPEU4SU9F" received FIN.
2025-11-25 04:44:10.210 +02:00 [DBG] Connection id "0HNHBPEU4SU9F" accepted.
2025-11-25 04:44:10.211 +02:00 [DBG] Connection id "0HNHBPEU4SU9F" started.
2025-11-25 04:44:10.216 +02:00 [DBG] Connection id "0HNHBPEU4SU9G" accepted.
2025-11-25 04:44:10.220 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-25 04:44:10.220 +02:00 [DBG] Connection id "0HNHBPEU4SU9G" started.
2025-11-25 04:44:10.223 +02:00 [DBG] Connection id "0HNHBPEU4SU9F" stopped.
2025-11-25 04:44:10.225 +02:00 [DBG] Connection id "0HNHBPEU4SU9F" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 04:44:10.228 +02:00 [DBG] Connection 0HNHBPEU4SU9G established using the following protocol: "Tls13"
2025-11-25 04:44:10.230 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7217/api/Schedule/date/2025-11-24 - null null
2025-11-25 04:44:10.232 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Schedule/date/2025-11-24'
2025-11-25 04:44:10.233 +02:00 [DBG] Endpoint 'Hospital.Controllers.ScheduleController.GetDoctorsByDate (Hospital)' with route pattern 'api/Schedule/date/{date}' is valid for the request path '/api/Schedule/date/2025-11-24'
2025-11-25 04:44:10.235 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.ScheduleController.GetDoctorsByDate (Hospital)'
2025-11-25 04:44:10.236 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 04:44:10.237 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 04:44:10.238 +02:00 [INF] Executing endpoint 'Hospital.Controllers.ScheduleController.GetDoctorsByDate (Hospital)'
2025-11-25 04:44:10.242 +02:00 [INF] Route matched with {action = "GetDoctorsByDate", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Schedule.ScheduleDto]]] GetDoctorsByDate(System.DateOnly) on controller Hospital.Controllers.ScheduleController (Hospital).
2025-11-25 04:44:10.244 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 04:44:10.245 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 04:44:10.246 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 04:44:10.248 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 04:44:10.249 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 04:44:10.250 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 04:44:10.252 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 04:44:10.253 +02:00 [DBG] Attempting to bind parameter 'date' of type 'System.DateOnly' ...
2025-11-25 04:44:10.254 +02:00 [DBG] Attempting to bind parameter 'date' of type 'System.DateOnly' using the name 'date' in request data ...
2025-11-25 04:44:10.260 +02:00 [DBG] Done attempting to bind parameter 'date' of type 'System.DateOnly'.
2025-11-25 04:44:10.261 +02:00 [DBG] Done attempting to bind parameter 'date' of type 'System.DateOnly'.
2025-11-25 04:44:10.262 +02:00 [DBG] Attempting to validate the bound parameter 'date' of type 'System.DateOnly' ...
2025-11-25 04:44:10.263 +02:00 [DBG] Done attempting to validate the bound parameter 'date' of type 'System.DateOnly'.
2025-11-25 04:44:10.265 +02:00 [INF] get schedule to doctor by date called at "2025-11-25T04:44:10.2656853+02:00"
2025-11-25 04:44:10.267 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 04:44:10.269 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 04:44:10.269 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 04:44:10.270 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 04:44:10.270 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-11-25 04:44:10.271 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-11-25 04:44:10.273 +02:00 [INF] Executed action Hospital.Controllers.ScheduleController.GetDoctorsByDate (Hospital) in 22.3056ms
2025-11-25 04:44:10.274 +02:00 [INF] Executed endpoint 'Hospital.Controllers.ScheduleController.GetDoctorsByDate (Hospital)'
2025-11-25 04:44:10.275 +02:00 [DBG] Connection id "0HNHBPEU4SU9G" completed keep alive response.
2025-11-25 04:44:10.276 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7217/api/Schedule/date/2025-11-24 - 400 null text/plain; charset=utf-8 46.3906ms
2025-11-25 04:44:27.777 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/Schedule - application/json 92
2025-11-25 04:44:27.779 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Schedule'
2025-11-25 04:44:27.781 +02:00 [DBG] Endpoint 'Hospital.Controllers.ScheduleController.Create (Hospital)' with route pattern 'api/Schedule' is valid for the request path '/api/Schedule'
2025-11-25 04:44:27.782 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.ScheduleController.Create (Hospital)'
2025-11-25 04:44:27.783 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 04:44:27.784 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 04:44:27.785 +02:00 [INF] Executing endpoint 'Hospital.Controllers.ScheduleController.Create (Hospital)'
2025-11-25 04:44:27.785 +02:00 [INF] Route matched with {action = "Create", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Hospital.Application.DTO.Schedule.ScheduleDto]] Create(Hospital.Application.DTO.Schedule.CreateScheduleDto) on controller Hospital.Controllers.ScheduleController (Hospital).
2025-11-25 04:44:27.787 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 04:44:27.788 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 04:44:27.789 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 04:44:27.790 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 04:44:27.791 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 04:44:27.793 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 04:44:27.794 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 04:44:27.795 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto' ...
2025-11-25 04:44:27.796 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto' using the name '' in request data ...
2025-11-25 04:44:27.798 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 04:44:27.799 +02:00 [DBG] Connection id "0HNHBPEU4SU9G", Request id "0HNHBPEU4SU9G:00000002": started reading request body.
2025-11-25 04:44:27.800 +02:00 [DBG] Connection id "0HNHBPEU4SU9G", Request id "0HNHBPEU4SU9G:00000002": done reading request body.
2025-11-25 04:44:27.802 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.Schedule.CreateScheduleDto'
2025-11-25 04:44:27.802 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto'.
2025-11-25 04:44:27.804 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto'.
2025-11-25 04:44:27.805 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto' ...
2025-11-25 04:44:27.806 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto'.
2025-11-25 04:44:27.807 +02:00 [INF] create schedule  called at "2025-11-25T04:44:27.8074059+02:00"
2025-11-25 04:44:27.808 +02:00 [INF] Creating schedule for DoctorId: 1, Day: sunday, Shift: "Afternoon"
2025-11-25 04:44:27.810 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 04:44:27.812 +02:00 [DBG] Creating DbConnection.
2025-11-25 04:44:27.813 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 04:44:27.814 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:44:27.815 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:44:27.816 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:44:27.817 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:44:27.818 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:44:27.819 +02:00 [DBG] Executing DbCommand [Parameters=[@__doctorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DoctorId], [t].[Available], [t].[Biography], [t].[ConsultationFees], [t].[CreatedAt], [t].[ExperienceYears], [t].[ImageURL], [t].[SpecializationId], [t].[UpdatedAt], [t].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[CreatedAt0], [t].[DateOfBirth], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[Gender], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[Role], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UpdatedAt0], [t].[UserName], [t].[SpecializationId0], [t].[CreatedAt1], [t].[Description], [t].[Name], [t].[UpdatedAt1], [t0].[BranchesBranchId], [t0].[DoctorsDoctorId], [t0].[BranchId], [t0].[Address], [t0].[BranchName], [t0].[CreatedAt], [t0].[Description], [t0].[Email], [t0].[ImageURL], [t0].[Phone], [t0].[UpdatedAt], [s0].[ScheduleId], [s0].[BranchId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM (
    SELECT TOP(1) [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName], [s].[SpecializationId] AS [SpecializationId0], [s].[CreatedAt] AS [CreatedAt1], [s].[Description], [s].[Name], [s].[UpdatedAt] AS [UpdatedAt1]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
    WHERE [d].[DoctorId] = @__doctorId_0
) AS [t]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t0] ON [t].[DoctorId] = [t0].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [t].[DoctorId] = [s0].[DoctorId]
ORDER BY [t].[DoctorId], [t].[Id], [t].[SpecializationId0], [t0].[BranchesBranchId], [t0].[DoctorsDoctorId], [t0].[BranchId]
2025-11-25 04:44:27.833 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__doctorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DoctorId], [t].[Available], [t].[Biography], [t].[ConsultationFees], [t].[CreatedAt], [t].[ExperienceYears], [t].[ImageURL], [t].[SpecializationId], [t].[UpdatedAt], [t].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[CreatedAt0], [t].[DateOfBirth], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[Gender], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[Role], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UpdatedAt0], [t].[UserName], [t].[SpecializationId0], [t].[CreatedAt1], [t].[Description], [t].[Name], [t].[UpdatedAt1], [t0].[BranchesBranchId], [t0].[DoctorsDoctorId], [t0].[BranchId], [t0].[Address], [t0].[BranchName], [t0].[CreatedAt], [t0].[Description], [t0].[Email], [t0].[ImageURL], [t0].[Phone], [t0].[UpdatedAt], [s0].[ScheduleId], [s0].[BranchId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM (
    SELECT TOP(1) [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName], [s].[SpecializationId] AS [SpecializationId0], [s].[CreatedAt] AS [CreatedAt1], [s].[Description], [s].[Name], [s].[UpdatedAt] AS [UpdatedAt1]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
    WHERE [d].[DoctorId] = @__doctorId_0
) AS [t]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t0] ON [t].[DoctorId] = [t0].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [t].[DoctorId] = [s0].[DoctorId]
ORDER BY [t].[DoctorId], [t].[Id], [t].[SpecializationId0], [t0].[BranchesBranchId], [t0].[DoctorsDoctorId], [t0].[BranchId]
2025-11-25 04:44:27.836 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:44:27.837 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:44:27.838 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:44:27.840 +02:00 [DBG] The navigation 'Doctor.Specialization' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:44:27.841 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:44:27.842 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchDoctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:44:27.843 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:44:27.845 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:44:27.846 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:44:27.847 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:44:27.848 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 13ms reading results.
2025-11-25 04:44:27.850 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:44:27.851 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 04:44:27.853 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:44:27.854 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:44:27.855 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:44:27.856 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:44:27.857 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:44:27.858 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[BranchId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE LOWER([s].[DayOfWeek]) = @__ToLower_0
2025-11-25 04:44:27.866 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__ToLower_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[BranchId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE LOWER([s].[DayOfWeek]) = @__ToLower_0
2025-11-25 04:44:27.868 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:44:27.869 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 04:44:27.870 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:44:27.871 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 04:44:27.873 +02:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Schedule.ScheduleId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:44:27.875 +02:00 [DBG] The navigation 'Schedule.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:44:27.876 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:44:27.877 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:44:27.878 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 04:44:27.879 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 04:44:27.880 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 04:44:27.881 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 04:44:27.882 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 04:44:27.884 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:44:27.885 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:44:27.886 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:44:27.887 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:44:27.888 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:44:27.889 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 20), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Schedules] ([BranchId], [CreatedAt], [DayOfWeek], [DoctorId], [EndTime], [Shift], [StartTime], [UpdatedAt])
OUTPUT INSERTED.[ScheduleId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-11-25 04:44:27.894 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 20), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Schedules] ([BranchId], [CreatedAt], [DayOfWeek], [DoctorId], [EndTime], [Shift], [StartTime], [UpdatedAt])
OUTPUT INSERTED.[ScheduleId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-11-25 04:44:27.896 +02:00 [DBG] The foreign key property 'Schedule.ScheduleId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-25 04:44:27.897 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:44:27.898 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-11-25 04:44:27.900 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:44:27.901 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:44:27.902 +02:00 [DBG] An entity of type 'Schedule' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:44:27.903 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-25 04:44:27.905 +02:00 [INF] Schedule created successfully for DoctorId 1
2025-11-25 04:44:27.906 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 04:44:27.907 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 04:44:27.908 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 04:44:27.909 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 04:44:27.909 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 04:44:27.911 +02:00 [INF] Executing OkObjectResult, writing value of type 'Hospital.Application.DTO.Schedule.ScheduleDto'.
2025-11-25 04:44:27.912 +02:00 [INF] Executed action Hospital.Controllers.ScheduleController.Create (Hospital) in 119.1424ms
2025-11-25 04:44:27.913 +02:00 [INF] Executed endpoint 'Hospital.Controllers.ScheduleController.Create (Hospital)'
2025-11-25 04:44:27.914 +02:00 [DBG] Connection id "0HNHBPEU4SU9G" completed keep alive response.
2025-11-25 04:44:27.918 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 04:44:27.919 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:44:27.920 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 04:44:27.921 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/Schedule - 200 null application/json; charset=utf-8 144.2684ms
2025-11-25 04:44:32.583 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7217/api/Schedule - null null
2025-11-25 04:44:32.586 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Schedule'
2025-11-25 04:44:32.587 +02:00 [DBG] Endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)' with route pattern 'api/Schedule' is valid for the request path '/api/Schedule'
2025-11-25 04:44:32.588 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)'
2025-11-25 04:44:32.589 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 04:44:32.590 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 04:44:32.591 +02:00 [INF] Executing endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)'
2025-11-25 04:44:32.592 +02:00 [INF] Route matched with {action = "GetAll", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Schedule.ScheduleDto]]] GetAll() on controller Hospital.Controllers.ScheduleController (Hospital).
2025-11-25 04:44:32.593 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 04:44:32.594 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 04:44:32.595 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 04:44:32.597 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 04:44:32.598 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 04:44:32.600 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 04:44:32.601 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 04:44:32.602 +02:00 [INF] get all schedule called at "2025-11-25T04:44:32.6024014+02:00"
2025-11-25 04:44:32.603 +02:00 [INF] Fetching all schedules
2025-11-25 04:44:32.604 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 04:44:32.606 +02:00 [DBG] Creating DbConnection.
2025-11-25 04:44:32.607 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 04:44:32.607 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:44:32.608 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:44:32.610 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:44:32.610 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:44:32.612 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:44:32.613 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[BranchId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
2025-11-25 04:44:32.620 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[BranchId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
2025-11-25 04:44:32.623 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:44:32.624 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:44:32.625 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:44:32.627 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:44:32.628 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:44:32.629 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:44:32.630 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:44:32.631 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 8ms reading results.
2025-11-25 04:44:32.633 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:44:32.634 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 04:44:32.635 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 04:44:32.637 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 04:44:32.638 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 04:44:32.639 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 04:44:32.639 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 04:44:32.640 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Schedule.ScheduleDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 04:44:32.642 +02:00 [INF] Executed action Hospital.Controllers.ScheduleController.GetAll (Hospital) in 42.0689ms
2025-11-25 04:44:32.643 +02:00 [INF] Executed endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)'
2025-11-25 04:44:32.644 +02:00 [DBG] Connection id "0HNHBPEU4SU9G" completed keep alive response.
2025-11-25 04:44:32.645 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 04:44:32.646 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:44:32.647 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 04:44:32.648 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7217/api/Schedule - 200 null application/json; charset=utf-8 65.3794ms
2025-11-25 04:44:39.864 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/Schedule - application/json 92
2025-11-25 04:44:39.865 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Schedule'
2025-11-25 04:44:39.867 +02:00 [DBG] Endpoint 'Hospital.Controllers.ScheduleController.Create (Hospital)' with route pattern 'api/Schedule' is valid for the request path '/api/Schedule'
2025-11-25 04:44:39.868 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.ScheduleController.Create (Hospital)'
2025-11-25 04:44:39.868 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 04:44:39.869 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 04:44:39.870 +02:00 [INF] Executing endpoint 'Hospital.Controllers.ScheduleController.Create (Hospital)'
2025-11-25 04:44:39.870 +02:00 [INF] Route matched with {action = "Create", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Hospital.Application.DTO.Schedule.ScheduleDto]] Create(Hospital.Application.DTO.Schedule.CreateScheduleDto) on controller Hospital.Controllers.ScheduleController (Hospital).
2025-11-25 04:44:39.871 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 04:44:39.872 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 04:44:39.874 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 04:44:39.875 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 04:44:39.876 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 04:44:39.877 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 04:44:39.878 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 04:44:39.879 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto' ...
2025-11-25 04:44:39.880 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto' using the name '' in request data ...
2025-11-25 04:44:39.881 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 04:44:39.882 +02:00 [DBG] Connection id "0HNHBPEU4SU9G", Request id "0HNHBPEU4SU9G:00000004": started reading request body.
2025-11-25 04:44:39.883 +02:00 [DBG] Connection id "0HNHBPEU4SU9G", Request id "0HNHBPEU4SU9G:00000004": done reading request body.
2025-11-25 04:44:39.884 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.Schedule.CreateScheduleDto'
2025-11-25 04:44:39.885 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto'.
2025-11-25 04:44:39.886 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto'.
2025-11-25 04:44:39.887 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto' ...
2025-11-25 04:44:39.888 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto'.
2025-11-25 04:44:39.889 +02:00 [INF] create schedule  called at "2025-11-25T04:44:39.8891790+02:00"
2025-11-25 04:44:39.889 +02:00 [INF] Creating schedule for DoctorId: 1, Day: sunday, Shift: "Afternoon"
2025-11-25 04:44:39.891 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 04:44:39.892 +02:00 [DBG] Creating DbConnection.
2025-11-25 04:44:39.893 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 04:44:39.894 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:44:39.895 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:44:39.896 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:44:39.897 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:44:39.898 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 04:44:39.899 +02:00 [DBG] Executing DbCommand [Parameters=[@__doctorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DoctorId], [t].[Available], [t].[Biography], [t].[ConsultationFees], [t].[CreatedAt], [t].[ExperienceYears], [t].[ImageURL], [t].[SpecializationId], [t].[UpdatedAt], [t].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[CreatedAt0], [t].[DateOfBirth], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[Gender], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[Role], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UpdatedAt0], [t].[UserName], [t].[SpecializationId0], [t].[CreatedAt1], [t].[Description], [t].[Name], [t].[UpdatedAt1], [t0].[BranchesBranchId], [t0].[DoctorsDoctorId], [t0].[BranchId], [t0].[Address], [t0].[BranchName], [t0].[CreatedAt], [t0].[Description], [t0].[Email], [t0].[ImageURL], [t0].[Phone], [t0].[UpdatedAt], [s0].[ScheduleId], [s0].[BranchId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM (
    SELECT TOP(1) [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName], [s].[SpecializationId] AS [SpecializationId0], [s].[CreatedAt] AS [CreatedAt1], [s].[Description], [s].[Name], [s].[UpdatedAt] AS [UpdatedAt1]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
    WHERE [d].[DoctorId] = @__doctorId_0
) AS [t]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t0] ON [t].[DoctorId] = [t0].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [t].[DoctorId] = [s0].[DoctorId]
ORDER BY [t].[DoctorId], [t].[Id], [t].[SpecializationId0], [t0].[BranchesBranchId], [t0].[DoctorsDoctorId], [t0].[BranchId]
2025-11-25 04:44:39.912 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__doctorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DoctorId], [t].[Available], [t].[Biography], [t].[ConsultationFees], [t].[CreatedAt], [t].[ExperienceYears], [t].[ImageURL], [t].[SpecializationId], [t].[UpdatedAt], [t].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[CreatedAt0], [t].[DateOfBirth], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[Gender], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[Role], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UpdatedAt0], [t].[UserName], [t].[SpecializationId0], [t].[CreatedAt1], [t].[Description], [t].[Name], [t].[UpdatedAt1], [t0].[BranchesBranchId], [t0].[DoctorsDoctorId], [t0].[BranchId], [t0].[Address], [t0].[BranchName], [t0].[CreatedAt], [t0].[Description], [t0].[Email], [t0].[ImageURL], [t0].[Phone], [t0].[UpdatedAt], [s0].[ScheduleId], [s0].[BranchId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM (
    SELECT TOP(1) [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName], [s].[SpecializationId] AS [SpecializationId0], [s].[CreatedAt] AS [CreatedAt1], [s].[Description], [s].[Name], [s].[UpdatedAt] AS [UpdatedAt1]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
    WHERE [d].[DoctorId] = @__doctorId_0
) AS [t]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t0] ON [t].[DoctorId] = [t0].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [t].[DoctorId] = [s0].[DoctorId]
ORDER BY [t].[DoctorId], [t].[Id], [t].[SpecializationId0], [t0].[BranchesBranchId], [t0].[DoctorsDoctorId], [t0].[BranchId]
2025-11-25 04:44:39.915 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:44:39.916 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:44:39.917 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:44:39.918 +02:00 [DBG] The navigation 'Doctor.Specialization' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:44:39.920 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:44:39.921 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchDoctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:44:39.922 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:44:39.923 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:44:39.924 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:44:39.925 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:44:39.926 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:44:39.927 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:44:39.928 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 14ms reading results.
2025-11-25 04:44:39.930 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:44:39.931 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 04:44:39.932 +02:00 [WRN] Doctor with ID 1 is not associated with BranchId 2
2025-11-25 04:44:39.978 +02:00 [INF] Executed action Hospital.Controllers.ScheduleController.Create (Hospital) in 100.401ms
2025-11-25 04:44:39.979 +02:00 [INF] Executed endpoint 'Hospital.Controllers.ScheduleController.Create (Hospital)'
2025-11-25 04:44:40.024 +02:00 [ERR]  Exception caught: Doctor is not associated with the specified branch.
System.InvalidOperationException: Doctor is not associated with the specified branch.
   at Hospital.Infrastructure.Services.ScheduleService.CreateAsync(CreateScheduleDto dto) in D:\Hospital\Hospital\Hospital.Infrastructure\Services\ScheduleService.cs:line 46
   at Hospital.Controllers.ScheduleController.Create(CreateScheduleDto dto) in D:\Hospital\Hospital\Hospital\Controllers\ScheduleController.cs:line 27
   at lambda_method963(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hospital.Middleware.GlobalExceptionHandler.InvokeAsync(HttpContext context) in D:\Hospital\Hospital\Hospital\Middleware\GlobalExceptionHandler.cs:line 22
2025-11-25 04:44:40.031 +02:00 [DBG] Connection id "0HNHBPEU4SU9G" completed keep alive response.
2025-11-25 04:44:40.032 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 04:44:40.033 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:44:40.035 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 04:44:40.036 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/Schedule - 500 null application/json 172.5477ms
2025-11-25 04:44:52.850 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7217/api/Schedule - null null
2025-11-25 04:44:52.856 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Schedule'
2025-11-25 04:44:52.856 +02:00 [DBG] Endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)' with route pattern 'api/Schedule' is valid for the request path '/api/Schedule'
2025-11-25 04:44:52.857 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)'
2025-11-25 04:44:52.858 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 04:44:52.859 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 04:44:52.860 +02:00 [INF] Executing endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)'
2025-11-25 04:44:52.860 +02:00 [INF] Route matched with {action = "GetAll", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Schedule.ScheduleDto]]] GetAll() on controller Hospital.Controllers.ScheduleController (Hospital).
2025-11-25 04:44:52.862 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 04:44:52.863 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 04:44:52.863 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 04:44:52.865 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 04:44:52.866 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 04:44:52.867 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 04:44:52.868 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 04:44:52.869 +02:00 [INF] get all schedule called at "2025-11-25T04:44:52.8691928+02:00"
2025-11-25 04:44:52.869 +02:00 [INF] Fetching all schedules
2025-11-25 04:44:52.870 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 04:44:52.872 +02:00 [DBG] Creating DbConnection.
2025-11-25 04:44:52.872 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 04:44:52.873 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:44:52.874 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:44:52.875 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 04:44:52.875 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 04:44:52.877 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 04:44:52.878 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[BranchId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
2025-11-25 04:44:52.884 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[BranchId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
2025-11-25 04:44:52.885 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:44:52.886 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:44:52.887 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:44:52.888 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:44:52.888 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:44:52.889 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 04:44:52.890 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:44:52.891 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-11-25 04:44:52.892 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:44:52.893 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 04:44:52.894 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 04:44:52.895 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 04:44:52.896 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 04:44:52.896 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 04:44:52.897 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 04:44:52.898 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Schedule.ScheduleDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 04:44:52.899 +02:00 [INF] Executed action Hospital.Controllers.ScheduleController.GetAll (Hospital) in 32.5117ms
2025-11-25 04:44:52.900 +02:00 [INF] Executed endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)'
2025-11-25 04:44:52.901 +02:00 [DBG] Connection id "0HNHBPEU4SU9G" completed keep alive response.
2025-11-25 04:44:52.902 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 04:44:52.903 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 04:44:52.904 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 04:44:52.906 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7217/api/Schedule - 200 null application/json; charset=utf-8 56.3275ms
2025-11-25 17:03:45.820 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-11-25 17:03:45.960 +02:00 [DBG] Hosting starting
2025-11-25 17:03:45.988 +02:00 [INF] User profile is available. Using 'C:\Users\yossr\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-25 17:03:45.998 +02:00 [DBG] Reading data from file 'C:\Users\yossr\AppData\Local\ASP.NET\DataProtection-Keys\key-69bbab29-81b6-4865-ac9a-ae2b6fa39013.xml'.
2025-11-25 17:03:46.036 +02:00 [DBG] Reading data from file 'C:\Users\yossr\AppData\Local\ASP.NET\DataProtection-Keys\key-80d0efac-0f9c-4630-990a-b52d8a5ce829.xml'.
2025-11-25 17:03:46.053 +02:00 [DBG] Reading data from file 'C:\Users\yossr\AppData\Local\ASP.NET\DataProtection-Keys\key-c9eadb9e-fd70-4dbd-a2e4-2439a22a723f.xml'.
2025-11-25 17:03:46.071 +02:00 [DBG] Reading data from file 'C:\Users\yossr\AppData\Local\ASP.NET\DataProtection-Keys\key-e6a4e949-cc09-4772-b903-b3c0844fb846.xml'.
2025-11-25 17:03:46.094 +02:00 [DBG] Found key {69bbab29-81b6-4865-ac9a-ae2b6fa39013}.
2025-11-25 17:03:46.099 +02:00 [DBG] Found key {80d0efac-0f9c-4630-990a-b52d8a5ce829}.
2025-11-25 17:03:46.101 +02:00 [DBG] Found key {c9eadb9e-fd70-4dbd-a2e4-2439a22a723f}.
2025-11-25 17:03:46.101 +02:00 [DBG] Found key {e6a4e949-cc09-4772-b903-b3c0844fb846}.
2025-11-25 17:03:46.106 +02:00 [DBG] Considering key {69bbab29-81b6-4865-ac9a-ae2b6fa39013} with expiration date 2026-01-04 04:20:00Z as default key.
2025-11-25 17:03:46.110 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-25 17:03:46.113 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-11-25 17:03:46.115 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-25 17:03:46.121 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-11-25 17:03:46.123 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-11-25 17:03:46.126 +02:00 [DBG] Using key {69bbab29-81b6-4865-ac9a-ae2b6fa39013} as the default key.
2025-11-25 17:03:46.128 +02:00 [DBG] Key ring with default key {69bbab29-81b6-4865-ac9a-ae2b6fa39013} was loaded during application startup.
2025-11-25 17:03:46.135 +02:00 [DBG] Middleware loaded
2025-11-25 17:03:46.137 +02:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16500 B).
2025-11-25 17:03:46.139 +02:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-11-25 17:03:46.265 +02:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-11-25 17:03:46.385 +02:00 [INF] Now listening on: https://localhost:7217
2025-11-25 17:03:46.386 +02:00 [INF] Now listening on: http://localhost:5163
2025-11-25 17:03:46.387 +02:00 [DBG] Loaded hosting startup assembly Hospital
2025-11-25 17:03:46.388 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-11-25 17:03:46.388 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-11-25 17:03:46.389 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-11-25 17:03:46.482 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-25 17:03:46.484 +02:00 [INF] Hosting environment: Development
2025-11-25 17:03:46.485 +02:00 [INF] Content root path: D:\Hospital\Hospital\Hospital
2025-11-25 17:03:46.486 +02:00 [DBG] Hosting started
2025-11-25 17:03:46.544 +02:00 [DBG] Connection id "0HNHC6FAJIEIS" accepted.
2025-11-25 17:03:46.544 +02:00 [DBG] Connection id "0HNHC6FAJIEIT" accepted.
2025-11-25 17:03:46.546 +02:00 [DBG] Connection id "0HNHC6FAJIEIS" started.
2025-11-25 17:03:46.546 +02:00 [DBG] Connection id "0HNHC6FAJIEIT" started.
2025-11-25 17:03:46.952 +02:00 [DBG] Connection id "0HNHC6FAJIEIU" accepted.
2025-11-25 17:03:46.953 +02:00 [DBG] Connection id "0HNHC6FAJIEIU" started.
2025-11-25 17:03:47.002 +02:00 [DBG] Connection 0HNHC6FAJIEIU established using the following protocol: "Tls13"
2025-11-25 17:03:47.076 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/swagger/index.html - null null
2025-11-25 17:03:47.190 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-11-25 17:03:47.223 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-11-25 17:03:47.225 +02:00 [DBG] Request did not match any endpoints
2025-11-25 17:03:47.269 +02:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-11-25 17:03:47.271 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-11-25 17:03:47.287 +02:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-11-25 17:03:47.289 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-11-25 17:03:47.292 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/swagger/index.html - 200 null text/html;charset=utf-8 223.4708ms
2025-11-25 17:03:47.303 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/_framework/aspnetcore-browser-refresh.js - null null
2025-11-25 17:03:47.316 +02:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-11-25 17:03:47.319 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/_framework/aspnetcore-browser-refresh.js - 200 16500 application/javascript; charset=utf-8 15.5621ms
2025-11-25 17:03:47.334 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/_vs/browserLink - null null
2025-11-25 17:03:47.412 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/_vs/browserLink - 200 null text/javascript; charset=UTF-8 77.7072ms
2025-11-25 17:03:47.469 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/swagger/v1/swagger.json - null null
2025-11-25 17:03:47.472 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-11-25 17:03:47.473 +02:00 [DBG] Request did not match any endpoints
2025-11-25 17:03:47.517 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 48.6592ms
2025-11-25 17:03:54.108 +02:00 [DBG] Connection id "0HNHC6FAJIEIU" received FIN.
2025-11-25 17:03:54.111 +02:00 [DBG] The connection queue processing loop for 0HNHC6FAJIEIU completed.
2025-11-25 17:03:54.113 +02:00 [DBG] Connection id "0HNHC6FAJIEIU" is closed. The last processed stream ID was 7.
2025-11-25 17:03:54.114 +02:00 [DBG] Connection id "0HNHC6FAJIEIU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 17:03:54.119 +02:00 [DBG] Connection id "0HNHC6FAJIEIU" stopped.
2025-11-25 17:03:56.567 +02:00 [DBG] Authentication of the HTTPS connection timed out.
2025-11-25 17:03:56.567 +02:00 [DBG] Authentication of the HTTPS connection timed out.
2025-11-25 17:03:56.568 +02:00 [DBG] Connection id "0HNHC6FAJIEIT" stopped.
2025-11-25 17:03:56.568 +02:00 [DBG] Connection id "0HNHC6FAJIEIS" stopped.
2025-11-25 17:03:56.569 +02:00 [DBG] Connection id "0HNHC6FAJIEIT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 17:03:56.570 +02:00 [DBG] Connection id "0HNHC6FAJIEIS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 17:04:23.382 +02:00 [DBG] Connection id "0HNHC6FAJIEIV" accepted.
2025-11-25 17:04:23.385 +02:00 [DBG] Connection id "0HNHC6FAJIEIV" received FIN.
2025-11-25 17:04:23.388 +02:00 [DBG] Connection id "0HNHC6FAJIEIV" started.
2025-11-25 17:04:23.399 +02:00 [DBG] Connection id "0HNHC6FAJIEJ0" accepted.
2025-11-25 17:04:23.400 +02:00 [DBG] Connection id "0HNHC6FAJIEJ0" started.
2025-11-25 17:04:23.401 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-25 17:04:23.412 +02:00 [DBG] Connection 0HNHC6FAJIEJ0 established using the following protocol: "Tls13"
2025-11-25 17:04:23.435 +02:00 [DBG] Connection id "0HNHC6FAJIEIV" stopped.
2025-11-25 17:04:23.436 +02:00 [DBG] Connection id "0HNHC6FAJIEIV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 17:04:23.439 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7217/api/Schedule - null null
2025-11-25 17:04:23.446 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Schedule'
2025-11-25 17:04:23.450 +02:00 [DBG] Endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)' with route pattern 'api/Schedule' is valid for the request path '/api/Schedule'
2025-11-25 17:04:23.452 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)'
2025-11-25 17:04:23.455 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 17:04:23.775 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 17:04:23.777 +02:00 [INF] Executing endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)'
2025-11-25 17:04:23.799 +02:00 [INF] Route matched with {action = "GetAll", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Schedule.ScheduleDto]]] GetAll() on controller Hospital.Controllers.ScheduleController (Hospital).
2025-11-25 17:04:23.802 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 17:04:23.803 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 17:04:23.804 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 17:04:23.806 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 17:04:23.807 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 17:04:23.809 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 17:04:24.266 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-11-25 17:04:24.427 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 17:04:24.431 +02:00 [INF] get all schedule called at "2025-11-25T17:04:24.4311062+02:00"
2025-11-25 17:04:24.433 +02:00 [INF] Fetching all schedules
2025-11-25 17:04:24.891 +02:00 [DBG] The index {'BranchesBranchId'} was not created on entity type 'BranchDoctor (Dictionary<string, object>)' as the properties are already covered by the index {'BranchesBranchId', 'DoctorsDoctorId'}.
2025-11-25 17:04:24.893 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchService (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'ServiceId'}.
2025-11-25 17:04:24.895 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchSpecialization (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'SpecializationId'}.
2025-11-25 17:04:24.896 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-11-25 17:04:24.897 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-11-25 17:04:25.003 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).BranchesBranchId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-11-25 17:04:25.005 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).DoctorsDoctorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-11-25 17:04:25.160 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 17:04:25.355 +02:00 [DBG] Compiling query expression: 
'DbSet<Schedule>()
    .Include(s => s.Doctor)
    .ThenInclude(d => d.User)'
2025-11-25 17:04:25.411 +02:00 [DBG] Including navigation: 'Schedule.Doctor'.
2025-11-25 17:04:25.414 +02:00 [DBG] Including navigation: 'Doctor.User'.
2025-11-25 17:04:25.540 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Schedule>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Schedule.ScheduleId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Schedule.BranchId (int) Required FK Index, 1], [Property: Schedule.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Schedule.DayOfWeek (string) Required MaxLength(20), 3], [Property: Schedule.DoctorId (int) Required FK Index, 4], [Property: Schedule.EndTime (DateTime) Required, 5], [Property: Schedule.Shift (AppointmentShift) Required, 6], [Property: Schedule.StartTime (DateTime) Required, 7], [Property: Schedule.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 8] }
            1 -> Dictionary<IProperty, int> { [Property: Doctor.DoctorId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Doctor.Available (bool?), 10], [Property: Doctor.Biography (string), 11], [Property: Doctor.ConsultationFees (decimal) Required, 12], [Property: Doctor.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 13], [Property: Doctor.ExperienceYears (int?), 14], [Property: Doctor.ImageURL (string) MaxLength(300), 15], [Property: Doctor.SpecializationId (int) Required FK Index, 16], [Property: Doctor.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 17], [Property: Doctor.UserId (string) Required FK Index, 18] }
            2 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 19], [Property: User.AccessFailedCount (int) Required, 20], [Property: User.ConcurrencyStamp (string) Concurrency, 21], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 22], [Property: User.DateOfBirth (DateOnly?), 23], [Property: User.Email (string) Index MaxLength(256), 24], [Property: User.EmailConfirmed (bool) Required, 25], [Property: User.FullName (string) Required MaxLength(150), 26], [Property: User.Gender (GenderType?) MaxLength(10), 27], [Property: User.LockoutEnabled (bool) Required, 28], [Property: User.LockoutEnd (DateTimeOffset?), 29], [Property: User.NormalizedEmail (string) Index MaxLength(256), 30], [Property: User.NormalizedUserName (string) Index MaxLength(256), 31], [Property: User.PasswordHash (string), 32], [Property: User.PhoneNumber (string), 33], [Property: User.PhoneNumberConfirmed (bool) Required, 34], [Property: User.RefreshToken (string), 35], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 36], [Property: User.Role (string) Required MaxLength(50), 37], [Property: User.SecurityStamp (string), 38], [Property: User.TwoFactorEnabled (bool) Required, 39], [Property: User.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 40], [Property: User.UserName (string) MaxLength(256), 41] }
        SELECT s.ScheduleId, s.BranchId, s.CreatedAt, s.DayOfWeek, s.DoctorId, s.EndTime, s.Shift, s.StartTime, s.UpdatedAt, d.DoctorId, d.Available, d.Biography, d.ConsultationFees, d.CreatedAt, d.ExperienceYears, d.ImageURL, d.SpecializationId, d.UpdatedAt, d.UserId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DateOfBirth, u.Email, u.EmailConfirmed, u.FullName, u.Gender, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.RefreshToken, u.RefreshTokenExpiryTime, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UpdatedAt, u.UserName
        FROM Schedules AS s
        INNER JOIN Doctors AS d ON s.DoctorId == d.DoctorId
        INNER JOIN Users AS u ON d.UserId == u.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Schedule>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-11-25 17:04:25.566 +02:00 [DBG] Creating DbConnection.
2025-11-25 17:04:25.583 +02:00 [DBG] Created DbConnection. (15ms).
2025-11-25 17:04:25.586 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:04:26.192 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:04:26.195 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 17:04:26.199 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-11-25 17:04:26.202 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-11-25 17:04:26.207 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[BranchId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
2025-11-25 17:04:26.294 +02:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[BranchId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
2025-11-25 17:04:26.337 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:04:26.380 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:04:26.388 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:04:26.420 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:04:26.421 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:04:26.449 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:04:26.453 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:04:26.458 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 158ms reading results.
2025-11-25 17:04:26.461 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:04:26.466 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (4ms).
2025-11-25 17:04:26.480 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 17:04:26.483 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 17:04:26.484 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 17:04:26.484 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 17:04:26.485 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 17:04:26.487 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Schedule.ScheduleDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 17:04:26.518 +02:00 [INF] Executed action Hospital.Controllers.ScheduleController.GetAll (Hospital) in 2707.0645ms
2025-11-25 17:04:26.520 +02:00 [INF] Executed endpoint 'Hospital.Controllers.ScheduleController.GetAll (Hospital)'
2025-11-25 17:04:26.522 +02:00 [DBG] Connection id "0HNHC6FAJIEJ0" completed keep alive response.
2025-11-25 17:04:26.525 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 17:04:26.530 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:04:26.533 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-11-25 17:04:26.536 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7217/api/Schedule - 200 null application/json; charset=utf-8 3096.4256ms
2025-11-25 17:05:14.460 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/Appointment - application/json 159
2025-11-25 17:05:14.463 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment'
2025-11-25 17:05:14.464 +02:00 [DBG] Endpoint 'Hospital.API.Controllers.AppointmentController.Add (Hospital)' with route pattern 'api/Appointment' is valid for the request path '/api/Appointment'
2025-11-25 17:05:14.465 +02:00 [DBG] Request matched endpoint 'Hospital.API.Controllers.AppointmentController.Add (Hospital)'
2025-11-25 17:05:14.466 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 17:05:14.468 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 17:05:14.469 +02:00 [INF] Executing endpoint 'Hospital.API.Controllers.AppointmentController.Add (Hospital)'
2025-11-25 17:05:14.477 +02:00 [INF] Route matched with {action = "Add", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(Hospital.Application.DTO.Appointment.AddAppointmentDto) on controller Hospital.API.Controllers.AppointmentController (Hospital).
2025-11-25 17:05:14.479 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 17:05:14.480 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 17:05:14.481 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 17:05:14.482 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 17:05:14.482 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 17:05:14.483 +02:00 [DBG] Executing controller factory for controller Hospital.API.Controllers.AppointmentController (Hospital)
2025-11-25 17:05:14.486 +02:00 [DBG] Executed controller factory for controller Hospital.API.Controllers.AppointmentController (Hospital)
2025-11-25 17:05:14.492 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Appointment.AddAppointmentDto' ...
2025-11-25 17:05:14.495 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Appointment.AddAppointmentDto' using the name '' in request data ...
2025-11-25 17:05:14.497 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 17:05:14.508 +02:00 [DBG] Connection id "0HNHC6FAJIEJ0", Request id "0HNHC6FAJIEJ0:00000002": started reading request body.
2025-11-25 17:05:14.509 +02:00 [DBG] Connection id "0HNHC6FAJIEJ0", Request id "0HNHC6FAJIEJ0:00000002": done reading request body.
2025-11-25 17:05:14.523 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.Appointment.AddAppointmentDto'
2025-11-25 17:05:14.525 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Appointment.AddAppointmentDto'.
2025-11-25 17:05:14.526 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Appointment.AddAppointmentDto'.
2025-11-25 17:05:14.527 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Appointment.AddAppointmentDto' ...
2025-11-25 17:05:14.537 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Appointment.AddAppointmentDto'.
2025-11-25 17:05:14.540 +02:00 [INF] Add Appointment called at "2025-11-25T17:05:14.5403551+02:00"
2025-11-25 17:05:14.543 +02:00 [INF] Creating appointment for PatientId: 1, DoctorId: 1, Date: "2025-11-25", Shift: "Afternoon"
2025-11-25 17:05:14.593 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 17:05:14.600 +02:00 [DBG] Creating DbConnection.
2025-11-25 17:05:14.601 +02:00 [DBG] Created DbConnection. (1ms).
2025-11-25 17:05:14.602 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:05:14.604 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:05:14.606 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 17:05:14.615 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 17:05:14.623 +02:00 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .Include(p => p.User)
    .Include(p => p.MedicalRecords)
    .ThenInclude(m => m.Doctor)
    .ThenInclude(d => d.User)
    .FirstOrDefault(p => p.PatientId == __id_0)'
2025-11-25 17:05:14.629 +02:00 [DBG] Including navigation: 'Patient.User'.
2025-11-25 17:05:14.630 +02:00 [DBG] Including navigation: 'Patient.MedicalRecords'.
2025-11-25 17:05:14.633 +02:00 [DBG] Including navigation: 'MedicalRecord.Doctor'.
2025-11-25 17:05:14.634 +02:00 [DBG] Including navigation: 'Doctor.User'.
2025-11-25 17:05:14.679 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Patient>(
    asyncEnumerable: new SingleQueryingEnumerable<Patient>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Patient.PatientId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Patient.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: Patient.EmergencyContact (string) MaxLength(150), 2], [Property: Patient.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: Patient.UserId (string) Required FK Index, 4] }
                1 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 5], [Property: User.AccessFailedCount (int) Required, 6], [Property: User.ConcurrencyStamp (string) Concurrency, 7], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 8], [Property: User.DateOfBirth (DateOnly?), 9], [Property: User.Email (string) Index MaxLength(256), 10], [Property: User.EmailConfirmed (bool) Required, 11], [Property: User.FullName (string) Required MaxLength(150), 12], [Property: User.Gender (GenderType?) MaxLength(10), 13], [Property: User.LockoutEnabled (bool) Required, 14], [Property: User.LockoutEnd (DateTimeOffset?), 15], [Property: User.NormalizedEmail (string) Index MaxLength(256), 16], [Property: User.NormalizedUserName (string) Index MaxLength(256), 17], [Property: User.PasswordHash (string), 18], [Property: User.PhoneNumber (string), 19], [Property: User.PhoneNumberConfirmed (bool) Required, 20], [Property: User.RefreshToken (string), 21], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 22], [Property: User.Role (string) Required MaxLength(50), 23], [Property: User.SecurityStamp (string), 24], [Property: User.TwoFactorEnabled (bool) Required, 25], [Property: User.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 26], [Property: User.UserName (string) MaxLength(256), 27] }
                2 -> 0
                3 -> 5
                4 -> Dictionary<IProperty, int> { [Property: MedicalRecord.RecordId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 28], [Property: MedicalRecord.AppointmentId (int) Required FK Index, 29], [Property: MedicalRecord.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 30], [Property: MedicalRecord.Diagnosis (string), 31], [Property: MedicalRecord.DoctorId (int) Required FK Index, 32], [Property: MedicalRecord.Notes (string), 33], [Property: MedicalRecord.PatientId (int) Required FK Index, 34], [Property: MedicalRecord.TreatmentPlan (string), 35], [Property: MedicalRecord.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 36] }
                5 -> Dictionary<IProperty, int> { [Property: Doctor.DoctorId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 37], [Property: Doctor.Available (bool?), 38], [Property: Doctor.Biography (string), 39], [Property: Doctor.ConsultationFees (decimal) Required, 40], [Property: Doctor.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 41], [Property: Doctor.ExperienceYears (int?), 42], [Property: Doctor.ImageURL (string) MaxLength(300), 43], [Property: Doctor.SpecializationId (int) Required FK Index, 44], [Property: Doctor.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 45], [Property: Doctor.UserId (string) Required FK Index, 46] }
                6 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 47], [Property: User.AccessFailedCount (int) Required, 48], [Property: User.ConcurrencyStamp (string) Concurrency, 49], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 50], [Property: User.DateOfBirth (DateOnly?), 51], [Property: User.Email (string) Index MaxLength(256), 52], [Property: User.EmailConfirmed (bool) Required, 53], [Property: User.FullName (string) Required MaxLength(150), 54], [Property: User.Gender (GenderType?) MaxLength(10), 55], [Property: User.LockoutEnabled (bool) Required, 56], [Property: User.LockoutEnd (DateTimeOffset?), 57], [Property: User.NormalizedEmail (string) Index MaxLength(256), 58], [Property: User.NormalizedUserName (string) Index MaxLength(256), 59], [Property: User.PasswordHash (string), 60], [Property: User.PhoneNumber (string), 61], [Property: User.PhoneNumberConfirmed (bool) Required, 62], [Property: User.RefreshToken (string), 63], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 64], [Property: User.Role (string) Required MaxLength(50), 65], [Property: User.SecurityStamp (string), 66], [Property: User.TwoFactorEnabled (bool) Required, 67], [Property: User.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 68], [Property: User.UserName (string) MaxLength(256), 69] }
                7 -> 28
                8 -> 37
                9 -> 47
            SELECT t.PatientId, t.CreatedAt, t.EmergencyContact, t.UpdatedAt, t.UserId, t.Id, t.AccessFailedCount, t.ConcurrencyStamp, t.CreatedAt0, t.DateOfBirth, t.Email, t.EmailConfirmed, t.FullName, t.Gender, t.LockoutEnabled, t.LockoutEnd, t.NormalizedEmail, t.NormalizedUserName, t.PasswordHash, t.PhoneNumber, t.PhoneNumberConfirmed, t.RefreshToken, t.RefreshTokenExpiryTime, t.Role, t.SecurityStamp, t.TwoFactorEnabled, t.UpdatedAt0, t.UserName, t0.RecordId, t0.AppointmentId, t0.CreatedAt, t0.Diagnosis, t0.DoctorId, t0.Notes, t0.PatientId, t0.TreatmentPlan, t0.UpdatedAt, t0.DoctorId0, t0.Available, t0.Biography, t0.ConsultationFees, t0.CreatedAt0, t0.ExperienceYears, t0.ImageURL, t0.SpecializationId, t0.UpdatedAt0, t0.UserId, t0.Id, t0.AccessFailedCount, t0.ConcurrencyStamp, t0.CreatedAt1, t0.DateOfBirth, t0.Email, t0.EmailConfirmed, t0.FullName, t0.Gender, t0.LockoutEnabled, t0.LockoutEnd, t0.NormalizedEmail, t0.NormalizedUserName, t0.PasswordHash, t0.PhoneNumber, t0.PhoneNumberConfirmed, t0.RefreshToken, t0.RefreshTokenExpiryTime, t0.Role, t0.SecurityStamp, t0.TwoFactorEnabled, t0.UpdatedAt1, t0.UserName
            FROM 
            (
                SELECT TOP(1) p.PatientId, p.CreatedAt, p.EmergencyContact, p.UpdatedAt, p.UserId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt AS CreatedAt0, u.DateOfBirth, u.Email, u.EmailConfirmed, u.FullName, u.Gender, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.RefreshToken, u.RefreshTokenExpiryTime, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UpdatedAt AS UpdatedAt0, u.UserName
                FROM Patients AS p
                INNER JOIN Users AS u ON p.UserId == u.Id
                WHERE p.PatientId == @__id_0
            ) AS t
            LEFT JOIN 
            (
                SELECT m.RecordId, m.AppointmentId, m.CreatedAt, m.Diagnosis, m.DoctorId, m.Notes, m.PatientId, m.TreatmentPlan, m.UpdatedAt, d.DoctorId AS DoctorId0, d.Available, d.Biography, d.ConsultationFees, d.CreatedAt AS CreatedAt0, d.ExperienceYears, d.ImageURL, d.SpecializationId, d.UpdatedAt AS UpdatedAt0, d.UserId, u0.Id, u0.AccessFailedCount, u0.ConcurrencyStamp, u0.CreatedAt AS CreatedAt1, u0.DateOfBirth, u0.Email, u0.EmailConfirmed, u0.FullName, u0.Gender, u0.LockoutEnabled, u0.LockoutEnd, u0.NormalizedEmail, u0.NormalizedUserName, u0.PasswordHash, u0.PhoneNumber, u0.PhoneNumberConfirmed, u0.RefreshToken, u0.RefreshTokenExpiryTime, u0.Role, u0.SecurityStamp, u0.TwoFactorEnabled, u0.UpdatedAt AS UpdatedAt1, u0.UserName
                FROM MedicalRecords AS m
                INNER JOIN Doctors AS d ON m.DoctorId == d.DoctorId
                INNER JOIN Users AS u0 ON d.UserId == u0.Id
            ) AS t0 ON t.PatientId == t0.PatientId
            ORDER BY t.PatientId ASC, t.Id ASC, t0.RecordId ASC, t0.DoctorId0 ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Patient>, 
        Clinic.Infrastructure.Persistence.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-11-25 17:05:14.689 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 17:05:14.690 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 17:05:14.694 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-11-25 17:05:14.698 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[PatientId], [t].[CreatedAt], [t].[EmergencyContact], [t].[UpdatedAt], [t].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[CreatedAt0], [t].[DateOfBirth], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[Gender], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[Role], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UpdatedAt0], [t].[UserName], [t0].[RecordId], [t0].[AppointmentId], [t0].[CreatedAt], [t0].[Diagnosis], [t0].[DoctorId], [t0].[Notes], [t0].[PatientId], [t0].[TreatmentPlan], [t0].[UpdatedAt], [t0].[DoctorId0], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt0], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt0], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt1], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt1], [t0].[UserName]
FROM (
    SELECT TOP(1) [p].[PatientId], [p].[CreatedAt], [p].[EmergencyContact], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Patients] AS [p]
    INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
    WHERE [p].[PatientId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m].[RecordId], [m].[AppointmentId], [m].[CreatedAt], [m].[Diagnosis], [m].[DoctorId], [m].[Notes], [m].[PatientId], [m].[TreatmentPlan], [m].[UpdatedAt], [d].[DoctorId] AS [DoctorId0], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt] AS [CreatedAt0], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt] AS [UpdatedAt0], [d].[UserId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt] AS [CreatedAt1], [u0].[DateOfBirth], [u0].[Email], [u0].[EmailConfirmed], [u0].[FullName], [u0].[Gender], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[RefreshToken], [u0].[RefreshTokenExpiryTime], [u0].[Role], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt] AS [UpdatedAt1], [u0].[UserName]
    FROM [MedicalRecords] AS [m]
    INNER JOIN [Doctors] AS [d] ON [m].[DoctorId] = [d].[DoctorId]
    INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
) AS [t0] ON [t].[PatientId] = [t0].[PatientId]
ORDER BY [t].[PatientId], [t].[Id], [t0].[RecordId], [t0].[DoctorId0]
2025-11-25 17:05:14.806 +02:00 [INF] Executed DbCommand (111ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[PatientId], [t].[CreatedAt], [t].[EmergencyContact], [t].[UpdatedAt], [t].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[CreatedAt0], [t].[DateOfBirth], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[Gender], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[Role], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UpdatedAt0], [t].[UserName], [t0].[RecordId], [t0].[AppointmentId], [t0].[CreatedAt], [t0].[Diagnosis], [t0].[DoctorId], [t0].[Notes], [t0].[PatientId], [t0].[TreatmentPlan], [t0].[UpdatedAt], [t0].[DoctorId0], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt0], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt0], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt1], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt1], [t0].[UserName]
FROM (
    SELECT TOP(1) [p].[PatientId], [p].[CreatedAt], [p].[EmergencyContact], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Patients] AS [p]
    INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
    WHERE [p].[PatientId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m].[RecordId], [m].[AppointmentId], [m].[CreatedAt], [m].[Diagnosis], [m].[DoctorId], [m].[Notes], [m].[PatientId], [m].[TreatmentPlan], [m].[UpdatedAt], [d].[DoctorId] AS [DoctorId0], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt] AS [CreatedAt0], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt] AS [UpdatedAt0], [d].[UserId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt] AS [CreatedAt1], [u0].[DateOfBirth], [u0].[Email], [u0].[EmailConfirmed], [u0].[FullName], [u0].[Gender], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[RefreshToken], [u0].[RefreshTokenExpiryTime], [u0].[Role], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt] AS [UpdatedAt1], [u0].[UserName]
    FROM [MedicalRecords] AS [m]
    INNER JOIN [Doctors] AS [d] ON [m].[DoctorId] = [d].[DoctorId]
    INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
) AS [t0] ON [t].[PatientId] = [t0].[PatientId]
ORDER BY [t].[PatientId], [t].[Id], [t0].[RecordId], [t0].[DoctorId0]
2025-11-25 17:05:14.813 +02:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:05:14.822 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:05:14.823 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:05:14.829 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:05:14.831 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 22ms reading results.
2025-11-25 17:05:14.835 +02:00 [DBG] Compiling query expression: 
'DbSet<Doctor>()
    .Include(d => d.User)
    .Include(d => d.Specialization)
    .Include(d => d.Branches)
    .Include(d => d.Schedules)
    .FirstOrDefault(d => d.DoctorId == __doctorId_0)'
2025-11-25 17:05:14.838 +02:00 [DBG] Including navigation: 'Doctor.User'.
2025-11-25 17:05:14.840 +02:00 [DBG] Including navigation: 'Doctor.Specialization'.
2025-11-25 17:05:14.842 +02:00 [DBG] Including navigation: 'Doctor.Branches'.
2025-11-25 17:05:14.844 +02:00 [DBG] Including navigation: 'Doctor.Schedules'.
2025-11-25 17:05:14.881 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-25 17:05:14.889 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Doctor>(
    asyncEnumerable: new SingleQueryingEnumerable<Doctor>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Doctor.DoctorId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Doctor.Available (bool?), 1], [Property: Doctor.Biography (string), 2], [Property: Doctor.ConsultationFees (decimal) Required, 3], [Property: Doctor.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 4], [Property: Doctor.ExperienceYears (int?), 5], [Property: Doctor.ImageURL (string) MaxLength(300), 6], [Property: Doctor.SpecializationId (int) Required FK Index, 7], [Property: Doctor.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 8], [Property: Doctor.UserId (string) Required FK Index, 9] }
                1 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 10], [Property: User.AccessFailedCount (int) Required, 11], [Property: User.ConcurrencyStamp (string) Concurrency, 12], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 13], [Property: User.DateOfBirth (DateOnly?), 14], [Property: User.Email (string) Index MaxLength(256), 15], [Property: User.EmailConfirmed (bool) Required, 16], [Property: User.FullName (string) Required MaxLength(150), 17], [Property: User.Gender (GenderType?) MaxLength(10), 18], [Property: User.LockoutEnabled (bool) Required, 19], [Property: User.LockoutEnd (DateTimeOffset?), 20], [Property: User.NormalizedEmail (string) Index MaxLength(256), 21], [Property: User.NormalizedUserName (string) Index MaxLength(256), 22], [Property: User.PasswordHash (string), 23], [Property: User.PhoneNumber (string), 24], [Property: User.PhoneNumberConfirmed (bool) Required, 25], [Property: User.RefreshToken (string), 26], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 27], [Property: User.Role (string) Required MaxLength(50), 28], [Property: User.SecurityStamp (string), 29], [Property: User.TwoFactorEnabled (bool) Required, 30], [Property: User.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 31], [Property: User.UserName (string) MaxLength(256), 32] }
                2 -> Dictionary<IProperty, int> { [Property: Specialization.SpecializationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 33], [Property: Specialization.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 34], [Property: Specialization.Description (string), 35], [Property: Specialization.Name (string) Required MaxLength(120), 36], [Property: Specialization.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 37] }
                3 -> 0
                4 -> 10
                5 -> 33
                6 -> Dictionary<IProperty, int> { [Property: BranchDoctor (Dictionary<string, object>).BranchesBranchId (no field, int) Indexer Required PK FK AfterSave:Throw, 38], [Property: BranchDoctor (Dictionary<string, object>).DoctorsDoctorId (no field, int) Indexer Required PK FK Index AfterSave:Throw, 39] }
                7 -> Dictionary<IProperty, int> { [Property: Branch.BranchId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 40], [Property: Branch.Address (string) MaxLength(250), 41], [Property: Branch.BranchName (string) Required MaxLength(150), 42], [Property: Branch.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 43], [Property: Branch.Description (string), 44], [Property: Branch.Email (string) MaxLength(200), 45], [Property: Branch.ImageURL (string) MaxLength(300), 46], [Property: Branch.Phone (string) MaxLength(25), 47], [Property: Branch.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 48] }
                8 -> 38
                9 -> 39
                10 -> 40
                11 -> Dictionary<IProperty, int> { [Property: Schedule.ScheduleId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 49], [Property: Schedule.BranchId (int) Required FK Index, 50], [Property: Schedule.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 51], [Property: Schedule.DayOfWeek (string) Required MaxLength(20), 52], [Property: Schedule.DoctorId (int) Required FK Index, 53], [Property: Schedule.EndTime (DateTime) Required, 54], [Property: Schedule.Shift (AppointmentShift) Required, 55], [Property: Schedule.StartTime (DateTime) Required, 56], [Property: Schedule.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 57] }
                12 -> 49
            SELECT t.DoctorId, t.Available, t.Biography, t.ConsultationFees, t.CreatedAt, t.ExperienceYears, t.ImageURL, t.SpecializationId, t.UpdatedAt, t.UserId, t.Id, t.AccessFailedCount, t.ConcurrencyStamp, t.CreatedAt0, t.DateOfBirth, t.Email, t.EmailConfirmed, t.FullName, t.Gender, t.LockoutEnabled, t.LockoutEnd, t.NormalizedEmail, t.NormalizedUserName, t.PasswordHash, t.PhoneNumber, t.PhoneNumberConfirmed, t.RefreshToken, t.RefreshTokenExpiryTime, t.Role, t.SecurityStamp, t.TwoFactorEnabled, t.UpdatedAt0, t.UserName, t.SpecializationId0, t.CreatedAt1, t.Description, t.Name, t.UpdatedAt1, t0.BranchesBranchId, t0.DoctorsDoctorId, t0.BranchId, t0.Address, t0.BranchName, t0.CreatedAt, t0.Description, t0.Email, t0.ImageURL, t0.Phone, t0.UpdatedAt, s0.ScheduleId, s0.BranchId, s0.CreatedAt, s0.DayOfWeek, s0.DoctorId, s0.EndTime, s0.Shift, s0.StartTime, s0.UpdatedAt
            FROM 
            (
                SELECT TOP(1) d.DoctorId, d.Available, d.Biography, d.ConsultationFees, d.CreatedAt, d.ExperienceYears, d.ImageURL, d.SpecializationId, d.UpdatedAt, d.UserId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt AS CreatedAt0, u.DateOfBirth, u.Email, u.EmailConfirmed, u.FullName, u.Gender, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.RefreshToken, u.RefreshTokenExpiryTime, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UpdatedAt AS UpdatedAt0, u.UserName, s.SpecializationId AS SpecializationId0, s.CreatedAt AS CreatedAt1, s.Description, s.Name, s.UpdatedAt AS UpdatedAt1
                FROM Doctors AS d
                INNER JOIN Users AS u ON d.UserId == u.Id
                INNER JOIN Specializations AS s ON d.SpecializationId == s.SpecializationId
                WHERE d.DoctorId == @__doctorId_0
            ) AS t
            LEFT JOIN 
            (
                SELECT d0.BranchesBranchId, d0.DoctorsDoctorId, b.BranchId, b.Address, b.BranchName, b.CreatedAt, b.Description, b.Email, b.ImageURL, b.Phone, b.UpdatedAt
                FROM DoctorBranches AS d0
                INNER JOIN Branches AS b ON d0.BranchesBranchId == b.BranchId
            ) AS t0 ON t.DoctorId == t0.DoctorsDoctorId
            LEFT JOIN Schedules AS s0 ON t.DoctorId == s0.DoctorId
            ORDER BY t.DoctorId ASC, t.Id ASC, t.SpecializationId0 ASC, t0.BranchesBranchId ASC, t0.DoctorsDoctorId ASC, t0.BranchId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Doctor>, 
        Clinic.Infrastructure.Persistence.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-11-25 17:05:14.892 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 17:05:14.893 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 17:05:14.894 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 17:05:14.895 +02:00 [DBG] Executing DbCommand [Parameters=[@__doctorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DoctorId], [t].[Available], [t].[Biography], [t].[ConsultationFees], [t].[CreatedAt], [t].[ExperienceYears], [t].[ImageURL], [t].[SpecializationId], [t].[UpdatedAt], [t].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[CreatedAt0], [t].[DateOfBirth], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[Gender], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[Role], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UpdatedAt0], [t].[UserName], [t].[SpecializationId0], [t].[CreatedAt1], [t].[Description], [t].[Name], [t].[UpdatedAt1], [t0].[BranchesBranchId], [t0].[DoctorsDoctorId], [t0].[BranchId], [t0].[Address], [t0].[BranchName], [t0].[CreatedAt], [t0].[Description], [t0].[Email], [t0].[ImageURL], [t0].[Phone], [t0].[UpdatedAt], [s0].[ScheduleId], [s0].[BranchId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM (
    SELECT TOP(1) [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName], [s].[SpecializationId] AS [SpecializationId0], [s].[CreatedAt] AS [CreatedAt1], [s].[Description], [s].[Name], [s].[UpdatedAt] AS [UpdatedAt1]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
    WHERE [d].[DoctorId] = @__doctorId_0
) AS [t]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t0] ON [t].[DoctorId] = [t0].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [t].[DoctorId] = [s0].[DoctorId]
ORDER BY [t].[DoctorId], [t].[Id], [t].[SpecializationId0], [t0].[BranchesBranchId], [t0].[DoctorsDoctorId], [t0].[BranchId]
2025-11-25 17:05:14.912 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__doctorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DoctorId], [t].[Available], [t].[Biography], [t].[ConsultationFees], [t].[CreatedAt], [t].[ExperienceYears], [t].[ImageURL], [t].[SpecializationId], [t].[UpdatedAt], [t].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[CreatedAt0], [t].[DateOfBirth], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[Gender], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[Role], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UpdatedAt0], [t].[UserName], [t].[SpecializationId0], [t].[CreatedAt1], [t].[Description], [t].[Name], [t].[UpdatedAt1], [t0].[BranchesBranchId], [t0].[DoctorsDoctorId], [t0].[BranchId], [t0].[Address], [t0].[BranchName], [t0].[CreatedAt], [t0].[Description], [t0].[Email], [t0].[ImageURL], [t0].[Phone], [t0].[UpdatedAt], [s0].[ScheduleId], [s0].[BranchId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM (
    SELECT TOP(1) [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName], [s].[SpecializationId] AS [SpecializationId0], [s].[CreatedAt] AS [CreatedAt1], [s].[Description], [s].[Name], [s].[UpdatedAt] AS [UpdatedAt1]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
    WHERE [d].[DoctorId] = @__doctorId_0
) AS [t]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t0] ON [t].[DoctorId] = [t0].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [t].[DoctorId] = [s0].[DoctorId]
ORDER BY [t].[DoctorId], [t].[Id], [t].[SpecializationId0], [t0].[BranchesBranchId], [t0].[DoctorsDoctorId], [t0].[BranchId]
2025-11-25 17:05:14.914 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:05:14.916 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:05:14.917 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:05:14.922 +02:00 [DBG] The navigation 'Doctor.Specialization' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:05:14.924 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:05:14.938 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchDoctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:05:14.952 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:05:14.964 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:05:14.966 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:05:14.968 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:05:14.970 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:05:14.971 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:05:14.972 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 58ms reading results.
2025-11-25 17:05:14.975 +02:00 [DBG] Compiling query expression: 
'DbSet<Branch>()
    .FirstOrDefault(e => e.BranchId == __id_0)'
2025-11-25 17:05:14.980 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Branch>(
    asyncEnumerable: new SingleQueryingEnumerable<Branch>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Branch.BranchId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Branch.Address (string) MaxLength(250), 1], [Property: Branch.BranchName (string) Required MaxLength(150), 2], [Property: Branch.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: Branch.Description (string), 4], [Property: Branch.Email (string) MaxLength(200), 5], [Property: Branch.ImageURL (string) MaxLength(300), 6], [Property: Branch.Phone (string) MaxLength(25), 7], [Property: Branch.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 8] }
            SELECT TOP(1) b.BranchId, b.Address, b.BranchName, b.CreatedAt, b.Description, b.Email, b.ImageURL, b.Phone, b.UpdatedAt
            FROM Branches AS b
            WHERE b.BranchId == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Branch>, 
        Clinic.Infrastructure.Persistence.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-11-25 17:05:14.982 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 17:05:14.983 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 17:05:14.984 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 17:05:14.986 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 17:05:14.990 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 17:05:14.992 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:05:14.993 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 17:05:15.002 +02:00 [DBG] Compiling query expression: 
'DbSet<Appointment>()
    .Any(a => a.PatientId == __patientId_0 && a.DoctorId == __doctorId_1 && a.Date == __date_2 && (int)a.Shift == (int)__shift_3)'
2025-11-25 17:05:15.008 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Appointments AS a
                WHERE (((a.PatientId == @__patientId_0) && (a.DoctorId == @__doctorId_1)) && (a.Date == @__date_2)) && (a.Shift == @__shift_3))), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Clinic.Infrastructure.Persistence.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-11-25 17:05:15.018 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 17:05:15.019 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-25 17:05:15.024 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-11-25 17:05:15.025 +02:00 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int32), @__doctorId_1='?' (DbType = Int32), @__date_2='?' (DbType = DateTime2), @__shift_3='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Appointments] AS [a]
        WHERE [a].[PatientId] = @__patientId_0 AND [a].[DoctorId] = @__doctorId_1 AND [a].[Date] = @__date_2 AND [a].[Shift] = @__shift_3) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-25 17:05:15.039 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__patientId_0='?' (DbType = Int32), @__doctorId_1='?' (DbType = Int32), @__date_2='?' (DbType = DateTime2), @__shift_3='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Appointments] AS [a]
        WHERE [a].[PatientId] = @__patientId_0 AND [a].[DoctorId] = @__doctorId_1 AND [a].[Date] = @__date_2 AND [a].[Shift] = @__shift_3) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-25 17:05:15.043 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:05:15.045 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-11-25 17:05:15.070 +02:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Appointment.AppointmentId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:05:15.101 +02:00 [DBG] The navigation 'Appointment.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:05:15.105 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:05:15.107 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:05:15.112 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:05:15.118 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 17:05:15.185 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 17:05:15.193 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 17:05:15.195 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 17:05:15.196 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 17:05:15.253 +02:00 [DBG] Creating transaction savepoint.
2025-11-25 17:05:15.265 +02:00 [DBG] Created transaction savepoint.
2025-11-25 17:05:15.269 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 17:05:15.269 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 17:05:15.272 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-11-25 17:05:15.273 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 450), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 20), @p9='?' (Size = 20), @p10='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointments] ([BranchId], [CreatedAt], [CreatedBy], [Date], [DoctorId], [Notes], [PatientId], [PaymentMethod], [Shift], [Status], [UpdatedAt])
OUTPUT INSERTED.[AppointmentId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-11-25 17:05:15.298 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 450), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 20), @p9='?' (Size = 20), @p10='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointments] ([BranchId], [CreatedAt], [CreatedBy], [Date], [DoctorId], [Notes], [PatientId], [PaymentMethod], [Shift], [Status], [UpdatedAt])
OUTPUT INSERTED.[AppointmentId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-11-25 17:05:15.307 +02:00 [DBG] The foreign key property 'Appointment.AppointmentId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-25 17:05:15.311 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:05:15.312 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 13ms reading results.
2025-11-25 17:05:15.321 +02:00 [DBG] An entity of type 'Appointment' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:05:15.324 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-25 17:05:15.328 +02:00 [DBG] Committing transaction.
2025-11-25 17:05:15.331 +02:00 [DBG] Committed transaction.
2025-11-25 17:05:15.333 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:05:15.334 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 17:05:15.335 +02:00 [INF] Appointment created successfully with ID: 1
2025-11-25 17:05:15.340 +02:00 [DBG] Disposing transaction.
2025-11-25 17:05:15.342 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 17:05:15.344 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 17:05:15.344 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 17:05:15.345 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 17:05:15.345 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 17:05:15.346 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Hospital.Application.DTO.Appointment.AppointmentDto'.
2025-11-25 17:05:15.361 +02:00 [DBG] Found the endpoints ["Hospital.API.Controllers.AppointmentController.GetById (Hospital)"] for address (id=[1],action=[GetById],controller=[Appointment])
2025-11-25 17:05:15.364 +02:00 [DBG] Successfully processed template api/Appointment/{id:int} for Hospital.API.Controllers.AppointmentController.GetById (Hospital) resulting in /api/Appointment/1 and 
2025-11-25 17:05:15.366 +02:00 [DBG] Link generation succeeded for endpoints ["Hospital.API.Controllers.AppointmentController.GetById (Hospital)"] with result /api/Appointment/1
2025-11-25 17:05:15.372 +02:00 [INF] Executed action Hospital.API.Controllers.AppointmentController.Add (Hospital) in 888.5501ms
2025-11-25 17:05:15.373 +02:00 [INF] Executed endpoint 'Hospital.API.Controllers.AppointmentController.Add (Hospital)'
2025-11-25 17:05:15.374 +02:00 [DBG] Connection id "0HNHC6FAJIEJ0" completed keep alive response.
2025-11-25 17:05:15.375 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 17:05:15.375 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:05:15.376 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 17:05:15.378 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/Appointment - 201 null application/json; charset=utf-8 917.678ms
2025-11-25 17:06:00.157 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/Appointment - application/json 159
2025-11-25 17:06:00.163 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment'
2025-11-25 17:06:00.164 +02:00 [DBG] Endpoint 'Hospital.API.Controllers.AppointmentController.Add (Hospital)' with route pattern 'api/Appointment' is valid for the request path '/api/Appointment'
2025-11-25 17:06:00.165 +02:00 [DBG] Request matched endpoint 'Hospital.API.Controllers.AppointmentController.Add (Hospital)'
2025-11-25 17:06:00.166 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 17:06:00.168 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 17:06:00.169 +02:00 [INF] Executing endpoint 'Hospital.API.Controllers.AppointmentController.Add (Hospital)'
2025-11-25 17:06:00.169 +02:00 [INF] Route matched with {action = "Add", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(Hospital.Application.DTO.Appointment.AddAppointmentDto) on controller Hospital.API.Controllers.AppointmentController (Hospital).
2025-11-25 17:06:00.171 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 17:06:00.172 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 17:06:00.173 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 17:06:00.174 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 17:06:00.175 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 17:06:00.176 +02:00 [DBG] Executing controller factory for controller Hospital.API.Controllers.AppointmentController (Hospital)
2025-11-25 17:06:00.178 +02:00 [DBG] Executed controller factory for controller Hospital.API.Controllers.AppointmentController (Hospital)
2025-11-25 17:06:00.179 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Appointment.AddAppointmentDto' ...
2025-11-25 17:06:00.180 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Appointment.AddAppointmentDto' using the name '' in request data ...
2025-11-25 17:06:00.181 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 17:06:00.182 +02:00 [DBG] Connection id "0HNHC6FAJIEJ0", Request id "0HNHC6FAJIEJ0:00000003": started reading request body.
2025-11-25 17:06:00.183 +02:00 [DBG] Connection id "0HNHC6FAJIEJ0", Request id "0HNHC6FAJIEJ0:00000003": done reading request body.
2025-11-25 17:06:00.184 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.Appointment.AddAppointmentDto'
2025-11-25 17:06:00.185 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Appointment.AddAppointmentDto'.
2025-11-25 17:06:00.186 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Appointment.AddAppointmentDto'.
2025-11-25 17:06:00.187 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Appointment.AddAppointmentDto' ...
2025-11-25 17:06:00.188 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Appointment.AddAppointmentDto'.
2025-11-25 17:06:00.189 +02:00 [INF] Add Appointment called at "2025-11-25T17:06:00.1895456+02:00"
2025-11-25 17:06:00.190 +02:00 [INF] Creating appointment for PatientId: 1, DoctorId: 1, Date: "2025-11-26", Shift: "Afternoon"
2025-11-25 17:06:00.198 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 17:06:00.200 +02:00 [DBG] Creating DbConnection.
2025-11-25 17:06:00.204 +02:00 [DBG] Created DbConnection. (3ms).
2025-11-25 17:06:00.206 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:06:00.207 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:06:00.208 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 17:06:00.209 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 17:06:00.213 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 17:06:00.214 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 17:06:00.215 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 17:06:00.216 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[PatientId], [t].[CreatedAt], [t].[EmergencyContact], [t].[UpdatedAt], [t].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[CreatedAt0], [t].[DateOfBirth], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[Gender], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[Role], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UpdatedAt0], [t].[UserName], [t0].[RecordId], [t0].[AppointmentId], [t0].[CreatedAt], [t0].[Diagnosis], [t0].[DoctorId], [t0].[Notes], [t0].[PatientId], [t0].[TreatmentPlan], [t0].[UpdatedAt], [t0].[DoctorId0], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt0], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt0], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt1], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt1], [t0].[UserName]
FROM (
    SELECT TOP(1) [p].[PatientId], [p].[CreatedAt], [p].[EmergencyContact], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Patients] AS [p]
    INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
    WHERE [p].[PatientId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m].[RecordId], [m].[AppointmentId], [m].[CreatedAt], [m].[Diagnosis], [m].[DoctorId], [m].[Notes], [m].[PatientId], [m].[TreatmentPlan], [m].[UpdatedAt], [d].[DoctorId] AS [DoctorId0], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt] AS [CreatedAt0], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt] AS [UpdatedAt0], [d].[UserId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt] AS [CreatedAt1], [u0].[DateOfBirth], [u0].[Email], [u0].[EmailConfirmed], [u0].[FullName], [u0].[Gender], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[RefreshToken], [u0].[RefreshTokenExpiryTime], [u0].[Role], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt] AS [UpdatedAt1], [u0].[UserName]
    FROM [MedicalRecords] AS [m]
    INNER JOIN [Doctors] AS [d] ON [m].[DoctorId] = [d].[DoctorId]
    INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
) AS [t0] ON [t].[PatientId] = [t0].[PatientId]
ORDER BY [t].[PatientId], [t].[Id], [t0].[RecordId], [t0].[DoctorId0]
2025-11-25 17:06:00.228 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[PatientId], [t].[CreatedAt], [t].[EmergencyContact], [t].[UpdatedAt], [t].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[CreatedAt0], [t].[DateOfBirth], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[Gender], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[Role], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UpdatedAt0], [t].[UserName], [t0].[RecordId], [t0].[AppointmentId], [t0].[CreatedAt], [t0].[Diagnosis], [t0].[DoctorId], [t0].[Notes], [t0].[PatientId], [t0].[TreatmentPlan], [t0].[UpdatedAt], [t0].[DoctorId0], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt0], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt0], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt1], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt1], [t0].[UserName]
FROM (
    SELECT TOP(1) [p].[PatientId], [p].[CreatedAt], [p].[EmergencyContact], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Patients] AS [p]
    INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
    WHERE [p].[PatientId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m].[RecordId], [m].[AppointmentId], [m].[CreatedAt], [m].[Diagnosis], [m].[DoctorId], [m].[Notes], [m].[PatientId], [m].[TreatmentPlan], [m].[UpdatedAt], [d].[DoctorId] AS [DoctorId0], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt] AS [CreatedAt0], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt] AS [UpdatedAt0], [d].[UserId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt] AS [CreatedAt1], [u0].[DateOfBirth], [u0].[Email], [u0].[EmailConfirmed], [u0].[FullName], [u0].[Gender], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[RefreshToken], [u0].[RefreshTokenExpiryTime], [u0].[Role], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt] AS [UpdatedAt1], [u0].[UserName]
    FROM [MedicalRecords] AS [m]
    INNER JOIN [Doctors] AS [d] ON [m].[DoctorId] = [d].[DoctorId]
    INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
) AS [t0] ON [t].[PatientId] = [t0].[PatientId]
ORDER BY [t].[PatientId], [t].[Id], [t0].[RecordId], [t0].[DoctorId0]
2025-11-25 17:06:00.230 +02:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:00.231 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:00.232 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:00.232 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:06:00.233 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-11-25 17:06:00.235 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 17:06:00.235 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 17:06:00.236 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 17:06:00.237 +02:00 [DBG] Executing DbCommand [Parameters=[@__doctorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DoctorId], [t].[Available], [t].[Biography], [t].[ConsultationFees], [t].[CreatedAt], [t].[ExperienceYears], [t].[ImageURL], [t].[SpecializationId], [t].[UpdatedAt], [t].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[CreatedAt0], [t].[DateOfBirth], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[Gender], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[Role], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UpdatedAt0], [t].[UserName], [t].[SpecializationId0], [t].[CreatedAt1], [t].[Description], [t].[Name], [t].[UpdatedAt1], [t0].[BranchesBranchId], [t0].[DoctorsDoctorId], [t0].[BranchId], [t0].[Address], [t0].[BranchName], [t0].[CreatedAt], [t0].[Description], [t0].[Email], [t0].[ImageURL], [t0].[Phone], [t0].[UpdatedAt], [s0].[ScheduleId], [s0].[BranchId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM (
    SELECT TOP(1) [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName], [s].[SpecializationId] AS [SpecializationId0], [s].[CreatedAt] AS [CreatedAt1], [s].[Description], [s].[Name], [s].[UpdatedAt] AS [UpdatedAt1]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
    WHERE [d].[DoctorId] = @__doctorId_0
) AS [t]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t0] ON [t].[DoctorId] = [t0].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [t].[DoctorId] = [s0].[DoctorId]
ORDER BY [t].[DoctorId], [t].[Id], [t].[SpecializationId0], [t0].[BranchesBranchId], [t0].[DoctorsDoctorId], [t0].[BranchId]
2025-11-25 17:06:00.246 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__doctorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DoctorId], [t].[Available], [t].[Biography], [t].[ConsultationFees], [t].[CreatedAt], [t].[ExperienceYears], [t].[ImageURL], [t].[SpecializationId], [t].[UpdatedAt], [t].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[CreatedAt0], [t].[DateOfBirth], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[Gender], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[Role], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UpdatedAt0], [t].[UserName], [t].[SpecializationId0], [t].[CreatedAt1], [t].[Description], [t].[Name], [t].[UpdatedAt1], [t0].[BranchesBranchId], [t0].[DoctorsDoctorId], [t0].[BranchId], [t0].[Address], [t0].[BranchName], [t0].[CreatedAt], [t0].[Description], [t0].[Email], [t0].[ImageURL], [t0].[Phone], [t0].[UpdatedAt], [s0].[ScheduleId], [s0].[BranchId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM (
    SELECT TOP(1) [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName], [s].[SpecializationId] AS [SpecializationId0], [s].[CreatedAt] AS [CreatedAt1], [s].[Description], [s].[Name], [s].[UpdatedAt] AS [UpdatedAt1]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
    WHERE [d].[DoctorId] = @__doctorId_0
) AS [t]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t0] ON [t].[DoctorId] = [t0].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [t].[DoctorId] = [s0].[DoctorId]
ORDER BY [t].[DoctorId], [t].[Id], [t].[SpecializationId0], [t0].[BranchesBranchId], [t0].[DoctorsDoctorId], [t0].[BranchId]
2025-11-25 17:06:00.248 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:00.249 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:00.250 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:00.251 +02:00 [DBG] The navigation 'Doctor.Specialization' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:00.252 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:00.253 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchDoctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:00.254 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:00.254 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:00.255 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:00.256 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:00.257 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:00.258 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:06:00.259 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 10ms reading results.
2025-11-25 17:06:00.260 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 17:06:00.260 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 17:06:00.261 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 17:06:00.262 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 17:06:00.264 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 17:06:00.266 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:06:00.267 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-25 17:06:00.268 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 17:06:00.269 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 17:06:00.270 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 17:06:00.271 +02:00 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int32), @__doctorId_1='?' (DbType = Int32), @__date_2='?' (DbType = DateTime2), @__shift_3='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Appointments] AS [a]
        WHERE [a].[PatientId] = @__patientId_0 AND [a].[DoctorId] = @__doctorId_1 AND [a].[Date] = @__date_2 AND [a].[Shift] = @__shift_3) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-25 17:06:00.291 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__patientId_0='?' (DbType = Int32), @__doctorId_1='?' (DbType = Int32), @__date_2='?' (DbType = DateTime2), @__shift_3='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Appointments] AS [a]
        WHERE [a].[PatientId] = @__patientId_0 AND [a].[DoctorId] = @__doctorId_1 AND [a].[Date] = @__date_2 AND [a].[Shift] = @__shift_3) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-25 17:06:00.293 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:06:00.293 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-25 17:06:00.296 +02:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Appointment.AppointmentId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:00.297 +02:00 [DBG] The navigation 'Appointment.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:00.298 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:00.299 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:00.299 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:00.300 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 17:06:00.301 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 17:06:00.302 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 17:06:00.303 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 17:06:00.304 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 17:06:00.305 +02:00 [DBG] Creating transaction savepoint.
2025-11-25 17:06:00.306 +02:00 [DBG] Created transaction savepoint.
2025-11-25 17:06:00.307 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 17:06:00.308 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 17:06:00.308 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 17:06:00.309 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 450), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 20), @p9='?' (Size = 20), @p10='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointments] ([BranchId], [CreatedAt], [CreatedBy], [Date], [DoctorId], [Notes], [PatientId], [PaymentMethod], [Shift], [Status], [UpdatedAt])
OUTPUT INSERTED.[AppointmentId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-11-25 17:06:00.315 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 450), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 20), @p9='?' (Size = 20), @p10='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointments] ([BranchId], [CreatedAt], [CreatedBy], [Date], [DoctorId], [Notes], [PatientId], [PaymentMethod], [Shift], [Status], [UpdatedAt])
OUTPUT INSERTED.[AppointmentId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-11-25 17:06:00.317 +02:00 [DBG] The foreign key property 'Appointment.AppointmentId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-25 17:06:00.318 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:06:00.318 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-11-25 17:06:00.320 +02:00 [DBG] An entity of type 'Appointment' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:00.321 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-25 17:06:00.324 +02:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Payment.PaymentId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:00.342 +02:00 [DBG] The navigation 'Payment.Appointment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:00.345 +02:00 [DBG] The navigation 'Appointment.Payment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:00.346 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:00.347 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 17:06:00.356 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 17:06:00.358 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 17:06:00.359 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 17:06:00.360 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 17:06:00.362 +02:00 [DBG] Creating transaction savepoint.
2025-11-25 17:06:00.364 +02:00 [DBG] Created transaction savepoint.
2025-11-25 17:06:00.365 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 17:06:00.366 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 17:06:00.369 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-11-25 17:06:00.371 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 3), @p4='?' (Size = 4000), @p5='?' (Size = 100), @p6='?' (DbType = Int64), @p7='?' (DbType = Int64), @p8='?' (Size = 20), @p9='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Payments] ([Amount], [AppointmentId], [CreatedAt], [Currency], [GatewayResponse], [PaymobMerchantOrderId], [PaymobOrderId], [PaymobTransactionId], [Status], [UpdatedAt])
OUTPUT INSERTED.[PaymentId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-11-25 17:06:00.380 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 3), @p4='?' (Size = 4000), @p5='?' (Size = 100), @p6='?' (DbType = Int64), @p7='?' (DbType = Int64), @p8='?' (Size = 20), @p9='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Payments] ([Amount], [AppointmentId], [CreatedAt], [Currency], [GatewayResponse], [PaymobMerchantOrderId], [PaymobOrderId], [PaymobTransactionId], [Status], [UpdatedAt])
OUTPUT INSERTED.[PaymentId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-11-25 17:06:00.383 +02:00 [DBG] The foreign key property 'Payment.PaymentId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-25 17:06:00.385 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:06:00.386 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-11-25 17:06:00.388 +02:00 [DBG] An entity of type 'Payment' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:00.389 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-25 17:06:00.390 +02:00 [DBG] Committing transaction.
2025-11-25 17:06:00.391 +02:00 [DBG] Committed transaction.
2025-11-25 17:06:00.391 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:06:00.392 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 17:06:00.393 +02:00 [INF] Appointment created successfully with ID: 2
2025-11-25 17:06:00.394 +02:00 [DBG] Disposing transaction.
2025-11-25 17:06:00.395 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 17:06:00.397 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 17:06:00.398 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 17:06:00.398 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 17:06:00.399 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 17:06:00.400 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Hospital.Application.DTO.Appointment.AppointmentDto'.
2025-11-25 17:06:00.401 +02:00 [DBG] Found the endpoints ["Hospital.API.Controllers.AppointmentController.GetById (Hospital)"] for address (id=[2],action=[GetById],controller=[Appointment])
2025-11-25 17:06:00.402 +02:00 [DBG] Successfully processed template api/Appointment/{id:int} for Hospital.API.Controllers.AppointmentController.GetById (Hospital) resulting in /api/Appointment/2 and 
2025-11-25 17:06:00.403 +02:00 [DBG] Link generation succeeded for endpoints ["Hospital.API.Controllers.AppointmentController.GetById (Hospital)"] with result /api/Appointment/2
2025-11-25 17:06:00.405 +02:00 [INF] Executed action Hospital.API.Controllers.AppointmentController.Add (Hospital) in 229.212ms
2025-11-25 17:06:00.406 +02:00 [INF] Executed endpoint 'Hospital.API.Controllers.AppointmentController.Add (Hospital)'
2025-11-25 17:06:00.407 +02:00 [DBG] Connection id "0HNHC6FAJIEJ0" completed keep alive response.
2025-11-25 17:06:00.407 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 17:06:00.408 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:06:00.409 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 17:06:00.411 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/Appointment - 201 null application/json; charset=utf-8 254.1939ms
2025-11-25 17:06:14.412 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7217/api/Appointment/MarkAsCompleted/1 - null 0
2025-11-25 17:06:14.414 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment/MarkAsCompleted/1'
2025-11-25 17:06:14.415 +02:00 [DBG] Endpoint 'Hospital.API.Controllers.AppointmentController.MarkAsCompleted (Hospital)' with route pattern 'api/Appointment/MarkAsCompleted/{id:int}' is valid for the request path '/api/Appointment/MarkAsCompleted/1'
2025-11-25 17:06:14.417 +02:00 [DBG] Request matched endpoint 'Hospital.API.Controllers.AppointmentController.MarkAsCompleted (Hospital)'
2025-11-25 17:06:14.417 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 17:06:14.418 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 17:06:14.419 +02:00 [INF] Executing endpoint 'Hospital.API.Controllers.AppointmentController.MarkAsCompleted (Hospital)'
2025-11-25 17:06:14.423 +02:00 [INF] Route matched with {action = "MarkAsCompleted", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] MarkAsCompleted(Int32) on controller Hospital.API.Controllers.AppointmentController (Hospital).
2025-11-25 17:06:14.425 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 17:06:14.425 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 17:06:14.426 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 17:06:14.427 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 17:06:14.428 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 17:06:14.429 +02:00 [DBG] Executing controller factory for controller Hospital.API.Controllers.AppointmentController (Hospital)
2025-11-25 17:06:14.433 +02:00 [DBG] Executed controller factory for controller Hospital.API.Controllers.AppointmentController (Hospital)
2025-11-25 17:06:14.434 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-11-25 17:06:14.435 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-11-25 17:06:14.437 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-11-25 17:06:14.438 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-11-25 17:06:14.439 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-11-25 17:06:14.440 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-11-25 17:06:14.441 +02:00 [INF] Mark Appointment as Completed called at "2025-11-25T17:06:14.4417275+02:00"
2025-11-25 17:06:14.444 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 17:06:14.446 +02:00 [DBG] Compiling query expression: 
'DbSet<Appointment>()
    .Include(a => a.Patient)
    .Include(a => a.Doctor)
    .Include(a => a.Branch)
    .FirstOrDefault(a => a.AppointmentId == __id_0)'
2025-11-25 17:06:14.448 +02:00 [DBG] Including navigation: 'Appointment.Patient'.
2025-11-25 17:06:14.449 +02:00 [DBG] Including navigation: 'Appointment.Doctor'.
2025-11-25 17:06:14.450 +02:00 [DBG] Including navigation: 'Appointment.Branch'.
2025-11-25 17:06:14.458 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Appointment>(
    asyncEnumerable: new SingleQueryingEnumerable<Appointment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Appointment.AppointmentId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.BranchId (int) Required FK Index, 1], [Property: Appointment.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Appointment.CreatedBy (string) FK Index, 3], [Property: Appointment.Date (DateOnly) Required, 4], [Property: Appointment.DoctorId (int) Required FK Index, 5], [Property: Appointment.Notes (string), 6], [Property: Appointment.PatientId (int) Required FK Index, 7], [Property: Appointment.PaymentMethod (PaymentMethod) Required, 8], [Property: Appointment.Shift (AppointmentShift) Required MaxLength(20), 9], [Property: Appointment.Status (AppointmentStatus) Required MaxLength(20), 10], [Property: Appointment.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 11] }
                1 -> Dictionary<IProperty, int> { [Property: Patient.PatientId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 12], [Property: Patient.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 13], [Property: Patient.EmergencyContact (string) MaxLength(150), 14], [Property: Patient.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 15], [Property: Patient.UserId (string) Required FK Index, 16] }
                2 -> Dictionary<IProperty, int> { [Property: Doctor.DoctorId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 17], [Property: Doctor.Available (bool?), 18], [Property: Doctor.Biography (string), 19], [Property: Doctor.ConsultationFees (decimal) Required, 20], [Property: Doctor.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 21], [Property: Doctor.ExperienceYears (int?), 22], [Property: Doctor.ImageURL (string) MaxLength(300), 23], [Property: Doctor.SpecializationId (int) Required FK Index, 24], [Property: Doctor.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 25], [Property: Doctor.UserId (string) Required FK Index, 26] }
                3 -> Dictionary<IProperty, int> { [Property: Branch.BranchId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 27], [Property: Branch.Address (string) MaxLength(250), 28], [Property: Branch.BranchName (string) Required MaxLength(150), 29], [Property: Branch.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 30], [Property: Branch.Description (string), 31], [Property: Branch.Email (string) MaxLength(200), 32], [Property: Branch.ImageURL (string) MaxLength(300), 33], [Property: Branch.Phone (string) MaxLength(25), 34], [Property: Branch.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 35] }
            SELECT TOP(1) a.AppointmentId, a.BranchId, a.CreatedAt, a.CreatedBy, a.Date, a.DoctorId, a.Notes, a.PatientId, a.PaymentMethod, a.Shift, a.Status, a.UpdatedAt, p.PatientId, p.CreatedAt, p.EmergencyContact, p.UpdatedAt, p.UserId, d.DoctorId, d.Available, d.Biography, d.ConsultationFees, d.CreatedAt, d.ExperienceYears, d.ImageURL, d.SpecializationId, d.UpdatedAt, d.UserId, b.BranchId, b.Address, b.BranchName, b.CreatedAt, b.Description, b.Email, b.ImageURL, b.Phone, b.UpdatedAt
            FROM Appointments AS a
            INNER JOIN Patients AS p ON a.PatientId == p.PatientId
            INNER JOIN Doctors AS d ON a.DoctorId == d.DoctorId
            INNER JOIN Branches AS b ON a.BranchId == b.BranchId
            WHERE a.AppointmentId == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
        Clinic.Infrastructure.Persistence.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-11-25 17:06:14.460 +02:00 [DBG] Creating DbConnection.
2025-11-25 17:06:14.460 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 17:06:14.461 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:06:14.462 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:06:14.463 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 17:06:14.463 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 17:06:14.464 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 17:06:14.465 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentId], [a].[BranchId], [a].[CreatedAt], [a].[CreatedBy], [a].[Date], [a].[DoctorId], [a].[Notes], [a].[PatientId], [a].[PaymentMethod], [a].[Shift], [a].[Status], [a].[UpdatedAt], [p].[PatientId], [p].[CreatedAt], [p].[EmergencyContact], [p].[UpdatedAt], [p].[UserId], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[PatientId]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[DoctorId]
INNER JOIN [Branches] AS [b] ON [a].[BranchId] = [b].[BranchId]
WHERE [a].[AppointmentId] = @__id_0
2025-11-25 17:06:14.472 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentId], [a].[BranchId], [a].[CreatedAt], [a].[CreatedBy], [a].[Date], [a].[DoctorId], [a].[Notes], [a].[PatientId], [a].[PaymentMethod], [a].[Shift], [a].[Status], [a].[UpdatedAt], [p].[PatientId], [p].[CreatedAt], [p].[EmergencyContact], [p].[UpdatedAt], [p].[UserId], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[PatientId]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[DoctorId]
INNER JOIN [Branches] AS [b] ON [a].[BranchId] = [b].[BranchId]
WHERE [a].[AppointmentId] = @__id_0
2025-11-25 17:06:14.476 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:14.477 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:14.478 +02:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:14.479 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:14.480 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:14.481 +02:00 [DBG] The navigation 'Appointment.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:14.482 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:14.483 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:06:14.484 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 10ms reading results.
2025-11-25 17:06:14.485 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:06:14.486 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 17:06:14.487 +02:00 [DBG] An entity of type 'Appointment' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:14.489 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 17:06:14.489 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 17:06:14.490 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 17:06:14.491 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 17:06:14.491 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 17:06:14.495 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:06:14.496 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:06:14.497 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 17:06:14.498 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 17:06:14.499 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 17:06:14.500 +02:00 [DBG] Executing DbCommand [Parameters=[@p11='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 450), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 20), @p9='?' (Size = 20), @p10='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Appointments] SET [BranchId] = @p0, [CreatedAt] = @p1, [CreatedBy] = @p2, [Date] = @p3, [DoctorId] = @p4, [Notes] = @p5, [PatientId] = @p6, [PaymentMethod] = @p7, [Shift] = @p8, [Status] = @p9, [UpdatedAt] = @p10
OUTPUT 1
WHERE [AppointmentId] = @p11;
2025-11-25 17:06:14.511 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p11='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 450), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 20), @p9='?' (Size = 20), @p10='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Appointments] SET [BranchId] = @p0, [CreatedAt] = @p1, [CreatedBy] = @p2, [Date] = @p3, [DoctorId] = @p4, [Notes] = @p5, [PatientId] = @p6, [PaymentMethod] = @p7, [Shift] = @p8, [Status] = @p9, [UpdatedAt] = @p10
OUTPUT 1
WHERE [AppointmentId] = @p11;
2025-11-25 17:06:14.514 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:06:14.514 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 17:06:14.515 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:06:14.516 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 17:06:14.517 +02:00 [DBG] An entity of type 'Appointment' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:14.518 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-25 17:06:14.519 +02:00 [INF] Appointment with ID 1 marked as completed
2025-11-25 17:06:14.521 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 17:06:14.522 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 17:06:14.522 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 17:06:14.523 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 17:06:14.523 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-11-25 17:06:14.524 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-11-25 17:06:14.526 +02:00 [INF] Executed action Hospital.API.Controllers.AppointmentController.MarkAsCompleted (Hospital) in 96.7331ms
2025-11-25 17:06:14.527 +02:00 [INF] Executed endpoint 'Hospital.API.Controllers.AppointmentController.MarkAsCompleted (Hospital)'
2025-11-25 17:06:14.528 +02:00 [DBG] Connection id "0HNHC6FAJIEJ0" completed keep alive response.
2025-11-25 17:06:14.529 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 17:06:14.529 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:06:14.530 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 17:06:14.531 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7217/api/Appointment/MarkAsCompleted/1 - 200 null text/plain; charset=utf-8 119.1942ms
2025-11-25 17:06:20.709 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7217/api/Appointment/GetAll - null null
2025-11-25 17:06:20.712 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment/GetAll'
2025-11-25 17:06:20.713 +02:00 [DBG] Endpoint 'Hospital.API.Controllers.AppointmentController.GetAll (Hospital)' with route pattern 'api/Appointment/GetAll' is valid for the request path '/api/Appointment/GetAll'
2025-11-25 17:06:20.714 +02:00 [DBG] Request matched endpoint 'Hospital.API.Controllers.AppointmentController.GetAll (Hospital)'
2025-11-25 17:06:20.715 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 17:06:20.716 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 17:06:20.717 +02:00 [INF] Executing endpoint 'Hospital.API.Controllers.AppointmentController.GetAll (Hospital)'
2025-11-25 17:06:20.720 +02:00 [INF] Route matched with {action = "GetAll", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.API.Controllers.AppointmentController (Hospital).
2025-11-25 17:06:20.721 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 17:06:20.723 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 17:06:20.724 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 17:06:20.725 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 17:06:20.726 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 17:06:20.728 +02:00 [DBG] Executing controller factory for controller Hospital.API.Controllers.AppointmentController (Hospital)
2025-11-25 17:06:20.729 +02:00 [DBG] Executed controller factory for controller Hospital.API.Controllers.AppointmentController (Hospital)
2025-11-25 17:06:20.731 +02:00 [INF] Get All Appointments called at "2025-11-25T17:06:20.7311920+02:00"
2025-11-25 17:06:20.732 +02:00 [INF] Fetching all appointments
2025-11-25 17:06:20.734 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 17:06:20.736 +02:00 [DBG] Compiling query expression: 
'DbSet<Appointment>()
    .Include(a => a.Patient)
    .Include(a => a.Doctor)
    .Include(a => a.Branch)'
2025-11-25 17:06:20.737 +02:00 [DBG] Including navigation: 'Appointment.Patient'.
2025-11-25 17:06:20.738 +02:00 [DBG] Including navigation: 'Appointment.Doctor'.
2025-11-25 17:06:20.738 +02:00 [DBG] Including navigation: 'Appointment.Branch'.
2025-11-25 17:06:20.745 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Appointment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Appointment.AppointmentId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.BranchId (int) Required FK Index, 1], [Property: Appointment.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Appointment.CreatedBy (string) FK Index, 3], [Property: Appointment.Date (DateOnly) Required, 4], [Property: Appointment.DoctorId (int) Required FK Index, 5], [Property: Appointment.Notes (string), 6], [Property: Appointment.PatientId (int) Required FK Index, 7], [Property: Appointment.PaymentMethod (PaymentMethod) Required, 8], [Property: Appointment.Shift (AppointmentShift) Required MaxLength(20), 9], [Property: Appointment.Status (AppointmentStatus) Required MaxLength(20), 10], [Property: Appointment.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 11] }
            1 -> Dictionary<IProperty, int> { [Property: Patient.PatientId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 12], [Property: Patient.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 13], [Property: Patient.EmergencyContact (string) MaxLength(150), 14], [Property: Patient.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 15], [Property: Patient.UserId (string) Required FK Index, 16] }
            2 -> Dictionary<IProperty, int> { [Property: Doctor.DoctorId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 17], [Property: Doctor.Available (bool?), 18], [Property: Doctor.Biography (string), 19], [Property: Doctor.ConsultationFees (decimal) Required, 20], [Property: Doctor.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 21], [Property: Doctor.ExperienceYears (int?), 22], [Property: Doctor.ImageURL (string) MaxLength(300), 23], [Property: Doctor.SpecializationId (int) Required FK Index, 24], [Property: Doctor.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 25], [Property: Doctor.UserId (string) Required FK Index, 26] }
            3 -> Dictionary<IProperty, int> { [Property: Branch.BranchId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 27], [Property: Branch.Address (string) MaxLength(250), 28], [Property: Branch.BranchName (string) Required MaxLength(150), 29], [Property: Branch.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 30], [Property: Branch.Description (string), 31], [Property: Branch.Email (string) MaxLength(200), 32], [Property: Branch.ImageURL (string) MaxLength(300), 33], [Property: Branch.Phone (string) MaxLength(25), 34], [Property: Branch.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 35] }
        SELECT a.AppointmentId, a.BranchId, a.CreatedAt, a.CreatedBy, a.Date, a.DoctorId, a.Notes, a.PatientId, a.PaymentMethod, a.Shift, a.Status, a.UpdatedAt, p.PatientId, p.CreatedAt, p.EmergencyContact, p.UpdatedAt, p.UserId, d.DoctorId, d.Available, d.Biography, d.ConsultationFees, d.CreatedAt, d.ExperienceYears, d.ImageURL, d.SpecializationId, d.UpdatedAt, d.UserId, b.BranchId, b.Address, b.BranchName, b.CreatedAt, b.Description, b.Email, b.ImageURL, b.Phone, b.UpdatedAt
        FROM Appointments AS a
        INNER JOIN Patients AS p ON a.PatientId == p.PatientId
        INNER JOIN Doctors AS d ON a.DoctorId == d.DoctorId
        INNER JOIN Branches AS b ON a.BranchId == b.BranchId), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-11-25 17:06:20.747 +02:00 [DBG] Creating DbConnection.
2025-11-25 17:06:20.747 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 17:06:20.748 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:06:20.749 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:06:20.750 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 17:06:20.751 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 17:06:20.751 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 17:06:20.752 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentId], [a].[BranchId], [a].[CreatedAt], [a].[CreatedBy], [a].[Date], [a].[DoctorId], [a].[Notes], [a].[PatientId], [a].[PaymentMethod], [a].[Shift], [a].[Status], [a].[UpdatedAt], [p].[PatientId], [p].[CreatedAt], [p].[EmergencyContact], [p].[UpdatedAt], [p].[UserId], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[PatientId]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[DoctorId]
INNER JOIN [Branches] AS [b] ON [a].[BranchId] = [b].[BranchId]
2025-11-25 17:06:20.760 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentId], [a].[BranchId], [a].[CreatedAt], [a].[CreatedBy], [a].[Date], [a].[DoctorId], [a].[Notes], [a].[PatientId], [a].[PaymentMethod], [a].[Shift], [a].[Status], [a].[UpdatedAt], [p].[PatientId], [p].[CreatedAt], [p].[EmergencyContact], [p].[UpdatedAt], [p].[UserId], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[PatientId]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[DoctorId]
INNER JOIN [Branches] AS [b] ON [a].[BranchId] = [b].[BranchId]
2025-11-25 17:06:20.762 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:20.763 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:20.764 +02:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:20.765 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:20.765 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:20.766 +02:00 [DBG] The navigation 'Appointment.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:20.767 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:20.768 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:20.770 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:20.771 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:20.772 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:06:20.773 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 11ms reading results.
2025-11-25 17:06:20.774 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:06:20.776 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 17:06:20.779 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 17:06:20.781 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 17:06:20.782 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 17:06:20.783 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 17:06:20.783 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 17:06:20.785 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Appointment.AppointmentDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 17:06:20.786 +02:00 [INF] Executed action Hospital.API.Controllers.AppointmentController.GetAll (Hospital) in 58.9767ms
2025-11-25 17:06:20.788 +02:00 [INF] Executed endpoint 'Hospital.API.Controllers.AppointmentController.GetAll (Hospital)'
2025-11-25 17:06:20.789 +02:00 [DBG] Connection id "0HNHC6FAJIEJ0" completed keep alive response.
2025-11-25 17:06:20.790 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 17:06:20.791 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:06:20.792 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 17:06:20.793 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7217/api/Appointment/GetAll - 200 null application/json; charset=utf-8 84.0978ms
2025-11-25 17:06:42.495 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7217/api/Appointment/GetAll - null null
2025-11-25 17:06:42.498 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment/GetAll'
2025-11-25 17:06:42.498 +02:00 [DBG] Endpoint 'Hospital.API.Controllers.AppointmentController.GetAll (Hospital)' with route pattern 'api/Appointment/GetAll' is valid for the request path '/api/Appointment/GetAll'
2025-11-25 17:06:42.499 +02:00 [DBG] Request matched endpoint 'Hospital.API.Controllers.AppointmentController.GetAll (Hospital)'
2025-11-25 17:06:42.500 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 17:06:42.501 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 17:06:42.502 +02:00 [INF] Executing endpoint 'Hospital.API.Controllers.AppointmentController.GetAll (Hospital)'
2025-11-25 17:06:42.502 +02:00 [INF] Route matched with {action = "GetAll", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.API.Controllers.AppointmentController (Hospital).
2025-11-25 17:06:42.504 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 17:06:42.505 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 17:06:42.506 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 17:06:42.507 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 17:06:42.508 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 17:06:42.509 +02:00 [DBG] Executing controller factory for controller Hospital.API.Controllers.AppointmentController (Hospital)
2025-11-25 17:06:42.510 +02:00 [DBG] Executed controller factory for controller Hospital.API.Controllers.AppointmentController (Hospital)
2025-11-25 17:06:42.511 +02:00 [INF] Get All Appointments called at "2025-11-25T17:06:42.5111563+02:00"
2025-11-25 17:06:42.511 +02:00 [INF] Fetching all appointments
2025-11-25 17:06:42.512 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 17:06:42.514 +02:00 [DBG] Creating DbConnection.
2025-11-25 17:06:42.514 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 17:06:42.515 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:06:42.516 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:06:42.517 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 17:06:42.518 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 17:06:42.518 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 17:06:42.519 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentId], [a].[BranchId], [a].[CreatedAt], [a].[CreatedBy], [a].[Date], [a].[DoctorId], [a].[Notes], [a].[PatientId], [a].[PaymentMethod], [a].[Shift], [a].[Status], [a].[UpdatedAt], [p].[PatientId], [p].[CreatedAt], [p].[EmergencyContact], [p].[UpdatedAt], [p].[UserId], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[PatientId]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[DoctorId]
INNER JOIN [Branches] AS [b] ON [a].[BranchId] = [b].[BranchId]
2025-11-25 17:06:42.528 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentId], [a].[BranchId], [a].[CreatedAt], [a].[CreatedBy], [a].[Date], [a].[DoctorId], [a].[Notes], [a].[PatientId], [a].[PaymentMethod], [a].[Shift], [a].[Status], [a].[UpdatedAt], [p].[PatientId], [p].[CreatedAt], [p].[EmergencyContact], [p].[UpdatedAt], [p].[UserId], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[PatientId]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[DoctorId]
INNER JOIN [Branches] AS [b] ON [a].[BranchId] = [b].[BranchId]
2025-11-25 17:06:42.530 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:42.531 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:42.532 +02:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:42.533 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:42.534 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:42.535 +02:00 [DBG] The navigation 'Appointment.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:42.536 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:42.538 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:42.539 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:42.540 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:06:42.541 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:06:42.542 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 12ms reading results.
2025-11-25 17:06:42.543 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:06:42.545 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 17:06:42.546 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 17:06:42.548 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 17:06:42.549 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 17:06:42.549 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 17:06:42.550 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 17:06:42.551 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Appointment.AppointmentDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 17:06:42.552 +02:00 [INF] Executed action Hospital.API.Controllers.AppointmentController.GetAll (Hospital) in 43.9274ms
2025-11-25 17:06:42.554 +02:00 [INF] Executed endpoint 'Hospital.API.Controllers.AppointmentController.GetAll (Hospital)'
2025-11-25 17:06:42.555 +02:00 [DBG] Connection id "0HNHC6FAJIEJ0" completed keep alive response.
2025-11-25 17:06:42.556 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 17:06:42.556 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:06:42.558 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 17:06:42.559 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7217/api/Appointment/GetAll - 200 null application/json; charset=utf-8 64.0047ms
2025-11-25 17:07:08.064 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7217/api/Doctor/convertStatuesOFPaymentToPaied/2 - null 0
2025-11-25 17:07:08.070 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Doctor/convertStatuesOFPaymentToPaied/2'
2025-11-25 17:07:08.071 +02:00 [DBG] Endpoint 'Hospital.Controllers.DoctorController.convertStatuesOFPaymentToPayied (Hospital)' with route pattern 'api/Doctor/convertStatuesOFPaymentToPaied/{Appoimentid:int}' is valid for the request path '/api/Doctor/convertStatuesOFPaymentToPaied/2'
2025-11-25 17:07:08.072 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.DoctorController.convertStatuesOFPaymentToPayied (Hospital)'
2025-11-25 17:07:08.072 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 17:07:08.073 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 17:07:08.074 +02:00 [INF] Executing endpoint 'Hospital.Controllers.DoctorController.convertStatuesOFPaymentToPayied (Hospital)'
2025-11-25 17:07:08.077 +02:00 [INF] Route matched with {action = "convertStatuesOFPaymentToPayied", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] convertStatuesOFPaymentToPayied(Int32) on controller Hospital.Controllers.DoctorController (Hospital).
2025-11-25 17:07:08.078 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 17:07:08.079 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 17:07:08.080 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 17:07:08.082 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 17:07:08.083 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 17:07:08.084 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-11-25 17:07:08.098 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.DoctorController (Hospital)
2025-11-25 17:07:08.100 +02:00 [DBG] Attempting to bind parameter 'Appoimentid' of type 'System.Int32' ...
2025-11-25 17:07:08.100 +02:00 [DBG] Attempting to bind parameter 'Appoimentid' of type 'System.Int32' using the name 'Appoimentid' in request data ...
2025-11-25 17:07:08.102 +02:00 [DBG] Done attempting to bind parameter 'Appoimentid' of type 'System.Int32'.
2025-11-25 17:07:08.102 +02:00 [DBG] Done attempting to bind parameter 'Appoimentid' of type 'System.Int32'.
2025-11-25 17:07:08.103 +02:00 [DBG] Attempting to validate the bound parameter 'Appoimentid' of type 'System.Int32' ...
2025-11-25 17:07:08.104 +02:00 [DBG] Done attempting to validate the bound parameter 'Appoimentid' of type 'System.Int32'.
2025-11-25 17:07:08.106 +02:00 [INF] convertStatuesOFPaymentToPayied pay by cach  called at "2025-11-25T17:07:08.1066368+02:00"
2025-11-25 17:07:08.108 +02:00 [INF] Converting payment status to Paid for appointment ID 2
2025-11-25 17:07:08.110 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 17:07:08.112 +02:00 [DBG] Compiling query expression: 
'DbSet<Payment>()
    .FirstOrDefault(p => p.AppointmentId == __appointmentId_0)'
2025-11-25 17:07:08.116 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Payment>(
    asyncEnumerable: new SingleQueryingEnumerable<Payment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Payment.PaymentId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Payment.Amount (decimal) Required, 1], [Property: Payment.AppointmentId (int) Required FK Index, 2], [Property: Payment.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: Payment.Currency (string) Required MaxLength(3), 4], [Property: Payment.GatewayResponse (string), 5], [Property: Payment.PaymobMerchantOrderId (string) MaxLength(100), 6], [Property: Payment.PaymobOrderId (long?), 7], [Property: Payment.PaymobTransactionId (long?), 8], [Property: Payment.Status (PaymentStatus) Required MaxLength(20), 9], [Property: Payment.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 10] }
            SELECT TOP(1) p.PaymentId, p.Amount, p.AppointmentId, p.CreatedAt, p.Currency, p.GatewayResponse, p.PaymobMerchantOrderId, p.PaymobOrderId, p.PaymobTransactionId, p.Status, p.UpdatedAt
            FROM Payments AS p
            WHERE p.AppointmentId == @__appointmentId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Payment>, 
        Clinic.Infrastructure.Persistence.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-11-25 17:07:08.118 +02:00 [DBG] Creating DbConnection.
2025-11-25 17:07:08.119 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 17:07:08.120 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:07:08.121 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:07:08.122 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 17:07:08.123 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 17:07:08.124 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 17:07:08.125 +02:00 [DBG] Executing DbCommand [Parameters=[@__appointmentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PaymentId], [p].[Amount], [p].[AppointmentId], [p].[CreatedAt], [p].[Currency], [p].[GatewayResponse], [p].[PaymobMerchantOrderId], [p].[PaymobOrderId], [p].[PaymobTransactionId], [p].[Status], [p].[UpdatedAt]
FROM [Payments] AS [p]
WHERE [p].[AppointmentId] = @__appointmentId_0
2025-11-25 17:07:08.132 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__appointmentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PaymentId], [p].[Amount], [p].[AppointmentId], [p].[CreatedAt], [p].[Currency], [p].[GatewayResponse], [p].[PaymobMerchantOrderId], [p].[PaymobOrderId], [p].[PaymobTransactionId], [p].[Status], [p].[UpdatedAt]
FROM [Payments] AS [p]
WHERE [p].[AppointmentId] = @__appointmentId_0
2025-11-25 17:07:08.134 +02:00 [DBG] Context 'AppDbContext' started tracking 'Payment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:07:08.135 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:07:08.136 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-11-25 17:07:08.137 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:07:08.137 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 17:07:08.139 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:07:08.140 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:07:08.141 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 17:07:08.141 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 17:07:08.142 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 17:07:08.143 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentId], [a].[BranchId], [a].[CreatedAt], [a].[CreatedBy], [a].[Date], [a].[DoctorId], [a].[Notes], [a].[PatientId], [a].[PaymentMethod], [a].[Shift], [a].[Status], [a].[UpdatedAt], [p].[PatientId], [p].[CreatedAt], [p].[EmergencyContact], [p].[UpdatedAt], [p].[UserId], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[PatientId]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[DoctorId]
INNER JOIN [Branches] AS [b] ON [a].[BranchId] = [b].[BranchId]
WHERE [a].[AppointmentId] = @__id_0
2025-11-25 17:07:08.149 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentId], [a].[BranchId], [a].[CreatedAt], [a].[CreatedBy], [a].[Date], [a].[DoctorId], [a].[Notes], [a].[PatientId], [a].[PaymentMethod], [a].[Shift], [a].[Status], [a].[UpdatedAt], [p].[PatientId], [p].[CreatedAt], [p].[EmergencyContact], [p].[UpdatedAt], [p].[UserId], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[PatientId]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[DoctorId]
INNER JOIN [Branches] AS [b] ON [a].[BranchId] = [b].[BranchId]
WHERE [a].[AppointmentId] = @__id_0
2025-11-25 17:07:08.151 +02:00 [DBG] The navigation 'Payment.Appointment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:07:08.152 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:07:08.153 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:07:08.154 +02:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:07:08.155 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:07:08.155 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:07:08.156 +02:00 [DBG] The navigation 'Appointment.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:07:08.157 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:07:08.158 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:07:08.159 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 8ms reading results.
2025-11-25 17:07:08.160 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:07:08.160 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 17:07:08.162 +02:00 [DBG] An entity of type 'Payment' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:07:08.164 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 17:07:08.165 +02:00 [DBG] The unchanged property 'Appointment.Status' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-25 17:07:08.166 +02:00 [DBG] An entity of type 'Appointment' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:07:08.168 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 17:07:08.169 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 17:07:08.169 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 17:07:08.170 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 17:07:08.175 +02:00 [DBG] Executing 2 update commands as a batch.
2025-11-25 17:07:08.176 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:07:08.177 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:07:08.177 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-25 17:07:08.178 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-25 17:07:08.179 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 17:07:08.180 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 17:07:08.181 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 17:07:08.181 +02:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 20), @p1='?' (DbType = DateTime2), @p13='?' (DbType = Int32), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (Size = 3), @p7='?' (Size = 4000), @p8='?' (Size = 100), @p9='?' (DbType = Int64), @p10='?' (DbType = Int64), @p11='?' (Size = 20), @p12='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Appointments] SET [Status] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [AppointmentId] = @p2;
UPDATE [Payments] SET [Amount] = @p3, [AppointmentId] = @p4, [CreatedAt] = @p5, [Currency] = @p6, [GatewayResponse] = @p7, [PaymobMerchantOrderId] = @p8, [PaymobOrderId] = @p9, [PaymobTransactionId] = @p10, [Status] = @p11, [UpdatedAt] = @p12
OUTPUT 1
WHERE [PaymentId] = @p13;
2025-11-25 17:07:08.188 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 20), @p1='?' (DbType = DateTime2), @p13='?' (DbType = Int32), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (Size = 3), @p7='?' (Size = 4000), @p8='?' (Size = 100), @p9='?' (DbType = Int64), @p10='?' (DbType = Int64), @p11='?' (Size = 20), @p12='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Appointments] SET [Status] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [AppointmentId] = @p2;
UPDATE [Payments] SET [Amount] = @p3, [AppointmentId] = @p4, [CreatedAt] = @p5, [Currency] = @p6, [GatewayResponse] = @p7, [PaymobMerchantOrderId] = @p8, [PaymobOrderId] = @p9, [PaymobTransactionId] = @p10, [Status] = @p11, [UpdatedAt] = @p12
OUTPUT 1
WHERE [PaymentId] = @p13;
2025-11-25 17:07:08.190 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:07:08.191 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 17:07:08.192 +02:00 [DBG] Committing transaction.
2025-11-25 17:07:08.193 +02:00 [DBG] Committed transaction.
2025-11-25 17:07:08.194 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:07:08.195 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 17:07:08.196 +02:00 [DBG] Disposing transaction.
2025-11-25 17:07:08.197 +02:00 [DBG] An entity of type 'Payment' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:07:08.198 +02:00 [DBG] An entity of type 'Appointment' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:07:08.200 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 2 entities written to the database.
2025-11-25 17:07:08.201 +02:00 [DBG] An entity of type 'Appointment' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:07:08.202 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 17:07:08.203 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 17:07:08.204 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 17:07:08.205 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 17:07:08.206 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 17:07:08.207 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:07:08.208 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:07:08.210 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 17:07:08.211 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 17:07:08.212 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 17:07:08.213 +02:00 [DBG] Executing DbCommand [Parameters=[@p11='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 450), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 20), @p9='?' (Size = 20), @p10='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Appointments] SET [BranchId] = @p0, [CreatedAt] = @p1, [CreatedBy] = @p2, [Date] = @p3, [DoctorId] = @p4, [Notes] = @p5, [PatientId] = @p6, [PaymentMethod] = @p7, [Shift] = @p8, [Status] = @p9, [UpdatedAt] = @p10
OUTPUT 1
WHERE [AppointmentId] = @p11;
2025-11-25 17:07:08.220 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p11='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 450), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 20), @p9='?' (Size = 20), @p10='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Appointments] SET [BranchId] = @p0, [CreatedAt] = @p1, [CreatedBy] = @p2, [Date] = @p3, [DoctorId] = @p4, [Notes] = @p5, [PatientId] = @p6, [PaymentMethod] = @p7, [Shift] = @p8, [Status] = @p9, [UpdatedAt] = @p10
OUTPUT 1
WHERE [AppointmentId] = @p11;
2025-11-25 17:07:08.222 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:07:08.223 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 17:07:08.224 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:07:08.225 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 17:07:08.226 +02:00 [DBG] An entity of type 'Appointment' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:07:08.228 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-25 17:07:08.229 +02:00 [INF] Payment status updated to Paid for appointment ID 2 and appointment become confirmed
2025-11-25 17:07:08.229 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 17:07:08.231 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 17:07:08.232 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 17:07:08.232 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 17:07:08.233 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-11-25 17:07:08.234 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-11-25 17:07:08.235 +02:00 [INF] Executed action Hospital.Controllers.DoctorController.convertStatuesOFPaymentToPayied (Hospital) in 151.3871ms
2025-11-25 17:07:08.236 +02:00 [INF] Executed endpoint 'Hospital.Controllers.DoctorController.convertStatuesOFPaymentToPayied (Hospital)'
2025-11-25 17:07:08.237 +02:00 [DBG] Connection id "0HNHC6FAJIEJ0" completed keep alive response.
2025-11-25 17:07:08.238 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 17:07:08.239 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:07:08.240 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 17:07:08.241 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7217/api/Doctor/convertStatuesOFPaymentToPaied/2 - 200 null text/plain; charset=utf-8 178.0643ms
2025-11-25 17:07:15.514 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7217/api/Appointment/GetAll - null null
2025-11-25 17:07:15.520 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment/GetAll'
2025-11-25 17:07:15.521 +02:00 [DBG] Endpoint 'Hospital.API.Controllers.AppointmentController.GetAll (Hospital)' with route pattern 'api/Appointment/GetAll' is valid for the request path '/api/Appointment/GetAll'
2025-11-25 17:07:15.522 +02:00 [DBG] Request matched endpoint 'Hospital.API.Controllers.AppointmentController.GetAll (Hospital)'
2025-11-25 17:07:15.523 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 17:07:15.524 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 17:07:15.525 +02:00 [INF] Executing endpoint 'Hospital.API.Controllers.AppointmentController.GetAll (Hospital)'
2025-11-25 17:07:15.526 +02:00 [INF] Route matched with {action = "GetAll", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.API.Controllers.AppointmentController (Hospital).
2025-11-25 17:07:15.527 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 17:07:15.528 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 17:07:15.530 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 17:07:15.532 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 17:07:15.533 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 17:07:15.535 +02:00 [DBG] Executing controller factory for controller Hospital.API.Controllers.AppointmentController (Hospital)
2025-11-25 17:07:15.536 +02:00 [DBG] Executed controller factory for controller Hospital.API.Controllers.AppointmentController (Hospital)
2025-11-25 17:07:15.537 +02:00 [INF] Get All Appointments called at "2025-11-25T17:07:15.5377069+02:00"
2025-11-25 17:07:15.538 +02:00 [INF] Fetching all appointments
2025-11-25 17:07:15.540 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 17:07:15.541 +02:00 [DBG] Creating DbConnection.
2025-11-25 17:07:15.542 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 17:07:15.543 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:07:15.544 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:07:15.545 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 17:07:15.546 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 17:07:15.547 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 17:07:15.548 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentId], [a].[BranchId], [a].[CreatedAt], [a].[CreatedBy], [a].[Date], [a].[DoctorId], [a].[Notes], [a].[PatientId], [a].[PaymentMethod], [a].[Shift], [a].[Status], [a].[UpdatedAt], [p].[PatientId], [p].[CreatedAt], [p].[EmergencyContact], [p].[UpdatedAt], [p].[UserId], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[PatientId]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[DoctorId]
INNER JOIN [Branches] AS [b] ON [a].[BranchId] = [b].[BranchId]
2025-11-25 17:07:15.556 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentId], [a].[BranchId], [a].[CreatedAt], [a].[CreatedBy], [a].[Date], [a].[DoctorId], [a].[Notes], [a].[PatientId], [a].[PaymentMethod], [a].[Shift], [a].[Status], [a].[UpdatedAt], [p].[PatientId], [p].[CreatedAt], [p].[EmergencyContact], [p].[UpdatedAt], [p].[UserId], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[PatientId]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[DoctorId]
INNER JOIN [Branches] AS [b] ON [a].[BranchId] = [b].[BranchId]
2025-11-25 17:07:15.558 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:07:15.560 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:07:15.561 +02:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:07:15.562 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:07:15.563 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:07:15.564 +02:00 [DBG] The navigation 'Appointment.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:07:15.565 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:07:15.566 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:07:15.567 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:07:15.568 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:07:15.570 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:07:15.571 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 12ms reading results.
2025-11-25 17:07:15.572 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:07:15.573 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 17:07:15.575 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 17:07:15.577 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 17:07:15.577 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 17:07:15.578 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 17:07:15.579 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 17:07:15.580 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Appointment.AppointmentDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 17:07:15.581 +02:00 [INF] Executed action Hospital.API.Controllers.AppointmentController.GetAll (Hospital) in 46.4371ms
2025-11-25 17:07:15.582 +02:00 [INF] Executed endpoint 'Hospital.API.Controllers.AppointmentController.GetAll (Hospital)'
2025-11-25 17:07:15.583 +02:00 [DBG] Connection id "0HNHC6FAJIEJ0" completed keep alive response.
2025-11-25 17:07:15.584 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 17:07:15.585 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:07:15.586 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 17:07:15.588 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7217/api/Appointment/GetAll - 200 null application/json; charset=utf-8 75.6557ms
2025-11-25 17:25:09.865 +02:00 [DBG] Connection id "0HNHC6FAJIEJ1" accepted.
2025-11-25 17:25:09.865 +02:00 [DBG] Connection id "0HNHC6FAJIEJ1" received FIN.
2025-11-25 17:25:09.874 +02:00 [DBG] Connection id "0HNHC6FAJIEJ2" accepted.
2025-11-25 17:25:09.870 +02:00 [DBG] Connection id "0HNHC6FAJIEJ1" started.
2025-11-25 17:25:09.879 +02:00 [DBG] Connection id "0HNHC6FAJIEJ2" started.
2025-11-25 17:25:09.880 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-25 17:25:09.883 +02:00 [DBG] Connection id "0HNHC6FAJIEJ1" stopped.
2025-11-25 17:25:09.884 +02:00 [DBG] Connection id "0HNHC6FAJIEJ1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 17:25:09.884 +02:00 [DBG] Connection 0HNHC6FAJIEJ2 established using the following protocol: "Tls13"
2025-11-25 17:25:09.887 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/Schedule - application/json 92
2025-11-25 17:25:09.889 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Schedule'
2025-11-25 17:25:09.889 +02:00 [DBG] Endpoint 'Hospital.Controllers.ScheduleController.Create (Hospital)' with route pattern 'api/Schedule' is valid for the request path '/api/Schedule'
2025-11-25 17:25:09.890 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.ScheduleController.Create (Hospital)'
2025-11-25 17:25:09.891 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 17:25:09.892 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 17:25:09.893 +02:00 [INF] Executing endpoint 'Hospital.Controllers.ScheduleController.Create (Hospital)'
2025-11-25 17:25:09.896 +02:00 [INF] Route matched with {action = "Create", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Hospital.Application.DTO.Schedule.ScheduleDto]] Create(Hospital.Application.DTO.Schedule.CreateScheduleDto) on controller Hospital.Controllers.ScheduleController (Hospital).
2025-11-25 17:25:09.897 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 17:25:09.899 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 17:25:09.900 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 17:25:09.901 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 17:25:09.902 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 17:25:09.903 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 17:25:09.904 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 17:25:09.906 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto' ...
2025-11-25 17:25:09.907 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto' using the name '' in request data ...
2025-11-25 17:25:09.909 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 17:25:09.910 +02:00 [DBG] Connection id "0HNHC6FAJIEJ2", Request id "0HNHC6FAJIEJ2:00000001": started reading request body.
2025-11-25 17:25:09.911 +02:00 [DBG] Connection id "0HNHC6FAJIEJ2", Request id "0HNHC6FAJIEJ2:00000001": done reading request body.
2025-11-25 17:25:09.913 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.Schedule.CreateScheduleDto'
2025-11-25 17:25:09.914 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto'.
2025-11-25 17:25:09.915 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto'.
2025-11-25 17:25:09.916 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto' ...
2025-11-25 17:25:09.919 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto'.
2025-11-25 17:25:09.921 +02:00 [INF] create schedule  called at "2025-11-25T17:25:09.9212122+02:00"
2025-11-25 17:25:09.923 +02:00 [INF] Creating schedule for DoctorId: 1, Day: sunday, Shift: "Afternoon"
2025-11-25 17:25:09.924 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 17:25:09.926 +02:00 [DBG] Creating DbConnection.
2025-11-25 17:25:09.927 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 17:25:09.928 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:25:09.970 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:25:09.973 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 17:25:09.974 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 17:25:09.975 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 17:25:09.976 +02:00 [DBG] Executing DbCommand [Parameters=[@__doctorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DoctorId], [t].[Available], [t].[Biography], [t].[ConsultationFees], [t].[CreatedAt], [t].[ExperienceYears], [t].[ImageURL], [t].[SpecializationId], [t].[UpdatedAt], [t].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[CreatedAt0], [t].[DateOfBirth], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[Gender], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[Role], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UpdatedAt0], [t].[UserName], [t].[SpecializationId0], [t].[CreatedAt1], [t].[Description], [t].[Name], [t].[UpdatedAt1], [t0].[BranchesBranchId], [t0].[DoctorsDoctorId], [t0].[BranchId], [t0].[Address], [t0].[BranchName], [t0].[CreatedAt], [t0].[Description], [t0].[Email], [t0].[ImageURL], [t0].[Phone], [t0].[UpdatedAt], [s0].[ScheduleId], [s0].[BranchId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM (
    SELECT TOP(1) [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName], [s].[SpecializationId] AS [SpecializationId0], [s].[CreatedAt] AS [CreatedAt1], [s].[Description], [s].[Name], [s].[UpdatedAt] AS [UpdatedAt1]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
    WHERE [d].[DoctorId] = @__doctorId_0
) AS [t]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t0] ON [t].[DoctorId] = [t0].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [t].[DoctorId] = [s0].[DoctorId]
ORDER BY [t].[DoctorId], [t].[Id], [t].[SpecializationId0], [t0].[BranchesBranchId], [t0].[DoctorsDoctorId], [t0].[BranchId]
2025-11-25 17:25:09.996 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__doctorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DoctorId], [t].[Available], [t].[Biography], [t].[ConsultationFees], [t].[CreatedAt], [t].[ExperienceYears], [t].[ImageURL], [t].[SpecializationId], [t].[UpdatedAt], [t].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[CreatedAt0], [t].[DateOfBirth], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[Gender], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[Role], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UpdatedAt0], [t].[UserName], [t].[SpecializationId0], [t].[CreatedAt1], [t].[Description], [t].[Name], [t].[UpdatedAt1], [t0].[BranchesBranchId], [t0].[DoctorsDoctorId], [t0].[BranchId], [t0].[Address], [t0].[BranchName], [t0].[CreatedAt], [t0].[Description], [t0].[Email], [t0].[ImageURL], [t0].[Phone], [t0].[UpdatedAt], [s0].[ScheduleId], [s0].[BranchId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM (
    SELECT TOP(1) [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName], [s].[SpecializationId] AS [SpecializationId0], [s].[CreatedAt] AS [CreatedAt1], [s].[Description], [s].[Name], [s].[UpdatedAt] AS [UpdatedAt1]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
    WHERE [d].[DoctorId] = @__doctorId_0
) AS [t]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t0] ON [t].[DoctorId] = [t0].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [t].[DoctorId] = [s0].[DoctorId]
ORDER BY [t].[DoctorId], [t].[Id], [t].[SpecializationId0], [t0].[BranchesBranchId], [t0].[DoctorsDoctorId], [t0].[BranchId]
2025-11-25 17:25:09.998 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:09.999 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:10.000 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:10.002 +02:00 [DBG] The navigation 'Doctor.Specialization' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:10.003 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:10.004 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchDoctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:10.006 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:10.007 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:10.009 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:10.010 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:10.011 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:10.012 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:25:10.013 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 15ms reading results.
2025-11-25 17:25:10.015 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:25:10.016 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 17:25:10.018 +02:00 [WRN] Doctor with ID 1 is not associated with BranchId 2
2025-11-25 17:25:10.087 +02:00 [INF] Executed action Hospital.Controllers.ScheduleController.Create (Hospital) in 183.9762ms
2025-11-25 17:25:10.089 +02:00 [INF] Executed endpoint 'Hospital.Controllers.ScheduleController.Create (Hospital)'
2025-11-25 17:25:10.146 +02:00 [ERR]  Exception caught: Doctor is not associated with the specified branch.
System.InvalidOperationException: Doctor is not associated with the specified branch.
   at Hospital.Infrastructure.Services.ScheduleService.CreateAsync(CreateScheduleDto dto) in D:\Hospital\Hospital\Hospital.Infrastructure\Services\ScheduleService.cs:line 46
   at Hospital.Controllers.ScheduleController.Create(CreateScheduleDto dto) in D:\Hospital\Hospital\Hospital\Controllers\ScheduleController.cs:line 27
   at lambda_method1214(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hospital.Middleware.GlobalExceptionHandler.InvokeAsync(HttpContext context) in D:\Hospital\Hospital\Hospital\Middleware\GlobalExceptionHandler.cs:line 22
2025-11-25 17:25:10.182 +02:00 [DBG] Connection id "0HNHC6FAJIEJ2" completed keep alive response.
2025-11-25 17:25:10.183 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 17:25:10.184 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:25:10.185 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 17:25:10.186 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/Schedule - 500 null application/json 299.5553ms
2025-11-25 17:25:20.375 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/Schedule - application/json 92
2025-11-25 17:25:20.377 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Schedule'
2025-11-25 17:25:20.378 +02:00 [DBG] Endpoint 'Hospital.Controllers.ScheduleController.Create (Hospital)' with route pattern 'api/Schedule' is valid for the request path '/api/Schedule'
2025-11-25 17:25:20.379 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.ScheduleController.Create (Hospital)'
2025-11-25 17:25:20.380 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 17:25:20.380 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 17:25:20.381 +02:00 [INF] Executing endpoint 'Hospital.Controllers.ScheduleController.Create (Hospital)'
2025-11-25 17:25:20.382 +02:00 [INF] Route matched with {action = "Create", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Hospital.Application.DTO.Schedule.ScheduleDto]] Create(Hospital.Application.DTO.Schedule.CreateScheduleDto) on controller Hospital.Controllers.ScheduleController (Hospital).
2025-11-25 17:25:20.383 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 17:25:20.384 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 17:25:20.385 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 17:25:20.386 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 17:25:20.387 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 17:25:20.388 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 17:25:20.390 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 17:25:20.391 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto' ...
2025-11-25 17:25:20.392 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto' using the name '' in request data ...
2025-11-25 17:25:20.393 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 17:25:20.393 +02:00 [DBG] Connection id "0HNHC6FAJIEJ2", Request id "0HNHC6FAJIEJ2:00000002": started reading request body.
2025-11-25 17:25:20.394 +02:00 [DBG] Connection id "0HNHC6FAJIEJ2", Request id "0HNHC6FAJIEJ2:00000002": done reading request body.
2025-11-25 17:25:20.395 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.Schedule.CreateScheduleDto'
2025-11-25 17:25:20.396 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto'.
2025-11-25 17:25:20.396 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto'.
2025-11-25 17:25:20.397 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto' ...
2025-11-25 17:25:20.398 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto'.
2025-11-25 17:25:20.399 +02:00 [INF] create schedule  called at "2025-11-25T17:25:20.3994138+02:00"
2025-11-25 17:25:20.400 +02:00 [INF] Creating schedule for DoctorId: 1, Day: sunday, Shift: "Afternoon"
2025-11-25 17:25:20.401 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 17:25:20.403 +02:00 [DBG] Creating DbConnection.
2025-11-25 17:25:20.404 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 17:25:20.404 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:25:20.405 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:25:20.406 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 17:25:20.407 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 17:25:20.408 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 17:25:20.409 +02:00 [DBG] Executing DbCommand [Parameters=[@__doctorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DoctorId], [t].[Available], [t].[Biography], [t].[ConsultationFees], [t].[CreatedAt], [t].[ExperienceYears], [t].[ImageURL], [t].[SpecializationId], [t].[UpdatedAt], [t].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[CreatedAt0], [t].[DateOfBirth], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[Gender], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[Role], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UpdatedAt0], [t].[UserName], [t].[SpecializationId0], [t].[CreatedAt1], [t].[Description], [t].[Name], [t].[UpdatedAt1], [t0].[BranchesBranchId], [t0].[DoctorsDoctorId], [t0].[BranchId], [t0].[Address], [t0].[BranchName], [t0].[CreatedAt], [t0].[Description], [t0].[Email], [t0].[ImageURL], [t0].[Phone], [t0].[UpdatedAt], [s0].[ScheduleId], [s0].[BranchId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM (
    SELECT TOP(1) [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName], [s].[SpecializationId] AS [SpecializationId0], [s].[CreatedAt] AS [CreatedAt1], [s].[Description], [s].[Name], [s].[UpdatedAt] AS [UpdatedAt1]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
    WHERE [d].[DoctorId] = @__doctorId_0
) AS [t]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t0] ON [t].[DoctorId] = [t0].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [t].[DoctorId] = [s0].[DoctorId]
ORDER BY [t].[DoctorId], [t].[Id], [t].[SpecializationId0], [t0].[BranchesBranchId], [t0].[DoctorsDoctorId], [t0].[BranchId]
2025-11-25 17:25:20.419 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__doctorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DoctorId], [t].[Available], [t].[Biography], [t].[ConsultationFees], [t].[CreatedAt], [t].[ExperienceYears], [t].[ImageURL], [t].[SpecializationId], [t].[UpdatedAt], [t].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[CreatedAt0], [t].[DateOfBirth], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[Gender], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[Role], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UpdatedAt0], [t].[UserName], [t].[SpecializationId0], [t].[CreatedAt1], [t].[Description], [t].[Name], [t].[UpdatedAt1], [t0].[BranchesBranchId], [t0].[DoctorsDoctorId], [t0].[BranchId], [t0].[Address], [t0].[BranchName], [t0].[CreatedAt], [t0].[Description], [t0].[Email], [t0].[ImageURL], [t0].[Phone], [t0].[UpdatedAt], [s0].[ScheduleId], [s0].[BranchId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM (
    SELECT TOP(1) [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName], [s].[SpecializationId] AS [SpecializationId0], [s].[CreatedAt] AS [CreatedAt1], [s].[Description], [s].[Name], [s].[UpdatedAt] AS [UpdatedAt1]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
    WHERE [d].[DoctorId] = @__doctorId_0
) AS [t]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t0] ON [t].[DoctorId] = [t0].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [t].[DoctorId] = [s0].[DoctorId]
ORDER BY [t].[DoctorId], [t].[Id], [t].[SpecializationId0], [t0].[BranchesBranchId], [t0].[DoctorsDoctorId], [t0].[BranchId]
2025-11-25 17:25:20.421 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:20.422 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:20.423 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:20.424 +02:00 [DBG] The navigation 'Doctor.Specialization' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:20.424 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:20.425 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchDoctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:20.426 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:20.427 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:20.428 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:20.429 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:20.430 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:20.431 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:25:20.432 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 11ms reading results.
2025-11-25 17:25:20.433 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:25:20.434 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 17:25:20.442 +02:00 [DBG] Compiling query expression: 
'DbSet<Schedule>()
    .Where(s => s.DayOfWeek.ToLower() == __ToLower_0)
    .Include(s => s.Doctor)
    .ThenInclude(d => d.User)'
2025-11-25 17:25:20.444 +02:00 [DBG] Including navigation: 'Schedule.Doctor'.
2025-11-25 17:25:20.445 +02:00 [DBG] Including navigation: 'Doctor.User'.
2025-11-25 17:25:20.453 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Schedule>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Schedule.ScheduleId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Schedule.BranchId (int) Required FK Index, 1], [Property: Schedule.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Schedule.DayOfWeek (string) Required MaxLength(20), 3], [Property: Schedule.DoctorId (int) Required FK Index, 4], [Property: Schedule.EndTime (DateTime) Required, 5], [Property: Schedule.Shift (AppointmentShift) Required, 6], [Property: Schedule.StartTime (DateTime) Required, 7], [Property: Schedule.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 8] }
            1 -> Dictionary<IProperty, int> { [Property: Doctor.DoctorId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Doctor.Available (bool?), 10], [Property: Doctor.Biography (string), 11], [Property: Doctor.ConsultationFees (decimal) Required, 12], [Property: Doctor.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 13], [Property: Doctor.ExperienceYears (int?), 14], [Property: Doctor.ImageURL (string) MaxLength(300), 15], [Property: Doctor.SpecializationId (int) Required FK Index, 16], [Property: Doctor.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 17], [Property: Doctor.UserId (string) Required FK Index, 18] }
            2 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 19], [Property: User.AccessFailedCount (int) Required, 20], [Property: User.ConcurrencyStamp (string) Concurrency, 21], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 22], [Property: User.DateOfBirth (DateOnly?), 23], [Property: User.Email (string) Index MaxLength(256), 24], [Property: User.EmailConfirmed (bool) Required, 25], [Property: User.FullName (string) Required MaxLength(150), 26], [Property: User.Gender (GenderType?) MaxLength(10), 27], [Property: User.LockoutEnabled (bool) Required, 28], [Property: User.LockoutEnd (DateTimeOffset?), 29], [Property: User.NormalizedEmail (string) Index MaxLength(256), 30], [Property: User.NormalizedUserName (string) Index MaxLength(256), 31], [Property: User.PasswordHash (string), 32], [Property: User.PhoneNumber (string), 33], [Property: User.PhoneNumberConfirmed (bool) Required, 34], [Property: User.RefreshToken (string), 35], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 36], [Property: User.Role (string) Required MaxLength(50), 37], [Property: User.SecurityStamp (string), 38], [Property: User.TwoFactorEnabled (bool) Required, 39], [Property: User.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 40], [Property: User.UserName (string) MaxLength(256), 41] }
        SELECT s.ScheduleId, s.BranchId, s.CreatedAt, s.DayOfWeek, s.DoctorId, s.EndTime, s.Shift, s.StartTime, s.UpdatedAt, d.DoctorId, d.Available, d.Biography, d.ConsultationFees, d.CreatedAt, d.ExperienceYears, d.ImageURL, d.SpecializationId, d.UpdatedAt, d.UserId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DateOfBirth, u.Email, u.EmailConfirmed, u.FullName, u.Gender, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.RefreshToken, u.RefreshTokenExpiryTime, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UpdatedAt, u.UserName
        FROM Schedules AS s
        INNER JOIN Doctors AS d ON s.DoctorId == d.DoctorId
        INNER JOIN Users AS u ON d.UserId == u.Id
        WHERE LOWER(s.DayOfWeek) == @__ToLower_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Schedule>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-11-25 17:25:20.458 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:25:20.460 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:25:20.460 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 17:25:20.461 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 17:25:20.462 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 17:25:20.463 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[BranchId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE LOWER([s].[DayOfWeek]) = @__ToLower_0
2025-11-25 17:25:20.469 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__ToLower_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[BranchId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE LOWER([s].[DayOfWeek]) = @__ToLower_0
2025-11-25 17:25:20.471 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:25:20.472 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 17:25:20.473 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:25:20.474 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 17:25:20.475 +02:00 [WRN] Duplicate schedule detected for DoctorId 1 on sunday shift "Afternoon"
2025-11-25 17:25:20.507 +02:00 [INF] Executed action Hospital.Controllers.ScheduleController.Create (Hospital) in 119.3249ms
2025-11-25 17:25:20.508 +02:00 [INF] Executed endpoint 'Hospital.Controllers.ScheduleController.Create (Hospital)'
2025-11-25 17:25:20.544 +02:00 [ERR]  Exception caught: Doctor already has a schedule for this day and shift.
System.InvalidOperationException: Doctor already has a schedule for this day and shift.
   at Hospital.Infrastructure.Services.ScheduleService.CreateAsync(CreateScheduleDto dto) in D:\Hospital\Hospital\Hospital.Infrastructure\Services\ScheduleService.cs:line 60
   at Hospital.Controllers.ScheduleController.Create(CreateScheduleDto dto) in D:\Hospital\Hospital\Hospital\Controllers\ScheduleController.cs:line 27
   at lambda_method1214(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hospital.Middleware.GlobalExceptionHandler.InvokeAsync(HttpContext context) in D:\Hospital\Hospital\Hospital\Middleware\GlobalExceptionHandler.cs:line 22
2025-11-25 17:25:20.550 +02:00 [DBG] Connection id "0HNHC6FAJIEJ2" completed keep alive response.
2025-11-25 17:25:20.551 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 17:25:20.552 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:25:20.553 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 17:25:20.554 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/Schedule - 500 null application/json 179.3382ms
2025-11-25 17:25:31.439 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/Schedule - application/json 92
2025-11-25 17:25:31.441 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Schedule'
2025-11-25 17:25:31.442 +02:00 [DBG] Endpoint 'Hospital.Controllers.ScheduleController.Create (Hospital)' with route pattern 'api/Schedule' is valid for the request path '/api/Schedule'
2025-11-25 17:25:31.443 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.ScheduleController.Create (Hospital)'
2025-11-25 17:25:31.444 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 17:25:31.445 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 17:25:31.446 +02:00 [INF] Executing endpoint 'Hospital.Controllers.ScheduleController.Create (Hospital)'
2025-11-25 17:25:31.447 +02:00 [INF] Route matched with {action = "Create", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Hospital.Application.DTO.Schedule.ScheduleDto]] Create(Hospital.Application.DTO.Schedule.CreateScheduleDto) on controller Hospital.Controllers.ScheduleController (Hospital).
2025-11-25 17:25:31.448 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 17:25:31.449 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 17:25:31.450 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 17:25:31.451 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 17:25:31.453 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 17:25:31.454 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 17:25:31.455 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 17:25:31.456 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto' ...
2025-11-25 17:25:31.457 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto' using the name '' in request data ...
2025-11-25 17:25:31.458 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 17:25:31.459 +02:00 [DBG] Connection id "0HNHC6FAJIEJ2", Request id "0HNHC6FAJIEJ2:00000003": started reading request body.
2025-11-25 17:25:31.460 +02:00 [DBG] Connection id "0HNHC6FAJIEJ2", Request id "0HNHC6FAJIEJ2:00000003": done reading request body.
2025-11-25 17:25:31.461 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.Schedule.CreateScheduleDto'
2025-11-25 17:25:31.461 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto'.
2025-11-25 17:25:31.462 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto'.
2025-11-25 17:25:31.463 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto' ...
2025-11-25 17:25:31.464 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Schedule.CreateScheduleDto'.
2025-11-25 17:25:31.465 +02:00 [INF] create schedule  called at "2025-11-25T17:25:31.4655257+02:00"
2025-11-25 17:25:31.466 +02:00 [INF] Creating schedule for DoctorId: 1, Day: monday, Shift: "Afternoon"
2025-11-25 17:25:31.467 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 17:25:31.469 +02:00 [DBG] Creating DbConnection.
2025-11-25 17:25:31.469 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 17:25:31.470 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:25:31.471 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:25:31.472 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 17:25:31.472 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 17:25:31.473 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 17:25:31.474 +02:00 [DBG] Executing DbCommand [Parameters=[@__doctorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DoctorId], [t].[Available], [t].[Biography], [t].[ConsultationFees], [t].[CreatedAt], [t].[ExperienceYears], [t].[ImageURL], [t].[SpecializationId], [t].[UpdatedAt], [t].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[CreatedAt0], [t].[DateOfBirth], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[Gender], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[Role], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UpdatedAt0], [t].[UserName], [t].[SpecializationId0], [t].[CreatedAt1], [t].[Description], [t].[Name], [t].[UpdatedAt1], [t0].[BranchesBranchId], [t0].[DoctorsDoctorId], [t0].[BranchId], [t0].[Address], [t0].[BranchName], [t0].[CreatedAt], [t0].[Description], [t0].[Email], [t0].[ImageURL], [t0].[Phone], [t0].[UpdatedAt], [s0].[ScheduleId], [s0].[BranchId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM (
    SELECT TOP(1) [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName], [s].[SpecializationId] AS [SpecializationId0], [s].[CreatedAt] AS [CreatedAt1], [s].[Description], [s].[Name], [s].[UpdatedAt] AS [UpdatedAt1]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
    WHERE [d].[DoctorId] = @__doctorId_0
) AS [t]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t0] ON [t].[DoctorId] = [t0].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [t].[DoctorId] = [s0].[DoctorId]
ORDER BY [t].[DoctorId], [t].[Id], [t].[SpecializationId0], [t0].[BranchesBranchId], [t0].[DoctorsDoctorId], [t0].[BranchId]
2025-11-25 17:25:31.484 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__doctorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DoctorId], [t].[Available], [t].[Biography], [t].[ConsultationFees], [t].[CreatedAt], [t].[ExperienceYears], [t].[ImageURL], [t].[SpecializationId], [t].[UpdatedAt], [t].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[CreatedAt0], [t].[DateOfBirth], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[Gender], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[Role], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UpdatedAt0], [t].[UserName], [t].[SpecializationId0], [t].[CreatedAt1], [t].[Description], [t].[Name], [t].[UpdatedAt1], [t0].[BranchesBranchId], [t0].[DoctorsDoctorId], [t0].[BranchId], [t0].[Address], [t0].[BranchName], [t0].[CreatedAt], [t0].[Description], [t0].[Email], [t0].[ImageURL], [t0].[Phone], [t0].[UpdatedAt], [s0].[ScheduleId], [s0].[BranchId], [s0].[CreatedAt], [s0].[DayOfWeek], [s0].[DoctorId], [s0].[EndTime], [s0].[Shift], [s0].[StartTime], [s0].[UpdatedAt]
FROM (
    SELECT TOP(1) [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName], [s].[SpecializationId] AS [SpecializationId0], [s].[CreatedAt] AS [CreatedAt1], [s].[Description], [s].[Name], [s].[UpdatedAt] AS [UpdatedAt1]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    INNER JOIN [Specializations] AS [s] ON [d].[SpecializationId] = [s].[SpecializationId]
    WHERE [d].[DoctorId] = @__doctorId_0
) AS [t]
LEFT JOIN (
    SELECT [d0].[BranchesBranchId], [d0].[DoctorsDoctorId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
    FROM [DoctorBranches] AS [d0]
    INNER JOIN [Branches] AS [b] ON [d0].[BranchesBranchId] = [b].[BranchId]
) AS [t0] ON [t].[DoctorId] = [t0].[DoctorsDoctorId]
LEFT JOIN [Schedules] AS [s0] ON [t].[DoctorId] = [s0].[DoctorId]
ORDER BY [t].[DoctorId], [t].[Id], [t].[SpecializationId0], [t0].[BranchesBranchId], [t0].[DoctorsDoctorId], [t0].[BranchId]
2025-11-25 17:25:31.486 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:31.487 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:31.488 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:31.489 +02:00 [DBG] The navigation 'Doctor.Specialization' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:31.490 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:31.491 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchDoctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:31.492 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:31.493 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:31.493 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:31.494 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:31.495 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:31.496 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:25:31.497 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 10ms reading results.
2025-11-25 17:25:31.498 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:25:31.499 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 17:25:31.500 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:25:31.501 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:25:31.502 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 17:25:31.503 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 17:25:31.504 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 17:25:31.505 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[BranchId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE LOWER([s].[DayOfWeek]) = @__ToLower_0
2025-11-25 17:25:31.509 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__ToLower_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[BranchId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE LOWER([s].[DayOfWeek]) = @__ToLower_0
2025-11-25 17:25:31.511 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:25:31.512 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-25 17:25:31.513 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:25:31.514 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 17:25:31.524 +02:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Schedule.ScheduleId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:31.526 +02:00 [DBG] The navigation 'Schedule.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:31.527 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:31.528 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:31.529 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 17:25:31.530 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 17:25:31.532 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 17:25:31.532 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 17:25:31.533 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 17:25:31.535 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:25:31.536 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:25:31.537 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 17:25:31.538 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 17:25:31.540 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 17:25:31.541 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 20), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Schedules] ([BranchId], [CreatedAt], [DayOfWeek], [DoctorId], [EndTime], [Shift], [StartTime], [UpdatedAt])
OUTPUT INSERTED.[ScheduleId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-11-25 17:25:31.545 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 20), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Schedules] ([BranchId], [CreatedAt], [DayOfWeek], [DoctorId], [EndTime], [Shift], [StartTime], [UpdatedAt])
OUTPUT INSERTED.[ScheduleId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-11-25 17:25:31.547 +02:00 [DBG] The foreign key property 'Schedule.ScheduleId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-25 17:25:31.549 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:25:31.550 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-11-25 17:25:31.551 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:25:31.552 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 17:25:31.553 +02:00 [DBG] An entity of type 'Schedule' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:31.555 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-25 17:25:31.556 +02:00 [INF] Schedule created successfully for DoctorId 1
2025-11-25 17:25:31.558 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 17:25:31.559 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 17:25:31.559 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 17:25:31.560 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 17:25:31.560 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 17:25:31.562 +02:00 [INF] Executing OkObjectResult, writing value of type 'Hospital.Application.DTO.Schedule.ScheduleDto'.
2025-11-25 17:25:31.563 +02:00 [INF] Executed action Hospital.Controllers.ScheduleController.Create (Hospital) in 109.1087ms
2025-11-25 17:25:31.564 +02:00 [INF] Executed endpoint 'Hospital.Controllers.ScheduleController.Create (Hospital)'
2025-11-25 17:25:31.564 +02:00 [DBG] Connection id "0HNHC6FAJIEJ2" completed keep alive response.
2025-11-25 17:25:31.565 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 17:25:31.566 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:25:31.567 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 17:25:31.568 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/Schedule - 200 null application/json; charset=utf-8 128.3585ms
2025-11-25 17:25:53.284 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7217/api/Schedule/date/2025-11-28 - null null
2025-11-25 17:25:53.290 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Schedule/date/2025-11-28'
2025-11-25 17:25:53.291 +02:00 [DBG] Endpoint 'Hospital.Controllers.ScheduleController.GetDoctorsByDate (Hospital)' with route pattern 'api/Schedule/date/{date}' is valid for the request path '/api/Schedule/date/2025-11-28'
2025-11-25 17:25:53.293 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.ScheduleController.GetDoctorsByDate (Hospital)'
2025-11-25 17:25:53.294 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 17:25:53.294 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 17:25:53.295 +02:00 [INF] Executing endpoint 'Hospital.Controllers.ScheduleController.GetDoctorsByDate (Hospital)'
2025-11-25 17:25:53.297 +02:00 [INF] Route matched with {action = "GetDoctorsByDate", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Schedule.ScheduleDto]]] GetDoctorsByDate(System.DateOnly) on controller Hospital.Controllers.ScheduleController (Hospital).
2025-11-25 17:25:53.299 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 17:25:53.300 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 17:25:53.301 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 17:25:53.302 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 17:25:53.303 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 17:25:53.304 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 17:25:53.305 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 17:25:53.305 +02:00 [DBG] Attempting to bind parameter 'date' of type 'System.DateOnly' ...
2025-11-25 17:25:53.306 +02:00 [DBG] Attempting to bind parameter 'date' of type 'System.DateOnly' using the name 'date' in request data ...
2025-11-25 17:25:53.311 +02:00 [DBG] Done attempting to bind parameter 'date' of type 'System.DateOnly'.
2025-11-25 17:25:53.312 +02:00 [DBG] Done attempting to bind parameter 'date' of type 'System.DateOnly'.
2025-11-25 17:25:53.313 +02:00 [DBG] Attempting to validate the bound parameter 'date' of type 'System.DateOnly' ...
2025-11-25 17:25:53.313 +02:00 [DBG] Done attempting to validate the bound parameter 'date' of type 'System.DateOnly'.
2025-11-25 17:25:53.315 +02:00 [INF] get schedule to doctor by date called at "2025-11-25T17:25:53.3156172+02:00"
2025-11-25 17:25:53.316 +02:00 [INF] Fetching schedules for DayOfWeek: Friday
2025-11-25 17:25:53.317 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 17:25:53.319 +02:00 [DBG] Creating DbConnection.
2025-11-25 17:25:53.320 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 17:25:53.320 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:25:53.321 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:25:53.322 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 17:25:53.323 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 17:25:53.324 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 17:25:53.325 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[BranchId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE LOWER([s].[DayOfWeek]) = @__ToLower_0
2025-11-25 17:25:53.331 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__ToLower_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[BranchId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE LOWER([s].[DayOfWeek]) = @__ToLower_0
2025-11-25 17:25:53.332 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:53.333 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:53.334 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:53.335 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:53.336 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:25:53.337 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:25:53.338 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-11-25 17:25:53.339 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:25:53.340 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 17:25:53.341 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 17:25:53.343 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 17:25:53.343 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 17:25:53.344 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 17:25:53.344 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 17:25:53.345 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Schedule.ScheduleDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 17:25:53.346 +02:00 [INF] Executed action Hospital.Controllers.ScheduleController.GetDoctorsByDate (Hospital) in 42.5225ms
2025-11-25 17:25:53.347 +02:00 [INF] Executed endpoint 'Hospital.Controllers.ScheduleController.GetDoctorsByDate (Hospital)'
2025-11-25 17:25:53.348 +02:00 [DBG] Connection id "0HNHC6FAJIEJ2" completed keep alive response.
2025-11-25 17:25:53.349 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 17:25:53.350 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:25:53.351 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 17:25:53.352 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7217/api/Schedule/date/2025-11-28 - 200 null application/json; charset=utf-8 67.6513ms
2025-11-25 17:26:07.798 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7217/api/Schedule/date/2025-11-28/shift/2 - null null
2025-11-25 17:26:07.800 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Schedule/date/2025-11-28/shift/2'
2025-11-25 17:26:07.801 +02:00 [DBG] Endpoint 'Hospital.Controllers.ScheduleController.GetDoctorsByDateAndShift (Hospital)' with route pattern 'api/Schedule/date/{date}/shift/{shift}' is valid for the request path '/api/Schedule/date/2025-11-28/shift/2'
2025-11-25 17:26:07.802 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.ScheduleController.GetDoctorsByDateAndShift (Hospital)'
2025-11-25 17:26:07.803 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 17:26:07.803 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 17:26:07.804 +02:00 [INF] Executing endpoint 'Hospital.Controllers.ScheduleController.GetDoctorsByDateAndShift (Hospital)'
2025-11-25 17:26:07.807 +02:00 [INF] Route matched with {action = "GetDoctorsByDateAndShift", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Schedule.ScheduleDto]]] GetDoctorsByDateAndShift(System.DateOnly, Hospital.Domain.Enum.AppointmentShift) on controller Hospital.Controllers.ScheduleController (Hospital).
2025-11-25 17:26:07.808 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 17:26:07.809 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 17:26:07.810 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 17:26:07.811 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 17:26:07.812 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 17:26:07.813 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 17:26:07.814 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 17:26:07.815 +02:00 [DBG] Attempting to bind parameter 'date' of type 'System.DateOnly' ...
2025-11-25 17:26:07.815 +02:00 [DBG] Attempting to bind parameter 'date' of type 'System.DateOnly' using the name 'date' in request data ...
2025-11-25 17:26:07.816 +02:00 [DBG] Done attempting to bind parameter 'date' of type 'System.DateOnly'.
2025-11-25 17:26:07.817 +02:00 [DBG] Done attempting to bind parameter 'date' of type 'System.DateOnly'.
2025-11-25 17:26:07.818 +02:00 [DBG] Attempting to validate the bound parameter 'date' of type 'System.DateOnly' ...
2025-11-25 17:26:07.819 +02:00 [DBG] Done attempting to validate the bound parameter 'date' of type 'System.DateOnly'.
2025-11-25 17:26:07.820 +02:00 [DBG] Attempting to bind parameter 'shift' of type 'Hospital.Domain.Enum.AppointmentShift' ...
2025-11-25 17:26:07.820 +02:00 [DBG] Attempting to bind parameter 'shift' of type 'Hospital.Domain.Enum.AppointmentShift' using the name 'shift' in request data ...
2025-11-25 17:26:07.822 +02:00 [DBG] Done attempting to bind parameter 'shift' of type 'Hospital.Domain.Enum.AppointmentShift'.
2025-11-25 17:26:07.823 +02:00 [DBG] Done attempting to bind parameter 'shift' of type 'Hospital.Domain.Enum.AppointmentShift'.
2025-11-25 17:26:07.823 +02:00 [DBG] Attempting to validate the bound parameter 'shift' of type 'Hospital.Domain.Enum.AppointmentShift' ...
2025-11-25 17:26:07.824 +02:00 [DBG] Done attempting to validate the bound parameter 'shift' of type 'Hospital.Domain.Enum.AppointmentShift'.
2025-11-25 17:26:07.826 +02:00 [INF] get schedule to doctor by data and shift called at "2025-11-25T17:26:07.8262207+02:00"
2025-11-25 17:26:07.828 +02:00 [INF] Fetching schedules for DayOfWeek: Friday and Shift: "Afternoon"
2025-11-25 17:26:07.829 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 17:26:07.830 +02:00 [DBG] Creating DbConnection.
2025-11-25 17:26:07.831 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 17:26:07.831 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:26:07.832 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:26:07.833 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 17:26:07.834 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 17:26:07.835 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 17:26:07.835 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[BranchId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE LOWER([s].[DayOfWeek]) = @__ToLower_0
2025-11-25 17:26:07.839 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ToLower_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[BranchId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE LOWER([s].[DayOfWeek]) = @__ToLower_0
2025-11-25 17:26:07.844 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:26:07.845 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:26:07.846 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:26:07.847 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:26:07.848 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:26:07.850 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:26:07.851 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-11-25 17:26:07.852 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:26:07.853 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 17:26:07.855 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 17:26:07.856 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 17:26:07.857 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 17:26:07.857 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 17:26:07.858 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 17:26:07.858 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Schedule.ScheduleDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 17:26:07.859 +02:00 [INF] Executed action Hospital.Controllers.ScheduleController.GetDoctorsByDateAndShift (Hospital) in 46.5236ms
2025-11-25 17:26:07.860 +02:00 [INF] Executed endpoint 'Hospital.Controllers.ScheduleController.GetDoctorsByDateAndShift (Hospital)'
2025-11-25 17:26:07.861 +02:00 [DBG] Connection id "0HNHC6FAJIEJ2" completed keep alive response.
2025-11-25 17:26:07.862 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 17:26:07.863 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:26:07.863 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 17:26:07.864 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7217/api/Schedule/date/2025-11-28/shift/2 - 200 null application/json; charset=utf-8 66.7274ms
2025-11-25 17:26:20.379 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7217/api/Schedule/date/2025-11-28 - null null
2025-11-25 17:26:20.380 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Schedule/date/2025-11-28'
2025-11-25 17:26:20.381 +02:00 [DBG] Endpoint 'Hospital.Controllers.ScheduleController.GetDoctorsByDate (Hospital)' with route pattern 'api/Schedule/date/{date}' is valid for the request path '/api/Schedule/date/2025-11-28'
2025-11-25 17:26:20.382 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.ScheduleController.GetDoctorsByDate (Hospital)'
2025-11-25 17:26:20.383 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 17:26:20.384 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 17:26:20.385 +02:00 [INF] Executing endpoint 'Hospital.Controllers.ScheduleController.GetDoctorsByDate (Hospital)'
2025-11-25 17:26:20.386 +02:00 [INF] Route matched with {action = "GetDoctorsByDate", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Schedule.ScheduleDto]]] GetDoctorsByDate(System.DateOnly) on controller Hospital.Controllers.ScheduleController (Hospital).
2025-11-25 17:26:20.387 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 17:26:20.388 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 17:26:20.389 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 17:26:20.391 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 17:26:20.392 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 17:26:20.393 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 17:26:20.394 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.ScheduleController (Hospital)
2025-11-25 17:26:20.396 +02:00 [DBG] Attempting to bind parameter 'date' of type 'System.DateOnly' ...
2025-11-25 17:26:20.397 +02:00 [DBG] Attempting to bind parameter 'date' of type 'System.DateOnly' using the name 'date' in request data ...
2025-11-25 17:26:20.398 +02:00 [DBG] Done attempting to bind parameter 'date' of type 'System.DateOnly'.
2025-11-25 17:26:20.399 +02:00 [DBG] Done attempting to bind parameter 'date' of type 'System.DateOnly'.
2025-11-25 17:26:20.400 +02:00 [DBG] Attempting to validate the bound parameter 'date' of type 'System.DateOnly' ...
2025-11-25 17:26:20.401 +02:00 [DBG] Done attempting to validate the bound parameter 'date' of type 'System.DateOnly'.
2025-11-25 17:26:20.402 +02:00 [INF] get schedule to doctor by date called at "2025-11-25T17:26:20.4027708+02:00"
2025-11-25 17:26:20.403 +02:00 [INF] Fetching schedules for DayOfWeek: Friday
2025-11-25 17:26:20.404 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 17:26:20.406 +02:00 [DBG] Creating DbConnection.
2025-11-25 17:26:20.407 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 17:26:20.407 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:26:20.409 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:26:20.409 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 17:26:20.410 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 17:26:20.411 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 17:26:20.412 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[BranchId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE LOWER([s].[DayOfWeek]) = @__ToLower_0
2025-11-25 17:26:20.420 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__ToLower_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ScheduleId], [s].[BranchId], [s].[CreatedAt], [s].[DayOfWeek], [s].[DoctorId], [s].[EndTime], [s].[Shift], [s].[StartTime], [s].[UpdatedAt], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Schedules] AS [s]
INNER JOIN [Doctors] AS [d] ON [s].[DoctorId] = [d].[DoctorId]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE LOWER([s].[DayOfWeek]) = @__ToLower_0
2025-11-25 17:26:20.422 +02:00 [DBG] Context 'AppDbContext' started tracking 'Schedule' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:26:20.423 +02:00 [DBG] The navigation 'Schedule.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:26:20.424 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:26:20.425 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:26:20.426 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:26:20.427 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:26:20.428 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-11-25 17:26:20.429 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:26:20.430 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 17:26:20.431 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 17:26:20.432 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 17:26:20.433 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 17:26:20.433 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 17:26:20.434 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 17:26:20.435 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Schedule.ScheduleDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 17:26:20.436 +02:00 [INF] Executed action Hospital.Controllers.ScheduleController.GetDoctorsByDate (Hospital) in 42.49ms
2025-11-25 17:26:20.437 +02:00 [INF] Executed endpoint 'Hospital.Controllers.ScheduleController.GetDoctorsByDate (Hospital)'
2025-11-25 17:26:20.438 +02:00 [DBG] Connection id "0HNHC6FAJIEJ2" completed keep alive response.
2025-11-25 17:26:20.439 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 17:26:20.439 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:26:20.440 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 17:26:20.441 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7217/api/Schedule/date/2025-11-28 - 200 null application/json; charset=utf-8 62.8072ms
2025-11-25 17:32:37.162 +02:00 [DBG] Connection id "0HNHC6FAJIEJ3" accepted.
2025-11-25 17:32:37.163 +02:00 [DBG] Connection id "0HNHC6FAJIEJ3" received FIN.
2025-11-25 17:32:37.168 +02:00 [DBG] Connection id "0HNHC6FAJIEJ4" accepted.
2025-11-25 17:32:37.168 +02:00 [DBG] Connection id "0HNHC6FAJIEJ3" started.
2025-11-25 17:32:37.172 +02:00 [DBG] Connection id "0HNHC6FAJIEJ4" started.
2025-11-25 17:32:37.174 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-25 17:32:37.176 +02:00 [DBG] Connection id "0HNHC6FAJIEJ3" stopped.
2025-11-25 17:32:37.177 +02:00 [DBG] Connection 0HNHC6FAJIEJ4 established using the following protocol: "Tls13"
2025-11-25 17:32:37.177 +02:00 [DBG] Connection id "0HNHC6FAJIEJ3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 17:32:37.178 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7217/api/Appointment/GetAll - null null
2025-11-25 17:32:37.180 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment/GetAll'
2025-11-25 17:32:37.181 +02:00 [DBG] Endpoint 'Hospital.API.Controllers.AppointmentController.GetAll (Hospital)' with route pattern 'api/Appointment/GetAll' is valid for the request path '/api/Appointment/GetAll'
2025-11-25 17:32:37.182 +02:00 [DBG] Request matched endpoint 'Hospital.API.Controllers.AppointmentController.GetAll (Hospital)'
2025-11-25 17:32:37.183 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 17:32:37.183 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 17:32:37.184 +02:00 [INF] Executing endpoint 'Hospital.API.Controllers.AppointmentController.GetAll (Hospital)'
2025-11-25 17:32:37.185 +02:00 [INF] Route matched with {action = "GetAll", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.API.Controllers.AppointmentController (Hospital).
2025-11-25 17:32:37.186 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 17:32:37.187 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 17:32:37.188 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 17:32:37.189 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 17:32:37.190 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 17:32:37.192 +02:00 [DBG] Executing controller factory for controller Hospital.API.Controllers.AppointmentController (Hospital)
2025-11-25 17:32:37.193 +02:00 [DBG] Executed controller factory for controller Hospital.API.Controllers.AppointmentController (Hospital)
2025-11-25 17:32:37.194 +02:00 [INF] Get All Appointments called at "2025-11-25T17:32:37.1943897+02:00"
2025-11-25 17:32:37.195 +02:00 [INF] Fetching all appointments
2025-11-25 17:32:37.196 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 17:32:37.197 +02:00 [DBG] Creating DbConnection.
2025-11-25 17:32:37.198 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 17:32:37.199 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:32:37.235 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:32:37.238 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 17:32:37.239 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 17:32:37.239 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 17:32:37.240 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentId], [a].[BranchId], [a].[CreatedAt], [a].[CreatedBy], [a].[Date], [a].[DoctorId], [a].[Notes], [a].[PatientId], [a].[PaymentMethod], [a].[Shift], [a].[Status], [a].[UpdatedAt], [p].[PatientId], [p].[CreatedAt], [p].[EmergencyContact], [p].[UpdatedAt], [p].[UserId], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[PatientId]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[DoctorId]
INNER JOIN [Branches] AS [b] ON [a].[BranchId] = [b].[BranchId]
2025-11-25 17:32:37.253 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentId], [a].[BranchId], [a].[CreatedAt], [a].[CreatedBy], [a].[Date], [a].[DoctorId], [a].[Notes], [a].[PatientId], [a].[PaymentMethod], [a].[Shift], [a].[Status], [a].[UpdatedAt], [p].[PatientId], [p].[CreatedAt], [p].[EmergencyContact], [p].[UpdatedAt], [p].[UserId], [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[PatientId]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[DoctorId]
INNER JOIN [Branches] AS [b] ON [a].[BranchId] = [b].[BranchId]
2025-11-25 17:32:37.255 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:32:37.256 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:32:37.257 +02:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:32:37.258 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:32:37.259 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:32:37.259 +02:00 [DBG] The navigation 'Appointment.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:32:37.260 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:32:37.261 +02:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:32:37.262 +02:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:32:37.263 +02:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 17:32:37.264 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:32:37.265 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 9ms reading results.
2025-11-25 17:32:37.266 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:32:37.267 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 17:32:37.268 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 17:32:37.269 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 17:32:37.270 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 17:32:37.271 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 17:32:37.271 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 17:32:37.272 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Appointment.AppointmentDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 17:32:37.273 +02:00 [INF] Executed action Hospital.API.Controllers.AppointmentController.GetAll (Hospital) in 81.5529ms
2025-11-25 17:32:37.274 +02:00 [INF] Executed endpoint 'Hospital.API.Controllers.AppointmentController.GetAll (Hospital)'
2025-11-25 17:32:37.275 +02:00 [DBG] Connection id "0HNHC6FAJIEJ4" completed keep alive response.
2025-11-25 17:32:37.276 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 17:32:37.276 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 17:32:37.277 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 17:32:37.278 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7217/api/Appointment/GetAll - 200 null application/json; charset=utf-8 100.2784ms
2025-11-25 18:50:21.182 +02:00 [DBG] Connection id "0HNHC6FAJIEJ5" received FIN.
2025-11-25 18:50:21.198 +02:00 [DBG] Connection id "0HNHC6FAJIEJ5" accepted.
2025-11-25 18:50:21.199 +02:00 [DBG] Connection id "0HNHC6FAJIEJ5" started.
2025-11-25 18:50:21.228 +02:00 [DBG] Connection id "0HNHC6FAJIEJ6" accepted.
2025-11-25 18:50:21.251 +02:00 [DBG] Connection id "0HNHC6FAJIEJ6" started.
2025-11-25 18:50:21.261 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-25 18:50:21.307 +02:00 [DBG] Connection 0HNHC6FAJIEJ6 established using the following protocol: "Tls13"
2025-11-25 18:50:21.319 +02:00 [DBG] Connection id "0HNHC6FAJIEJ5" stopped.
2025-11-25 18:50:21.323 +02:00 [DBG] Connection id "0HNHC6FAJIEJ5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 18:50:21.333 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7217/api/News/GetAllNewsInSystem - null null
2025-11-25 18:50:21.346 +02:00 [DBG] 1 candidate(s) found for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 18:50:21.348 +02:00 [DBG] Endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)' with route pattern 'api/News/GetAllNewsInSystem' is valid for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 18:50:21.350 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 18:50:21.356 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 18:50:21.363 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 18:50:21.365 +02:00 [INF] Executing endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 18:50:21.387 +02:00 [INF] Route matched with {action = "GetAllNewsInSystem", controller = "News"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllNewsInSystem() on controller Hospital.Controllers.NewsController (Hospital).
2025-11-25 18:50:21.388 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 18:50:21.389 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 18:50:21.391 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 18:50:21.392 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 18:50:21.394 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 18:50:21.395 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 18:50:21.408 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 18:50:21.415 +02:00 [INF] get all News in system  called at "2025-11-25T18:50:21.4145687+02:00"
2025-11-25 18:50:21.421 +02:00 [INF] Retrieving all news in the system
2025-11-25 18:50:21.433 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 18:50:21.442 +02:00 [DBG] Compiling query expression: 
'DbSet<News>()
    .AsNoTracking()'
2025-11-25 18:50:21.462 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<News>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: News.NewsId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: News.BranchId (int?) FK Index, 1], [Property: News.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 2], [Property: News.Date (DateTime) Required, 3], [Property: News.Description (string), 4], [Property: News.ImageURL (string) MaxLength(300), 5], [Property: News.Title (string) Required MaxLength(150), 6], [Property: News.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 7] }
        SELECT n.NewsId, n.BranchId, n.CreatedAt, n.Date, n.Description, n.ImageURL, n.Title, n.UpdatedAt
        FROM News AS n), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, News>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-11-25 18:50:21.466 +02:00 [DBG] Creating DbConnection.
2025-11-25 18:50:21.468 +02:00 [DBG] Created DbConnection. (1ms).
2025-11-25 18:50:21.468 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 18:50:21.522 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 18:50:21.525 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 18:50:21.526 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-25 18:50:21.527 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 18:50:21.530 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 18:50:21.540 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 18:50:21.543 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 18:50:21.543 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 18:50:21.545 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 18:50:21.545 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 18:50:21.547 +02:00 [INF] No news found in the system
2025-11-25 18:50:21.549 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 18:50:21.551 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 18:50:21.551 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 18:50:21.552 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 18:50:21.553 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-11-25 18:50:21.554 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-11-25 18:50:21.555 +02:00 [INF] Executed action Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital) in 160.0962ms
2025-11-25 18:50:21.556 +02:00 [INF] Executed endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 18:50:21.557 +02:00 [DBG] Connection id "0HNHC6FAJIEJ6" completed keep alive response.
2025-11-25 18:50:21.558 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 18:50:21.559 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 18:50:21.560 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 18:50:21.561 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7217/api/News/GetAllNewsInSystem - 404 null text/plain; charset=utf-8 230.7478ms
2025-11-25 18:50:53.913 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/News/CreateNews - application/json 201
2025-11-25 18:50:53.916 +02:00 [DBG] 1 candidate(s) found for the request path '/api/News/CreateNews'
2025-11-25 18:50:53.917 +02:00 [DBG] Endpoint 'Hospital.Controllers.NewsController.CreateNews (Hospital)' with route pattern 'api/News/CreateNews' is valid for the request path '/api/News/CreateNews'
2025-11-25 18:50:53.918 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.NewsController.CreateNews (Hospital)'
2025-11-25 18:50:53.919 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 18:50:53.920 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 18:50:53.921 +02:00 [INF] Executing endpoint 'Hospital.Controllers.NewsController.CreateNews (Hospital)'
2025-11-25 18:50:53.925 +02:00 [INF] Route matched with {action = "CreateNews", controller = "News"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNews(Hospital.Application.DTO.News.AddNewsDto) on controller Hospital.Controllers.NewsController (Hospital).
2025-11-25 18:50:53.926 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 18:50:53.927 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 18:50:53.928 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 18:50:53.929 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 18:50:53.930 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 18:50:53.931 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 18:50:53.933 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 18:50:53.938 +02:00 [DBG] Attempting to bind parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto' ...
2025-11-25 18:50:53.939 +02:00 [DBG] Attempting to bind parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto' using the name '' in request data ...
2025-11-25 18:50:53.940 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 18:50:53.956 +02:00 [DBG] Connection id "0HNHC6FAJIEJ6", Request id "0HNHC6FAJIEJ6:00000002": started reading request body.
2025-11-25 18:50:53.957 +02:00 [DBG] Connection id "0HNHC6FAJIEJ6", Request id "0HNHC6FAJIEJ6:00000002": done reading request body.
2025-11-25 18:50:53.962 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.News.AddNewsDto'
2025-11-25 18:50:53.963 +02:00 [DBG] Done attempting to bind parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto'.
2025-11-25 18:50:53.964 +02:00 [DBG] Done attempting to bind parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto'.
2025-11-25 18:50:53.964 +02:00 [DBG] Attempting to validate the bound parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto' ...
2025-11-25 18:50:53.973 +02:00 [DBG] Done attempting to validate the bound parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto'.
2025-11-25 18:50:53.975 +02:00 [INF] create News  called at "2025-11-25T18:50:53.9759349+02:00"
2025-11-25 18:50:53.979 +02:00 [INF] Adding a new news item: news title
2025-11-25 18:50:53.982 +02:00 [INF] Fetching branch by ID: 1
2025-11-25 18:50:53.983 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 18:50:53.985 +02:00 [DBG] Creating DbConnection.
2025-11-25 18:50:53.986 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 18:50:53.986 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 18:50:53.987 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 18:50:53.988 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 18:50:53.989 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 18:50:53.990 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 18:50:53.991 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 18:50:53.997 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 18:50:53.999 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 18:50:54.000 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 18:50:54.001 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-11-25 18:50:54.002 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 18:50:54.003 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 18:50:54.014 +02:00 [DBG] 'AppDbContext' generated a temporary value for the property 'News.NewsId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 18:50:54.028 +02:00 [DBG] The navigation 'News.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 18:50:54.031 +02:00 [DBG] Context 'AppDbContext' started tracking 'News' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 18:50:54.032 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 18:50:54.036 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 18:50:54.038 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 18:50:54.039 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 18:50:54.039 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 18:50:54.045 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 18:50:54.046 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 18:50:54.047 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 18:50:54.048 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 18:50:54.049 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 18:50:54.050 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [News] ([BranchId], [CreatedAt], [Date], [Description], [ImageURL], [Title], [UpdatedAt])
OUTPUT INSERTED.[NewsId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-25 18:50:54.057 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [News] ([BranchId], [CreatedAt], [Date], [Description], [ImageURL], [Title], [UpdatedAt])
OUTPUT INSERTED.[NewsId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-25 18:50:54.059 +02:00 [DBG] The foreign key property 'News.NewsId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-25 18:50:54.061 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 18:50:54.062 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-11-25 18:50:54.063 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 18:50:54.064 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 18:50:54.066 +02:00 [DBG] An entity of type 'News' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 18:50:54.067 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-25 18:50:54.068 +02:00 [INF] News item added successfully with ID: 1
2025-11-25 18:50:54.071 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 18:50:54.073 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 18:50:54.074 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 18:50:54.074 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 18:50:54.075 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 18:50:54.075 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Hospital.Application.DTO.News.NewsDto'.
2025-11-25 18:50:54.078 +02:00 [DBG] Found the endpoints ["Hospital.Controllers.NewsController.GetNews (Hospital)"] for address (id=[1],action=[GetNews],controller=[News])
2025-11-25 18:50:54.083 +02:00 [DBG] Successfully processed template api/News/GetNews for Hospital.Controllers.NewsController.GetNews (Hospital) resulting in /api/News/GetNews and ?id=1
2025-11-25 18:50:54.084 +02:00 [DBG] Link generation succeeded for endpoints ["Hospital.Controllers.NewsController.GetNews (Hospital)"] with result /api/News/GetNews?id=1
2025-11-25 18:50:54.090 +02:00 [INF] Executed action Hospital.Controllers.NewsController.CreateNews (Hospital) in 158.7003ms
2025-11-25 18:50:54.091 +02:00 [INF] Executed endpoint 'Hospital.Controllers.NewsController.CreateNews (Hospital)'
2025-11-25 18:50:54.091 +02:00 [DBG] Connection id "0HNHC6FAJIEJ6" completed keep alive response.
2025-11-25 18:50:54.092 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 18:50:54.093 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 18:50:54.094 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 18:50:54.095 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/News/CreateNews - 201 null application/json; charset=utf-8 182.9619ms
2025-11-25 18:51:05.036 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/News/CreateNews - application/json 207
2025-11-25 18:51:05.038 +02:00 [DBG] 1 candidate(s) found for the request path '/api/News/CreateNews'
2025-11-25 18:51:05.039 +02:00 [DBG] Endpoint 'Hospital.Controllers.NewsController.CreateNews (Hospital)' with route pattern 'api/News/CreateNews' is valid for the request path '/api/News/CreateNews'
2025-11-25 18:51:05.040 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.NewsController.CreateNews (Hospital)'
2025-11-25 18:51:05.040 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 18:51:05.041 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 18:51:05.042 +02:00 [INF] Executing endpoint 'Hospital.Controllers.NewsController.CreateNews (Hospital)'
2025-11-25 18:51:05.042 +02:00 [INF] Route matched with {action = "CreateNews", controller = "News"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNews(Hospital.Application.DTO.News.AddNewsDto) on controller Hospital.Controllers.NewsController (Hospital).
2025-11-25 18:51:05.043 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 18:51:05.044 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 18:51:05.045 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 18:51:05.046 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 18:51:05.047 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 18:51:05.048 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 18:51:05.051 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 18:51:05.052 +02:00 [DBG] Attempting to bind parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto' ...
2025-11-25 18:51:05.052 +02:00 [DBG] Attempting to bind parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto' using the name '' in request data ...
2025-11-25 18:51:05.053 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 18:51:05.054 +02:00 [DBG] Connection id "0HNHC6FAJIEJ6", Request id "0HNHC6FAJIEJ6:00000003": started reading request body.
2025-11-25 18:51:05.055 +02:00 [DBG] Connection id "0HNHC6FAJIEJ6", Request id "0HNHC6FAJIEJ6:00000003": done reading request body.
2025-11-25 18:51:05.056 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.News.AddNewsDto'
2025-11-25 18:51:05.057 +02:00 [DBG] Done attempting to bind parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto'.
2025-11-25 18:51:05.057 +02:00 [DBG] Done attempting to bind parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto'.
2025-11-25 18:51:05.058 +02:00 [DBG] Attempting to validate the bound parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto' ...
2025-11-25 18:51:05.059 +02:00 [DBG] Done attempting to validate the bound parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto'.
2025-11-25 18:51:05.060 +02:00 [INF] create News  called at "2025-11-25T18:51:05.0603327+02:00"
2025-11-25 18:51:05.060 +02:00 [INF] Adding a new news item: news title 2 
2025-11-25 18:51:05.061 +02:00 [INF] Fetching branch by ID: 1
2025-11-25 18:51:05.062 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 18:51:05.063 +02:00 [DBG] Creating DbConnection.
2025-11-25 18:51:05.064 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 18:51:05.064 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 18:51:05.065 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 18:51:05.066 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 18:51:05.067 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 18:51:05.068 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 18:51:05.068 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 18:51:05.072 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 18:51:05.078 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 18:51:05.078 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 18:51:05.079 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 18:51:05.080 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 18:51:05.081 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 18:51:05.082 +02:00 [DBG] 'AppDbContext' generated a temporary value for the property 'News.NewsId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 18:51:05.083 +02:00 [DBG] The navigation 'News.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 18:51:05.084 +02:00 [DBG] Context 'AppDbContext' started tracking 'News' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 18:51:05.085 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 18:51:05.085 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 18:51:05.086 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 18:51:05.087 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 18:51:05.087 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 18:51:05.088 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 18:51:05.089 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 18:51:05.090 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 18:51:05.090 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 18:51:05.091 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 18:51:05.092 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [News] ([BranchId], [CreatedAt], [Date], [Description], [ImageURL], [Title], [UpdatedAt])
OUTPUT INSERTED.[NewsId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-25 18:51:05.095 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [News] ([BranchId], [CreatedAt], [Date], [Description], [ImageURL], [Title], [UpdatedAt])
OUTPUT INSERTED.[NewsId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-25 18:51:05.097 +02:00 [DBG] The foreign key property 'News.NewsId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-25 18:51:05.098 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 18:51:05.099 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 18:51:05.100 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 18:51:05.100 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 18:51:05.101 +02:00 [DBG] An entity of type 'News' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 18:51:05.102 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-25 18:51:05.103 +02:00 [INF] News item added successfully with ID: 2
2025-11-25 18:51:05.104 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 18:51:05.106 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 18:51:05.106 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 18:51:05.107 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 18:51:05.107 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 18:51:05.108 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Hospital.Application.DTO.News.NewsDto'.
2025-11-25 18:51:05.109 +02:00 [DBG] Found the endpoints ["Hospital.Controllers.NewsController.GetNews (Hospital)"] for address (id=[2],action=[GetNews],controller=[News])
2025-11-25 18:51:05.110 +02:00 [DBG] Successfully processed template api/News/GetNews for Hospital.Controllers.NewsController.GetNews (Hospital) resulting in /api/News/GetNews and ?id=2
2025-11-25 18:51:05.111 +02:00 [DBG] Link generation succeeded for endpoints ["Hospital.Controllers.NewsController.GetNews (Hospital)"] with result /api/News/GetNews?id=2
2025-11-25 18:51:05.113 +02:00 [INF] Executed action Hospital.Controllers.NewsController.CreateNews (Hospital) in 64.5559ms
2025-11-25 18:51:05.113 +02:00 [INF] Executed endpoint 'Hospital.Controllers.NewsController.CreateNews (Hospital)'
2025-11-25 18:51:05.114 +02:00 [DBG] Connection id "0HNHC6FAJIEJ6" completed keep alive response.
2025-11-25 18:51:05.115 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 18:51:05.116 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 18:51:05.117 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 18:51:05.118 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/News/CreateNews - 201 null application/json; charset=utf-8 81.6842ms
2025-11-25 18:51:10.392 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7217/api/News/GetAllNewsInSystem - null null
2025-11-25 18:51:10.394 +02:00 [DBG] 1 candidate(s) found for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 18:51:10.395 +02:00 [DBG] Endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)' with route pattern 'api/News/GetAllNewsInSystem' is valid for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 18:51:10.396 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 18:51:10.397 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 18:51:10.397 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 18:51:10.398 +02:00 [INF] Executing endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 18:51:10.399 +02:00 [INF] Route matched with {action = "GetAllNewsInSystem", controller = "News"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllNewsInSystem() on controller Hospital.Controllers.NewsController (Hospital).
2025-11-25 18:51:10.400 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 18:51:10.401 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 18:51:10.402 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 18:51:10.403 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 18:51:10.404 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 18:51:10.405 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 18:51:10.406 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 18:51:10.406 +02:00 [INF] get all News in system  called at "2025-11-25T18:51:10.4068287+02:00"
2025-11-25 18:51:10.407 +02:00 [INF] Retrieving all news in the system
2025-11-25 18:51:10.408 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 18:51:10.409 +02:00 [DBG] Creating DbConnection.
2025-11-25 18:51:10.410 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 18:51:10.410 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 18:51:10.411 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 18:51:10.412 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 18:51:10.413 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 18:51:10.413 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 18:51:10.414 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 18:51:10.417 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 18:51:10.419 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 18:51:10.420 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-25 18:51:10.421 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 18:51:10.421 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 18:51:10.429 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 18:51:10.431 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 18:51:10.431 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 18:51:10.432 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 18:51:10.432 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 18:51:10.433 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.News.NewsDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 18:51:10.435 +02:00 [INF] Executed action Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital) in 30.602ms
2025-11-25 18:51:10.436 +02:00 [INF] Executed endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 18:51:10.437 +02:00 [DBG] Connection id "0HNHC6FAJIEJ6" completed keep alive response.
2025-11-25 18:51:10.438 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 18:51:10.438 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 18:51:10.439 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 18:51:10.440 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7217/api/News/GetAllNewsInSystem - 200 null application/json; charset=utf-8 48.039ms
2025-11-25 19:06:20.008 +02:00 [DBG] Connection id "0HNHC6FAJIEJ7" accepted.
2025-11-25 19:06:20.013 +02:00 [DBG] Connection id "0HNHC6FAJIEJ7" started.
2025-11-25 19:06:20.019 +02:00 [DBG] Connection 0HNHC6FAJIEJ7 established using the following protocol: "Tls13"
2025-11-25 19:06:20.036 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - null null
2025-11-25 19:06:20.038 +02:00 [DBG] 1 candidate(s) found for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 19:06:20.039 +02:00 [DBG] Endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)' with route pattern 'api/News/GetAllNewsInSystem' is valid for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 19:06:20.040 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:06:20.041 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:06:20.048 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 19:06:20.050 +02:00 [INF] CORS policy execution successful.
2025-11-25 19:06:20.057 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:06:20.058 +02:00 [INF] Executing endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:06:20.059 +02:00 [INF] Route matched with {action = "GetAllNewsInSystem", controller = "News"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllNewsInSystem() on controller Hospital.Controllers.NewsController (Hospital).
2025-11-25 19:06:20.060 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:06:20.061 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:06:20.062 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:06:20.064 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:06:20.065 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:06:20.066 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:06:20.067 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:06:20.068 +02:00 [INF] get all News in system  called at "2025-11-25T19:06:20.0686019+02:00"
2025-11-25 19:06:20.069 +02:00 [INF] Retrieving all news in the system
2025-11-25 19:06:20.070 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:06:20.072 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:06:20.072 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 19:06:20.073 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:06:20.124 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:06:20.127 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:06:20.128 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:06:20.129 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 19:06:20.130 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 19:06:20.138 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 19:06:20.139 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:06:20.141 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 19:06:20.142 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:06:20.143 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 19:06:20.144 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 19:06:20.146 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 19:06:20.147 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 19:06:20.147 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 19:06:20.148 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 19:06:20.149 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.News.NewsDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 19:06:20.155 +02:00 [INF] Executed action Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital) in 89.2023ms
2025-11-25 19:06:20.156 +02:00 [INF] Executed endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:06:20.157 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:06:20.158 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:06:20.159 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 19:06:20.160 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - 200 null application/json; charset=utf-8 124.5706ms
2025-11-25 19:06:20.406 +02:00 [DBG] Connection id "0HNHC6FAJIEJ7" received FIN.
2025-11-25 19:06:20.408 +02:00 [DBG] Connection id "0HNHC6FAJIEJ7" is closed. The last processed stream ID was 1.
2025-11-25 19:06:20.408 +02:00 [DBG] The connection queue processing loop for 0HNHC6FAJIEJ7 completed.
2025-11-25 19:06:20.409 +02:00 [DBG] Connection id "0HNHC6FAJIEJ7" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 19:06:20.412 +02:00 [DBG] Connection id "0HNHC6FAJIEJ7" stopped.
2025-11-25 19:21:34.225 +02:00 [DBG] Connection id "0HNHC6FAJIEJ8" accepted.
2025-11-25 19:21:34.226 +02:00 [DBG] Connection id "0HNHC6FAJIEJ8" started.
2025-11-25 19:21:34.231 +02:00 [DBG] Connection 0HNHC6FAJIEJ8 established using the following protocol: "Tls13"
2025-11-25 19:21:34.240 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - null null
2025-11-25 19:21:34.268 +02:00 [DBG] 1 candidate(s) found for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 19:21:34.269 +02:00 [DBG] Endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)' with route pattern 'api/News/GetAllNewsInSystem' is valid for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 19:21:34.270 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:21:34.271 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:21:34.272 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 19:21:34.273 +02:00 [INF] CORS policy execution successful.
2025-11-25 19:21:34.274 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:21:34.275 +02:00 [INF] Executing endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:21:34.276 +02:00 [INF] Route matched with {action = "GetAllNewsInSystem", controller = "News"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllNewsInSystem() on controller Hospital.Controllers.NewsController (Hospital).
2025-11-25 19:21:34.277 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:21:34.279 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:21:34.280 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:21:34.282 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:21:34.283 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:21:34.285 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:21:34.286 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:21:34.287 +02:00 [INF] get all News in system  called at "2025-11-25T19:21:34.2873665+02:00"
2025-11-25 19:21:34.288 +02:00 [INF] Retrieving all news in the system
2025-11-25 19:21:34.289 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:21:34.290 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:21:34.291 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 19:21:34.292 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:21:34.338 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:21:34.341 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:21:34.342 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:21:34.343 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:21:34.344 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 19:21:34.352 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 19:21:34.354 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:21:34.355 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 19:21:34.356 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:21:34.357 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:21:34.358 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 19:21:34.360 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 19:21:34.360 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 19:21:34.361 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 19:21:34.361 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 19:21:34.362 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.News.NewsDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 19:21:34.364 +02:00 [INF] Executed action Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital) in 78.998ms
2025-11-25 19:21:34.365 +02:00 [INF] Executed endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:21:34.365 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:21:34.366 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:21:34.367 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 19:21:34.368 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - 200 null application/json; charset=utf-8 128.0032ms
2025-11-25 19:21:35.565 +02:00 [DBG] Connection id "0HNHC6FAJIEJ8" received FIN.
2025-11-25 19:21:35.566 +02:00 [DBG] Connection id "0HNHC6FAJIEJ8" is closed. The last processed stream ID was 1.
2025-11-25 19:21:35.566 +02:00 [DBG] The connection queue processing loop for 0HNHC6FAJIEJ8 completed.
2025-11-25 19:21:35.567 +02:00 [DBG] Connection id "0HNHC6FAJIEJ8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 19:21:35.569 +02:00 [DBG] Connection id "0HNHC6FAJIEJ8" stopped.
2025-11-25 19:24:07.709 +02:00 [DBG] Connection id "0HNHC6FAJIEJ9" accepted.
2025-11-25 19:24:07.712 +02:00 [DBG] Connection id "0HNHC6FAJIEJ9" received FIN.
2025-11-25 19:24:07.715 +02:00 [DBG] Connection id "0HNHC6FAJIEJ9" started.
2025-11-25 19:24:07.718 +02:00 [DBG] Connection id "0HNHC6FAJIEJA" accepted.
2025-11-25 19:24:07.725 +02:00 [DBG] Connection id "0HNHC6FAJIEJA" started.
2025-11-25 19:24:07.726 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-25 19:24:07.727 +02:00 [DBG] Connection id "0HNHC6FAJIEJ9" stopped.
2025-11-25 19:24:07.728 +02:00 [DBG] Connection id "0HNHC6FAJIEJ9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 19:24:07.729 +02:00 [DBG] Connection 0HNHC6FAJIEJA established using the following protocol: "Tls13"
2025-11-25 19:24:07.731 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/News/CreateNews - application/json 542
2025-11-25 19:24:07.732 +02:00 [DBG] 1 candidate(s) found for the request path '/api/News/CreateNews'
2025-11-25 19:24:07.733 +02:00 [DBG] Endpoint 'Hospital.Controllers.NewsController.CreateNews (Hospital)' with route pattern 'api/News/CreateNews' is valid for the request path '/api/News/CreateNews'
2025-11-25 19:24:07.734 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.NewsController.CreateNews (Hospital)'
2025-11-25 19:24:07.735 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:24:07.736 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:24:07.736 +02:00 [INF] Executing endpoint 'Hospital.Controllers.NewsController.CreateNews (Hospital)'
2025-11-25 19:24:07.737 +02:00 [INF] Route matched with {action = "CreateNews", controller = "News"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNews(Hospital.Application.DTO.News.AddNewsDto) on controller Hospital.Controllers.NewsController (Hospital).
2025-11-25 19:24:07.738 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:24:07.739 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:24:07.740 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:24:07.741 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:24:07.742 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:24:07.743 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:24:07.744 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:24:07.745 +02:00 [DBG] Attempting to bind parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto' ...
2025-11-25 19:24:07.746 +02:00 [DBG] Attempting to bind parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto' using the name '' in request data ...
2025-11-25 19:24:07.747 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 19:24:07.748 +02:00 [DBG] Connection id "0HNHC6FAJIEJA", Request id "0HNHC6FAJIEJA:00000001": started reading request body.
2025-11-25 19:24:07.749 +02:00 [DBG] Connection id "0HNHC6FAJIEJA", Request id "0HNHC6FAJIEJA:00000001": done reading request body.
2025-11-25 19:24:07.750 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.News.AddNewsDto'
2025-11-25 19:24:07.750 +02:00 [DBG] Done attempting to bind parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto'.
2025-11-25 19:24:07.751 +02:00 [DBG] Done attempting to bind parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto'.
2025-11-25 19:24:07.752 +02:00 [DBG] Attempting to validate the bound parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto' ...
2025-11-25 19:24:07.753 +02:00 [DBG] Done attempting to validate the bound parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto'.
2025-11-25 19:24:07.754 +02:00 [INF] create News  called at "2025-11-25T19:24:07.7543699+02:00"
2025-11-25 19:24:07.755 +02:00 [INF] Adding a new news item: Hospital Launches State-of-the-Art Cardiac Center
2025-11-25 19:24:07.755 +02:00 [INF] Fetching branch by ID: 1
2025-11-25 19:24:07.756 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:24:07.758 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:24:07.758 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 19:24:07.759 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:24:07.760 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:24:07.761 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:24:07.761 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:24:07.762 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:24:07.763 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 19:24:07.771 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 19:24:07.773 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:24:07.774 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:24:07.775 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-11-25 19:24:07.777 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:24:07.778 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 19:24:07.779 +02:00 [DBG] 'AppDbContext' generated a temporary value for the property 'News.NewsId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:24:07.780 +02:00 [DBG] The navigation 'News.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:24:07.781 +02:00 [DBG] Context 'AppDbContext' started tracking 'News' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:24:07.783 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 19:24:07.783 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 19:24:07.784 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 19:24:07.785 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 19:24:07.786 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 19:24:07.788 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:24:07.789 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:24:07.790 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:24:07.791 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:24:07.792 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:24:07.794 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [News] ([BranchId], [CreatedAt], [Date], [Description], [ImageURL], [Title], [UpdatedAt])
OUTPUT INSERTED.[NewsId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-25 19:24:07.799 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [News] ([BranchId], [CreatedAt], [Date], [Description], [ImageURL], [Title], [UpdatedAt])
OUTPUT INSERTED.[NewsId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-25 19:24:07.801 +02:00 [DBG] The foreign key property 'News.NewsId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-25 19:24:07.802 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:24:07.804 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-11-25 19:24:07.805 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:24:07.807 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 19:24:07.808 +02:00 [DBG] An entity of type 'News' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:24:07.810 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-25 19:24:07.812 +02:00 [INF] News item added successfully with ID: 3
2025-11-25 19:24:07.813 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 19:24:07.815 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 19:24:07.816 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 19:24:07.817 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 19:24:07.817 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 19:24:07.819 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Hospital.Application.DTO.News.NewsDto'.
2025-11-25 19:24:07.820 +02:00 [DBG] Found the endpoints ["Hospital.Controllers.NewsController.GetNews (Hospital)"] for address (id=[3],action=[GetNews],controller=[News])
2025-11-25 19:24:07.822 +02:00 [DBG] Successfully processed template api/News/GetNews for Hospital.Controllers.NewsController.GetNews (Hospital) resulting in /api/News/GetNews and ?id=3
2025-11-25 19:24:07.824 +02:00 [DBG] Link generation succeeded for endpoints ["Hospital.Controllers.NewsController.GetNews (Hospital)"] with result /api/News/GetNews?id=3
2025-11-25 19:24:07.827 +02:00 [INF] Executed action Hospital.Controllers.NewsController.CreateNews (Hospital) in 83.4809ms
2025-11-25 19:24:07.828 +02:00 [INF] Executed endpoint 'Hospital.Controllers.NewsController.CreateNews (Hospital)'
2025-11-25 19:24:07.830 +02:00 [DBG] Connection id "0HNHC6FAJIEJA" completed keep alive response.
2025-11-25 19:24:07.831 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:24:07.832 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:24:07.834 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 19:24:07.836 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/News/CreateNews - 201 null application/json; charset=utf-8 104.9113ms
2025-11-25 19:24:40.222 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/News/CreateNews - application/json 542
2025-11-25 19:24:40.226 +02:00 [DBG] 1 candidate(s) found for the request path '/api/News/CreateNews'
2025-11-25 19:24:40.226 +02:00 [DBG] Endpoint 'Hospital.Controllers.NewsController.CreateNews (Hospital)' with route pattern 'api/News/CreateNews' is valid for the request path '/api/News/CreateNews'
2025-11-25 19:24:40.227 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.NewsController.CreateNews (Hospital)'
2025-11-25 19:24:40.231 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:24:40.232 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:24:40.232 +02:00 [INF] Executing endpoint 'Hospital.Controllers.NewsController.CreateNews (Hospital)'
2025-11-25 19:24:40.233 +02:00 [INF] Route matched with {action = "CreateNews", controller = "News"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNews(Hospital.Application.DTO.News.AddNewsDto) on controller Hospital.Controllers.NewsController (Hospital).
2025-11-25 19:24:40.234 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:24:40.235 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:24:40.236 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:24:40.237 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:24:40.238 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:24:40.239 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:24:40.256 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:24:40.257 +02:00 [DBG] Attempting to bind parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto' ...
2025-11-25 19:24:40.258 +02:00 [DBG] Attempting to bind parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto' using the name '' in request data ...
2025-11-25 19:24:40.260 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 19:24:40.266 +02:00 [DBG] Connection id "0HNHC6FAJIEJA", Request id "0HNHC6FAJIEJA:00000002": started reading request body.
2025-11-25 19:24:40.267 +02:00 [DBG] Connection id "0HNHC6FAJIEJA", Request id "0HNHC6FAJIEJA:00000002": done reading request body.
2025-11-25 19:24:40.268 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.News.AddNewsDto'
2025-11-25 19:24:40.269 +02:00 [DBG] Done attempting to bind parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto'.
2025-11-25 19:24:40.270 +02:00 [DBG] Done attempting to bind parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto'.
2025-11-25 19:24:40.270 +02:00 [DBG] Attempting to validate the bound parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto' ...
2025-11-25 19:24:40.287 +02:00 [DBG] Done attempting to validate the bound parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto'.
2025-11-25 19:24:40.288 +02:00 [INF] create News  called at "2025-11-25T19:24:40.2882246+02:00"
2025-11-25 19:24:40.288 +02:00 [INF] Adding a new news item: Hospital Launches State-of-the-Art Cardiac Center
2025-11-25 19:24:40.289 +02:00 [INF] Fetching branch by ID: 1
2025-11-25 19:24:40.291 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:24:40.292 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:24:40.293 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 19:24:40.294 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:24:40.295 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:24:40.296 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:24:40.296 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:24:40.297 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:24:40.298 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 19:24:40.301 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 19:24:40.302 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:24:40.303 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:24:40.304 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 19:24:40.305 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:24:40.306 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:24:40.307 +02:00 [DBG] 'AppDbContext' generated a temporary value for the property 'News.NewsId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:24:40.309 +02:00 [DBG] The navigation 'News.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:24:40.310 +02:00 [DBG] Context 'AppDbContext' started tracking 'News' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:24:40.311 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 19:24:40.311 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 19:24:40.312 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 19:24:40.313 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 19:24:40.313 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 19:24:40.314 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:24:40.315 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:24:40.316 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:24:40.317 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:24:40.318 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:24:40.318 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [News] ([BranchId], [CreatedAt], [Date], [Description], [ImageURL], [Title], [UpdatedAt])
OUTPUT INSERTED.[NewsId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-25 19:24:40.329 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [News] ([BranchId], [CreatedAt], [Date], [Description], [ImageURL], [Title], [UpdatedAt])
OUTPUT INSERTED.[NewsId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-25 19:24:40.330 +02:00 [DBG] The foreign key property 'News.NewsId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-25 19:24:40.331 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:24:40.332 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-11-25 19:24:40.334 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:24:40.335 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 19:24:40.336 +02:00 [DBG] An entity of type 'News' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:24:40.338 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-25 19:24:40.339 +02:00 [INF] News item added successfully with ID: 4
2025-11-25 19:24:40.339 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 19:24:40.341 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 19:24:40.341 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 19:24:40.342 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 19:24:40.343 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 19:24:40.344 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Hospital.Application.DTO.News.NewsDto'.
2025-11-25 19:24:40.345 +02:00 [DBG] Found the endpoints ["Hospital.Controllers.NewsController.GetNews (Hospital)"] for address (id=[4],action=[GetNews],controller=[News])
2025-11-25 19:24:40.346 +02:00 [DBG] Successfully processed template api/News/GetNews for Hospital.Controllers.NewsController.GetNews (Hospital) resulting in /api/News/GetNews and ?id=4
2025-11-25 19:24:40.347 +02:00 [DBG] Link generation succeeded for endpoints ["Hospital.Controllers.NewsController.GetNews (Hospital)"] with result /api/News/GetNews?id=4
2025-11-25 19:24:40.349 +02:00 [INF] Executed action Hospital.Controllers.NewsController.CreateNews (Hospital) in 109.6079ms
2025-11-25 19:24:40.350 +02:00 [INF] Executed endpoint 'Hospital.Controllers.NewsController.CreateNews (Hospital)'
2025-11-25 19:24:40.351 +02:00 [DBG] Connection id "0HNHC6FAJIEJA" completed keep alive response.
2025-11-25 19:24:40.352 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:24:40.353 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:24:40.354 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 19:24:40.355 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/News/CreateNews - 201 null application/json; charset=utf-8 132.2323ms
2025-11-25 19:25:03.773 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/News/CreateNews - application/json 542
2025-11-25 19:25:03.778 +02:00 [DBG] 1 candidate(s) found for the request path '/api/News/CreateNews'
2025-11-25 19:25:03.778 +02:00 [DBG] Endpoint 'Hospital.Controllers.NewsController.CreateNews (Hospital)' with route pattern 'api/News/CreateNews' is valid for the request path '/api/News/CreateNews'
2025-11-25 19:25:03.779 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.NewsController.CreateNews (Hospital)'
2025-11-25 19:25:03.780 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:25:03.781 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:25:03.783 +02:00 [INF] Executing endpoint 'Hospital.Controllers.NewsController.CreateNews (Hospital)'
2025-11-25 19:25:03.784 +02:00 [INF] Route matched with {action = "CreateNews", controller = "News"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNews(Hospital.Application.DTO.News.AddNewsDto) on controller Hospital.Controllers.NewsController (Hospital).
2025-11-25 19:25:03.785 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:25:03.786 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:25:03.787 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:25:03.788 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:25:03.790 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:25:03.791 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:25:03.792 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:25:03.793 +02:00 [DBG] Attempting to bind parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto' ...
2025-11-25 19:25:03.794 +02:00 [DBG] Attempting to bind parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto' using the name '' in request data ...
2025-11-25 19:25:03.795 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 19:25:03.796 +02:00 [DBG] Connection id "0HNHC6FAJIEJA", Request id "0HNHC6FAJIEJA:00000003": started reading request body.
2025-11-25 19:25:03.797 +02:00 [DBG] Connection id "0HNHC6FAJIEJA", Request id "0HNHC6FAJIEJA:00000003": done reading request body.
2025-11-25 19:25:03.798 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.News.AddNewsDto'
2025-11-25 19:25:03.798 +02:00 [DBG] Done attempting to bind parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto'.
2025-11-25 19:25:03.799 +02:00 [DBG] Done attempting to bind parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto'.
2025-11-25 19:25:03.800 +02:00 [DBG] Attempting to validate the bound parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto' ...
2025-11-25 19:25:03.801 +02:00 [DBG] Done attempting to validate the bound parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto'.
2025-11-25 19:25:03.802 +02:00 [INF] create News  called at "2025-11-25T19:25:03.8027254+02:00"
2025-11-25 19:25:03.803 +02:00 [INF] Adding a new news item: Hospital Launches State-of-the-Art Cardiac Center
2025-11-25 19:25:03.803 +02:00 [INF] Fetching branch by ID: 1
2025-11-25 19:25:03.804 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:25:03.806 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:25:03.806 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 19:25:03.807 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:25:03.808 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:25:03.809 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:25:03.809 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:25:03.810 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:25:03.811 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 19:25:03.815 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 19:25:03.820 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:25:03.821 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:25:03.822 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 19:25:03.823 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:25:03.824 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:25:03.825 +02:00 [DBG] 'AppDbContext' generated a temporary value for the property 'News.NewsId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:25:03.826 +02:00 [DBG] The navigation 'News.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:25:03.827 +02:00 [DBG] Context 'AppDbContext' started tracking 'News' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:25:03.828 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 19:25:03.829 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 19:25:03.830 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 19:25:03.830 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 19:25:03.831 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 19:25:03.832 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:25:03.833 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:25:03.834 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:25:03.835 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:25:03.836 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:25:03.836 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [News] ([BranchId], [CreatedAt], [Date], [Description], [ImageURL], [Title], [UpdatedAt])
OUTPUT INSERTED.[NewsId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-25 19:25:03.841 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [News] ([BranchId], [CreatedAt], [Date], [Description], [ImageURL], [Title], [UpdatedAt])
OUTPUT INSERTED.[NewsId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-25 19:25:03.842 +02:00 [DBG] The foreign key property 'News.NewsId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-25 19:25:03.843 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:25:03.844 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 19:25:03.845 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:25:03.847 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 19:25:03.848 +02:00 [DBG] An entity of type 'News' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:25:03.849 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-25 19:25:03.850 +02:00 [INF] News item added successfully with ID: 5
2025-11-25 19:25:03.851 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 19:25:03.853 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 19:25:03.854 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 19:25:03.854 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 19:25:03.855 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 19:25:03.856 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Hospital.Application.DTO.News.NewsDto'.
2025-11-25 19:25:03.857 +02:00 [DBG] Found the endpoints ["Hospital.Controllers.NewsController.GetNews (Hospital)"] for address (id=[5],action=[GetNews],controller=[News])
2025-11-25 19:25:03.858 +02:00 [DBG] Successfully processed template api/News/GetNews for Hospital.Controllers.NewsController.GetNews (Hospital) resulting in /api/News/GetNews and ?id=5
2025-11-25 19:25:03.860 +02:00 [DBG] Link generation succeeded for endpoints ["Hospital.Controllers.NewsController.GetNews (Hospital)"] with result /api/News/GetNews?id=5
2025-11-25 19:25:03.861 +02:00 [INF] Executed action Hospital.Controllers.NewsController.CreateNews (Hospital) in 70.308ms
2025-11-25 19:25:03.862 +02:00 [INF] Executed endpoint 'Hospital.Controllers.NewsController.CreateNews (Hospital)'
2025-11-25 19:25:03.863 +02:00 [DBG] Connection id "0HNHC6FAJIEJA" completed keep alive response.
2025-11-25 19:25:03.864 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:25:03.865 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:25:03.866 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 19:25:03.867 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/News/CreateNews - 201 null application/json; charset=utf-8 93.8092ms
2025-11-25 19:26:09.822 +02:00 [DBG] Connection id "0HNHC6FAJIEJB" received FIN.
2025-11-25 19:26:09.822 +02:00 [DBG] Connection id "0HNHC6FAJIEJB" accepted.
2025-11-25 19:26:09.830 +02:00 [DBG] Connection id "0HNHC6FAJIEJB" started.
2025-11-25 19:26:09.832 +02:00 [DBG] Connection id "0HNHC6FAJIEJC" accepted.
2025-11-25 19:26:09.837 +02:00 [DBG] Connection id "0HNHC6FAJIEJC" started.
2025-11-25 19:26:09.837 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-25 19:26:09.839 +02:00 [DBG] Connection id "0HNHC6FAJIEJB" stopped.
2025-11-25 19:26:09.841 +02:00 [DBG] Connection id "0HNHC6FAJIEJB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 19:26:09.841 +02:00 [DBG] Connection 0HNHC6FAJIEJC established using the following protocol: "Tls13"
2025-11-25 19:26:09.843 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7217/api/News/UpdateNews - application/json 628
2025-11-25 19:26:09.844 +02:00 [DBG] 1 candidate(s) found for the request path '/api/News/UpdateNews'
2025-11-25 19:26:09.845 +02:00 [DBG] Endpoint 'Hospital.Controllers.NewsController.UpdateEvent (Hospital)' with route pattern 'api/News/UpdateNews' is valid for the request path '/api/News/UpdateNews'
2025-11-25 19:26:09.846 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.NewsController.UpdateEvent (Hospital)'
2025-11-25 19:26:09.847 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:26:09.848 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:26:09.848 +02:00 [INF] Executing endpoint 'Hospital.Controllers.NewsController.UpdateEvent (Hospital)'
2025-11-25 19:26:09.852 +02:00 [INF] Route matched with {action = "UpdateEvent", controller = "News"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateEvent(Hospital.Application.DTO.News.NewsDto) on controller Hospital.Controllers.NewsController (Hospital).
2025-11-25 19:26:09.853 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:26:09.855 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:26:09.856 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:26:09.857 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:26:09.858 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:26:09.859 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:26:09.861 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:26:09.862 +02:00 [DBG] Attempting to bind parameter 'news' of type 'Hospital.Application.DTO.News.NewsDto' ...
2025-11-25 19:26:09.863 +02:00 [DBG] Attempting to bind parameter 'news' of type 'Hospital.Application.DTO.News.NewsDto' using the name '' in request data ...
2025-11-25 19:26:09.864 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 19:26:09.866 +02:00 [DBG] Connection id "0HNHC6FAJIEJC", Request id "0HNHC6FAJIEJC:00000001": started reading request body.
2025-11-25 19:26:09.867 +02:00 [DBG] Connection id "0HNHC6FAJIEJC", Request id "0HNHC6FAJIEJC:00000001": done reading request body.
2025-11-25 19:26:09.869 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.News.NewsDto'
2025-11-25 19:26:09.870 +02:00 [DBG] Done attempting to bind parameter 'news' of type 'Hospital.Application.DTO.News.NewsDto'.
2025-11-25 19:26:09.871 +02:00 [DBG] Done attempting to bind parameter 'news' of type 'Hospital.Application.DTO.News.NewsDto'.
2025-11-25 19:26:09.872 +02:00 [DBG] Attempting to validate the bound parameter 'news' of type 'Hospital.Application.DTO.News.NewsDto' ...
2025-11-25 19:26:09.875 +02:00 [DBG] Done attempting to validate the bound parameter 'news' of type 'Hospital.Application.DTO.News.NewsDto'.
2025-11-25 19:26:09.876 +02:00 [INF] update News  called at "2025-11-25T19:26:09.8767539+02:00"
2025-11-25 19:26:09.879 +02:00 [INF] Updating news with ID: 0
2025-11-25 19:26:09.879 +02:00 [INF] Fetching branch by ID: 1
2025-11-25 19:26:09.881 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:26:09.882 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:26:09.883 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 19:26:09.883 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:09.884 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:09.885 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:26:09.886 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:26:09.887 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:26:09.888 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 19:26:09.892 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 19:26:09.894 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:26:09.895 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:09.896 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-11-25 19:26:09.897 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:09.898 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:26:09.901 +02:00 [DBG] Compiling query expression: 
'DbSet<News>()
    .AsNoTracking()
    .FirstOrDefault(n => n.NewsId == __id_0)'
2025-11-25 19:26:09.909 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<News>(
    asyncEnumerable: new SingleQueryingEnumerable<News>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: News.NewsId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: News.BranchId (int?) FK Index, 1], [Property: News.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 2], [Property: News.Date (DateTime) Required, 3], [Property: News.Description (string), 4], [Property: News.ImageURL (string) MaxLength(300), 5], [Property: News.Title (string) Required MaxLength(150), 6], [Property: News.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 7] }
            SELECT TOP(1) n.NewsId, n.BranchId, n.CreatedAt, n.Date, n.Description, n.ImageURL, n.Title, n.UpdatedAt
            FROM News AS n
            WHERE n.NewsId == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, News>, 
        Clinic.Infrastructure.Persistence.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-11-25 19:26:09.911 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:09.912 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:09.913 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:26:09.913 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:26:09.914 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:26:09.915 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
WHERE [n].[NewsId] = @__id_0
2025-11-25 19:26:09.923 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
WHERE [n].[NewsId] = @__id_0
2025-11-25 19:26:09.924 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:09.925 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-25 19:26:09.927 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:09.928 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:26:09.975 +02:00 [ERR] Error occurred while updating news with ID: 0
System.Collections.Generic.KeyNotFoundException: News with ID 0 not found.
   at Hospital.Infrastructure.Services.NewsService.UpdateAsync(NewsDto newsdto) in D:\Hospital\Hospital\Hospital.Infrastructure\Services\NewsService.cs:line 166
2025-11-25 19:26:10.031 +02:00 [INF] Executed action Hospital.Controllers.NewsController.UpdateEvent (Hospital) in 171.3699ms
2025-11-25 19:26:10.033 +02:00 [INF] Executed endpoint 'Hospital.Controllers.NewsController.UpdateEvent (Hospital)'
2025-11-25 19:26:10.096 +02:00 [ERR]  Exception caught: News with ID 0 not found.
System.Collections.Generic.KeyNotFoundException: News with ID 0 not found.
   at Hospital.Infrastructure.Services.NewsService.UpdateAsync(NewsDto newsdto) in D:\Hospital\Hospital\Hospital.Infrastructure\Services\NewsService.cs:line 166
   at Hospital.Controllers.NewsController.UpdateEvent(NewsDto news) in D:\Hospital\Hospital\Hospital\Controllers\NewsController.cs:line 63
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hospital.Middleware.GlobalExceptionHandler.InvokeAsync(HttpContext context) in D:\Hospital\Hospital\Hospital\Middleware\GlobalExceptionHandler.cs:line 22
2025-11-25 19:26:10.111 +02:00 [DBG] Connection id "0HNHC6FAJIEJC" completed keep alive response.
2025-11-25 19:26:10.112 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:26:10.115 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:10.116 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 19:26:10.119 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7217/api/News/UpdateNews - 404 null application/json 276.0095ms
2025-11-25 19:26:21.435 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7217/api/News/UpdateNews - application/json 646
2025-11-25 19:26:21.437 +02:00 [DBG] 1 candidate(s) found for the request path '/api/News/UpdateNews'
2025-11-25 19:26:21.437 +02:00 [DBG] Endpoint 'Hospital.Controllers.NewsController.UpdateEvent (Hospital)' with route pattern 'api/News/UpdateNews' is valid for the request path '/api/News/UpdateNews'
2025-11-25 19:26:21.439 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.NewsController.UpdateEvent (Hospital)'
2025-11-25 19:26:21.439 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:26:21.440 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:26:21.441 +02:00 [INF] Executing endpoint 'Hospital.Controllers.NewsController.UpdateEvent (Hospital)'
2025-11-25 19:26:21.441 +02:00 [INF] Route matched with {action = "UpdateEvent", controller = "News"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateEvent(Hospital.Application.DTO.News.NewsDto) on controller Hospital.Controllers.NewsController (Hospital).
2025-11-25 19:26:21.442 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:26:21.443 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:26:21.445 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:26:21.446 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:26:21.447 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:26:21.448 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:26:21.449 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:26:21.450 +02:00 [DBG] Attempting to bind parameter 'news' of type 'Hospital.Application.DTO.News.NewsDto' ...
2025-11-25 19:26:21.451 +02:00 [DBG] Attempting to bind parameter 'news' of type 'Hospital.Application.DTO.News.NewsDto' using the name '' in request data ...
2025-11-25 19:26:21.453 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 19:26:21.454 +02:00 [DBG] Connection id "0HNHC6FAJIEJC", Request id "0HNHC6FAJIEJC:00000002": started reading request body.
2025-11-25 19:26:21.455 +02:00 [DBG] Connection id "0HNHC6FAJIEJC", Request id "0HNHC6FAJIEJC:00000002": done reading request body.
2025-11-25 19:26:21.456 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.News.NewsDto'
2025-11-25 19:26:21.457 +02:00 [DBG] Done attempting to bind parameter 'news' of type 'Hospital.Application.DTO.News.NewsDto'.
2025-11-25 19:26:21.458 +02:00 [DBG] Done attempting to bind parameter 'news' of type 'Hospital.Application.DTO.News.NewsDto'.
2025-11-25 19:26:21.458 +02:00 [DBG] Attempting to validate the bound parameter 'news' of type 'Hospital.Application.DTO.News.NewsDto' ...
2025-11-25 19:26:21.460 +02:00 [DBG] Done attempting to validate the bound parameter 'news' of type 'Hospital.Application.DTO.News.NewsDto'.
2025-11-25 19:26:21.461 +02:00 [INF] update News  called at "2025-11-25T19:26:21.4613190+02:00"
2025-11-25 19:26:21.462 +02:00 [INF] Updating news with ID: 1
2025-11-25 19:26:21.462 +02:00 [INF] Fetching branch by ID: 1
2025-11-25 19:26:21.463 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:26:21.465 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:26:21.466 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 19:26:21.466 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:21.467 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:21.468 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:26:21.469 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:26:21.470 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:26:21.471 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 19:26:21.475 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 19:26:21.476 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:26:21.477 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:21.478 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 19:26:21.478 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:21.479 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:26:21.481 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:21.481 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:21.482 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:26:21.483 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:26:21.484 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:26:21.484 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
WHERE [n].[NewsId] = @__id_0
2025-11-25 19:26:21.487 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
WHERE [n].[NewsId] = @__id_0
2025-11-25 19:26:21.488 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:21.489 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-25 19:26:21.490 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:21.491 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:26:21.494 +02:00 [DBG] The navigation 'News.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:26:21.495 +02:00 [DBG] Context 'AppDbContext' started tracking 'News' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:26:21.496 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 19:26:21.496 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 19:26:21.497 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 19:26:21.498 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 19:26:21.498 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 19:26:21.500 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:21.501 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:21.502 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:26:21.503 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:26:21.504 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:26:21.505 +02:00 [DBG] Executing DbCommand [Parameters=[@p7='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [News] SET [BranchId] = @p0, [CreatedAt] = @p1, [Date] = @p2, [Description] = @p3, [ImageURL] = @p4, [Title] = @p5, [UpdatedAt] = @p6
OUTPUT 1
WHERE [NewsId] = @p7;
2025-11-25 19:26:21.511 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [News] SET [BranchId] = @p0, [CreatedAt] = @p1, [Date] = @p2, [Description] = @p3, [ImageURL] = @p4, [Title] = @p5, [UpdatedAt] = @p6
OUTPUT 1
WHERE [NewsId] = @p7;
2025-11-25 19:26:21.513 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:21.514 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 19:26:21.516 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:21.516 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:26:21.517 +02:00 [DBG] An entity of type 'News' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:26:21.518 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-25 19:26:21.519 +02:00 [INF] News updated successfully with ID: 1
2025-11-25 19:26:21.520 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 19:26:21.522 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 19:26:21.522 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 19:26:21.523 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 19:26:21.523 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-11-25 19:26:21.524 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-11-25 19:26:21.525 +02:00 [INF] Executed action Hospital.Controllers.NewsController.UpdateEvent (Hospital) in 76.4335ms
2025-11-25 19:26:21.526 +02:00 [INF] Executed endpoint 'Hospital.Controllers.NewsController.UpdateEvent (Hospital)'
2025-11-25 19:26:21.526 +02:00 [DBG] Connection id "0HNHC6FAJIEJC" completed keep alive response.
2025-11-25 19:26:21.527 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:26:21.528 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:21.529 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 19:26:21.530 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7217/api/News/UpdateNews - 200 null text/plain; charset=utf-8 95.0141ms
2025-11-25 19:26:26.540 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7217/api/News/UpdateNews - application/json 646
2025-11-25 19:26:26.542 +02:00 [DBG] 1 candidate(s) found for the request path '/api/News/UpdateNews'
2025-11-25 19:26:26.542 +02:00 [DBG] Endpoint 'Hospital.Controllers.NewsController.UpdateEvent (Hospital)' with route pattern 'api/News/UpdateNews' is valid for the request path '/api/News/UpdateNews'
2025-11-25 19:26:26.543 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.NewsController.UpdateEvent (Hospital)'
2025-11-25 19:26:26.544 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:26:26.545 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:26:26.546 +02:00 [INF] Executing endpoint 'Hospital.Controllers.NewsController.UpdateEvent (Hospital)'
2025-11-25 19:26:26.546 +02:00 [INF] Route matched with {action = "UpdateEvent", controller = "News"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateEvent(Hospital.Application.DTO.News.NewsDto) on controller Hospital.Controllers.NewsController (Hospital).
2025-11-25 19:26:26.547 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:26:26.548 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:26:26.549 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:26:26.550 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:26:26.551 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:26:26.552 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:26:26.554 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:26:26.555 +02:00 [DBG] Attempting to bind parameter 'news' of type 'Hospital.Application.DTO.News.NewsDto' ...
2025-11-25 19:26:26.556 +02:00 [DBG] Attempting to bind parameter 'news' of type 'Hospital.Application.DTO.News.NewsDto' using the name '' in request data ...
2025-11-25 19:26:26.557 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 19:26:26.558 +02:00 [DBG] Connection id "0HNHC6FAJIEJC", Request id "0HNHC6FAJIEJC:00000003": started reading request body.
2025-11-25 19:26:26.559 +02:00 [DBG] Connection id "0HNHC6FAJIEJC", Request id "0HNHC6FAJIEJC:00000003": done reading request body.
2025-11-25 19:26:26.560 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.News.NewsDto'
2025-11-25 19:26:26.560 +02:00 [DBG] Done attempting to bind parameter 'news' of type 'Hospital.Application.DTO.News.NewsDto'.
2025-11-25 19:26:26.561 +02:00 [DBG] Done attempting to bind parameter 'news' of type 'Hospital.Application.DTO.News.NewsDto'.
2025-11-25 19:26:26.562 +02:00 [DBG] Attempting to validate the bound parameter 'news' of type 'Hospital.Application.DTO.News.NewsDto' ...
2025-11-25 19:26:26.563 +02:00 [DBG] Done attempting to validate the bound parameter 'news' of type 'Hospital.Application.DTO.News.NewsDto'.
2025-11-25 19:26:26.563 +02:00 [INF] update News  called at "2025-11-25T19:26:26.5639715+02:00"
2025-11-25 19:26:26.564 +02:00 [INF] Updating news with ID: 2
2025-11-25 19:26:26.565 +02:00 [INF] Fetching branch by ID: 1
2025-11-25 19:26:26.566 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:26:26.567 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:26:26.568 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 19:26:26.568 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:26.569 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:26.570 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:26:26.571 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:26:26.571 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:26:26.572 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 19:26:26.575 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 19:26:26.577 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:26:26.578 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:26.578 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 19:26:26.579 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:26.580 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:26:26.581 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:26.582 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:26.583 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:26:26.584 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:26:26.585 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:26:26.585 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
WHERE [n].[NewsId] = @__id_0
2025-11-25 19:26:26.588 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
WHERE [n].[NewsId] = @__id_0
2025-11-25 19:26:26.590 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:26.591 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 19:26:26.592 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:26.592 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:26:26.594 +02:00 [DBG] The navigation 'News.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:26:26.594 +02:00 [DBG] Context 'AppDbContext' started tracking 'News' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:26:26.595 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 19:26:26.596 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 19:26:26.597 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 19:26:26.598 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 19:26:26.598 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 19:26:26.599 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:26.600 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:26.601 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:26:26.602 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:26:26.603 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:26:26.603 +02:00 [DBG] Executing DbCommand [Parameters=[@p7='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [News] SET [BranchId] = @p0, [CreatedAt] = @p1, [Date] = @p2, [Description] = @p3, [ImageURL] = @p4, [Title] = @p5, [UpdatedAt] = @p6
OUTPUT 1
WHERE [NewsId] = @p7;
2025-11-25 19:26:26.608 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [News] SET [BranchId] = @p0, [CreatedAt] = @p1, [Date] = @p2, [Description] = @p3, [ImageURL] = @p4, [Title] = @p5, [UpdatedAt] = @p6
OUTPUT 1
WHERE [NewsId] = @p7;
2025-11-25 19:26:26.609 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:26.610 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-25 19:26:26.611 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:26.612 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:26:26.613 +02:00 [DBG] An entity of type 'News' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:26:26.614 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-25 19:26:26.615 +02:00 [INF] News updated successfully with ID: 2
2025-11-25 19:26:26.616 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 19:26:26.618 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 19:26:26.618 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 19:26:26.619 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 19:26:26.619 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-11-25 19:26:26.620 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-11-25 19:26:26.621 +02:00 [INF] Executed action Hospital.Controllers.NewsController.UpdateEvent (Hospital) in 68.6699ms
2025-11-25 19:26:26.622 +02:00 [INF] Executed endpoint 'Hospital.Controllers.NewsController.UpdateEvent (Hospital)'
2025-11-25 19:26:26.623 +02:00 [DBG] Connection id "0HNHC6FAJIEJC" completed keep alive response.
2025-11-25 19:26:26.624 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:26:26.624 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:26.625 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 19:26:26.626 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7217/api/News/UpdateNews - 200 null text/plain; charset=utf-8 86.6909ms
2025-11-25 19:26:30.731 +02:00 [DBG] Connection id "0HNHC6FAJIEJD" accepted.
2025-11-25 19:26:30.731 +02:00 [DBG] Connection id "0HNHC6FAJIEJD" started.
2025-11-25 19:26:30.735 +02:00 [DBG] Connection 0HNHC6FAJIEJD established using the following protocol: "Tls13"
2025-11-25 19:26:30.738 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - null null
2025-11-25 19:26:30.740 +02:00 [DBG] 1 candidate(s) found for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 19:26:30.741 +02:00 [DBG] Endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)' with route pattern 'api/News/GetAllNewsInSystem' is valid for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 19:26:30.743 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:26:30.744 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:26:30.745 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 19:26:30.746 +02:00 [INF] CORS policy execution successful.
2025-11-25 19:26:30.746 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:26:30.747 +02:00 [INF] Executing endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:26:30.748 +02:00 [INF] Route matched with {action = "GetAllNewsInSystem", controller = "News"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllNewsInSystem() on controller Hospital.Controllers.NewsController (Hospital).
2025-11-25 19:26:30.750 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:26:30.751 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:26:30.752 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:26:30.753 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:26:30.754 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:26:30.756 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:26:30.757 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:26:30.758 +02:00 [INF] get all News in system  called at "2025-11-25T19:26:30.7585014+02:00"
2025-11-25 19:26:30.759 +02:00 [INF] Retrieving all news in the system
2025-11-25 19:26:30.760 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:26:30.762 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:26:30.762 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 19:26:30.763 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:30.764 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:30.765 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:26:30.766 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:26:30.767 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:26:30.768 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 19:26:30.772 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 19:26:30.774 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:30.775 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 19:26:30.777 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:30.778 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 19:26:30.779 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 19:26:30.781 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 19:26:30.782 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 19:26:30.782 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 19:26:30.783 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 19:26:30.784 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.News.NewsDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 19:26:30.786 +02:00 [INF] Executed action Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital) in 29.7484ms
2025-11-25 19:26:30.787 +02:00 [INF] Executed endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:26:30.788 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:26:30.789 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:26:30.790 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 19:26:30.791 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - 200 null application/json; charset=utf-8 53.9425ms
2025-11-25 19:26:40.619 +02:00 [DBG] Connection id "0HNHC6FAJIEJD" received FIN.
2025-11-25 19:26:40.620 +02:00 [DBG] Connection id "0HNHC6FAJIEJD" is closed. The last processed stream ID was 1.
2025-11-25 19:26:40.620 +02:00 [DBG] The connection queue processing loop for 0HNHC6FAJIEJD completed.
2025-11-25 19:26:40.621 +02:00 [DBG] Connection id "0HNHC6FAJIEJD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 19:26:40.624 +02:00 [DBG] Connection id "0HNHC6FAJIEJD" stopped.
2025-11-25 19:28:45.336 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-11-25 19:28:45.465 +02:00 [DBG] Hosting starting
2025-11-25 19:28:45.479 +02:00 [INF] User profile is available. Using 'C:\Users\yossr\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-25 19:28:45.486 +02:00 [DBG] Reading data from file 'C:\Users\yossr\AppData\Local\ASP.NET\DataProtection-Keys\key-69bbab29-81b6-4865-ac9a-ae2b6fa39013.xml'.
2025-11-25 19:28:45.512 +02:00 [DBG] Reading data from file 'C:\Users\yossr\AppData\Local\ASP.NET\DataProtection-Keys\key-80d0efac-0f9c-4630-990a-b52d8a5ce829.xml'.
2025-11-25 19:28:45.527 +02:00 [DBG] Reading data from file 'C:\Users\yossr\AppData\Local\ASP.NET\DataProtection-Keys\key-c9eadb9e-fd70-4dbd-a2e4-2439a22a723f.xml'.
2025-11-25 19:28:45.540 +02:00 [DBG] Reading data from file 'C:\Users\yossr\AppData\Local\ASP.NET\DataProtection-Keys\key-e6a4e949-cc09-4772-b903-b3c0844fb846.xml'.
2025-11-25 19:28:45.555 +02:00 [DBG] Found key {69bbab29-81b6-4865-ac9a-ae2b6fa39013}.
2025-11-25 19:28:45.560 +02:00 [DBG] Found key {80d0efac-0f9c-4630-990a-b52d8a5ce829}.
2025-11-25 19:28:45.561 +02:00 [DBG] Found key {c9eadb9e-fd70-4dbd-a2e4-2439a22a723f}.
2025-11-25 19:28:45.562 +02:00 [DBG] Found key {e6a4e949-cc09-4772-b903-b3c0844fb846}.
2025-11-25 19:28:45.566 +02:00 [DBG] Considering key {69bbab29-81b6-4865-ac9a-ae2b6fa39013} with expiration date 2026-01-04 04:20:00Z as default key.
2025-11-25 19:28:45.569 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-25 19:28:45.571 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-11-25 19:28:45.572 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-25 19:28:45.576 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-11-25 19:28:45.577 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-11-25 19:28:45.579 +02:00 [DBG] Using key {69bbab29-81b6-4865-ac9a-ae2b6fa39013} as the default key.
2025-11-25 19:28:45.580 +02:00 [DBG] Key ring with default key {69bbab29-81b6-4865-ac9a-ae2b6fa39013} was loaded during application startup.
2025-11-25 19:28:45.586 +02:00 [DBG] Middleware loaded
2025-11-25 19:28:45.588 +02:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16500 B).
2025-11-25 19:28:45.590 +02:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-11-25 19:28:45.653 +02:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-11-25 19:28:45.743 +02:00 [INF] Now listening on: https://localhost:7217
2025-11-25 19:28:45.744 +02:00 [INF] Now listening on: http://localhost:5163
2025-11-25 19:28:45.745 +02:00 [DBG] Loaded hosting startup assembly Hospital
2025-11-25 19:28:45.746 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-11-25 19:28:45.747 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-11-25 19:28:45.747 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-11-25 19:28:45.787 +02:00 [DBG] Connection id "0HNHC90B60O1O" received FIN.
2025-11-25 19:28:45.787 +02:00 [DBG] Connection id "0HNHC90B60O1N" received FIN.
2025-11-25 19:28:45.793 +02:00 [DBG] Connection id "0HNHC90B60O1O" accepted.
2025-11-25 19:28:45.793 +02:00 [DBG] Connection id "0HNHC90B60O1N" accepted.
2025-11-25 19:28:45.794 +02:00 [DBG] Connection id "0HNHC90B60O1O" started.
2025-11-25 19:28:45.795 +02:00 [DBG] Connection id "0HNHC90B60O1N" started.
2025-11-25 19:28:45.805 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-25 19:28:45.805 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-25 19:28:45.820 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-25 19:28:45.824 +02:00 [INF] Hosting environment: Development
2025-11-25 19:28:45.825 +02:00 [DBG] Connection id "0HNHC90B60O1N" stopped.
2025-11-25 19:28:45.825 +02:00 [DBG] Connection id "0HNHC90B60O1O" stopped.
2025-11-25 19:28:45.825 +02:00 [INF] Content root path: D:\Hospital\Hospital\Hospital
2025-11-25 19:28:45.827 +02:00 [DBG] Hosting started
2025-11-25 19:28:45.828 +02:00 [DBG] Connection id "0HNHC90B60O1O" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 19:28:45.828 +02:00 [DBG] Connection id "0HNHC90B60O1N" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 19:28:45.905 +02:00 [DBG] Connection id "0HNHC90B60O1P" accepted.
2025-11-25 19:28:45.907 +02:00 [DBG] Connection id "0HNHC90B60O1P" started.
2025-11-25 19:28:45.948 +02:00 [DBG] Connection 0HNHC90B60O1P established using the following protocol: "Tls13"
2025-11-25 19:28:45.982 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/swagger/index.html - null null
2025-11-25 19:28:46.036 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-11-25 19:28:46.057 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-11-25 19:28:46.059 +02:00 [DBG] Request did not match any endpoints
2025-11-25 19:28:46.101 +02:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-11-25 19:28:46.103 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-11-25 19:28:46.115 +02:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-11-25 19:28:46.116 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-11-25 19:28:46.119 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/swagger/index.html - 200 null text/html;charset=utf-8 137.4577ms
2025-11-25 19:28:46.158 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/_vs/browserLink - null null
2025-11-25 19:28:46.158 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/_framework/aspnetcore-browser-refresh.js - null null
2025-11-25 19:28:46.167 +02:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-11-25 19:28:46.169 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/_framework/aspnetcore-browser-refresh.js - 200 16500 application/javascript; charset=utf-8 11.0149ms
2025-11-25 19:28:46.186 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.0597ms
2025-11-25 19:28:46.262 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/swagger/v1/swagger.json - null null
2025-11-25 19:28:46.266 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-11-25 19:28:46.267 +02:00 [DBG] Request did not match any endpoints
2025-11-25 19:28:46.298 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 35.637ms
2025-11-25 19:28:49.716 +02:00 [DBG] Connection id "0HNHC90B60O1Q" accepted.
2025-11-25 19:28:49.716 +02:00 [DBG] Connection id "0HNHC90B60O1Q" received FIN.
2025-11-25 19:28:49.717 +02:00 [DBG] Connection id "0HNHC90B60O1Q" started.
2025-11-25 19:28:49.717 +02:00 [DBG] Connection id "0HNHC90B60O1R" accepted.
2025-11-25 19:28:49.718 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-25 19:28:49.719 +02:00 [DBG] Connection id "0HNHC90B60O1R" started.
2025-11-25 19:28:49.720 +02:00 [DBG] Connection id "0HNHC90B60O1Q" stopped.
2025-11-25 19:28:49.721 +02:00 [DBG] Connection id "0HNHC90B60O1Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 19:28:49.724 +02:00 [DBG] Connection 0HNHC90B60O1R established using the following protocol: "Tls13"
2025-11-25 19:28:49.727 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7217/api/News/GetAllNewsInSystem - null null
2025-11-25 19:28:49.731 +02:00 [DBG] 1 candidate(s) found for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 19:28:49.734 +02:00 [DBG] Endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)' with route pattern 'api/News/GetAllNewsInSystem' is valid for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 19:28:49.736 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:28:49.738 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:28:50.007 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:28:50.009 +02:00 [INF] Executing endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:28:50.024 +02:00 [INF] Route matched with {action = "GetAllNewsInSystem", controller = "News"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllNewsInSystem() on controller Hospital.Controllers.NewsController (Hospital).
2025-11-25 19:28:50.026 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:28:50.028 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:28:50.029 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:28:50.030 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:28:50.031 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:28:50.033 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:28:50.381 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-11-25 19:28:50.524 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:28:50.527 +02:00 [INF] get all News in system  called at "2025-11-25T19:28:50.5271383+02:00"
2025-11-25 19:28:50.529 +02:00 [INF] Retrieving all news in the system
2025-11-25 19:28:50.644 +02:00 [DBG] Connection id "0HNHC90B60O1P" received FIN.
2025-11-25 19:28:50.646 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O1P completed.
2025-11-25 19:28:50.648 +02:00 [DBG] Connection id "0HNHC90B60O1P" is closed. The last processed stream ID was 7.
2025-11-25 19:28:50.649 +02:00 [DBG] Connection id "0HNHC90B60O1P" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 19:28:50.652 +02:00 [DBG] Connection id "0HNHC90B60O1P" stopped.
2025-11-25 19:28:50.877 +02:00 [DBG] The index {'BranchesBranchId'} was not created on entity type 'BranchDoctor (Dictionary<string, object>)' as the properties are already covered by the index {'BranchesBranchId', 'DoctorsDoctorId'}.
2025-11-25 19:28:50.879 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchService (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'ServiceId'}.
2025-11-25 19:28:50.880 +02:00 [DBG] The index {'BranchId'} was not created on entity type 'BranchSpecialization (Dictionary<string, object>)' as the properties are already covered by the index {'BranchId', 'SpecializationId'}.
2025-11-25 19:28:50.881 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-11-25 19:28:50.882 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-11-25 19:28:50.961 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).BranchesBranchId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-11-25 19:28:50.962 +02:00 [DBG] The property 'BranchDoctor (Dictionary<string, object>).DoctorsDoctorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-11-25 19:28:51.106 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:28:51.294 +02:00 [DBG] Compiling query expression: 
'DbSet<News>()
    .AsNoTracking()'
2025-11-25 19:28:51.376 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<News>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: News.NewsId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: News.BranchId (int?) FK Index, 1], [Property: News.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 2], [Property: News.Date (DateTime) Required, 3], [Property: News.Description (string), 4], [Property: News.ImageURL (string) MaxLength(300), 5], [Property: News.Title (string) Required MaxLength(150), 6], [Property: News.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 7] }
        SELECT n.NewsId, n.BranchId, n.CreatedAt, n.Date, n.Description, n.ImageURL, n.Title, n.UpdatedAt
        FROM News AS n), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, News>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-11-25 19:28:51.396 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:28:51.408 +02:00 [DBG] Created DbConnection. (11ms).
2025-11-25 19:28:51.411 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:28:51.824 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:28:51.827 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:28:51.829 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-11-25 19:28:51.831 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-11-25 19:28:51.835 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 19:28:51.862 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 19:28:51.879 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:28:51.883 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 15ms reading results.
2025-11-25 19:28:51.886 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:28:51.890 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (3ms).
2025-11-25 19:28:51.901 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 19:28:51.904 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 19:28:51.905 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 19:28:51.905 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 19:28:51.906 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 19:28:51.907 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.News.NewsDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 19:28:51.923 +02:00 [INF] Executed action Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital) in 1888.7506ms
2025-11-25 19:28:51.924 +02:00 [INF] Executed endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:28:51.926 +02:00 [DBG] Connection id "0HNHC90B60O1R" completed keep alive response.
2025-11-25 19:28:51.928 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:28:51.931 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:28:51.933 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 19:28:51.935 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7217/api/News/GetAllNewsInSystem - 200 null application/json; charset=utf-8 2207.7551ms
2025-11-25 19:31:02.737 +02:00 [DBG] Connection id "0HNHC90B60O1R" disconnecting.
2025-11-25 19:31:02.739 +02:00 [DBG] Connection id "0HNHC90B60O1R" stopped.
2025-11-25 19:31:02.739 +02:00 [DBG] Connection id "0HNHC90B60O1R" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 19:32:39.724 +02:00 [DBG] Connection id "0HNHC90B60O1S" received FIN.
2025-11-25 19:32:39.726 +02:00 [DBG] Connection id "0HNHC90B60O1S" accepted.
2025-11-25 19:32:39.727 +02:00 [DBG] Connection id "0HNHC90B60O1S" started.
2025-11-25 19:32:39.728 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-25 19:32:39.729 +02:00 [DBG] Connection id "0HNHC90B60O1S" stopped.
2025-11-25 19:32:39.730 +02:00 [DBG] Connection id "0HNHC90B60O1S" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 19:32:39.735 +02:00 [DBG] Connection id "0HNHC90B60O1T" accepted.
2025-11-25 19:32:39.736 +02:00 [DBG] Connection id "0HNHC90B60O1T" started.
2025-11-25 19:32:39.738 +02:00 [DBG] Connection 0HNHC90B60O1T established using the following protocol: "Tls13"
2025-11-25 19:32:39.740 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/swagger/index.html - null null
2025-11-25 19:32:39.744 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-11-25 19:32:39.745 +02:00 [DBG] Request did not match any endpoints
2025-11-25 19:32:39.745 +02:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-11-25 19:32:39.746 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-11-25 19:32:39.747 +02:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-11-25 19:32:39.748 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-11-25 19:32:39.749 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/swagger/index.html - 200 null text/html;charset=utf-8 8.7281ms
2025-11-25 19:32:39.762 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/_vs/browserLink - null null
2025-11-25 19:32:39.762 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/_framework/aspnetcore-browser-refresh.js - null null
2025-11-25 19:32:39.768 +02:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-11-25 19:32:39.769 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/_framework/aspnetcore-browser-refresh.js - 200 16500 application/javascript; charset=utf-8 6.6916ms
2025-11-25 19:32:39.773 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.6079ms
2025-11-25 19:32:39.817 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/swagger/v1/swagger.json - null null
2025-11-25 19:32:39.819 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-11-25 19:32:39.820 +02:00 [DBG] Request did not match any endpoints
2025-11-25 19:32:39.827 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/swagger/favicon-32x32.png - null null
2025-11-25 19:32:39.829 +02:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2025-11-25 19:32:39.830 +02:00 [DBG] Request did not match any endpoints
2025-11-25 19:32:39.835 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-11-25 19:32:39.836 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/swagger/favicon-32x32.png - 200 628 image/png 9.4232ms
2025-11-25 19:32:39.844 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 26.3164ms
2025-11-25 19:32:40.682 +02:00 [DBG] Connection id "0HNHC90B60O1T" received FIN.
2025-11-25 19:32:40.684 +02:00 [DBG] Connection id "0HNHC90B60O1T" is closed. The last processed stream ID was 9.
2025-11-25 19:32:40.686 +02:00 [DBG] Connection id "0HNHC90B60O1T" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 19:32:40.684 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O1T completed.
2025-11-25 19:32:40.688 +02:00 [DBG] Connection id "0HNHC90B60O1T" stopped.
2025-11-25 19:33:32.603 +02:00 [DBG] Connection id "0HNHC90B60O1U" accepted.
2025-11-25 19:33:32.604 +02:00 [DBG] Connection id "0HNHC90B60O1U" started.
2025-11-25 19:33:32.608 +02:00 [DBG] Connection 0HNHC90B60O1U established using the following protocol: "Tls13"
2025-11-25 19:33:32.610 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - null null
2025-11-25 19:33:32.615 +02:00 [DBG] 1 candidate(s) found for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 19:33:32.617 +02:00 [DBG] Endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)' with route pattern 'api/News/GetAllNewsInSystem' is valid for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 19:33:32.618 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:33:32.620 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:33:32.622 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 19:33:32.623 +02:00 [INF] CORS policy execution successful.
2025-11-25 19:33:32.625 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:33:32.626 +02:00 [INF] Executing endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:33:32.628 +02:00 [INF] Route matched with {action = "GetAllNewsInSystem", controller = "News"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllNewsInSystem() on controller Hospital.Controllers.NewsController (Hospital).
2025-11-25 19:33:32.629 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:33:32.631 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:33:32.632 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:33:32.634 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:33:32.636 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:33:32.637 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:33:32.640 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:33:32.641 +02:00 [INF] get all News in system  called at "2025-11-25T19:33:32.6416764+02:00"
2025-11-25 19:33:32.642 +02:00 [INF] Retrieving all news in the system
2025-11-25 19:33:32.683 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:33:32.688 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:33:32.688 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 19:33:32.689 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:33:32.691 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:33:32.692 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:33:32.693 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:33:32.694 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:33:32.695 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 19:33:32.705 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 19:33:32.707 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:33:32.708 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 19:33:32.709 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:33:32.710 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 19:33:32.712 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 19:33:32.714 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 19:33:32.715 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 19:33:32.715 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 19:33:32.716 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 19:33:32.717 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.News.NewsDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 19:33:32.720 +02:00 [INF] Executed action Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital) in 82.1349ms
2025-11-25 19:33:32.721 +02:00 [INF] Executed endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:33:32.722 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:33:32.723 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:33:32.724 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 19:33:32.725 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - 200 null application/json; charset=utf-8 115.4023ms
2025-11-25 19:33:40.693 +02:00 [DBG] Connection id "0HNHC90B60O1U" received FIN.
2025-11-25 19:33:40.693 +02:00 [DBG] Connection id "0HNHC90B60O1U" is closed. The last processed stream ID was 1.
2025-11-25 19:33:40.694 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O1U completed.
2025-11-25 19:33:40.694 +02:00 [DBG] Connection id "0HNHC90B60O1U" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 19:33:40.696 +02:00 [DBG] Connection id "0HNHC90B60O1U" stopped.
2025-11-25 19:33:45.588 +02:00 [DBG] Connection id "0HNHC90B60O1V" accepted.
2025-11-25 19:33:45.589 +02:00 [DBG] Connection id "0HNHC90B60O1V" started.
2025-11-25 19:33:45.592 +02:00 [DBG] Connection 0HNHC90B60O1V established using the following protocol: "Tls13"
2025-11-25 19:33:45.594 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - null null
2025-11-25 19:33:45.596 +02:00 [DBG] 1 candidate(s) found for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 19:33:45.597 +02:00 [DBG] Endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)' with route pattern 'api/News/GetAllNewsInSystem' is valid for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 19:33:45.598 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:33:45.599 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:33:45.600 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 19:33:45.601 +02:00 [INF] CORS policy execution successful.
2025-11-25 19:33:45.604 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:33:45.605 +02:00 [INF] Executing endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:33:45.606 +02:00 [INF] Route matched with {action = "GetAllNewsInSystem", controller = "News"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllNewsInSystem() on controller Hospital.Controllers.NewsController (Hospital).
2025-11-25 19:33:45.608 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:33:45.609 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:33:45.610 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:33:45.611 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:33:45.613 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:33:45.614 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:33:45.620 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:33:45.621 +02:00 [INF] get all News in system  called at "2025-11-25T19:33:45.6219021+02:00"
2025-11-25 19:33:45.622 +02:00 [INF] Retrieving all news in the system
2025-11-25 19:33:45.632 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:33:45.635 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:33:45.636 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 19:33:45.637 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:33:45.638 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:33:45.639 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:33:45.640 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:33:45.641 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:33:45.642 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 19:33:45.649 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 19:33:45.651 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:33:45.652 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 19:33:45.653 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:33:45.654 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:33:45.655 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 19:33:45.657 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 19:33:45.657 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 19:33:45.658 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 19:33:45.659 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 19:33:45.660 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.News.NewsDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 19:33:45.661 +02:00 [INF] Executed action Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital) in 46.7463ms
2025-11-25 19:33:45.662 +02:00 [INF] Executed endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:33:45.663 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:33:45.664 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:33:45.665 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 19:33:45.666 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - 200 null application/json; charset=utf-8 72.2258ms
2025-11-25 19:33:50.694 +02:00 [DBG] Connection id "0HNHC90B60O1V" received FIN.
2025-11-25 19:33:50.695 +02:00 [DBG] Connection id "0HNHC90B60O1V" is closed. The last processed stream ID was 1.
2025-11-25 19:33:50.695 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O1V completed.
2025-11-25 19:33:50.696 +02:00 [DBG] Connection id "0HNHC90B60O1V" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 19:33:50.698 +02:00 [DBG] Connection id "0HNHC90B60O1V" stopped.
2025-11-25 19:34:28.060 +02:00 [DBG] Connection id "0HNHC90B60O20" accepted.
2025-11-25 19:34:28.061 +02:00 [DBG] Connection id "0HNHC90B60O20" received FIN.
2025-11-25 19:34:28.061 +02:00 [DBG] Connection id "0HNHC90B60O20" started.
2025-11-25 19:34:28.062 +02:00 [DBG] Connection id "0HNHC90B60O21" accepted.
2025-11-25 19:34:28.063 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-25 19:34:28.063 +02:00 [DBG] Connection id "0HNHC90B60O21" started.
2025-11-25 19:34:28.065 +02:00 [DBG] Connection id "0HNHC90B60O20" stopped.
2025-11-25 19:34:28.066 +02:00 [DBG] Connection id "0HNHC90B60O20" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 19:34:28.068 +02:00 [DBG] Connection 0HNHC90B60O21 established using the following protocol: "Tls13"
2025-11-25 19:34:28.069 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7217/api/Branch/GetAll - null null
2025-11-25 19:34:28.071 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetAll'
2025-11-25 19:34:28.071 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)' with route pattern 'api/Branch/GetAll' is valid for the request path '/api/Branch/GetAll'
2025-11-25 19:34:28.072 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 19:34:28.073 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:34:28.074 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:34:28.074 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 19:34:28.078 +02:00 [INF] Route matched with {action = "GetAll", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.BranchController (Hospital).
2025-11-25 19:34:28.079 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:34:28.080 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:34:28.081 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:34:28.083 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:34:28.083 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:34:28.084 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 19:34:28.086 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 19:34:28.087 +02:00 [INF] Get All Branch called at "2025-11-25T19:34:28.0875264+02:00"
2025-11-25 19:34:28.089 +02:00 [INF] Fetching all branches
2025-11-25 19:34:28.090 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:34:28.092 +02:00 [DBG] Compiling query expression: 
'DbSet<Branch>()
    .AsNoTracking()'
2025-11-25 19:34:28.096 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Branch>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Branch.BranchId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Branch.Address (string) MaxLength(250), 1], [Property: Branch.BranchName (string) Required MaxLength(150), 2], [Property: Branch.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: Branch.Description (string), 4], [Property: Branch.Email (string) MaxLength(200), 5], [Property: Branch.ImageURL (string) MaxLength(300), 6], [Property: Branch.Phone (string) MaxLength(25), 7], [Property: Branch.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 8] }
        SELECT b.BranchId, b.Address, b.BranchName, b.CreatedAt, b.Description, b.Email, b.ImageURL, b.Phone, b.UpdatedAt
        FROM Branches AS b), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Branch>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-11-25 19:34:28.097 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:34:28.098 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 19:34:28.099 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:34:28.100 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:34:28.100 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:34:28.101 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:34:28.102 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:34:28.103 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 19:34:28.111 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 19:34:28.113 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:34:28.114 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 19:34:28.115 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:34:28.116 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:34:28.120 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 19:34:28.122 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 19:34:28.122 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 19:34:28.122 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 19:34:28.123 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 19:34:28.124 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Branch.BranchDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 19:34:28.127 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetAll (Hospital) in 42.2456ms
2025-11-25 19:34:28.127 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 19:34:28.128 +02:00 [DBG] Connection id "0HNHC90B60O21" completed keep alive response.
2025-11-25 19:34:28.129 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:34:28.129 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:34:28.131 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 19:34:28.131 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7217/api/Branch/GetAll - 200 null application/json; charset=utf-8 62.306ms
2025-11-25 19:34:36.823 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/Branch/Create - application/json 146
2025-11-25 19:34:36.826 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/Create'
2025-11-25 19:34:36.826 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.Create (Hospital)' with route pattern 'api/Branch/Create' is valid for the request path '/api/Branch/Create'
2025-11-25 19:34:36.827 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.Create (Hospital)'
2025-11-25 19:34:36.828 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:34:36.829 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:34:36.829 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.Create (Hospital)'
2025-11-25 19:34:36.836 +02:00 [INF] Route matched with {action = "Create", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Hospital.Application.DTO.Branch.CreateBranchDto) on controller Hospital.Controllers.BranchController (Hospital).
2025-11-25 19:34:36.837 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:34:36.838 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:34:36.839 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:34:36.840 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:34:36.841 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:34:36.842 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 19:34:36.843 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 19:34:36.846 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto' ...
2025-11-25 19:34:36.848 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto' using the name '' in request data ...
2025-11-25 19:34:36.849 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 19:34:36.854 +02:00 [DBG] Connection id "0HNHC90B60O21", Request id "0HNHC90B60O21:00000002": started reading request body.
2025-11-25 19:34:36.854 +02:00 [DBG] Connection id "0HNHC90B60O21", Request id "0HNHC90B60O21:00000002": done reading request body.
2025-11-25 19:34:36.863 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.Branch.CreateBranchDto'
2025-11-25 19:34:36.863 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto'.
2025-11-25 19:34:36.864 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto'.
2025-11-25 19:34:36.865 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto' ...
2025-11-25 19:34:36.871 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto'.
2025-11-25 19:34:36.872 +02:00 [INF] Create Branch called at "2025-11-25T19:34:36.8729059+02:00"
2025-11-25 19:34:36.874 +02:00 [INF] Creating new branch with name: adam77
2025-11-25 19:34:36.875 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:34:36.876 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:34:36.877 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 19:34:36.878 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:34:36.879 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:34:36.880 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:34:36.880 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:34:36.881 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:34:36.882 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 19:34:36.888 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 19:34:36.890 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:34:36.890 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-25 19:34:36.891 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:34:36.892 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:34:36.893 +02:00 [WRN] Failed to create branch: Branch with name 'adam77' already exists
2025-11-25 19:34:36.894 +02:00 [INF] Executed action Hospital.Controllers.BranchController.Create (Hospital) in 52.2828ms
2025-11-25 19:34:36.896 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.Create (Hospital)'
2025-11-25 19:34:36.897 +02:00 [ERR]  Exception caught: Branch with name 'adam77' already exists.
System.ComponentModel.DataAnnotations.ValidationException: Branch with name 'adam77' already exists.
   at Hospital.Infrastructure.Services.BranchService.CreateAsync(CreateBranchDto dto) in D:\Hospital\Hospital\Hospital.Infrastructure\Services\BranchService.cs:line 42
   at Hospital.Controllers.BranchController.Create(CreateBranchDto dto) in D:\Hospital\Hospital\Hospital\Controllers\BranchController.cs:line 42
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hospital.Middleware.GlobalExceptionHandler.InvokeAsync(HttpContext context) in D:\Hospital\Hospital\Hospital\Middleware\GlobalExceptionHandler.cs:line 22
2025-11-25 19:34:36.924 +02:00 [DBG] Connection id "0HNHC90B60O21" completed keep alive response.
2025-11-25 19:34:36.925 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:34:36.926 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:34:36.926 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 19:34:36.927 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/Branch/Create - 400 null application/json 103.9384ms
2025-11-25 19:34:49.961 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/Branch/Create - application/json 151
2025-11-25 19:34:49.963 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/Create'
2025-11-25 19:34:49.964 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.Create (Hospital)' with route pattern 'api/Branch/Create' is valid for the request path '/api/Branch/Create'
2025-11-25 19:34:49.965 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.Create (Hospital)'
2025-11-25 19:34:49.966 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:34:49.966 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:34:49.967 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.Create (Hospital)'
2025-11-25 19:34:49.968 +02:00 [INF] Route matched with {action = "Create", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Hospital.Application.DTO.Branch.CreateBranchDto) on controller Hospital.Controllers.BranchController (Hospital).
2025-11-25 19:34:49.969 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:34:49.970 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:34:49.971 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:34:49.972 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:34:49.973 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:34:49.975 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 19:34:49.976 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 19:34:49.977 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto' ...
2025-11-25 19:34:49.978 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto' using the name '' in request data ...
2025-11-25 19:34:49.979 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 19:34:49.980 +02:00 [DBG] Connection id "0HNHC90B60O21", Request id "0HNHC90B60O21:00000003": started reading request body.
2025-11-25 19:34:49.981 +02:00 [DBG] Connection id "0HNHC90B60O21", Request id "0HNHC90B60O21:00000003": done reading request body.
2025-11-25 19:34:49.982 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.Branch.CreateBranchDto'
2025-11-25 19:34:49.983 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto'.
2025-11-25 19:34:49.984 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto'.
2025-11-25 19:34:49.984 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto' ...
2025-11-25 19:34:49.985 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Hospital.Application.DTO.Branch.CreateBranchDto'.
2025-11-25 19:34:49.986 +02:00 [INF] Create Branch called at "2025-11-25T19:34:49.9869121+02:00"
2025-11-25 19:34:49.987 +02:00 [INF] Creating new branch with name: West Branch
2025-11-25 19:34:49.988 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:34:49.991 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:34:49.991 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 19:34:49.992 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:34:49.993 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:34:49.994 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:34:49.995 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:34:49.996 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:34:49.996 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 19:34:50.002 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 19:34:50.004 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:34:50.005 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-25 19:34:50.006 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:34:50.006 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:34:50.027 +02:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Branch.BranchId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:34:50.069 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:34:50.073 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 19:34:50.081 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 19:34:50.087 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 19:34:50.088 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 19:34:50.089 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 19:34:50.127 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:34:50.128 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:34:50.130 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:34:50.131 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:34:50.134 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-11-25 19:34:50.137 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 150), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 200), @p5='?' (Size = 300), @p6='?' (Size = 25), @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Branches] ([Address], [BranchName], [CreatedAt], [Description], [Email], [ImageURL], [Phone], [UpdatedAt])
OUTPUT INSERTED.[BranchId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-11-25 19:34:50.239 +02:00 [INF] Executed DbCommand (104ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 150), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 200), @p5='?' (Size = 300), @p6='?' (Size = 25), @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Branches] ([Address], [BranchName], [CreatedAt], [Description], [Email], [ImageURL], [Phone], [UpdatedAt])
OUTPUT INSERTED.[BranchId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-11-25 19:34:50.246 +02:00 [DBG] The foreign key property 'Branch.BranchId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-25 19:34:50.251 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:34:50.252 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 11ms reading results.
2025-11-25 19:34:50.253 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:34:50.254 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:34:50.260 +02:00 [DBG] An entity of type 'Branch' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:34:50.263 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-25 19:34:50.263 +02:00 [INF] Branch created successfully with ID: 3
2025-11-25 19:34:50.266 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 19:34:50.267 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 19:34:50.268 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 19:34:50.269 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 19:34:50.270 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 19:34:50.270 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Hospital.Application.DTO.Branch.BranchDto'.
2025-11-25 19:34:50.280 +02:00 [DBG] Found the endpoints ["Hospital.Controllers.BranchController.GetById (Hospital)"] for address (id=[3],action=[GetById],controller=[Branch])
2025-11-25 19:34:50.282 +02:00 [DBG] Successfully processed template api/Branch/GetBy/{id} for Hospital.Controllers.BranchController.GetById (Hospital) resulting in /api/Branch/GetBy/3 and 
2025-11-25 19:34:50.284 +02:00 [DBG] Link generation succeeded for endpoints ["Hospital.Controllers.BranchController.GetById (Hospital)"] with result /api/Branch/GetBy/3
2025-11-25 19:34:50.285 +02:00 [INF] Executed action Hospital.Controllers.BranchController.Create (Hospital) in 310.7058ms
2025-11-25 19:34:50.286 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.Create (Hospital)'
2025-11-25 19:34:50.287 +02:00 [DBG] Connection id "0HNHC90B60O21" completed keep alive response.
2025-11-25 19:34:50.288 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:34:50.289 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:34:50.290 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 19:34:50.291 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/Branch/Create - 201 null application/json; charset=utf-8 329.7362ms
2025-11-25 19:34:59.885 +02:00 [DBG] Connection id "0HNHC90B60O22" accepted.
2025-11-25 19:34:59.886 +02:00 [DBG] Connection id "0HNHC90B60O22" started.
2025-11-25 19:34:59.890 +02:00 [DBG] Connection 0HNHC90B60O22 established using the following protocol: "Tls13"
2025-11-25 19:34:59.891 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - null null
2025-11-25 19:34:59.893 +02:00 [DBG] 1 candidate(s) found for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 19:34:59.894 +02:00 [DBG] Endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)' with route pattern 'api/News/GetAllNewsInSystem' is valid for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 19:34:59.896 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:34:59.897 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:34:59.897 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 19:34:59.898 +02:00 [INF] CORS policy execution successful.
2025-11-25 19:34:59.899 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:34:59.900 +02:00 [INF] Executing endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:34:59.901 +02:00 [INF] Route matched with {action = "GetAllNewsInSystem", controller = "News"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllNewsInSystem() on controller Hospital.Controllers.NewsController (Hospital).
2025-11-25 19:34:59.902 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:34:59.904 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:34:59.905 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:34:59.906 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:34:59.907 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:34:59.908 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:34:59.909 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:34:59.910 +02:00 [INF] get all News in system  called at "2025-11-25T19:34:59.9107523+02:00"
2025-11-25 19:34:59.911 +02:00 [INF] Retrieving all news in the system
2025-11-25 19:34:59.912 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:34:59.914 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:34:59.914 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 19:34:59.915 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:34:59.916 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:34:59.917 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:34:59.918 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:34:59.919 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:34:59.920 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 19:34:59.928 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 19:34:59.929 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:34:59.930 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-25 19:34:59.931 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:34:59.932 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 19:34:59.933 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 19:34:59.935 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 19:34:59.935 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 19:34:59.936 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 19:34:59.936 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 19:34:59.937 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.News.NewsDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 19:34:59.938 +02:00 [INF] Executed action Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital) in 30.1226ms
2025-11-25 19:34:59.939 +02:00 [INF] Executed endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:34:59.940 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:34:59.941 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:34:59.941 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 19:34:59.942 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - 200 null application/json; charset=utf-8 50.8772ms
2025-11-25 19:35:00.705 +02:00 [DBG] Connection id "0HNHC90B60O22" received FIN.
2025-11-25 19:35:00.707 +02:00 [DBG] Connection id "0HNHC90B60O22" is closed. The last processed stream ID was 1.
2025-11-25 19:35:00.707 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O22 completed.
2025-11-25 19:35:00.708 +02:00 [DBG] Connection id "0HNHC90B60O22" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 19:35:00.709 +02:00 [DBG] Connection id "0HNHC90B60O22" stopped.
2025-11-25 19:35:36.704 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/News/CreateNews - application/json 542
2025-11-25 19:35:36.706 +02:00 [DBG] 1 candidate(s) found for the request path '/api/News/CreateNews'
2025-11-25 19:35:36.708 +02:00 [DBG] Endpoint 'Hospital.Controllers.NewsController.CreateNews (Hospital)' with route pattern 'api/News/CreateNews' is valid for the request path '/api/News/CreateNews'
2025-11-25 19:35:36.709 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.NewsController.CreateNews (Hospital)'
2025-11-25 19:35:36.709 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:35:36.710 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:35:36.711 +02:00 [INF] Executing endpoint 'Hospital.Controllers.NewsController.CreateNews (Hospital)'
2025-11-25 19:35:36.713 +02:00 [INF] Route matched with {action = "CreateNews", controller = "News"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNews(Hospital.Application.DTO.News.AddNewsDto) on controller Hospital.Controllers.NewsController (Hospital).
2025-11-25 19:35:36.714 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:35:36.715 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:35:36.716 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:35:36.717 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:35:36.718 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:35:36.719 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:35:36.720 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:35:36.721 +02:00 [DBG] Attempting to bind parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto' ...
2025-11-25 19:35:36.721 +02:00 [DBG] Attempting to bind parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto' using the name '' in request data ...
2025-11-25 19:35:36.722 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 19:35:36.724 +02:00 [DBG] Connection id "0HNHC90B60O21", Request id "0HNHC90B60O21:00000004": started reading request body.
2025-11-25 19:35:36.725 +02:00 [DBG] Connection id "0HNHC90B60O21", Request id "0HNHC90B60O21:00000004": done reading request body.
2025-11-25 19:35:36.729 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.News.AddNewsDto'
2025-11-25 19:35:36.729 +02:00 [DBG] Done attempting to bind parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto'.
2025-11-25 19:35:36.730 +02:00 [DBG] Done attempting to bind parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto'.
2025-11-25 19:35:36.731 +02:00 [DBG] Attempting to validate the bound parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto' ...
2025-11-25 19:35:36.733 +02:00 [DBG] Done attempting to validate the bound parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto'.
2025-11-25 19:35:36.734 +02:00 [INF] create News  called at "2025-11-25T19:35:36.7345406+02:00"
2025-11-25 19:35:36.736 +02:00 [INF] Adding a new news item: Hospital Launches State-of-the-Art Cardiac Center
2025-11-25 19:35:36.737 +02:00 [INF] Fetching branch by ID: 2
2025-11-25 19:35:36.738 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:35:36.743 +02:00 [DBG] Compiling query expression: 
'DbSet<Branch>()
    .FirstOrDefault(e => e.BranchId == __id_0)'
2025-11-25 19:35:36.778 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Branch>(
    asyncEnumerable: new SingleQueryingEnumerable<Branch>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Branch.BranchId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Branch.Address (string) MaxLength(250), 1], [Property: Branch.BranchName (string) Required MaxLength(150), 2], [Property: Branch.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: Branch.Description (string), 4], [Property: Branch.Email (string) MaxLength(200), 5], [Property: Branch.ImageURL (string) MaxLength(300), 6], [Property: Branch.Phone (string) MaxLength(25), 7], [Property: Branch.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 8] }
            SELECT TOP(1) b.BranchId, b.Address, b.BranchName, b.CreatedAt, b.Description, b.Email, b.ImageURL, b.Phone, b.UpdatedAt
            FROM Branches AS b
            WHERE b.BranchId == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Branch>, 
        Clinic.Infrastructure.Persistence.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-11-25 19:35:36.784 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:35:36.785 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 19:35:36.785 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:35:36.786 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:35:36.787 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:35:36.788 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:35:36.789 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:35:36.790 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 19:35:36.793 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 19:35:36.796 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:35:36.797 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:35:36.798 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-11-25 19:35:36.799 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:35:36.800 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:35:36.806 +02:00 [DBG] 'AppDbContext' generated a temporary value for the property 'News.NewsId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:35:36.819 +02:00 [DBG] The navigation 'News.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:35:36.825 +02:00 [DBG] Context 'AppDbContext' started tracking 'News' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:35:36.827 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 19:35:36.832 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 19:35:36.833 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 19:35:36.834 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 19:35:36.835 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 19:35:36.838 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:35:36.839 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:35:36.840 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:35:36.841 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:35:36.843 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 19:35:36.844 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [News] ([BranchId], [CreatedAt], [Date], [Description], [ImageURL], [Title], [UpdatedAt])
OUTPUT INSERTED.[NewsId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-25 19:35:36.848 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [News] ([BranchId], [CreatedAt], [Date], [Description], [ImageURL], [Title], [UpdatedAt])
OUTPUT INSERTED.[NewsId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-25 19:35:36.850 +02:00 [DBG] The foreign key property 'News.NewsId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-25 19:35:36.852 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:35:36.853 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-11-25 19:35:36.854 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:35:36.855 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:35:36.858 +02:00 [DBG] An entity of type 'News' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:35:36.859 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-25 19:35:36.860 +02:00 [INF] News item added successfully with ID: 6
2025-11-25 19:35:36.863 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 19:35:36.865 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 19:35:36.865 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 19:35:36.866 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 19:35:36.866 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 19:35:36.867 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Hospital.Application.DTO.News.NewsDto'.
2025-11-25 19:35:36.869 +02:00 [DBG] Found the endpoints ["Hospital.Controllers.NewsController.GetNews (Hospital)"] for address (id=[6],action=[GetNews],controller=[News])
2025-11-25 19:35:36.870 +02:00 [DBG] Successfully processed template api/News/GetNews for Hospital.Controllers.NewsController.GetNews (Hospital) resulting in /api/News/GetNews and ?id=6
2025-11-25 19:35:36.872 +02:00 [DBG] Link generation succeeded for endpoints ["Hospital.Controllers.NewsController.GetNews (Hospital)"] with result /api/News/GetNews?id=6
2025-11-25 19:35:36.873 +02:00 [INF] Executed action Hospital.Controllers.NewsController.CreateNews (Hospital) in 154.4513ms
2025-11-25 19:35:36.874 +02:00 [INF] Executed endpoint 'Hospital.Controllers.NewsController.CreateNews (Hospital)'
2025-11-25 19:35:36.875 +02:00 [DBG] Connection id "0HNHC90B60O21" completed keep alive response.
2025-11-25 19:35:36.876 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:35:36.877 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:35:36.878 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 19:35:36.880 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/News/CreateNews - 201 null application/json; charset=utf-8 175.625ms
2025-11-25 19:35:42.304 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/News/CreateNews - application/json 542
2025-11-25 19:35:42.305 +02:00 [DBG] 1 candidate(s) found for the request path '/api/News/CreateNews'
2025-11-25 19:35:42.306 +02:00 [DBG] Endpoint 'Hospital.Controllers.NewsController.CreateNews (Hospital)' with route pattern 'api/News/CreateNews' is valid for the request path '/api/News/CreateNews'
2025-11-25 19:35:42.307 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.NewsController.CreateNews (Hospital)'
2025-11-25 19:35:42.308 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:35:42.308 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:35:42.309 +02:00 [INF] Executing endpoint 'Hospital.Controllers.NewsController.CreateNews (Hospital)'
2025-11-25 19:35:42.310 +02:00 [INF] Route matched with {action = "CreateNews", controller = "News"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNews(Hospital.Application.DTO.News.AddNewsDto) on controller Hospital.Controllers.NewsController (Hospital).
2025-11-25 19:35:42.311 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:35:42.312 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:35:42.313 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:35:42.314 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:35:42.315 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:35:42.316 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:35:42.317 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:35:42.318 +02:00 [DBG] Attempting to bind parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto' ...
2025-11-25 19:35:42.319 +02:00 [DBG] Attempting to bind parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto' using the name '' in request data ...
2025-11-25 19:35:42.319 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 19:35:42.320 +02:00 [DBG] Connection id "0HNHC90B60O21", Request id "0HNHC90B60O21:00000005": started reading request body.
2025-11-25 19:35:42.321 +02:00 [DBG] Connection id "0HNHC90B60O21", Request id "0HNHC90B60O21:00000005": done reading request body.
2025-11-25 19:35:42.322 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.News.AddNewsDto'
2025-11-25 19:35:42.323 +02:00 [DBG] Done attempting to bind parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto'.
2025-11-25 19:35:42.323 +02:00 [DBG] Done attempting to bind parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto'.
2025-11-25 19:35:42.324 +02:00 [DBG] Attempting to validate the bound parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto' ...
2025-11-25 19:35:42.325 +02:00 [DBG] Done attempting to validate the bound parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto'.
2025-11-25 19:35:42.326 +02:00 [INF] create News  called at "2025-11-25T19:35:42.3262911+02:00"
2025-11-25 19:35:42.326 +02:00 [INF] Adding a new news item: Hospital Launches State-of-the-Art Cardiac Center
2025-11-25 19:35:42.327 +02:00 [INF] Fetching branch by ID: 2
2025-11-25 19:35:42.328 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:35:42.331 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:35:42.332 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 19:35:42.332 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:35:42.333 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:35:42.334 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:35:42.335 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:35:42.336 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:35:42.336 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 19:35:42.344 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 19:35:42.345 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:35:42.346 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:35:42.347 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-11-25 19:35:42.348 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:35:42.349 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:35:42.351 +02:00 [DBG] 'AppDbContext' generated a temporary value for the property 'News.NewsId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:35:42.352 +02:00 [DBG] The navigation 'News.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:35:42.353 +02:00 [DBG] Context 'AppDbContext' started tracking 'News' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:35:42.354 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 19:35:42.354 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 19:35:42.355 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 19:35:42.356 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 19:35:42.357 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 19:35:42.358 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:35:42.358 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:35:42.359 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:35:42.360 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:35:42.360 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:35:42.361 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [News] ([BranchId], [CreatedAt], [Date], [Description], [ImageURL], [Title], [UpdatedAt])
OUTPUT INSERTED.[NewsId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-25 19:35:42.365 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [News] ([BranchId], [CreatedAt], [Date], [Description], [ImageURL], [Title], [UpdatedAt])
OUTPUT INSERTED.[NewsId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-25 19:35:42.366 +02:00 [DBG] The foreign key property 'News.NewsId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-25 19:35:42.367 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:35:42.368 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 19:35:42.369 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:35:42.370 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:35:42.371 +02:00 [DBG] An entity of type 'News' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:35:42.372 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-25 19:35:42.373 +02:00 [INF] News item added successfully with ID: 7
2025-11-25 19:35:42.373 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 19:35:42.374 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 19:35:42.375 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 19:35:42.375 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 19:35:42.376 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 19:35:42.377 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Hospital.Application.DTO.News.NewsDto'.
2025-11-25 19:35:42.378 +02:00 [DBG] Found the endpoints ["Hospital.Controllers.NewsController.GetNews (Hospital)"] for address (id=[7],action=[GetNews],controller=[News])
2025-11-25 19:35:42.379 +02:00 [DBG] Successfully processed template api/News/GetNews for Hospital.Controllers.NewsController.GetNews (Hospital) resulting in /api/News/GetNews and ?id=7
2025-11-25 19:35:42.380 +02:00 [DBG] Link generation succeeded for endpoints ["Hospital.Controllers.NewsController.GetNews (Hospital)"] with result /api/News/GetNews?id=7
2025-11-25 19:35:42.381 +02:00 [INF] Executed action Hospital.Controllers.NewsController.CreateNews (Hospital) in 64.8324ms
2025-11-25 19:35:42.382 +02:00 [INF] Executed endpoint 'Hospital.Controllers.NewsController.CreateNews (Hospital)'
2025-11-25 19:35:42.382 +02:00 [DBG] Connection id "0HNHC90B60O21" completed keep alive response.
2025-11-25 19:35:42.383 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:35:42.384 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:35:42.384 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 19:35:42.385 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/News/CreateNews - 201 null application/json; charset=utf-8 81.652ms
2025-11-25 19:35:48.660 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/News/CreateNews - application/json 542
2025-11-25 19:35:48.662 +02:00 [DBG] 1 candidate(s) found for the request path '/api/News/CreateNews'
2025-11-25 19:35:48.662 +02:00 [DBG] Endpoint 'Hospital.Controllers.NewsController.CreateNews (Hospital)' with route pattern 'api/News/CreateNews' is valid for the request path '/api/News/CreateNews'
2025-11-25 19:35:48.663 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.NewsController.CreateNews (Hospital)'
2025-11-25 19:35:48.664 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:35:48.664 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:35:48.665 +02:00 [INF] Executing endpoint 'Hospital.Controllers.NewsController.CreateNews (Hospital)'
2025-11-25 19:35:48.666 +02:00 [INF] Route matched with {action = "CreateNews", controller = "News"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNews(Hospital.Application.DTO.News.AddNewsDto) on controller Hospital.Controllers.NewsController (Hospital).
2025-11-25 19:35:48.667 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:35:48.668 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:35:48.669 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:35:48.670 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:35:48.672 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:35:48.673 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:35:48.674 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:35:48.674 +02:00 [DBG] Attempting to bind parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto' ...
2025-11-25 19:35:48.676 +02:00 [DBG] Attempting to bind parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto' using the name '' in request data ...
2025-11-25 19:35:48.676 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 19:35:48.677 +02:00 [DBG] Connection id "0HNHC90B60O21", Request id "0HNHC90B60O21:00000006": started reading request body.
2025-11-25 19:35:48.678 +02:00 [DBG] Connection id "0HNHC90B60O21", Request id "0HNHC90B60O21:00000006": done reading request body.
2025-11-25 19:35:48.679 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.News.AddNewsDto'
2025-11-25 19:35:48.679 +02:00 [DBG] Done attempting to bind parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto'.
2025-11-25 19:35:48.680 +02:00 [DBG] Done attempting to bind parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto'.
2025-11-25 19:35:48.681 +02:00 [DBG] Attempting to validate the bound parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto' ...
2025-11-25 19:35:48.682 +02:00 [DBG] Done attempting to validate the bound parameter 'newsDto' of type 'Hospital.Application.DTO.News.AddNewsDto'.
2025-11-25 19:35:48.683 +02:00 [INF] create News  called at "2025-11-25T19:35:48.6831684+02:00"
2025-11-25 19:35:48.683 +02:00 [INF] Adding a new news item: Hospital Launches State-of-the-Art Cardiac Center
2025-11-25 19:35:48.684 +02:00 [INF] Fetching branch by ID: 3
2025-11-25 19:35:48.685 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:35:48.686 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:35:48.687 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 19:35:48.687 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:35:48.688 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:35:48.689 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:35:48.690 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:35:48.690 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:35:48.691 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 19:35:48.697 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 19:35:48.699 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:35:48.699 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:35:48.700 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 19:35:48.701 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:35:48.702 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:35:48.703 +02:00 [DBG] 'AppDbContext' generated a temporary value for the property 'News.NewsId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:35:48.704 +02:00 [DBG] The navigation 'News.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:35:48.705 +02:00 [DBG] Context 'AppDbContext' started tracking 'News' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:35:48.706 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 19:35:48.707 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 19:35:48.707 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 19:35:48.708 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 19:35:48.708 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 19:35:48.709 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:35:48.710 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:35:48.711 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:35:48.712 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:35:48.712 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:35:48.713 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [News] ([BranchId], [CreatedAt], [Date], [Description], [ImageURL], [Title], [UpdatedAt])
OUTPUT INSERTED.[NewsId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-25 19:35:48.717 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [News] ([BranchId], [CreatedAt], [Date], [Description], [ImageURL], [Title], [UpdatedAt])
OUTPUT INSERTED.[NewsId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-25 19:35:48.718 +02:00 [DBG] The foreign key property 'News.NewsId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-25 19:35:48.719 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:35:48.720 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 19:35:48.721 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:35:48.722 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:35:48.723 +02:00 [DBG] An entity of type 'News' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:35:48.724 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-25 19:35:48.725 +02:00 [INF] News item added successfully with ID: 8
2025-11-25 19:35:48.725 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 19:35:48.727 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 19:35:48.727 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 19:35:48.728 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 19:35:48.728 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 19:35:48.729 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Hospital.Application.DTO.News.NewsDto'.
2025-11-25 19:35:48.730 +02:00 [DBG] Found the endpoints ["Hospital.Controllers.NewsController.GetNews (Hospital)"] for address (id=[8],action=[GetNews],controller=[News])
2025-11-25 19:35:48.731 +02:00 [DBG] Successfully processed template api/News/GetNews for Hospital.Controllers.NewsController.GetNews (Hospital) resulting in /api/News/GetNews and ?id=8
2025-11-25 19:35:48.732 +02:00 [DBG] Link generation succeeded for endpoints ["Hospital.Controllers.NewsController.GetNews (Hospital)"] with result /api/News/GetNews?id=8
2025-11-25 19:35:48.733 +02:00 [INF] Executed action Hospital.Controllers.NewsController.CreateNews (Hospital) in 60.184ms
2025-11-25 19:35:48.734 +02:00 [INF] Executed endpoint 'Hospital.Controllers.NewsController.CreateNews (Hospital)'
2025-11-25 19:35:48.734 +02:00 [DBG] Connection id "0HNHC90B60O21" completed keep alive response.
2025-11-25 19:35:48.735 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:35:48.736 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:35:48.737 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 19:35:48.738 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/News/CreateNews - 201 null application/json; charset=utf-8 77.5499ms
2025-11-25 19:35:56.296 +02:00 [DBG] Connection id "0HNHC90B60O23" accepted.
2025-11-25 19:35:56.297 +02:00 [DBG] Connection id "0HNHC90B60O23" started.
2025-11-25 19:35:56.300 +02:00 [DBG] Connection 0HNHC90B60O23 established using the following protocol: "Tls13"
2025-11-25 19:35:56.301 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - null null
2025-11-25 19:35:56.303 +02:00 [DBG] 1 candidate(s) found for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 19:35:56.304 +02:00 [DBG] Endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)' with route pattern 'api/News/GetAllNewsInSystem' is valid for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 19:35:56.305 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:35:56.306 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:35:56.307 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 19:35:56.307 +02:00 [INF] CORS policy execution successful.
2025-11-25 19:35:56.308 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:35:56.309 +02:00 [INF] Executing endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:35:56.309 +02:00 [INF] Route matched with {action = "GetAllNewsInSystem", controller = "News"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllNewsInSystem() on controller Hospital.Controllers.NewsController (Hospital).
2025-11-25 19:35:56.311 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:35:56.312 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:35:56.313 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:35:56.314 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:35:56.315 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:35:56.317 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:35:56.318 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:35:56.319 +02:00 [INF] get all News in system  called at "2025-11-25T19:35:56.3193822+02:00"
2025-11-25 19:35:56.320 +02:00 [INF] Retrieving all news in the system
2025-11-25 19:35:56.321 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:35:56.322 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:35:56.323 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 19:35:56.324 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:35:56.325 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:35:56.326 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:35:56.327 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:35:56.328 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:35:56.329 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 19:35:56.332 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 19:35:56.334 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:35:56.335 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 19:35:56.336 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:35:56.337 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 19:35:56.338 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 19:35:56.340 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 19:35:56.340 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 19:35:56.341 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 19:35:56.341 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 19:35:56.342 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.News.NewsDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 19:35:56.345 +02:00 [INF] Executed action Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital) in 28.9549ms
2025-11-25 19:35:56.347 +02:00 [INF] Executed endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:35:56.347 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:35:56.348 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:35:56.349 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 19:35:56.350 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - 200 null application/json; charset=utf-8 48.8964ms
2025-11-25 19:36:00.715 +02:00 [DBG] Connection id "0HNHC90B60O23" received FIN.
2025-11-25 19:36:00.717 +02:00 [DBG] Connection id "0HNHC90B60O23" is closed. The last processed stream ID was 1.
2025-11-25 19:36:00.717 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O23 completed.
2025-11-25 19:36:00.717 +02:00 [DBG] Connection id "0HNHC90B60O23" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 19:36:00.720 +02:00 [DBG] Connection id "0HNHC90B60O23" stopped.
2025-11-25 19:37:15.341 +02:00 [DBG] Connection id "0HNHC90B60O24" accepted.
2025-11-25 19:37:15.343 +02:00 [DBG] Connection id "0HNHC90B60O24" started.
2025-11-25 19:37:15.348 +02:00 [DBG] Connection 0HNHC90B60O24 established using the following protocol: "Tls13"
2025-11-25 19:37:15.351 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - null null
2025-11-25 19:37:15.354 +02:00 [DBG] 1 candidate(s) found for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 19:37:15.356 +02:00 [DBG] Endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)' with route pattern 'api/News/GetAllNewsInSystem' is valid for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 19:37:15.358 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:37:15.359 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:37:15.360 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 19:37:15.361 +02:00 [INF] CORS policy execution successful.
2025-11-25 19:37:15.363 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:37:15.366 +02:00 [INF] Executing endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:37:15.367 +02:00 [INF] Route matched with {action = "GetAllNewsInSystem", controller = "News"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllNewsInSystem() on controller Hospital.Controllers.NewsController (Hospital).
2025-11-25 19:37:15.371 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:37:15.373 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:37:15.374 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:37:15.376 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:37:15.378 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:37:15.380 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:37:15.382 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:37:15.384 +02:00 [INF] get all News in system  called at "2025-11-25T19:37:15.3846359+02:00"
2025-11-25 19:37:15.386 +02:00 [INF] Retrieving all news in the system
2025-11-25 19:37:15.388 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:37:15.392 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:37:15.393 +02:00 [DBG] Created DbConnection. (1ms).
2025-11-25 19:37:15.394 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:37:15.395 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:37:15.396 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:37:15.399 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-11-25 19:37:15.400 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-11-25 19:37:15.401 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 19:37:15.424 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 19:37:15.427 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:37:15.429 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-11-25 19:37:15.431 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:37:15.434 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (3ms).
2025-11-25 19:37:15.436 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 19:37:15.438 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 19:37:15.441 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 19:37:15.442 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 19:37:15.443 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 19:37:15.444 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.News.NewsDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 19:37:15.453 +02:00 [INF] Executed action Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital) in 73.0822ms
2025-11-25 19:37:15.458 +02:00 [INF] Executed endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:37:15.463 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:37:15.465 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:37:15.477 +02:00 [DBG] Disposed connection to database '' on server '' (11ms).
2025-11-25 19:37:15.479 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - 200 null application/json; charset=utf-8 127.614ms
2025-11-25 19:37:17.275 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - null null
2025-11-25 19:37:17.278 +02:00 [DBG] 1 candidate(s) found for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 19:37:17.279 +02:00 [DBG] Endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)' with route pattern 'api/News/GetAllNewsInSystem' is valid for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 19:37:17.281 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:37:17.282 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:37:17.282 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 19:37:17.283 +02:00 [INF] CORS policy execution successful.
2025-11-25 19:37:17.284 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:37:17.285 +02:00 [INF] Executing endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:37:17.286 +02:00 [INF] Route matched with {action = "GetAllNewsInSystem", controller = "News"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllNewsInSystem() on controller Hospital.Controllers.NewsController (Hospital).
2025-11-25 19:37:17.287 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:37:17.289 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:37:17.290 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:37:17.291 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:37:17.293 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:37:17.294 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:37:17.295 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:37:17.296 +02:00 [INF] get all News in system  called at "2025-11-25T19:37:17.2968118+02:00"
2025-11-25 19:37:17.297 +02:00 [INF] Retrieving all news in the system
2025-11-25 19:37:17.298 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:37:17.300 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:37:17.301 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 19:37:17.301 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:37:17.303 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:37:17.304 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:37:17.305 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:37:17.306 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:37:17.307 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 19:37:17.313 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 19:37:17.315 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:37:17.316 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 19:37:17.317 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:37:17.318 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 19:37:17.320 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 19:37:17.321 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 19:37:17.322 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 19:37:17.323 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 19:37:17.323 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 19:37:17.324 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.News.NewsDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 19:37:17.326 +02:00 [INF] Executed action Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital) in 32.0808ms
2025-11-25 19:37:17.327 +02:00 [INF] Executed endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:37:17.328 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:37:17.329 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:37:17.330 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 19:37:17.331 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - 200 null application/json; charset=utf-8 55.6038ms
2025-11-25 19:37:20.728 +02:00 [DBG] Connection id "0HNHC90B60O24" received FIN.
2025-11-25 19:37:20.729 +02:00 [DBG] Connection id "0HNHC90B60O24" is closed. The last processed stream ID was 3.
2025-11-25 19:37:20.729 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O24 completed.
2025-11-25 19:37:20.730 +02:00 [DBG] Connection id "0HNHC90B60O24" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 19:37:20.733 +02:00 [DBG] Connection id "0HNHC90B60O24" stopped.
2025-11-25 19:37:23.241 +02:00 [DBG] Connection id "0HNHC90B60O25" accepted.
2025-11-25 19:37:23.242 +02:00 [DBG] Connection id "0HNHC90B60O25" started.
2025-11-25 19:37:23.245 +02:00 [DBG] Connection 0HNHC90B60O25 established using the following protocol: "Tls13"
2025-11-25 19:37:23.247 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - null null
2025-11-25 19:37:23.249 +02:00 [DBG] 1 candidate(s) found for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 19:37:23.250 +02:00 [DBG] Endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)' with route pattern 'api/News/GetAllNewsInSystem' is valid for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 19:37:23.251 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:37:23.252 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:37:23.253 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 19:37:23.254 +02:00 [INF] CORS policy execution successful.
2025-11-25 19:37:23.255 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:37:23.256 +02:00 [INF] Executing endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:37:23.256 +02:00 [INF] Route matched with {action = "GetAllNewsInSystem", controller = "News"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllNewsInSystem() on controller Hospital.Controllers.NewsController (Hospital).
2025-11-25 19:37:23.258 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:37:23.260 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:37:23.261 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:37:23.263 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:37:23.264 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:37:23.266 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:37:23.268 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:37:23.269 +02:00 [INF] get all News in system  called at "2025-11-25T19:37:23.2690775+02:00"
2025-11-25 19:37:23.269 +02:00 [INF] Retrieving all news in the system
2025-11-25 19:37:23.271 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:37:23.272 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:37:23.273 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 19:37:23.274 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:37:23.275 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:37:23.276 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:37:23.277 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:37:23.278 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:37:23.279 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 19:37:23.286 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 19:37:23.287 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:37:23.288 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 19:37:23.289 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:37:23.290 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:37:23.291 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 19:37:23.293 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 19:37:23.294 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 19:37:23.294 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 19:37:23.295 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 19:37:23.296 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.News.NewsDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 19:37:23.297 +02:00 [INF] Executed action Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital) in 31.1858ms
2025-11-25 19:37:23.298 +02:00 [INF] Executed endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:37:23.299 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:37:23.300 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:37:23.301 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 19:37:23.302 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - 200 null application/json; charset=utf-8 55.5755ms
2025-11-25 19:37:30.730 +02:00 [DBG] Connection id "0HNHC90B60O25" received FIN.
2025-11-25 19:37:30.731 +02:00 [DBG] Connection id "0HNHC90B60O25" is closed. The last processed stream ID was 1.
2025-11-25 19:37:30.731 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O25 completed.
2025-11-25 19:37:30.733 +02:00 [DBG] Connection id "0HNHC90B60O25" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 19:37:30.735 +02:00 [DBG] Connection id "0HNHC90B60O25" stopped.
2025-11-25 19:37:58.949 +02:00 [DBG] Connection id "0HNHC90B60O21" disconnecting.
2025-11-25 19:37:58.950 +02:00 [DBG] Connection id "0HNHC90B60O21" stopped.
2025-11-25 19:37:58.951 +02:00 [DBG] Connection id "0HNHC90B60O21" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 19:38:56.960 +02:00 [DBG] Connection id "0HNHC90B60O26" accepted.
2025-11-25 19:38:56.961 +02:00 [DBG] Connection id "0HNHC90B60O26" started.
2025-11-25 19:38:56.969 +02:00 [DBG] Connection 0HNHC90B60O26 established using the following protocol: "Tls13"
2025-11-25 19:38:56.971 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - null null
2025-11-25 19:38:56.973 +02:00 [DBG] 1 candidate(s) found for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 19:38:56.975 +02:00 [DBG] Endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)' with route pattern 'api/News/GetAllNewsInSystem' is valid for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 19:38:56.976 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:38:56.977 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:38:56.978 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 19:38:56.979 +02:00 [INF] CORS policy execution successful.
2025-11-25 19:38:56.980 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:38:56.981 +02:00 [INF] Executing endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:38:56.982 +02:00 [INF] Route matched with {action = "GetAllNewsInSystem", controller = "News"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllNewsInSystem() on controller Hospital.Controllers.NewsController (Hospital).
2025-11-25 19:38:56.984 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:38:56.987 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:38:56.988 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:38:56.990 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:38:56.991 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:38:56.992 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:38:56.994 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:38:56.995 +02:00 [INF] get all News in system  called at "2025-11-25T19:38:56.9957040+02:00"
2025-11-25 19:38:56.996 +02:00 [INF] Retrieving all news in the system
2025-11-25 19:38:56.997 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:38:56.999 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:38:57.000 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 19:38:57.001 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:38:57.002 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:38:57.004 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:38:57.005 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:38:57.006 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 19:38:57.007 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 19:38:57.016 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 19:38:57.019 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:38:57.020 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 19:38:57.021 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:38:57.022 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 19:38:57.024 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 19:38:57.025 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 19:38:57.026 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 19:38:57.027 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 19:38:57.028 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 19:38:57.029 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.News.NewsDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 19:38:57.031 +02:00 [INF] Executed action Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital) in 38.4484ms
2025-11-25 19:38:57.032 +02:00 [INF] Executed endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:38:57.033 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:38:57.034 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:38:57.036 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 19:38:57.038 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - 200 null application/json; charset=utf-8 66.2444ms
2025-11-25 19:39:00.744 +02:00 [DBG] Connection id "0HNHC90B60O26" received FIN.
2025-11-25 19:39:00.745 +02:00 [DBG] Connection id "0HNHC90B60O26" is closed. The last processed stream ID was 1.
2025-11-25 19:39:00.745 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O26 completed.
2025-11-25 19:39:00.746 +02:00 [DBG] Connection id "0HNHC90B60O26" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 19:39:00.749 +02:00 [DBG] Connection id "0HNHC90B60O26" stopped.
2025-11-25 19:41:39.622 +02:00 [DBG] Connection id "0HNHC90B60O27" accepted.
2025-11-25 19:41:39.623 +02:00 [DBG] Connection id "0HNHC90B60O27" started.
2025-11-25 19:41:39.626 +02:00 [DBG] Connection 0HNHC90B60O27 established using the following protocol: "Tls13"
2025-11-25 19:41:39.627 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - null null
2025-11-25 19:41:39.629 +02:00 [DBG] 1 candidate(s) found for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 19:41:39.630 +02:00 [DBG] Endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)' with route pattern 'api/News/GetAllNewsInSystem' is valid for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 19:41:39.632 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:41:39.633 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:41:39.633 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 19:41:39.634 +02:00 [INF] CORS policy execution successful.
2025-11-25 19:41:39.635 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:41:39.635 +02:00 [INF] Executing endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:41:39.636 +02:00 [INF] Route matched with {action = "GetAllNewsInSystem", controller = "News"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllNewsInSystem() on controller Hospital.Controllers.NewsController (Hospital).
2025-11-25 19:41:39.638 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:41:39.639 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:41:39.640 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:41:39.641 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:41:39.642 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:41:39.643 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:41:39.645 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:41:39.646 +02:00 [INF] get all News in system  called at "2025-11-25T19:41:39.6463034+02:00"
2025-11-25 19:41:39.647 +02:00 [INF] Retrieving all news in the system
2025-11-25 19:41:39.648 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:41:39.650 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:41:39.650 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 19:41:39.651 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:41:39.652 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:41:39.653 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:41:39.654 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:41:39.655 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:41:39.656 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 19:41:39.662 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 19:41:39.663 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:41:39.664 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-25 19:41:39.665 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:41:39.666 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:41:39.667 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 19:41:39.668 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 19:41:39.669 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 19:41:39.669 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 19:41:39.670 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 19:41:39.670 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.News.NewsDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 19:41:39.672 +02:00 [INF] Executed action Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital) in 28.3249ms
2025-11-25 19:41:39.673 +02:00 [INF] Executed endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:41:39.673 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:41:39.674 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:41:39.675 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 19:41:39.676 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - 200 null application/json; charset=utf-8 48.7426ms
2025-11-25 19:41:40.772 +02:00 [DBG] Connection id "0HNHC90B60O27" received FIN.
2025-11-25 19:41:40.773 +02:00 [DBG] Connection id "0HNHC90B60O27" is closed. The last processed stream ID was 1.
2025-11-25 19:41:40.773 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O27 completed.
2025-11-25 19:41:40.774 +02:00 [DBG] Connection id "0HNHC90B60O27" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 19:41:40.777 +02:00 [DBG] Connection id "0HNHC90B60O27" stopped.
2025-11-25 19:44:23.234 +02:00 [DBG] Connection id "0HNHC90B60O28" accepted.
2025-11-25 19:44:23.234 +02:00 [DBG] Connection id "0HNHC90B60O28" received FIN.
2025-11-25 19:44:23.235 +02:00 [DBG] Connection id "0HNHC90B60O28" started.
2025-11-25 19:44:23.235 +02:00 [DBG] Connection id "0HNHC90B60O29" accepted.
2025-11-25 19:44:23.237 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-25 19:44:23.238 +02:00 [DBG] Connection id "0HNHC90B60O29" started.
2025-11-25 19:44:23.239 +02:00 [DBG] Connection id "0HNHC90B60O28" stopped.
2025-11-25 19:44:23.241 +02:00 [DBG] Connection id "0HNHC90B60O28" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 19:44:23.243 +02:00 [DBG] Connection 0HNHC90B60O29 established using the following protocol: "Tls13"
2025-11-25 19:44:23.244 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/Event/CreateEvent - application/json 205
2025-11-25 19:44:23.247 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Event/CreateEvent'
2025-11-25 19:44:23.247 +02:00 [DBG] Endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)' with route pattern 'api/Event/CreateEvent' is valid for the request path '/api/Event/CreateEvent'
2025-11-25 19:44:23.249 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)'
2025-11-25 19:44:23.249 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:44:23.250 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:44:23.251 +02:00 [INF] Executing endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)'
2025-11-25 19:44:23.254 +02:00 [INF] Route matched with {action = "CreateEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEvent(Hospital.Application.DTO.Event.AddEventDto) on controller Hospital.Controllers.EventController (Hospital).
2025-11-25 19:44:23.256 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:44:23.258 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:44:23.259 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:44:23.260 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:44:23.261 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:44:23.263 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 19:44:23.264 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 19:44:23.265 +02:00 [DBG] Attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto' ...
2025-11-25 19:44:23.266 +02:00 [DBG] Attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto' using the name '' in request data ...
2025-11-25 19:44:23.267 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 19:44:23.269 +02:00 [DBG] Connection id "0HNHC90B60O29", Request id "0HNHC90B60O29:00000001": started reading request body.
2025-11-25 19:44:23.270 +02:00 [DBG] Connection id "0HNHC90B60O29", Request id "0HNHC90B60O29:00000001": done reading request body.
2025-11-25 19:44:23.272 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.Event.AddEventDto'
2025-11-25 19:44:23.273 +02:00 [DBG] Done attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto'.
2025-11-25 19:44:23.274 +02:00 [DBG] Done attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto'.
2025-11-25 19:44:23.275 +02:00 [DBG] Attempting to validate the bound parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto' ...
2025-11-25 19:44:23.278 +02:00 [DBG] Done attempting to validate the bound parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto'.
2025-11-25 19:44:23.280 +02:00 [INF] create event  called at "2025-11-25T19:44:23.2802397+02:00"
2025-11-25 19:44:23.282 +02:00 [INF] Adding new event: event 2 for Branch ID: 1
2025-11-25 19:44:23.283 +02:00 [INF] Fetching branch by ID: 1
2025-11-25 19:44:23.284 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:44:23.286 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:44:23.286 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 19:44:23.287 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:44:23.288 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:44:23.289 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:44:23.290 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:44:23.291 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:44:23.292 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 19:44:23.299 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 19:44:23.300 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:44:23.301 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:44:23.302 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-11-25 19:44:23.303 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:44:23.304 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:44:23.309 +02:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Event.EventId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:44:23.319 +02:00 [DBG] The navigation 'Event.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:44:23.321 +02:00 [DBG] Context 'AppDbContext' started tracking 'Event' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:44:23.322 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 19:44:23.326 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 19:44:23.328 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 19:44:23.329 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 19:44:23.330 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 19:44:23.331 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:44:23.332 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:44:23.333 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:44:23.334 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:44:23.335 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 19:44:23.336 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Events] ([BranchId], [CreatedAt], [Description], [EventDate], [ImageURL], [Title], [UpdatedAt])
OUTPUT INSERTED.[EventId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-25 19:44:23.344 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Events] ([BranchId], [CreatedAt], [Description], [EventDate], [ImageURL], [Title], [UpdatedAt])
OUTPUT INSERTED.[EventId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-25 19:44:23.346 +02:00 [DBG] The foreign key property 'Event.EventId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-25 19:44:23.347 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:44:23.348 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-11-25 19:44:23.349 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:44:23.350 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:44:23.352 +02:00 [DBG] An entity of type 'Event' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:44:23.354 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-25 19:44:23.355 +02:00 [INF] Event event 2 added successfully with ID 1
2025-11-25 19:44:23.357 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 19:44:23.359 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 19:44:23.360 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 19:44:23.360 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 19:44:23.361 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 19:44:23.362 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Hospital.Application.DTO.Event.EventDto'.
2025-11-25 19:44:23.364 +02:00 [DBG] Found the endpoints ["Hospital.Controllers.EventController.GetEvent (Hospital)"] for address (id=[1],action=[GetEvent],controller=[Event])
2025-11-25 19:44:23.365 +02:00 [DBG] Successfully processed template api/Event/GetEvent for Hospital.Controllers.EventController.GetEvent (Hospital) resulting in /api/Event/GetEvent and ?id=1
2025-11-25 19:44:23.366 +02:00 [DBG] Link generation succeeded for endpoints ["Hospital.Controllers.EventController.GetEvent (Hospital)"] with result /api/Event/GetEvent?id=1
2025-11-25 19:44:23.368 +02:00 [INF] Executed action Hospital.Controllers.EventController.CreateEvent (Hospital) in 105.7777ms
2025-11-25 19:44:23.370 +02:00 [INF] Executed endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)'
2025-11-25 19:44:23.370 +02:00 [DBG] Connection id "0HNHC90B60O29" completed keep alive response.
2025-11-25 19:44:23.371 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:44:23.372 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:44:23.373 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 19:44:23.374 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/Event/CreateEvent - 201 null application/json; charset=utf-8 129.6158ms
2025-11-25 19:44:25.812 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7217/api/Event/GetAllEventsInSystem - null null
2025-11-25 19:44:25.815 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Event/GetAllEventsInSystem'
2025-11-25 19:44:25.815 +02:00 [DBG] Endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)' with route pattern 'api/Event/GetAllEventsInSystem' is valid for the request path '/api/Event/GetAllEventsInSystem'
2025-11-25 19:44:25.816 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 19:44:25.817 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:44:25.818 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:44:25.818 +02:00 [INF] Executing endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 19:44:25.821 +02:00 [INF] Route matched with {action = "GetAllEventsInSystem", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllEventsInSystem() on controller Hospital.Controllers.EventController (Hospital).
2025-11-25 19:44:25.822 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:44:25.823 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:44:25.824 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:44:25.825 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:44:25.826 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:44:25.827 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 19:44:25.828 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 19:44:25.829 +02:00 [INF] get all  event in system  called at "2025-11-25T19:44:25.8297506+02:00"
2025-11-25 19:44:25.830 +02:00 [INF] Fetching all events in the system
2025-11-25 19:44:25.832 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:44:25.833 +02:00 [DBG] Compiling query expression: 
'DbSet<Event>()
    .AsNoTracking()'
2025-11-25 19:44:25.836 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Event>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Event.EventId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Event.BranchId (int?) FK Index, 1], [Property: Event.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Event.Description (string), 3], [Property: Event.EventDate (DateTime) Required, 4], [Property: Event.ImageURL (string) MaxLength(300), 5], [Property: Event.Title (string) Required MaxLength(150), 6], [Property: Event.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 7] }
        SELECT e.EventId, e.BranchId, e.CreatedAt, e.Description, e.EventDate, e.ImageURL, e.Title, e.UpdatedAt
        FROM Events AS e), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Event>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-11-25 19:44:25.838 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:44:25.838 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 19:44:25.839 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:44:25.840 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:44:25.841 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:44:25.841 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:44:25.842 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:44:25.843 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EventId], [e].[BranchId], [e].[CreatedAt], [e].[Description], [e].[EventDate], [e].[ImageURL], [e].[Title], [e].[UpdatedAt]
FROM [Events] AS [e]
2025-11-25 19:44:25.849 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EventId], [e].[BranchId], [e].[CreatedAt], [e].[Description], [e].[EventDate], [e].[ImageURL], [e].[Title], [e].[UpdatedAt]
FROM [Events] AS [e]
2025-11-25 19:44:25.851 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:44:25.852 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 19:44:25.853 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:44:25.853 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:44:25.857 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 19:44:25.858 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 19:44:25.859 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 19:44:25.859 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 19:44:25.860 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 19:44:25.860 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Event.EventDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 19:44:25.862 +02:00 [INF] Executed action Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital) in 34.9762ms
2025-11-25 19:44:25.863 +02:00 [INF] Executed endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 19:44:25.864 +02:00 [DBG] Connection id "0HNHC90B60O29" completed keep alive response.
2025-11-25 19:44:25.864 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:44:25.865 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:44:25.866 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 19:44:25.867 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7217/api/Event/GetAllEventsInSystem - 200 null application/json; charset=utf-8 54.8805ms
2025-11-25 19:46:36.221 +02:00 [DBG] Connection id "0HNHC90B60O29" disconnecting.
2025-11-25 19:46:36.223 +02:00 [DBG] Connection id "0HNHC90B60O29" stopped.
2025-11-25 19:46:36.224 +02:00 [DBG] Connection id "0HNHC90B60O29" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 19:52:58.771 +02:00 [DBG] Connection id "0HNHC90B60O2A" accepted.
2025-11-25 19:52:58.772 +02:00 [DBG] Connection id "0HNHC90B60O2A" started.
2025-11-25 19:52:58.777 +02:00 [DBG] Connection 0HNHC90B60O2A established using the following protocol: "Tls13"
2025-11-25 19:52:58.778 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - null null
2025-11-25 19:52:58.781 +02:00 [DBG] 1 candidate(s) found for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 19:52:58.782 +02:00 [DBG] Endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)' with route pattern 'api/News/GetAllNewsInSystem' is valid for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 19:52:58.783 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:52:58.784 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:52:58.785 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 19:52:58.786 +02:00 [INF] CORS policy execution successful.
2025-11-25 19:52:58.787 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:52:58.788 +02:00 [INF] Executing endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:52:58.789 +02:00 [INF] Route matched with {action = "GetAllNewsInSystem", controller = "News"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllNewsInSystem() on controller Hospital.Controllers.NewsController (Hospital).
2025-11-25 19:52:58.791 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:52:58.792 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:52:58.793 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:52:58.795 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:52:58.796 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:52:58.797 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:52:58.798 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:52:58.800 +02:00 [INF] get all News in system  called at "2025-11-25T19:52:58.8002023+02:00"
2025-11-25 19:52:58.801 +02:00 [INF] Retrieving all news in the system
2025-11-25 19:52:58.802 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:52:58.803 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:52:58.804 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 19:52:58.805 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:52:58.848 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:52:58.849 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:52:58.850 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:52:58.850 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:52:58.851 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 19:52:58.859 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 19:52:58.860 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:52:58.861 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-25 19:52:58.862 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:52:58.863 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:52:58.864 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 19:52:58.865 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 19:52:58.865 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 19:52:58.866 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 19:52:58.866 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 19:52:58.867 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.News.NewsDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 19:52:58.868 +02:00 [INF] Executed action Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital) in 71.2213ms
2025-11-25 19:52:58.869 +02:00 [INF] Executed endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:52:58.870 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:52:58.871 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:52:58.872 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 19:52:58.873 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - 200 null application/json; charset=utf-8 94.3138ms
2025-11-25 19:53:00.893 +02:00 [DBG] Connection id "0HNHC90B60O2A" received FIN.
2025-11-25 19:53:00.894 +02:00 [DBG] Connection id "0HNHC90B60O2A" is closed. The last processed stream ID was 1.
2025-11-25 19:53:00.894 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O2A completed.
2025-11-25 19:53:00.895 +02:00 [DBG] Connection id "0HNHC90B60O2A" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 19:53:00.897 +02:00 [DBG] Connection id "0HNHC90B60O2A" stopped.
2025-11-25 19:53:28.431 +02:00 [DBG] Connection id "0HNHC90B60O2B" accepted.
2025-11-25 19:53:28.432 +02:00 [DBG] Connection id "0HNHC90B60O2B" started.
2025-11-25 19:53:28.436 +02:00 [DBG] Connection 0HNHC90B60O2B established using the following protocol: "Tls13"
2025-11-25 19:53:28.438 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - null null
2025-11-25 19:53:28.440 +02:00 [DBG] 1 candidate(s) found for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 19:53:28.441 +02:00 [DBG] Endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)' with route pattern 'api/News/GetAllNewsInSystem' is valid for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 19:53:28.442 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:53:28.443 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:53:28.444 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 19:53:28.445 +02:00 [INF] CORS policy execution successful.
2025-11-25 19:53:28.445 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:53:28.446 +02:00 [INF] Executing endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:53:28.447 +02:00 [INF] Route matched with {action = "GetAllNewsInSystem", controller = "News"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllNewsInSystem() on controller Hospital.Controllers.NewsController (Hospital).
2025-11-25 19:53:28.448 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:53:28.450 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:53:28.451 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:53:28.452 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:53:28.453 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:53:28.454 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:53:28.456 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 19:53:28.457 +02:00 [INF] get all News in system  called at "2025-11-25T19:53:28.4570930+02:00"
2025-11-25 19:53:28.457 +02:00 [INF] Retrieving all news in the system
2025-11-25 19:53:28.458 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:53:28.460 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:53:28.460 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 19:53:28.461 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:53:28.462 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:53:28.463 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:53:28.464 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:53:28.464 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:53:28.465 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 19:53:28.468 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 19:53:28.469 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:53:28.470 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-25 19:53:28.471 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:53:28.472 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:53:28.473 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 19:53:28.475 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 19:53:28.475 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 19:53:28.476 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 19:53:28.476 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 19:53:28.477 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.News.NewsDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 19:53:28.478 +02:00 [INF] Executed action Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital) in 23.9393ms
2025-11-25 19:53:28.479 +02:00 [INF] Executed endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 19:53:28.480 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:53:28.480 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:53:28.481 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 19:53:28.482 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - 200 null application/json; charset=utf-8 44.3899ms
2025-11-25 19:53:30.903 +02:00 [DBG] Connection id "0HNHC90B60O2B" received FIN.
2025-11-25 19:53:30.904 +02:00 [DBG] Connection id "0HNHC90B60O2B" is closed. The last processed stream ID was 1.
2025-11-25 19:53:30.904 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O2B completed.
2025-11-25 19:53:30.905 +02:00 [DBG] Connection id "0HNHC90B60O2B" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 19:53:30.908 +02:00 [DBG] Connection id "0HNHC90B60O2B" stopped.
2025-11-25 19:54:38.193 +02:00 [DBG] Connection id "0HNHC90B60O2C" accepted.
2025-11-25 19:54:38.194 +02:00 [DBG] Connection id "0HNHC90B60O2C" started.
2025-11-25 19:54:38.199 +02:00 [DBG] Connection 0HNHC90B60O2C established using the following protocol: "Tls13"
2025-11-25 19:54:38.200 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Event/GetAllEventsInSystem - null null
2025-11-25 19:54:38.203 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Event/GetAllEventsInSystem'
2025-11-25 19:54:38.203 +02:00 [DBG] Endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)' with route pattern 'api/Event/GetAllEventsInSystem' is valid for the request path '/api/Event/GetAllEventsInSystem'
2025-11-25 19:54:38.205 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 19:54:38.206 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:54:38.206 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 19:54:38.207 +02:00 [INF] CORS policy execution successful.
2025-11-25 19:54:38.208 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:54:38.209 +02:00 [INF] Executing endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 19:54:38.210 +02:00 [INF] Route matched with {action = "GetAllEventsInSystem", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllEventsInSystem() on controller Hospital.Controllers.EventController (Hospital).
2025-11-25 19:54:38.211 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:54:38.213 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:54:38.214 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:54:38.215 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:54:38.216 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:54:38.218 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 19:54:38.220 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 19:54:38.221 +02:00 [INF] get all  event in system  called at "2025-11-25T19:54:38.2215378+02:00"
2025-11-25 19:54:38.222 +02:00 [INF] Fetching all events in the system
2025-11-25 19:54:38.223 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:54:38.225 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:54:38.225 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 19:54:38.226 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:54:38.227 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:54:38.228 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:54:38.229 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:54:38.230 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:54:38.231 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EventId], [e].[BranchId], [e].[CreatedAt], [e].[Description], [e].[EventDate], [e].[ImageURL], [e].[Title], [e].[UpdatedAt]
FROM [Events] AS [e]
2025-11-25 19:54:38.240 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EventId], [e].[BranchId], [e].[CreatedAt], [e].[Description], [e].[EventDate], [e].[ImageURL], [e].[Title], [e].[UpdatedAt]
FROM [Events] AS [e]
2025-11-25 19:54:38.242 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:54:38.243 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-25 19:54:38.244 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:54:38.245 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 19:54:38.246 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 19:54:38.248 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 19:54:38.249 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 19:54:38.249 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 19:54:38.250 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 19:54:38.251 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Event.EventDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 19:54:38.252 +02:00 [INF] Executed action Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital) in 34.4589ms
2025-11-25 19:54:38.253 +02:00 [INF] Executed endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 19:54:38.254 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:54:38.255 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:54:38.256 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 19:54:38.257 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Event/GetAllEventsInSystem - 200 null application/json; charset=utf-8 56.3686ms
2025-11-25 19:56:17.305 +02:00 [DBG] Connection id "0HNHC90B60O2D" accepted.
2025-11-25 19:56:17.306 +02:00 [DBG] Connection id "0HNHC90B60O2D" received FIN.
2025-11-25 19:56:17.306 +02:00 [DBG] Connection id "0HNHC90B60O2D" started.
2025-11-25 19:56:17.307 +02:00 [DBG] Connection id "0HNHC90B60O2E" accepted.
2025-11-25 19:56:17.308 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-25 19:56:17.309 +02:00 [DBG] Connection id "0HNHC90B60O2E" started.
2025-11-25 19:56:17.310 +02:00 [DBG] Connection id "0HNHC90B60O2D" stopped.
2025-11-25 19:56:17.312 +02:00 [DBG] Connection id "0HNHC90B60O2D" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 19:56:17.313 +02:00 [DBG] Connection 0HNHC90B60O2E established using the following protocol: "Tls13"
2025-11-25 19:56:17.314 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/Event/CreateEvent - application/json 437
2025-11-25 19:56:17.316 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Event/CreateEvent'
2025-11-25 19:56:17.316 +02:00 [DBG] Endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)' with route pattern 'api/Event/CreateEvent' is valid for the request path '/api/Event/CreateEvent'
2025-11-25 19:56:17.317 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)'
2025-11-25 19:56:17.318 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:56:17.318 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:56:17.319 +02:00 [INF] Executing endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)'
2025-11-25 19:56:17.320 +02:00 [INF] Route matched with {action = "CreateEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEvent(Hospital.Application.DTO.Event.AddEventDto) on controller Hospital.Controllers.EventController (Hospital).
2025-11-25 19:56:17.321 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:56:17.322 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:56:17.323 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:56:17.324 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:56:17.324 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:56:17.325 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 19:56:17.326 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 19:56:17.327 +02:00 [DBG] Attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto' ...
2025-11-25 19:56:17.328 +02:00 [DBG] Attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto' using the name '' in request data ...
2025-11-25 19:56:17.329 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 19:56:17.330 +02:00 [DBG] Connection id "0HNHC90B60O2E", Request id "0HNHC90B60O2E:00000001": started reading request body.
2025-11-25 19:56:17.331 +02:00 [DBG] Connection id "0HNHC90B60O2E", Request id "0HNHC90B60O2E:00000001": done reading request body.
2025-11-25 19:56:17.332 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.Event.AddEventDto'
2025-11-25 19:56:17.332 +02:00 [DBG] Done attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto'.
2025-11-25 19:56:17.333 +02:00 [DBG] Done attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto'.
2025-11-25 19:56:17.334 +02:00 [DBG] Attempting to validate the bound parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto' ...
2025-11-25 19:56:17.335 +02:00 [DBG] Done attempting to validate the bound parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto'.
2025-11-25 19:56:17.336 +02:00 [INF] create event  called at "2025-11-25T19:56:17.3366000+02:00"
2025-11-25 19:56:17.337 +02:00 [INF] Adding new event: First Aid & CPR Training Session for Branch ID: 1
2025-11-25 19:56:17.338 +02:00 [INF] Fetching branch by ID: 1
2025-11-25 19:56:17.339 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:56:17.340 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:56:17.341 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 19:56:17.342 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:56:17.343 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:56:17.343 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:56:17.344 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:56:17.345 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:56:17.346 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 19:56:17.354 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 19:56:17.356 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:56:17.357 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:56:17.357 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 19:56:17.358 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:56:17.359 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:56:17.360 +02:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Event.EventId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:56:17.361 +02:00 [DBG] The navigation 'Event.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:56:17.362 +02:00 [DBG] Context 'AppDbContext' started tracking 'Event' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:56:17.363 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 19:56:17.364 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 19:56:17.365 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 19:56:17.365 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 19:56:17.366 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 19:56:17.367 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:56:17.368 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:56:17.369 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:56:17.369 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:56:17.370 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:56:17.371 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Events] ([BranchId], [CreatedAt], [Description], [EventDate], [ImageURL], [Title], [UpdatedAt])
OUTPUT INSERTED.[EventId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-25 19:56:17.375 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Events] ([BranchId], [CreatedAt], [Description], [EventDate], [ImageURL], [Title], [UpdatedAt])
OUTPUT INSERTED.[EventId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-25 19:56:17.377 +02:00 [DBG] The foreign key property 'Event.EventId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-25 19:56:17.378 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:56:17.378 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 19:56:17.379 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:56:17.380 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:56:17.382 +02:00 [DBG] An entity of type 'Event' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:56:17.383 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-25 19:56:17.384 +02:00 [INF] Event First Aid & CPR Training Session added successfully with ID 2
2025-11-25 19:56:17.384 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 19:56:17.386 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 19:56:17.386 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 19:56:17.387 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 19:56:17.387 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 19:56:17.388 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Hospital.Application.DTO.Event.EventDto'.
2025-11-25 19:56:17.389 +02:00 [DBG] Found the endpoints ["Hospital.Controllers.EventController.GetEvent (Hospital)"] for address (id=[2],action=[GetEvent],controller=[Event])
2025-11-25 19:56:17.390 +02:00 [DBG] Successfully processed template api/Event/GetEvent for Hospital.Controllers.EventController.GetEvent (Hospital) resulting in /api/Event/GetEvent and ?id=2
2025-11-25 19:56:17.391 +02:00 [DBG] Link generation succeeded for endpoints ["Hospital.Controllers.EventController.GetEvent (Hospital)"] with result /api/Event/GetEvent?id=2
2025-11-25 19:56:17.392 +02:00 [INF] Executed action Hospital.Controllers.EventController.CreateEvent (Hospital) in 66.9745ms
2025-11-25 19:56:17.393 +02:00 [INF] Executed endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)'
2025-11-25 19:56:17.394 +02:00 [DBG] Connection id "0HNHC90B60O2E" completed keep alive response.
2025-11-25 19:56:17.394 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:56:17.395 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:56:17.396 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 19:56:17.397 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/Event/CreateEvent - 201 null application/json; charset=utf-8 83.0253ms
2025-11-25 19:56:42.114 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/Event/CreateEvent - application/json 437
2025-11-25 19:56:42.116 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Event/CreateEvent'
2025-11-25 19:56:42.117 +02:00 [DBG] Endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)' with route pattern 'api/Event/CreateEvent' is valid for the request path '/api/Event/CreateEvent'
2025-11-25 19:56:42.118 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)'
2025-11-25 19:56:42.119 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:56:42.120 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:56:42.120 +02:00 [INF] Executing endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)'
2025-11-25 19:56:42.121 +02:00 [INF] Route matched with {action = "CreateEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEvent(Hospital.Application.DTO.Event.AddEventDto) on controller Hospital.Controllers.EventController (Hospital).
2025-11-25 19:56:42.122 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:56:42.123 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:56:42.124 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:56:42.125 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:56:42.126 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:56:42.127 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 19:56:42.128 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 19:56:42.130 +02:00 [DBG] Attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto' ...
2025-11-25 19:56:42.131 +02:00 [DBG] Attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto' using the name '' in request data ...
2025-11-25 19:56:42.132 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 19:56:42.133 +02:00 [DBG] Connection id "0HNHC90B60O2E", Request id "0HNHC90B60O2E:00000002": started reading request body.
2025-11-25 19:56:42.134 +02:00 [DBG] Connection id "0HNHC90B60O2E", Request id "0HNHC90B60O2E:00000002": done reading request body.
2025-11-25 19:56:42.135 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.Event.AddEventDto'
2025-11-25 19:56:42.135 +02:00 [DBG] Done attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto'.
2025-11-25 19:56:42.136 +02:00 [DBG] Done attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto'.
2025-11-25 19:56:42.137 +02:00 [DBG] Attempting to validate the bound parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto' ...
2025-11-25 19:56:42.138 +02:00 [DBG] Done attempting to validate the bound parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto'.
2025-11-25 19:56:42.139 +02:00 [INF] create event  called at "2025-11-25T19:56:42.1392761+02:00"
2025-11-25 19:56:42.139 +02:00 [INF] Adding new event: First Aid & CPR Training Session for Branch ID: 1
2025-11-25 19:56:42.140 +02:00 [INF] Fetching branch by ID: 1
2025-11-25 19:56:42.141 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:56:42.144 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:56:42.144 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 19:56:42.145 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:56:42.146 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:56:42.146 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:56:42.147 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:56:42.148 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:56:42.149 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 19:56:42.152 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 19:56:42.153 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:56:42.154 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:56:42.155 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 19:56:42.156 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:56:42.157 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:56:42.158 +02:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Event.EventId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:56:42.159 +02:00 [DBG] The navigation 'Event.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:56:42.160 +02:00 [DBG] Context 'AppDbContext' started tracking 'Event' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:56:42.161 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 19:56:42.161 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 19:56:42.162 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 19:56:42.163 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 19:56:42.163 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 19:56:42.164 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:56:42.165 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:56:42.166 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:56:42.167 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:56:42.168 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:56:42.169 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Events] ([BranchId], [CreatedAt], [Description], [EventDate], [ImageURL], [Title], [UpdatedAt])
OUTPUT INSERTED.[EventId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-25 19:56:42.172 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Events] ([BranchId], [CreatedAt], [Description], [EventDate], [ImageURL], [Title], [UpdatedAt])
OUTPUT INSERTED.[EventId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-25 19:56:42.173 +02:00 [DBG] The foreign key property 'Event.EventId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-25 19:56:42.175 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:56:42.176 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-11-25 19:56:42.177 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:56:42.178 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 19:56:42.179 +02:00 [DBG] An entity of type 'Event' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:56:42.180 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-25 19:56:42.181 +02:00 [INF] Event First Aid & CPR Training Session added successfully with ID 3
2025-11-25 19:56:42.182 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 19:56:42.183 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 19:56:42.184 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 19:56:42.185 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 19:56:42.186 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 19:56:42.187 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Hospital.Application.DTO.Event.EventDto'.
2025-11-25 19:56:42.188 +02:00 [DBG] Found the endpoints ["Hospital.Controllers.EventController.GetEvent (Hospital)"] for address (id=[3],action=[GetEvent],controller=[Event])
2025-11-25 19:56:42.189 +02:00 [DBG] Successfully processed template api/Event/GetEvent for Hospital.Controllers.EventController.GetEvent (Hospital) resulting in /api/Event/GetEvent and ?id=3
2025-11-25 19:56:42.191 +02:00 [DBG] Link generation succeeded for endpoints ["Hospital.Controllers.EventController.GetEvent (Hospital)"] with result /api/Event/GetEvent?id=3
2025-11-25 19:56:42.192 +02:00 [INF] Executed action Hospital.Controllers.EventController.CreateEvent (Hospital) in 64.6736ms
2025-11-25 19:56:42.193 +02:00 [INF] Executed endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)'
2025-11-25 19:56:42.194 +02:00 [DBG] Connection id "0HNHC90B60O2E" completed keep alive response.
2025-11-25 19:56:42.194 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:56:42.195 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:56:42.196 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 19:56:42.197 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/Event/CreateEvent - 201 null application/json; charset=utf-8 82.9714ms
2025-11-25 19:56:47.458 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/Event/CreateEvent - application/json 437
2025-11-25 19:56:47.460 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Event/CreateEvent'
2025-11-25 19:56:47.461 +02:00 [DBG] Endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)' with route pattern 'api/Event/CreateEvent' is valid for the request path '/api/Event/CreateEvent'
2025-11-25 19:56:47.462 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)'
2025-11-25 19:56:47.462 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:56:47.463 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:56:47.464 +02:00 [INF] Executing endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)'
2025-11-25 19:56:47.464 +02:00 [INF] Route matched with {action = "CreateEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEvent(Hospital.Application.DTO.Event.AddEventDto) on controller Hospital.Controllers.EventController (Hospital).
2025-11-25 19:56:47.465 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:56:47.466 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:56:47.467 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:56:47.468 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:56:47.469 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:56:47.470 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 19:56:47.471 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 19:56:47.472 +02:00 [DBG] Attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto' ...
2025-11-25 19:56:47.473 +02:00 [DBG] Attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto' using the name '' in request data ...
2025-11-25 19:56:47.474 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 19:56:47.475 +02:00 [DBG] Connection id "0HNHC90B60O2E", Request id "0HNHC90B60O2E:00000003": started reading request body.
2025-11-25 19:56:47.476 +02:00 [DBG] Connection id "0HNHC90B60O2E", Request id "0HNHC90B60O2E:00000003": done reading request body.
2025-11-25 19:56:47.477 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.Event.AddEventDto'
2025-11-25 19:56:47.477 +02:00 [DBG] Done attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto'.
2025-11-25 19:56:47.478 +02:00 [DBG] Done attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto'.
2025-11-25 19:56:47.479 +02:00 [DBG] Attempting to validate the bound parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto' ...
2025-11-25 19:56:47.480 +02:00 [DBG] Done attempting to validate the bound parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto'.
2025-11-25 19:56:47.480 +02:00 [INF] create event  called at "2025-11-25T19:56:47.4808733+02:00"
2025-11-25 19:56:47.481 +02:00 [INF] Adding new event: First Aid & CPR Training Session for Branch ID: 1
2025-11-25 19:56:47.482 +02:00 [INF] Fetching branch by ID: 1
2025-11-25 19:56:47.483 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:56:47.485 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:56:47.485 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 19:56:47.486 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:56:47.487 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:56:47.488 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:56:47.488 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:56:47.489 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:56:47.490 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 19:56:47.492 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 19:56:47.493 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:56:47.494 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:56:47.495 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 19:56:47.496 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:56:47.496 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:56:47.497 +02:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Event.EventId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:56:47.498 +02:00 [DBG] The navigation 'Event.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:56:47.499 +02:00 [DBG] Context 'AppDbContext' started tracking 'Event' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:56:47.500 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 19:56:47.501 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 19:56:47.501 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 19:56:47.502 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 19:56:47.503 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 19:56:47.504 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:56:47.505 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:56:47.506 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:56:47.506 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:56:47.507 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:56:47.508 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Events] ([BranchId], [CreatedAt], [Description], [EventDate], [ImageURL], [Title], [UpdatedAt])
OUTPUT INSERTED.[EventId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-25 19:56:47.510 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Events] ([BranchId], [CreatedAt], [Description], [EventDate], [ImageURL], [Title], [UpdatedAt])
OUTPUT INSERTED.[EventId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-25 19:56:47.512 +02:00 [DBG] The foreign key property 'Event.EventId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-25 19:56:47.513 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:56:47.513 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 19:56:47.514 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:56:47.515 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:56:47.516 +02:00 [DBG] An entity of type 'Event' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:56:47.517 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-25 19:56:47.518 +02:00 [INF] Event First Aid & CPR Training Session added successfully with ID 4
2025-11-25 19:56:47.519 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 19:56:47.520 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 19:56:47.521 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 19:56:47.521 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 19:56:47.521 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 19:56:47.522 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Hospital.Application.DTO.Event.EventDto'.
2025-11-25 19:56:47.523 +02:00 [DBG] Found the endpoints ["Hospital.Controllers.EventController.GetEvent (Hospital)"] for address (id=[4],action=[GetEvent],controller=[Event])
2025-11-25 19:56:47.524 +02:00 [DBG] Successfully processed template api/Event/GetEvent for Hospital.Controllers.EventController.GetEvent (Hospital) resulting in /api/Event/GetEvent and ?id=4
2025-11-25 19:56:47.525 +02:00 [DBG] Link generation succeeded for endpoints ["Hospital.Controllers.EventController.GetEvent (Hospital)"] with result /api/Event/GetEvent?id=4
2025-11-25 19:56:47.526 +02:00 [INF] Executed action Hospital.Controllers.EventController.CreateEvent (Hospital) in 55.9936ms
2025-11-25 19:56:47.527 +02:00 [INF] Executed endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)'
2025-11-25 19:56:47.528 +02:00 [DBG] Connection id "0HNHC90B60O2E" completed keep alive response.
2025-11-25 19:56:47.528 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:56:47.529 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:56:47.530 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 19:56:47.531 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/Event/CreateEvent - 201 null application/json; charset=utf-8 73.3842ms
2025-11-25 19:56:49.552 +02:00 [DBG] Connection id "0HNHC90B60O2C" is closing.
2025-11-25 19:56:49.553 +02:00 [DBG] Connection id "0HNHC90B60O2C" is closed. The last processed stream ID was 1.
2025-11-25 19:56:49.554 +02:00 [DBG] Connection id "0HNHC90B60O2C" received FIN.
2025-11-25 19:56:49.554 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O2C completed.
2025-11-25 19:56:49.555 +02:00 [DBG] Connection id "0HNHC90B60O2C" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 19:56:49.557 +02:00 [DBG] Connection id "0HNHC90B60O2C" stopped.
2025-11-25 19:56:54.807 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/Event/CreateEvent - application/json 437
2025-11-25 19:56:54.808 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Event/CreateEvent'
2025-11-25 19:56:54.809 +02:00 [DBG] Endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)' with route pattern 'api/Event/CreateEvent' is valid for the request path '/api/Event/CreateEvent'
2025-11-25 19:56:54.810 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)'
2025-11-25 19:56:54.811 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:56:54.811 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:56:54.812 +02:00 [INF] Executing endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)'
2025-11-25 19:56:54.813 +02:00 [INF] Route matched with {action = "CreateEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEvent(Hospital.Application.DTO.Event.AddEventDto) on controller Hospital.Controllers.EventController (Hospital).
2025-11-25 19:56:54.814 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:56:54.815 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:56:54.816 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:56:54.817 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:56:54.818 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:56:54.819 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 19:56:54.820 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 19:56:54.821 +02:00 [DBG] Attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto' ...
2025-11-25 19:56:54.822 +02:00 [DBG] Attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto' using the name '' in request data ...
2025-11-25 19:56:54.823 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 19:56:54.824 +02:00 [DBG] Connection id "0HNHC90B60O2E", Request id "0HNHC90B60O2E:00000004": started reading request body.
2025-11-25 19:56:54.825 +02:00 [DBG] Connection id "0HNHC90B60O2E", Request id "0HNHC90B60O2E:00000004": done reading request body.
2025-11-25 19:56:54.826 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.Event.AddEventDto'
2025-11-25 19:56:54.826 +02:00 [DBG] Done attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto'.
2025-11-25 19:56:54.827 +02:00 [DBG] Done attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto'.
2025-11-25 19:56:54.828 +02:00 [DBG] Attempting to validate the bound parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto' ...
2025-11-25 19:56:54.829 +02:00 [DBG] Done attempting to validate the bound parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto'.
2025-11-25 19:56:54.830 +02:00 [INF] create event  called at "2025-11-25T19:56:54.8300109+02:00"
2025-11-25 19:56:54.830 +02:00 [INF] Adding new event: First Aid & CPR Training Session for Branch ID: 2
2025-11-25 19:56:54.831 +02:00 [INF] Fetching branch by ID: 2
2025-11-25 19:56:54.832 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:56:54.833 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:56:54.834 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 19:56:54.834 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:56:54.835 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:56:54.836 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:56:54.837 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:56:54.837 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:56:54.838 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 19:56:54.841 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 19:56:54.842 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:56:54.843 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:56:54.844 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 19:56:54.845 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:56:54.846 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:56:54.847 +02:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Event.EventId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:56:54.848 +02:00 [DBG] The navigation 'Event.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:56:54.848 +02:00 [DBG] Context 'AppDbContext' started tracking 'Event' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:56:54.849 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 19:56:54.850 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 19:56:54.851 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 19:56:54.851 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 19:56:54.852 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 19:56:54.853 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:56:54.854 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:56:54.854 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:56:54.855 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:56:54.856 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:56:54.857 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Events] ([BranchId], [CreatedAt], [Description], [EventDate], [ImageURL], [Title], [UpdatedAt])
OUTPUT INSERTED.[EventId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-25 19:56:54.860 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Events] ([BranchId], [CreatedAt], [Description], [EventDate], [ImageURL], [Title], [UpdatedAt])
OUTPUT INSERTED.[EventId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-25 19:56:54.861 +02:00 [DBG] The foreign key property 'Event.EventId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-25 19:56:54.862 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:56:54.863 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 19:56:54.864 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:56:54.865 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:56:54.866 +02:00 [DBG] An entity of type 'Event' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:56:54.867 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-25 19:56:54.868 +02:00 [INF] Event First Aid & CPR Training Session added successfully with ID 5
2025-11-25 19:56:54.869 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 19:56:54.870 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 19:56:54.871 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 19:56:54.871 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 19:56:54.872 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 19:56:54.872 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Hospital.Application.DTO.Event.EventDto'.
2025-11-25 19:56:54.874 +02:00 [DBG] Found the endpoints ["Hospital.Controllers.EventController.GetEvent (Hospital)"] for address (id=[5],action=[GetEvent],controller=[Event])
2025-11-25 19:56:54.875 +02:00 [DBG] Successfully processed template api/Event/GetEvent for Hospital.Controllers.EventController.GetEvent (Hospital) resulting in /api/Event/GetEvent and ?id=5
2025-11-25 19:56:54.876 +02:00 [DBG] Link generation succeeded for endpoints ["Hospital.Controllers.EventController.GetEvent (Hospital)"] with result /api/Event/GetEvent?id=5
2025-11-25 19:56:54.877 +02:00 [INF] Executed action Hospital.Controllers.EventController.CreateEvent (Hospital) in 57.4396ms
2025-11-25 19:56:54.878 +02:00 [INF] Executed endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)'
2025-11-25 19:56:54.878 +02:00 [DBG] Connection id "0HNHC90B60O2E" completed keep alive response.
2025-11-25 19:56:54.879 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:56:54.880 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:56:54.880 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 19:56:54.881 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/Event/CreateEvent - 201 null application/json; charset=utf-8 74.5471ms
2025-11-25 19:57:00.922 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/Event/CreateEvent - application/json 437
2025-11-25 19:57:00.925 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Event/CreateEvent'
2025-11-25 19:57:00.926 +02:00 [DBG] Endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)' with route pattern 'api/Event/CreateEvent' is valid for the request path '/api/Event/CreateEvent'
2025-11-25 19:57:00.927 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)'
2025-11-25 19:57:00.927 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:57:00.928 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:57:00.929 +02:00 [INF] Executing endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)'
2025-11-25 19:57:00.929 +02:00 [INF] Route matched with {action = "CreateEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEvent(Hospital.Application.DTO.Event.AddEventDto) on controller Hospital.Controllers.EventController (Hospital).
2025-11-25 19:57:00.930 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:57:00.932 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:57:00.933 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:57:00.934 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:57:00.935 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:57:00.936 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 19:57:00.937 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 19:57:00.938 +02:00 [DBG] Attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto' ...
2025-11-25 19:57:00.939 +02:00 [DBG] Attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto' using the name '' in request data ...
2025-11-25 19:57:00.939 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 19:57:00.940 +02:00 [DBG] Connection id "0HNHC90B60O2E", Request id "0HNHC90B60O2E:00000005": started reading request body.
2025-11-25 19:57:00.941 +02:00 [DBG] Connection id "0HNHC90B60O2E", Request id "0HNHC90B60O2E:00000005": done reading request body.
2025-11-25 19:57:00.942 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.Event.AddEventDto'
2025-11-25 19:57:00.943 +02:00 [DBG] Done attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto'.
2025-11-25 19:57:00.944 +02:00 [DBG] Done attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto'.
2025-11-25 19:57:00.944 +02:00 [DBG] Attempting to validate the bound parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto' ...
2025-11-25 19:57:00.945 +02:00 [DBG] Done attempting to validate the bound parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto'.
2025-11-25 19:57:00.946 +02:00 [INF] create event  called at "2025-11-25T19:57:00.9469060+02:00"
2025-11-25 19:57:00.947 +02:00 [INF] Adding new event: First Aid & CPR Training Session for Branch ID: 2
2025-11-25 19:57:00.948 +02:00 [INF] Fetching branch by ID: 2
2025-11-25 19:57:00.949 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:57:00.950 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:57:00.951 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 19:57:00.951 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:00.952 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:00.953 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:57:00.953 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:57:00.954 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:57:00.955 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 19:57:00.957 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 19:57:00.958 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:57:00.959 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:00.960 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 19:57:00.961 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:00.961 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:57:00.962 +02:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Event.EventId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:57:00.963 +02:00 [DBG] The navigation 'Event.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:57:00.964 +02:00 [DBG] Context 'AppDbContext' started tracking 'Event' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:57:00.965 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 19:57:00.966 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 19:57:00.966 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 19:57:00.967 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 19:57:00.968 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 19:57:00.969 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:00.970 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:00.970 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:57:00.971 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:57:00.972 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:57:00.973 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Events] ([BranchId], [CreatedAt], [Description], [EventDate], [ImageURL], [Title], [UpdatedAt])
OUTPUT INSERTED.[EventId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-25 19:57:00.975 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Events] ([BranchId], [CreatedAt], [Description], [EventDate], [ImageURL], [Title], [UpdatedAt])
OUTPUT INSERTED.[EventId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-25 19:57:00.976 +02:00 [DBG] The foreign key property 'Event.EventId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-25 19:57:00.977 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:00.978 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 19:57:00.979 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:00.980 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:57:00.981 +02:00 [DBG] An entity of type 'Event' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:57:00.982 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-25 19:57:00.982 +02:00 [INF] Event First Aid & CPR Training Session added successfully with ID 6
2025-11-25 19:57:00.983 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 19:57:00.985 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 19:57:00.985 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 19:57:00.986 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 19:57:00.986 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 19:57:00.987 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Hospital.Application.DTO.Event.EventDto'.
2025-11-25 19:57:00.988 +02:00 [DBG] Found the endpoints ["Hospital.Controllers.EventController.GetEvent (Hospital)"] for address (id=[6],action=[GetEvent],controller=[Event])
2025-11-25 19:57:00.989 +02:00 [DBG] Successfully processed template api/Event/GetEvent for Hospital.Controllers.EventController.GetEvent (Hospital) resulting in /api/Event/GetEvent and ?id=6
2025-11-25 19:57:00.990 +02:00 [DBG] Link generation succeeded for endpoints ["Hospital.Controllers.EventController.GetEvent (Hospital)"] with result /api/Event/GetEvent?id=6
2025-11-25 19:57:00.991 +02:00 [INF] Executed action Hospital.Controllers.EventController.CreateEvent (Hospital) in 54.8301ms
2025-11-25 19:57:00.992 +02:00 [INF] Executed endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)'
2025-11-25 19:57:00.992 +02:00 [DBG] Connection id "0HNHC90B60O2E" completed keep alive response.
2025-11-25 19:57:00.993 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:57:00.994 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:00.995 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 19:57:00.996 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/Event/CreateEvent - 201 null application/json; charset=utf-8 73.0856ms
2025-11-25 19:57:11.074 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/Event/CreateEvent - application/json 437
2025-11-25 19:57:11.076 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Event/CreateEvent'
2025-11-25 19:57:11.077 +02:00 [DBG] Endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)' with route pattern 'api/Event/CreateEvent' is valid for the request path '/api/Event/CreateEvent'
2025-11-25 19:57:11.078 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)'
2025-11-25 19:57:11.078 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:57:11.079 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:57:11.080 +02:00 [INF] Executing endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)'
2025-11-25 19:57:11.080 +02:00 [INF] Route matched with {action = "CreateEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEvent(Hospital.Application.DTO.Event.AddEventDto) on controller Hospital.Controllers.EventController (Hospital).
2025-11-25 19:57:11.082 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:57:11.083 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:57:11.083 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:57:11.085 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:57:11.086 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:57:11.087 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 19:57:11.087 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 19:57:11.088 +02:00 [DBG] Attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto' ...
2025-11-25 19:57:11.089 +02:00 [DBG] Attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto' using the name '' in request data ...
2025-11-25 19:57:11.090 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 19:57:11.091 +02:00 [DBG] Connection id "0HNHC90B60O2E", Request id "0HNHC90B60O2E:00000006": started reading request body.
2025-11-25 19:57:11.092 +02:00 [DBG] Connection id "0HNHC90B60O2E", Request id "0HNHC90B60O2E:00000006": done reading request body.
2025-11-25 19:57:11.093 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.Event.AddEventDto'
2025-11-25 19:57:11.093 +02:00 [DBG] Done attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto'.
2025-11-25 19:57:11.094 +02:00 [DBG] Done attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto'.
2025-11-25 19:57:11.095 +02:00 [DBG] Attempting to validate the bound parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto' ...
2025-11-25 19:57:11.096 +02:00 [DBG] Done attempting to validate the bound parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto'.
2025-11-25 19:57:11.096 +02:00 [INF] create event  called at "2025-11-25T19:57:11.0969849+02:00"
2025-11-25 19:57:11.097 +02:00 [INF] Adding new event: First Aid & CPR Training Session for Branch ID: 3
2025-11-25 19:57:11.098 +02:00 [INF] Fetching branch by ID: 3
2025-11-25 19:57:11.099 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:57:11.100 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:57:11.101 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 19:57:11.101 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:11.102 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:11.103 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:57:11.104 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:57:11.104 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:57:11.105 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 19:57:11.107 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 19:57:11.108 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:57:11.110 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:11.111 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-11-25 19:57:11.112 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:11.113 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:57:11.114 +02:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Event.EventId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:57:11.115 +02:00 [DBG] The navigation 'Event.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:57:11.115 +02:00 [DBG] Context 'AppDbContext' started tracking 'Event' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:57:11.116 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 19:57:11.117 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 19:57:11.118 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 19:57:11.118 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 19:57:11.119 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 19:57:11.120 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:11.121 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:11.122 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:57:11.122 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:57:11.123 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:57:11.124 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Events] ([BranchId], [CreatedAt], [Description], [EventDate], [ImageURL], [Title], [UpdatedAt])
OUTPUT INSERTED.[EventId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-25 19:57:11.126 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Events] ([BranchId], [CreatedAt], [Description], [EventDate], [ImageURL], [Title], [UpdatedAt])
OUTPUT INSERTED.[EventId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-25 19:57:11.127 +02:00 [DBG] The foreign key property 'Event.EventId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-25 19:57:11.128 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:11.129 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 19:57:11.130 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:11.131 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:57:11.132 +02:00 [DBG] An entity of type 'Event' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:57:11.133 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-25 19:57:11.134 +02:00 [INF] Event First Aid & CPR Training Session added successfully with ID 7
2025-11-25 19:57:11.134 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 19:57:11.136 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 19:57:11.136 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 19:57:11.137 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 19:57:11.137 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 19:57:11.138 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Hospital.Application.DTO.Event.EventDto'.
2025-11-25 19:57:11.139 +02:00 [DBG] Found the endpoints ["Hospital.Controllers.EventController.GetEvent (Hospital)"] for address (id=[7],action=[GetEvent],controller=[Event])
2025-11-25 19:57:11.140 +02:00 [DBG] Successfully processed template api/Event/GetEvent for Hospital.Controllers.EventController.GetEvent (Hospital) resulting in /api/Event/GetEvent and ?id=7
2025-11-25 19:57:11.141 +02:00 [DBG] Link generation succeeded for endpoints ["Hospital.Controllers.EventController.GetEvent (Hospital)"] with result /api/Event/GetEvent?id=7
2025-11-25 19:57:11.142 +02:00 [INF] Executed action Hospital.Controllers.EventController.CreateEvent (Hospital) in 55.4146ms
2025-11-25 19:57:11.143 +02:00 [INF] Executed endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)'
2025-11-25 19:57:11.143 +02:00 [DBG] Connection id "0HNHC90B60O2E" completed keep alive response.
2025-11-25 19:57:11.144 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:57:11.145 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:11.146 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 19:57:11.147 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/Event/CreateEvent - 201 null application/json; charset=utf-8 72.8186ms
2025-11-25 19:57:15.615 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7217/api/Event/CreateEvent - application/json 437
2025-11-25 19:57:15.617 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Event/CreateEvent'
2025-11-25 19:57:15.618 +02:00 [DBG] Endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)' with route pattern 'api/Event/CreateEvent' is valid for the request path '/api/Event/CreateEvent'
2025-11-25 19:57:15.619 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)'
2025-11-25 19:57:15.619 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:57:15.620 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:57:15.621 +02:00 [INF] Executing endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)'
2025-11-25 19:57:15.622 +02:00 [INF] Route matched with {action = "CreateEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEvent(Hospital.Application.DTO.Event.AddEventDto) on controller Hospital.Controllers.EventController (Hospital).
2025-11-25 19:57:15.623 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:57:15.624 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:57:15.625 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:57:15.627 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:57:15.628 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:57:15.629 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 19:57:15.630 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 19:57:15.631 +02:00 [DBG] Attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto' ...
2025-11-25 19:57:15.632 +02:00 [DBG] Attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto' using the name '' in request data ...
2025-11-25 19:57:15.633 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 19:57:15.634 +02:00 [DBG] Connection id "0HNHC90B60O2E", Request id "0HNHC90B60O2E:00000007": started reading request body.
2025-11-25 19:57:15.635 +02:00 [DBG] Connection id "0HNHC90B60O2E", Request id "0HNHC90B60O2E:00000007": done reading request body.
2025-11-25 19:57:15.636 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.Event.AddEventDto'
2025-11-25 19:57:15.637 +02:00 [DBG] Done attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto'.
2025-11-25 19:57:15.638 +02:00 [DBG] Done attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto'.
2025-11-25 19:57:15.639 +02:00 [DBG] Attempting to validate the bound parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto' ...
2025-11-25 19:57:15.640 +02:00 [DBG] Done attempting to validate the bound parameter 'eventDto' of type 'Hospital.Application.DTO.Event.AddEventDto'.
2025-11-25 19:57:15.641 +02:00 [INF] create event  called at "2025-11-25T19:57:15.6411030+02:00"
2025-11-25 19:57:15.641 +02:00 [INF] Adding new event: First Aid & CPR Training Session for Branch ID: 3
2025-11-25 19:57:15.642 +02:00 [INF] Fetching branch by ID: 3
2025-11-25 19:57:15.643 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:57:15.645 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:57:15.646 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 19:57:15.646 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:15.647 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:15.648 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:57:15.649 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:57:15.650 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:57:15.651 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 19:57:15.653 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 19:57:15.654 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:57:15.655 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:15.656 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-11-25 19:57:15.657 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:15.658 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:57:15.659 +02:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Event.EventId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:57:15.661 +02:00 [DBG] The navigation 'Event.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:57:15.662 +02:00 [DBG] Context 'AppDbContext' started tracking 'Event' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:57:15.663 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 19:57:15.664 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 19:57:15.664 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 19:57:15.665 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 19:57:15.666 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 19:57:15.667 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:15.668 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:15.669 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:57:15.669 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:57:15.670 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:57:15.671 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Events] ([BranchId], [CreatedAt], [Description], [EventDate], [ImageURL], [Title], [UpdatedAt])
OUTPUT INSERTED.[EventId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-25 19:57:15.674 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Events] ([BranchId], [CreatedAt], [Description], [EventDate], [ImageURL], [Title], [UpdatedAt])
OUTPUT INSERTED.[EventId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-25 19:57:15.675 +02:00 [DBG] The foreign key property 'Event.EventId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-25 19:57:15.676 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:15.677 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-11-25 19:57:15.678 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:15.679 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:57:15.681 +02:00 [DBG] An entity of type 'Event' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:57:15.682 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-25 19:57:15.683 +02:00 [INF] Event First Aid & CPR Training Session added successfully with ID 8
2025-11-25 19:57:15.684 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 19:57:15.685 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 19:57:15.686 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 19:57:15.686 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 19:57:15.687 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 19:57:15.688 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Hospital.Application.DTO.Event.EventDto'.
2025-11-25 19:57:15.689 +02:00 [DBG] Found the endpoints ["Hospital.Controllers.EventController.GetEvent (Hospital)"] for address (id=[8],action=[GetEvent],controller=[Event])
2025-11-25 19:57:15.690 +02:00 [DBG] Successfully processed template api/Event/GetEvent for Hospital.Controllers.EventController.GetEvent (Hospital) resulting in /api/Event/GetEvent and ?id=8
2025-11-25 19:57:15.691 +02:00 [DBG] Link generation succeeded for endpoints ["Hospital.Controllers.EventController.GetEvent (Hospital)"] with result /api/Event/GetEvent?id=8
2025-11-25 19:57:15.692 +02:00 [INF] Executed action Hospital.Controllers.EventController.CreateEvent (Hospital) in 62.8096ms
2025-11-25 19:57:15.692 +02:00 [INF] Executed endpoint 'Hospital.Controllers.EventController.CreateEvent (Hospital)'
2025-11-25 19:57:15.693 +02:00 [DBG] Connection id "0HNHC90B60O2E" completed keep alive response.
2025-11-25 19:57:15.694 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:57:15.694 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:15.695 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 19:57:15.696 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7217/api/Event/CreateEvent - 201 null application/json; charset=utf-8 81.1462ms
2025-11-25 19:57:20.115 +02:00 [DBG] Connection id "0HNHC90B60O2F" accepted.
2025-11-25 19:57:20.116 +02:00 [DBG] Connection id "0HNHC90B60O2F" started.
2025-11-25 19:57:20.118 +02:00 [DBG] Connection 0HNHC90B60O2F established using the following protocol: "Tls13"
2025-11-25 19:57:20.120 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Event/GetAllEventsInSystem - null null
2025-11-25 19:57:20.122 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Event/GetAllEventsInSystem'
2025-11-25 19:57:20.123 +02:00 [DBG] Endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)' with route pattern 'api/Event/GetAllEventsInSystem' is valid for the request path '/api/Event/GetAllEventsInSystem'
2025-11-25 19:57:20.124 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 19:57:20.125 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:57:20.126 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 19:57:20.126 +02:00 [INF] CORS policy execution successful.
2025-11-25 19:57:20.127 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:57:20.128 +02:00 [INF] Executing endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 19:57:20.129 +02:00 [INF] Route matched with {action = "GetAllEventsInSystem", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllEventsInSystem() on controller Hospital.Controllers.EventController (Hospital).
2025-11-25 19:57:20.131 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:57:20.132 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:57:20.133 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:57:20.134 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:57:20.135 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:57:20.137 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 19:57:20.138 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 19:57:20.139 +02:00 [INF] get all  event in system  called at "2025-11-25T19:57:20.1393989+02:00"
2025-11-25 19:57:20.140 +02:00 [INF] Fetching all events in the system
2025-11-25 19:57:20.141 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:57:20.143 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:57:20.143 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 19:57:20.144 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:20.145 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:20.147 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:57:20.147 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:57:20.148 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:57:20.149 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EventId], [e].[BranchId], [e].[CreatedAt], [e].[Description], [e].[EventDate], [e].[ImageURL], [e].[Title], [e].[UpdatedAt]
FROM [Events] AS [e]
2025-11-25 19:57:20.152 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EventId], [e].[BranchId], [e].[CreatedAt], [e].[Description], [e].[EventDate], [e].[ImageURL], [e].[Title], [e].[UpdatedAt]
FROM [Events] AS [e]
2025-11-25 19:57:20.154 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:20.155 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-25 19:57:20.156 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:20.157 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:57:20.158 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 19:57:20.159 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 19:57:20.160 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 19:57:20.160 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 19:57:20.161 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 19:57:20.162 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Event.EventDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 19:57:20.163 +02:00 [INF] Executed action Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital) in 26.184ms
2025-11-25 19:57:20.164 +02:00 [INF] Executed endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 19:57:20.164 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:57:20.165 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:20.166 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 19:57:20.167 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Event/GetAllEventsInSystem - 200 null application/json; charset=utf-8 47.6925ms
2025-11-25 19:57:39.648 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7217/api/Event/UpdateEvent - application/json 223
2025-11-25 19:57:39.650 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Event/UpdateEvent'
2025-11-25 19:57:39.650 +02:00 [DBG] Endpoint 'Hospital.Controllers.EventController.UpdateEvent (Hospital)' with route pattern 'api/Event/UpdateEvent' is valid for the request path '/api/Event/UpdateEvent'
2025-11-25 19:57:39.652 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.EventController.UpdateEvent (Hospital)'
2025-11-25 19:57:39.652 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:57:39.653 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:57:39.654 +02:00 [INF] Executing endpoint 'Hospital.Controllers.EventController.UpdateEvent (Hospital)'
2025-11-25 19:57:39.657 +02:00 [INF] Route matched with {action = "UpdateEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateEvent(Hospital.Application.DTO.Event.EventDto) on controller Hospital.Controllers.EventController (Hospital).
2025-11-25 19:57:39.658 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:57:39.659 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:57:39.660 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:57:39.661 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:57:39.662 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:57:39.663 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 19:57:39.664 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 19:57:39.665 +02:00 [DBG] Attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.EventDto' ...
2025-11-25 19:57:39.666 +02:00 [DBG] Attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.EventDto' using the name '' in request data ...
2025-11-25 19:57:39.667 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-25 19:57:39.668 +02:00 [DBG] Connection id "0HNHC90B60O2E", Request id "0HNHC90B60O2E:00000008": started reading request body.
2025-11-25 19:57:39.669 +02:00 [DBG] Connection id "0HNHC90B60O2E", Request id "0HNHC90B60O2E:00000008": done reading request body.
2025-11-25 19:57:39.671 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Hospital.Application.DTO.Event.EventDto'
2025-11-25 19:57:39.672 +02:00 [DBG] Done attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.EventDto'.
2025-11-25 19:57:39.673 +02:00 [DBG] Done attempting to bind parameter 'eventDto' of type 'Hospital.Application.DTO.Event.EventDto'.
2025-11-25 19:57:39.674 +02:00 [DBG] Attempting to validate the bound parameter 'eventDto' of type 'Hospital.Application.DTO.Event.EventDto' ...
2025-11-25 19:57:39.676 +02:00 [DBG] Done attempting to validate the bound parameter 'eventDto' of type 'Hospital.Application.DTO.Event.EventDto'.
2025-11-25 19:57:39.677 +02:00 [INF] update event  called at "2025-11-25T19:57:39.6775184+02:00"
2025-11-25 19:57:39.678 +02:00 [INF] Updating event ID 1 for Branch ID 2
2025-11-25 19:57:39.679 +02:00 [INF] Fetching branch by ID: 2
2025-11-25 19:57:39.680 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:57:39.682 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:57:39.682 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 19:57:39.683 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:39.684 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:39.685 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:57:39.686 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:57:39.686 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:57:39.687 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 19:57:39.699 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 19:57:39.700 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:57:39.701 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:39.702 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 19:57:39.703 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:39.704 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 19:57:39.707 +02:00 [DBG] The navigation 'Event.Branch' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:57:39.708 +02:00 [DBG] Context 'AppDbContext' started tracking 'Event' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:57:39.708 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 19:57:39.709 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 19:57:39.710 +02:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-11-25 19:57:39.711 +02:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-11-25 19:57:39.711 +02:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-11-25 19:57:39.714 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:39.715 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:39.716 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:57:39.717 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:57:39.718 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:57:39.719 +02:00 [DBG] Executing DbCommand [Parameters=[@p7='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Events] SET [BranchId] = @p0, [CreatedAt] = @p1, [Description] = @p2, [EventDate] = @p3, [ImageURL] = @p4, [Title] = @p5, [UpdatedAt] = @p6
OUTPUT 1
WHERE [EventId] = @p7;
2025-11-25 19:57:39.730 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 300), @p5='?' (Size = 150), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Events] SET [BranchId] = @p0, [CreatedAt] = @p1, [Description] = @p2, [EventDate] = @p3, [ImageURL] = @p4, [Title] = @p5, [UpdatedAt] = @p6
OUTPUT 1
WHERE [EventId] = @p7;
2025-11-25 19:57:39.733 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:39.734 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-11-25 19:57:39.735 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:39.736 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 19:57:39.737 +02:00 [DBG] An entity of type 'Event' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 19:57:39.738 +02:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-11-25 19:57:39.739 +02:00 [INF] Event ID 1 updated successfully
2025-11-25 19:57:39.740 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 19:57:39.741 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 19:57:39.742 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 19:57:39.742 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 19:57:39.743 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-11-25 19:57:39.744 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-11-25 19:57:39.745 +02:00 [INF] Executed action Hospital.Controllers.EventController.UpdateEvent (Hospital) in 81.6762ms
2025-11-25 19:57:39.746 +02:00 [INF] Executed endpoint 'Hospital.Controllers.EventController.UpdateEvent (Hospital)'
2025-11-25 19:57:39.747 +02:00 [DBG] Connection id "0HNHC90B60O2E" completed keep alive response.
2025-11-25 19:57:39.748 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:57:39.748 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:39.749 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 19:57:39.750 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7217/api/Event/UpdateEvent - 200 null text/plain; charset=utf-8 102.5522ms
2025-11-25 19:57:42.665 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Event/GetAllEventsInSystem - null null
2025-11-25 19:57:42.668 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Event/GetAllEventsInSystem'
2025-11-25 19:57:42.669 +02:00 [DBG] Endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)' with route pattern 'api/Event/GetAllEventsInSystem' is valid for the request path '/api/Event/GetAllEventsInSystem'
2025-11-25 19:57:42.670 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 19:57:42.671 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 19:57:42.671 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 19:57:42.672 +02:00 [INF] CORS policy execution successful.
2025-11-25 19:57:42.673 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 19:57:42.675 +02:00 [INF] Executing endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 19:57:42.676 +02:00 [INF] Route matched with {action = "GetAllEventsInSystem", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllEventsInSystem() on controller Hospital.Controllers.EventController (Hospital).
2025-11-25 19:57:42.678 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 19:57:42.679 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 19:57:42.680 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 19:57:42.682 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 19:57:42.683 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 19:57:42.684 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 19:57:42.685 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 19:57:42.686 +02:00 [INF] get all  event in system  called at "2025-11-25T19:57:42.6866437+02:00"
2025-11-25 19:57:42.687 +02:00 [INF] Fetching all events in the system
2025-11-25 19:57:42.688 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 19:57:42.690 +02:00 [DBG] Creating DbConnection.
2025-11-25 19:57:42.690 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 19:57:42.691 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:42.693 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:42.694 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 19:57:42.694 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 19:57:42.695 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 19:57:42.696 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EventId], [e].[BranchId], [e].[CreatedAt], [e].[Description], [e].[EventDate], [e].[ImageURL], [e].[Title], [e].[UpdatedAt]
FROM [Events] AS [e]
2025-11-25 19:57:42.699 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EventId], [e].[BranchId], [e].[CreatedAt], [e].[Description], [e].[EventDate], [e].[ImageURL], [e].[Title], [e].[UpdatedAt]
FROM [Events] AS [e]
2025-11-25 19:57:42.701 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:42.702 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 19:57:42.703 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:42.704 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 19:57:42.706 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 19:57:42.707 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 19:57:42.708 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 19:57:42.709 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 19:57:42.709 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 19:57:42.710 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Event.EventDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 19:57:42.711 +02:00 [INF] Executed action Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital) in 27.1197ms
2025-11-25 19:57:42.712 +02:00 [INF] Executed endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 19:57:42.713 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 19:57:42.713 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 19:57:42.714 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 19:57:42.715 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Event/GetAllEventsInSystem - 200 null application/json; charset=utf-8 49.8716ms
2025-11-25 19:59:50.642 +02:00 [DBG] Connection id "0HNHC90B60O2E" disconnecting.
2025-11-25 19:59:50.643 +02:00 [DBG] Connection id "0HNHC90B60O2E" stopped.
2025-11-25 19:59:50.644 +02:00 [DBG] Connection id "0HNHC90B60O2E" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 19:59:54.646 +02:00 [DBG] Connection id "0HNHC90B60O2F" is closing.
2025-11-25 19:59:54.666 +02:00 [DBG] Connection id "0HNHC90B60O2F" is closed. The last processed stream ID was 3.
2025-11-25 19:59:54.667 +02:00 [DBG] Connection id "0HNHC90B60O2F" received FIN.
2025-11-25 19:59:54.667 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O2F completed.
2025-11-25 19:59:54.668 +02:00 [DBG] Connection id "0HNHC90B60O2F" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 19:59:54.672 +02:00 [DBG] Connection id "0HNHC90B60O2F" stopped.
2025-11-25 20:02:52.287 +02:00 [DBG] Connection id "0HNHC90B60O2G" accepted.
2025-11-25 20:02:52.288 +02:00 [DBG] Connection id "0HNHC90B60O2G" started.
2025-11-25 20:02:52.292 +02:00 [DBG] Connection 0HNHC90B60O2G established using the following protocol: "Tls13"
2025-11-25 20:02:52.294 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Event/GetAllEventsInSystem - null null
2025-11-25 20:02:52.296 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Event/GetAllEventsInSystem'
2025-11-25 20:02:52.297 +02:00 [DBG] Endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)' with route pattern 'api/Event/GetAllEventsInSystem' is valid for the request path '/api/Event/GetAllEventsInSystem'
2025-11-25 20:02:52.298 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 20:02:52.299 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 20:02:52.300 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 20:02:52.301 +02:00 [INF] CORS policy execution successful.
2025-11-25 20:02:52.302 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 20:02:52.303 +02:00 [INF] Executing endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 20:02:52.303 +02:00 [INF] Route matched with {action = "GetAllEventsInSystem", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllEventsInSystem() on controller Hospital.Controllers.EventController (Hospital).
2025-11-25 20:02:52.305 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 20:02:52.306 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 20:02:52.307 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 20:02:52.308 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 20:02:52.310 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 20:02:52.311 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 20:02:52.312 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 20:02:52.313 +02:00 [INF] get all  event in system  called at "2025-11-25T20:02:52.3134547+02:00"
2025-11-25 20:02:52.314 +02:00 [INF] Fetching all events in the system
2025-11-25 20:02:52.315 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 20:02:52.317 +02:00 [DBG] Creating DbConnection.
2025-11-25 20:02:52.317 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 20:02:52.318 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:02:52.319 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:02:52.320 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 20:02:52.321 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 20:02:52.322 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 20:02:52.323 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EventId], [e].[BranchId], [e].[CreatedAt], [e].[Description], [e].[EventDate], [e].[ImageURL], [e].[Title], [e].[UpdatedAt]
FROM [Events] AS [e]
2025-11-25 20:02:52.330 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EventId], [e].[BranchId], [e].[CreatedAt], [e].[Description], [e].[EventDate], [e].[ImageURL], [e].[Title], [e].[UpdatedAt]
FROM [Events] AS [e]
2025-11-25 20:02:52.331 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:02:52.332 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-25 20:02:52.333 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:02:52.334 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 20:02:52.335 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 20:02:52.336 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 20:02:52.337 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 20:02:52.337 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 20:02:52.338 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 20:02:52.339 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Event.EventDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 20:02:52.340 +02:00 [INF] Executed action Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital) in 28.8538ms
2025-11-25 20:02:52.340 +02:00 [INF] Executed endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 20:02:52.341 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 20:02:52.342 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:02:52.342 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 20:02:52.343 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Event/GetAllEventsInSystem - 200 null application/json; charset=utf-8 49.8495ms
2025-11-25 20:02:58.231 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Event/GetAllEventsInSystem - null null
2025-11-25 20:02:58.234 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Event/GetAllEventsInSystem'
2025-11-25 20:02:58.235 +02:00 [DBG] Endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)' with route pattern 'api/Event/GetAllEventsInSystem' is valid for the request path '/api/Event/GetAllEventsInSystem'
2025-11-25 20:02:58.236 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 20:02:58.237 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 20:02:58.238 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 20:02:58.238 +02:00 [INF] CORS policy execution successful.
2025-11-25 20:02:58.239 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 20:02:58.240 +02:00 [INF] Executing endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 20:02:58.241 +02:00 [INF] Route matched with {action = "GetAllEventsInSystem", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllEventsInSystem() on controller Hospital.Controllers.EventController (Hospital).
2025-11-25 20:02:58.242 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 20:02:58.243 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 20:02:58.244 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 20:02:58.246 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 20:02:58.246 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 20:02:58.248 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 20:02:58.249 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 20:02:58.250 +02:00 [INF] get all  event in system  called at "2025-11-25T20:02:58.2500896+02:00"
2025-11-25 20:02:58.250 +02:00 [INF] Fetching all events in the system
2025-11-25 20:02:58.251 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 20:02:58.253 +02:00 [DBG] Creating DbConnection.
2025-11-25 20:02:58.253 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 20:02:58.254 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:02:58.255 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:02:58.256 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 20:02:58.257 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 20:02:58.258 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 20:02:58.259 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EventId], [e].[BranchId], [e].[CreatedAt], [e].[Description], [e].[EventDate], [e].[ImageURL], [e].[Title], [e].[UpdatedAt]
FROM [Events] AS [e]
2025-11-25 20:02:58.263 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EventId], [e].[BranchId], [e].[CreatedAt], [e].[Description], [e].[EventDate], [e].[ImageURL], [e].[Title], [e].[UpdatedAt]
FROM [Events] AS [e]
2025-11-25 20:02:58.264 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:02:58.265 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 20:02:58.267 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:02:58.268 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 20:02:58.269 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 20:02:58.271 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 20:02:58.271 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 20:02:58.272 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 20:02:58.272 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 20:02:58.273 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Event.EventDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 20:02:58.275 +02:00 [INF] Executed action Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital) in 27.3211ms
2025-11-25 20:02:58.276 +02:00 [INF] Executed endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 20:02:58.277 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 20:02:58.278 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:02:58.278 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 20:02:58.280 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Event/GetAllEventsInSystem - 200 null application/json; charset=utf-8 48.0937ms
2025-11-25 20:03:03.739 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - null null
2025-11-25 20:03:03.742 +02:00 [DBG] 1 candidate(s) found for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 20:03:03.743 +02:00 [DBG] Endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)' with route pattern 'api/News/GetAllNewsInSystem' is valid for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 20:03:03.744 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 20:03:03.744 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 20:03:03.745 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 20:03:03.746 +02:00 [INF] CORS policy execution successful.
2025-11-25 20:03:03.746 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 20:03:03.747 +02:00 [INF] Executing endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 20:03:03.748 +02:00 [INF] Route matched with {action = "GetAllNewsInSystem", controller = "News"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllNewsInSystem() on controller Hospital.Controllers.NewsController (Hospital).
2025-11-25 20:03:03.749 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 20:03:03.750 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 20:03:03.751 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 20:03:03.752 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 20:03:03.753 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 20:03:03.755 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 20:03:03.756 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 20:03:03.757 +02:00 [INF] get all News in system  called at "2025-11-25T20:03:03.7571394+02:00"
2025-11-25 20:03:03.757 +02:00 [INF] Retrieving all news in the system
2025-11-25 20:03:03.758 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 20:03:03.760 +02:00 [DBG] Creating DbConnection.
2025-11-25 20:03:03.760 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 20:03:03.761 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:03:03.762 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:03:03.763 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 20:03:03.764 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 20:03:03.765 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 20:03:03.766 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 20:03:03.770 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 20:03:03.772 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:03:03.773 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-25 20:03:03.774 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:03:03.774 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 20:03:03.776 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 20:03:03.777 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 20:03:03.778 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 20:03:03.778 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 20:03:03.779 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 20:03:03.780 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.News.NewsDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 20:03:03.781 +02:00 [INF] Executed action Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital) in 26.2691ms
2025-11-25 20:03:03.782 +02:00 [INF] Executed endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 20:03:03.783 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 20:03:03.784 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:03:03.785 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 20:03:03.786 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - 200 null application/json; charset=utf-8 46.0671ms
2025-11-25 20:03:16.012 +02:00 [DBG] Connection id "0HNHC90B60O2G" received FIN.
2025-11-25 20:03:16.014 +02:00 [DBG] Connection id "0HNHC90B60O2G" is closed. The last processed stream ID was 5.
2025-11-25 20:03:16.014 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O2G completed.
2025-11-25 20:03:16.015 +02:00 [DBG] Connection id "0HNHC90B60O2G" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 20:03:16.017 +02:00 [DBG] Connection id "0HNHC90B60O2G" stopped.
2025-11-25 20:05:04.286 +02:00 [DBG] Connection id "0HNHC90B60O2H" accepted.
2025-11-25 20:05:04.287 +02:00 [DBG] Connection id "0HNHC90B60O2H" started.
2025-11-25 20:05:04.290 +02:00 [DBG] Connection 0HNHC90B60O2H established using the following protocol: "Tls13"
2025-11-25 20:05:04.292 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - null null
2025-11-25 20:05:04.294 +02:00 [DBG] 1 candidate(s) found for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 20:05:04.295 +02:00 [DBG] Endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)' with route pattern 'api/News/GetAllNewsInSystem' is valid for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 20:05:04.296 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 20:05:04.297 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 20:05:04.298 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 20:05:04.298 +02:00 [INF] CORS policy execution successful.
2025-11-25 20:05:04.299 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 20:05:04.300 +02:00 [INF] Executing endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 20:05:04.301 +02:00 [INF] Route matched with {action = "GetAllNewsInSystem", controller = "News"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllNewsInSystem() on controller Hospital.Controllers.NewsController (Hospital).
2025-11-25 20:05:04.302 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 20:05:04.303 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 20:05:04.304 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 20:05:04.306 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 20:05:04.307 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 20:05:04.308 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 20:05:04.309 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 20:05:04.310 +02:00 [INF] get all News in system  called at "2025-11-25T20:05:04.3100741+02:00"
2025-11-25 20:05:04.310 +02:00 [INF] Retrieving all news in the system
2025-11-25 20:05:04.311 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 20:05:04.312 +02:00 [DBG] Creating DbConnection.
2025-11-25 20:05:04.313 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 20:05:04.314 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:05:04.315 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:05:04.316 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 20:05:04.316 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 20:05:04.317 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 20:05:04.318 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 20:05:04.325 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 20:05:04.326 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:05:04.327 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-25 20:05:04.328 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:05:04.329 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 20:05:04.330 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 20:05:04.332 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 20:05:04.332 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 20:05:04.333 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 20:05:04.333 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 20:05:04.334 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.News.NewsDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 20:05:04.335 +02:00 [INF] Executed action Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital) in 27.1576ms
2025-11-25 20:05:04.336 +02:00 [INF] Executed endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 20:05:04.336 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 20:05:04.337 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:05:04.338 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 20:05:04.338 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - 200 null application/json; charset=utf-8 46.636ms
2025-11-25 20:05:15.760 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Event/GetAllEventsInSystem - null null
2025-11-25 20:05:15.762 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Event/GetAllEventsInSystem'
2025-11-25 20:05:15.763 +02:00 [DBG] Endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)' with route pattern 'api/Event/GetAllEventsInSystem' is valid for the request path '/api/Event/GetAllEventsInSystem'
2025-11-25 20:05:15.763 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 20:05:15.764 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 20:05:15.765 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 20:05:15.766 +02:00 [INF] CORS policy execution successful.
2025-11-25 20:05:15.766 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 20:05:15.767 +02:00 [INF] Executing endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 20:05:15.768 +02:00 [INF] Route matched with {action = "GetAllEventsInSystem", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllEventsInSystem() on controller Hospital.Controllers.EventController (Hospital).
2025-11-25 20:05:15.769 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 20:05:15.770 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 20:05:15.771 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 20:05:15.772 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 20:05:15.773 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 20:05:15.774 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 20:05:15.776 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 20:05:15.777 +02:00 [INF] get all  event in system  called at "2025-11-25T20:05:15.7770042+02:00"
2025-11-25 20:05:15.777 +02:00 [INF] Fetching all events in the system
2025-11-25 20:05:15.778 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 20:05:15.780 +02:00 [DBG] Creating DbConnection.
2025-11-25 20:05:15.780 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 20:05:15.781 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:05:15.782 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:05:15.783 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 20:05:15.784 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 20:05:15.785 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 20:05:15.786 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EventId], [e].[BranchId], [e].[CreatedAt], [e].[Description], [e].[EventDate], [e].[ImageURL], [e].[Title], [e].[UpdatedAt]
FROM [Events] AS [e]
2025-11-25 20:05:15.789 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EventId], [e].[BranchId], [e].[CreatedAt], [e].[Description], [e].[EventDate], [e].[ImageURL], [e].[Title], [e].[UpdatedAt]
FROM [Events] AS [e]
2025-11-25 20:05:15.791 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:05:15.792 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-25 20:05:15.793 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:05:15.794 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 20:05:15.795 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 20:05:15.797 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 20:05:15.797 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 20:05:15.798 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 20:05:15.798 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 20:05:15.799 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Event.EventDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 20:05:15.800 +02:00 [INF] Executed action Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital) in 25.9301ms
2025-11-25 20:05:15.801 +02:00 [INF] Executed endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 20:05:15.802 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 20:05:15.803 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:05:15.804 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 20:05:15.805 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Event/GetAllEventsInSystem - 200 null application/json; charset=utf-8 45.7678ms
2025-11-25 20:05:16.034 +02:00 [DBG] Connection id "0HNHC90B60O2H" received FIN.
2025-11-25 20:05:16.035 +02:00 [DBG] Connection id "0HNHC90B60O2H" is closed. The last processed stream ID was 3.
2025-11-25 20:05:16.035 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O2H completed.
2025-11-25 20:05:16.036 +02:00 [DBG] Connection id "0HNHC90B60O2H" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 20:05:16.039 +02:00 [DBG] Connection id "0HNHC90B60O2H" stopped.
2025-11-25 20:53:35.229 +02:00 [DBG] Connection id "0HNHC90B60O2I" accepted.
2025-11-25 20:53:35.230 +02:00 [DBG] Connection id "0HNHC90B60O2I" started.
2025-11-25 20:53:35.235 +02:00 [DBG] Connection 0HNHC90B60O2I established using the following protocol: "Tls13"
2025-11-25 20:53:35.236 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Event/GetAllEventsInSystem - null null
2025-11-25 20:53:35.238 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Event/GetAllEventsInSystem'
2025-11-25 20:53:35.238 +02:00 [DBG] Endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)' with route pattern 'api/Event/GetAllEventsInSystem' is valid for the request path '/api/Event/GetAllEventsInSystem'
2025-11-25 20:53:35.239 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 20:53:35.240 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 20:53:35.240 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 20:53:35.241 +02:00 [INF] CORS policy execution successful.
2025-11-25 20:53:35.242 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 20:53:35.242 +02:00 [INF] Executing endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 20:53:35.243 +02:00 [INF] Route matched with {action = "GetAllEventsInSystem", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllEventsInSystem() on controller Hospital.Controllers.EventController (Hospital).
2025-11-25 20:53:35.244 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 20:53:35.245 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 20:53:35.246 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 20:53:35.247 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 20:53:35.248 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 20:53:35.250 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 20:53:35.251 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 20:53:35.252 +02:00 [INF] get all  event in system  called at "2025-11-25T20:53:35.2525990+02:00"
2025-11-25 20:53:35.253 +02:00 [INF] Fetching all events in the system
2025-11-25 20:53:35.254 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 20:53:35.255 +02:00 [DBG] Creating DbConnection.
2025-11-25 20:53:35.256 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 20:53:35.257 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:53:35.295 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:53:35.296 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 20:53:35.297 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 20:53:35.298 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 20:53:35.298 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EventId], [e].[BranchId], [e].[CreatedAt], [e].[Description], [e].[EventDate], [e].[ImageURL], [e].[Title], [e].[UpdatedAt]
FROM [Events] AS [e]
2025-11-25 20:53:35.306 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EventId], [e].[BranchId], [e].[CreatedAt], [e].[Description], [e].[EventDate], [e].[ImageURL], [e].[Title], [e].[UpdatedAt]
FROM [Events] AS [e]
2025-11-25 20:53:35.307 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:53:35.308 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-25 20:53:35.309 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:53:35.309 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 20:53:35.311 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 20:53:35.312 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 20:53:35.313 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 20:53:35.313 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 20:53:35.314 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 20:53:35.315 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Event.EventDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 20:53:35.315 +02:00 [INF] Executed action Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital) in 65.5219ms
2025-11-25 20:53:35.316 +02:00 [INF] Executed endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 20:53:35.317 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 20:53:35.318 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:53:35.318 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 20:53:35.320 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Event/GetAllEventsInSystem - 200 null application/json; charset=utf-8 83.4593ms
2025-11-25 20:53:36.551 +02:00 [DBG] Connection id "0HNHC90B60O2I" received FIN.
2025-11-25 20:53:36.552 +02:00 [DBG] Connection id "0HNHC90B60O2I" is closed. The last processed stream ID was 1.
2025-11-25 20:53:36.552 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O2I completed.
2025-11-25 20:53:36.553 +02:00 [DBG] Connection id "0HNHC90B60O2I" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 20:53:36.555 +02:00 [DBG] Connection id "0HNHC90B60O2I" stopped.
2025-11-25 20:58:30.823 +02:00 [DBG] Connection id "0HNHC90B60O2J" accepted.
2025-11-25 20:58:30.824 +02:00 [DBG] Connection id "0HNHC90B60O2J" started.
2025-11-25 20:58:30.828 +02:00 [DBG] Connection 0HNHC90B60O2J established using the following protocol: "Tls13"
2025-11-25 20:58:30.830 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Event/GetAllEventsInSystem - null null
2025-11-25 20:58:30.832 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Event/GetAllEventsInSystem'
2025-11-25 20:58:30.833 +02:00 [DBG] Endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)' with route pattern 'api/Event/GetAllEventsInSystem' is valid for the request path '/api/Event/GetAllEventsInSystem'
2025-11-25 20:58:30.834 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 20:58:30.835 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 20:58:30.836 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 20:58:30.837 +02:00 [INF] CORS policy execution successful.
2025-11-25 20:58:30.838 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 20:58:30.839 +02:00 [INF] Executing endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 20:58:30.839 +02:00 [INF] Route matched with {action = "GetAllEventsInSystem", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllEventsInSystem() on controller Hospital.Controllers.EventController (Hospital).
2025-11-25 20:58:30.841 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 20:58:30.843 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 20:58:30.844 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 20:58:30.846 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 20:58:30.847 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 20:58:30.848 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 20:58:30.849 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 20:58:30.850 +02:00 [INF] get all  event in system  called at "2025-11-25T20:58:30.8506440+02:00"
2025-11-25 20:58:30.851 +02:00 [INF] Fetching all events in the system
2025-11-25 20:58:30.852 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 20:58:30.854 +02:00 [DBG] Creating DbConnection.
2025-11-25 20:58:30.854 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 20:58:30.855 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:58:30.856 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:58:30.857 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 20:58:30.858 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 20:58:30.859 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 20:58:30.861 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EventId], [e].[BranchId], [e].[CreatedAt], [e].[Description], [e].[EventDate], [e].[ImageURL], [e].[Title], [e].[UpdatedAt]
FROM [Events] AS [e]
2025-11-25 20:58:30.870 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EventId], [e].[BranchId], [e].[CreatedAt], [e].[Description], [e].[EventDate], [e].[ImageURL], [e].[Title], [e].[UpdatedAt]
FROM [Events] AS [e]
2025-11-25 20:58:30.871 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:58:30.872 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 20:58:30.873 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:58:30.874 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 20:58:30.876 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 20:58:30.877 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 20:58:30.878 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 20:58:30.878 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 20:58:30.879 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 20:58:30.880 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Event.EventDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 20:58:30.881 +02:00 [INF] Executed action Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital) in 32.8586ms
2025-11-25 20:58:30.882 +02:00 [INF] Executed endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 20:58:30.883 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 20:58:30.883 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:58:30.884 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 20:58:30.885 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Event/GetAllEventsInSystem - 200 null application/json; charset=utf-8 55.5098ms
2025-11-25 20:58:31.588 +02:00 [DBG] Connection id "0HNHC90B60O2J" received FIN.
2025-11-25 20:58:31.589 +02:00 [DBG] Connection id "0HNHC90B60O2J" is closed. The last processed stream ID was 1.
2025-11-25 20:58:31.589 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O2J completed.
2025-11-25 20:58:31.590 +02:00 [DBG] Connection id "0HNHC90B60O2J" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 20:58:31.592 +02:00 [DBG] Connection id "0HNHC90B60O2J" stopped.
2025-11-25 20:58:52.347 +02:00 [DBG] Connection id "0HNHC90B60O2K" accepted.
2025-11-25 20:58:52.348 +02:00 [DBG] Connection id "0HNHC90B60O2K" started.
2025-11-25 20:58:52.351 +02:00 [DBG] Connection 0HNHC90B60O2K established using the following protocol: "Tls13"
2025-11-25 20:58:52.352 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Event/GetAllEventsInSystem - null null
2025-11-25 20:58:52.354 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Event/GetAllEventsInSystem'
2025-11-25 20:58:52.355 +02:00 [DBG] Endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)' with route pattern 'api/Event/GetAllEventsInSystem' is valid for the request path '/api/Event/GetAllEventsInSystem'
2025-11-25 20:58:52.356 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 20:58:52.357 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 20:58:52.358 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 20:58:52.359 +02:00 [INF] CORS policy execution successful.
2025-11-25 20:58:52.360 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 20:58:52.361 +02:00 [INF] Executing endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 20:58:52.362 +02:00 [INF] Route matched with {action = "GetAllEventsInSystem", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllEventsInSystem() on controller Hospital.Controllers.EventController (Hospital).
2025-11-25 20:58:52.363 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 20:58:52.364 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 20:58:52.365 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 20:58:52.367 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 20:58:52.368 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 20:58:52.369 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 20:58:52.370 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 20:58:52.371 +02:00 [INF] get all  event in system  called at "2025-11-25T20:58:52.3719566+02:00"
2025-11-25 20:58:52.372 +02:00 [INF] Fetching all events in the system
2025-11-25 20:58:52.373 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 20:58:52.375 +02:00 [DBG] Creating DbConnection.
2025-11-25 20:58:52.376 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 20:58:52.376 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:58:52.378 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:58:52.379 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 20:58:52.379 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 20:58:52.381 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 20:58:52.382 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EventId], [e].[BranchId], [e].[CreatedAt], [e].[Description], [e].[EventDate], [e].[ImageURL], [e].[Title], [e].[UpdatedAt]
FROM [Events] AS [e]
2025-11-25 20:58:52.392 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EventId], [e].[BranchId], [e].[CreatedAt], [e].[Description], [e].[EventDate], [e].[ImageURL], [e].[Title], [e].[UpdatedAt]
FROM [Events] AS [e]
2025-11-25 20:58:52.393 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:58:52.394 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 20:58:52.395 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:58:52.396 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 20:58:52.398 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 20:58:52.400 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 20:58:52.400 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 20:58:52.401 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 20:58:52.401 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 20:58:52.402 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Event.EventDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 20:58:52.404 +02:00 [INF] Executed action Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital) in 34.5803ms
2025-11-25 20:58:52.405 +02:00 [INF] Executed endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 20:58:52.405 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 20:58:52.406 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:58:52.407 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 20:58:52.408 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Event/GetAllEventsInSystem - 200 null application/json; charset=utf-8 56.3429ms
2025-11-25 20:58:55.747 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Event/GetAllEventsInSystem - null null
2025-11-25 20:58:55.750 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Event/GetAllEventsInSystem'
2025-11-25 20:58:55.751 +02:00 [DBG] Endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)' with route pattern 'api/Event/GetAllEventsInSystem' is valid for the request path '/api/Event/GetAllEventsInSystem'
2025-11-25 20:58:55.752 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 20:58:55.753 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 20:58:55.753 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 20:58:55.754 +02:00 [INF] CORS policy execution successful.
2025-11-25 20:58:55.755 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 20:58:55.756 +02:00 [INF] Executing endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 20:58:55.756 +02:00 [INF] Route matched with {action = "GetAllEventsInSystem", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllEventsInSystem() on controller Hospital.Controllers.EventController (Hospital).
2025-11-25 20:58:55.758 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 20:58:55.759 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 20:58:55.760 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 20:58:55.761 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 20:58:55.762 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 20:58:55.763 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 20:58:55.764 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 20:58:55.765 +02:00 [INF] get all  event in system  called at "2025-11-25T20:58:55.7655076+02:00"
2025-11-25 20:58:55.766 +02:00 [INF] Fetching all events in the system
2025-11-25 20:58:55.767 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 20:58:55.768 +02:00 [DBG] Creating DbConnection.
2025-11-25 20:58:55.769 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 20:58:55.770 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:58:55.771 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:58:55.772 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 20:58:55.773 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 20:58:55.774 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 20:58:55.775 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EventId], [e].[BranchId], [e].[CreatedAt], [e].[Description], [e].[EventDate], [e].[ImageURL], [e].[Title], [e].[UpdatedAt]
FROM [Events] AS [e]
2025-11-25 20:58:55.782 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EventId], [e].[BranchId], [e].[CreatedAt], [e].[Description], [e].[EventDate], [e].[ImageURL], [e].[Title], [e].[UpdatedAt]
FROM [Events] AS [e]
2025-11-25 20:58:55.784 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:58:55.785 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 20:58:55.786 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:58:55.787 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 20:58:55.788 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 20:58:55.790 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 20:58:55.790 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 20:58:55.791 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 20:58:55.791 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 20:58:55.792 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Event.EventDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 20:58:55.793 +02:00 [INF] Executed action Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital) in 30.284ms
2025-11-25 20:58:55.794 +02:00 [INF] Executed endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 20:58:55.795 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 20:58:55.796 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:58:55.796 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 20:58:55.797 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Event/GetAllEventsInSystem - 200 null application/json; charset=utf-8 49.7872ms
2025-11-25 20:59:01.592 +02:00 [DBG] Connection id "0HNHC90B60O2K" received FIN.
2025-11-25 20:59:01.593 +02:00 [DBG] Connection id "0HNHC90B60O2K" is closed. The last processed stream ID was 3.
2025-11-25 20:59:01.594 +02:00 [DBG] Connection id "0HNHC90B60O2K" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 20:59:01.593 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O2K completed.
2025-11-25 20:59:01.596 +02:00 [DBG] Connection id "0HNHC90B60O2K" stopped.
2025-11-25 20:59:13.153 +02:00 [DBG] Connection id "0HNHC90B60O2L" accepted.
2025-11-25 20:59:13.155 +02:00 [DBG] Connection id "0HNHC90B60O2L" started.
2025-11-25 20:59:13.158 +02:00 [DBG] Connection 0HNHC90B60O2L established using the following protocol: "Tls13"
2025-11-25 20:59:13.160 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetAll - null null
2025-11-25 20:59:13.162 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetAll'
2025-11-25 20:59:13.163 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)' with route pattern 'api/Branch/GetAll' is valid for the request path '/api/Branch/GetAll'
2025-11-25 20:59:13.165 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 20:59:13.166 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 20:59:13.166 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 20:59:13.167 +02:00 [INF] CORS policy execution successful.
2025-11-25 20:59:13.168 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 20:59:13.169 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 20:59:13.170 +02:00 [INF] Route matched with {action = "GetAll", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.BranchController (Hospital).
2025-11-25 20:59:13.172 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 20:59:13.173 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 20:59:13.175 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 20:59:13.177 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 20:59:13.178 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 20:59:13.179 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 20:59:13.181 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 20:59:13.182 +02:00 [INF] Get All Branch called at "2025-11-25T20:59:13.1820552+02:00"
2025-11-25 20:59:13.182 +02:00 [INF] Fetching all branches
2025-11-25 20:59:13.183 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 20:59:13.185 +02:00 [DBG] Creating DbConnection.
2025-11-25 20:59:13.185 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 20:59:13.186 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:59:13.187 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:59:13.188 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 20:59:13.189 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 20:59:13.190 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 20:59:13.191 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 20:59:13.200 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 20:59:13.202 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:59:13.203 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-25 20:59:13.203 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:59:13.204 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 20:59:13.205 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 20:59:13.207 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 20:59:13.207 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 20:59:13.208 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 20:59:13.208 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 20:59:13.209 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Branch.BranchDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 20:59:13.210 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetAll (Hospital) in 30.4676ms
2025-11-25 20:59:13.211 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 20:59:13.211 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 20:59:13.212 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:59:13.213 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 20:59:13.214 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetAll - 200 null application/json; charset=utf-8 54.2387ms
2025-11-25 20:59:16.595 +02:00 [DBG] Connection id "0HNHC90B60O2L" received FIN.
2025-11-25 20:59:16.596 +02:00 [DBG] Connection id "0HNHC90B60O2L" is closed. The last processed stream ID was 1.
2025-11-25 20:59:16.596 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O2L completed.
2025-11-25 20:59:16.597 +02:00 [DBG] Connection id "0HNHC90B60O2L" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 20:59:16.599 +02:00 [DBG] Connection id "0HNHC90B60O2L" stopped.
2025-11-25 20:59:30.523 +02:00 [DBG] Connection id "0HNHC90B60O2M" accepted.
2025-11-25 20:59:30.524 +02:00 [DBG] Connection id "0HNHC90B60O2M" started.
2025-11-25 20:59:30.527 +02:00 [DBG] Connection 0HNHC90B60O2M established using the following protocol: "Tls13"
2025-11-25 20:59:30.528 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetAll - null null
2025-11-25 20:59:30.530 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetAll'
2025-11-25 20:59:30.531 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)' with route pattern 'api/Branch/GetAll' is valid for the request path '/api/Branch/GetAll'
2025-11-25 20:59:30.532 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 20:59:30.533 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 20:59:30.533 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 20:59:30.534 +02:00 [INF] CORS policy execution successful.
2025-11-25 20:59:30.535 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 20:59:30.535 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 20:59:30.536 +02:00 [INF] Route matched with {action = "GetAll", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.BranchController (Hospital).
2025-11-25 20:59:30.538 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 20:59:30.539 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 20:59:30.540 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 20:59:30.541 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 20:59:30.542 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 20:59:30.543 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 20:59:30.544 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 20:59:30.545 +02:00 [INF] Get All Branch called at "2025-11-25T20:59:30.5457346+02:00"
2025-11-25 20:59:30.546 +02:00 [INF] Fetching all branches
2025-11-25 20:59:30.547 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 20:59:30.548 +02:00 [DBG] Creating DbConnection.
2025-11-25 20:59:30.549 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 20:59:30.549 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:59:30.550 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:59:30.551 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 20:59:30.552 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 20:59:30.553 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 20:59:30.554 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 20:59:30.562 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 20:59:30.563 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:59:30.564 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 20:59:30.566 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:59:30.567 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 20:59:30.568 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 20:59:30.570 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 20:59:30.570 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 20:59:30.571 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 20:59:30.571 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 20:59:30.573 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Branch.BranchDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 20:59:30.574 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetAll (Hospital) in 30.5175ms
2025-11-25 20:59:30.575 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 20:59:30.576 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 20:59:30.576 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 20:59:30.577 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 20:59:30.579 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetAll - 200 null application/json; charset=utf-8 50.6517ms
2025-11-25 20:59:36.597 +02:00 [DBG] Connection id "0HNHC90B60O2M" received FIN.
2025-11-25 20:59:36.597 +02:00 [DBG] Connection id "0HNHC90B60O2M" is closed. The last processed stream ID was 1.
2025-11-25 20:59:36.597 +02:00 [DBG] Connection id "0HNHC90B60O2M" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 20:59:36.599 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O2M completed.
2025-11-25 20:59:36.601 +02:00 [DBG] Connection id "0HNHC90B60O2M" stopped.
2025-11-25 21:07:30.360 +02:00 [DBG] Connection id "0HNHC90B60O2N" accepted.
2025-11-25 21:07:30.361 +02:00 [DBG] Connection id "0HNHC90B60O2N" started.
2025-11-25 21:07:30.365 +02:00 [DBG] Connection 0HNHC90B60O2N established using the following protocol: "Tls13"
2025-11-25 21:07:30.366 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetAll - null null
2025-11-25 21:07:30.368 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetAll'
2025-11-25 21:07:30.369 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)' with route pattern 'api/Branch/GetAll' is valid for the request path '/api/Branch/GetAll'
2025-11-25 21:07:30.370 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 21:07:30.371 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 21:07:30.372 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 21:07:30.373 +02:00 [INF] CORS policy execution successful.
2025-11-25 21:07:30.374 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 21:07:30.375 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 21:07:30.377 +02:00 [INF] Route matched with {action = "GetAll", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.BranchController (Hospital).
2025-11-25 21:07:30.378 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 21:07:30.380 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 21:07:30.381 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 21:07:30.382 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 21:07:30.384 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 21:07:30.385 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 21:07:30.386 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 21:07:30.387 +02:00 [INF] Get All Branch called at "2025-11-25T21:07:30.3878131+02:00"
2025-11-25 21:07:30.388 +02:00 [INF] Fetching all branches
2025-11-25 21:07:30.389 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 21:07:30.391 +02:00 [DBG] Creating DbConnection.
2025-11-25 21:07:30.392 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 21:07:30.393 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:07:30.435 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:07:30.436 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 21:07:30.437 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 21:07:30.438 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 21:07:30.439 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 21:07:30.447 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 21:07:30.449 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:07:30.450 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-25 21:07:30.452 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:07:30.453 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 21:07:30.454 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 21:07:30.456 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 21:07:30.456 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 21:07:30.457 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 21:07:30.458 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 21:07:30.459 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Branch.BranchDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 21:07:30.460 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetAll (Hospital) in 74.8567ms
2025-11-25 21:07:30.461 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 21:07:30.462 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 21:07:30.463 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:07:30.464 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 21:07:30.465 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetAll - 200 null application/json; charset=utf-8 98.5784ms
2025-11-25 21:07:31.678 +02:00 [DBG] Connection id "0HNHC90B60O2N" received FIN.
2025-11-25 21:07:31.679 +02:00 [DBG] Connection id "0HNHC90B60O2N" is closed. The last processed stream ID was 1.
2025-11-25 21:07:31.679 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O2N completed.
2025-11-25 21:07:31.680 +02:00 [DBG] Connection id "0HNHC90B60O2N" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 21:07:31.682 +02:00 [DBG] Connection id "0HNHC90B60O2N" stopped.
2025-11-25 21:07:43.783 +02:00 [DBG] Connection id "0HNHC90B60O2O" accepted.
2025-11-25 21:07:43.784 +02:00 [DBG] Connection id "0HNHC90B60O2O" started.
2025-11-25 21:07:43.786 +02:00 [DBG] Connection 0HNHC90B60O2O established using the following protocol: "Tls13"
2025-11-25 21:07:43.787 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetBy/1 - null null
2025-11-25 21:07:43.789 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetBy/1'
2025-11-25 21:07:43.790 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetById (Hospital)' with route pattern 'api/Branch/GetBy/{id}' is valid for the request path '/api/Branch/GetBy/1'
2025-11-25 21:07:43.791 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetById (Hospital)'
2025-11-25 21:07:43.792 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 21:07:43.792 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 21:07:43.793 +02:00 [INF] CORS policy execution successful.
2025-11-25 21:07:43.794 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 21:07:43.794 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetById (Hospital)'
2025-11-25 21:07:43.799 +02:00 [INF] Route matched with {action = "GetById", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Hospital.Controllers.BranchController (Hospital).
2025-11-25 21:07:43.801 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 21:07:43.801 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 21:07:43.802 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 21:07:43.803 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 21:07:43.804 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 21:07:43.805 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 21:07:43.807 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 21:07:43.808 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-11-25 21:07:43.809 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-11-25 21:07:43.810 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-11-25 21:07:43.811 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-11-25 21:07:43.812 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-11-25 21:07:43.813 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-11-25 21:07:43.815 +02:00 [INF] Get Branch By Id called at "2025-11-25T21:07:43.8153069+02:00"
2025-11-25 21:07:43.815 +02:00 [INF] Fetching branch by ID: 1
2025-11-25 21:07:43.816 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 21:07:43.818 +02:00 [DBG] Creating DbConnection.
2025-11-25 21:07:43.818 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 21:07:43.819 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:07:43.820 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:07:43.821 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 21:07:43.821 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 21:07:43.822 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 21:07:43.823 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 21:07:43.826 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 21:07:43.828 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 21:07:43.828 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:07:43.829 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 21:07:43.830 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:07:43.831 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 21:07:43.832 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 21:07:43.833 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 21:07:43.834 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 21:07:43.834 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 21:07:43.835 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 21:07:43.836 +02:00 [INF] Executing OkObjectResult, writing value of type 'Hospital.Application.DTO.Branch.BranchDto'.
2025-11-25 21:07:43.836 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetById (Hospital) in 31.3392ms
2025-11-25 21:07:43.838 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetById (Hospital)'
2025-11-25 21:07:43.838 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 21:07:43.839 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:07:43.840 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 21:07:43.841 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetBy/1 - 200 null application/json; charset=utf-8 53.2155ms
2025-11-25 21:07:51.681 +02:00 [DBG] Connection id "0HNHC90B60O2O" received FIN.
2025-11-25 21:07:51.683 +02:00 [DBG] Connection id "0HNHC90B60O2O" is closed. The last processed stream ID was 1.
2025-11-25 21:07:51.683 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O2O completed.
2025-11-25 21:07:51.684 +02:00 [DBG] Connection id "0HNHC90B60O2O" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 21:07:51.686 +02:00 [DBG] Connection id "0HNHC90B60O2O" stopped.
2025-11-25 21:08:04.890 +02:00 [DBG] Connection id "0HNHC90B60O2P" accepted.
2025-11-25 21:08:04.891 +02:00 [DBG] Connection id "0HNHC90B60O2P" started.
2025-11-25 21:08:04.895 +02:00 [DBG] Connection 0HNHC90B60O2P established using the following protocol: "Tls13"
2025-11-25 21:08:04.897 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetAll - null null
2025-11-25 21:08:04.898 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetAll'
2025-11-25 21:08:04.899 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)' with route pattern 'api/Branch/GetAll' is valid for the request path '/api/Branch/GetAll'
2025-11-25 21:08:04.901 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 21:08:04.901 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 21:08:04.902 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 21:08:04.903 +02:00 [INF] CORS policy execution successful.
2025-11-25 21:08:04.904 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 21:08:04.904 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 21:08:04.905 +02:00 [INF] Route matched with {action = "GetAll", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.BranchController (Hospital).
2025-11-25 21:08:04.906 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 21:08:04.907 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 21:08:04.909 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 21:08:04.910 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 21:08:04.911 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 21:08:04.912 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 21:08:04.913 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 21:08:04.914 +02:00 [INF] Get All Branch called at "2025-11-25T21:08:04.9143829+02:00"
2025-11-25 21:08:04.915 +02:00 [INF] Fetching all branches
2025-11-25 21:08:04.916 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 21:08:04.917 +02:00 [DBG] Creating DbConnection.
2025-11-25 21:08:04.918 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 21:08:04.918 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:08:04.919 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:08:04.920 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 21:08:04.921 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-25 21:08:04.922 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 21:08:04.923 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 21:08:04.926 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 21:08:04.927 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:08:04.928 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 21:08:04.929 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:08:04.930 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 21:08:04.931 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 21:08:04.932 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 21:08:04.933 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 21:08:04.933 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 21:08:04.934 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 21:08:04.935 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Branch.BranchDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 21:08:04.936 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetAll (Hospital) in 24.0433ms
2025-11-25 21:08:04.937 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 21:08:04.937 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 21:08:04.938 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:08:04.939 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 21:08:04.940 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetAll - 200 null application/json; charset=utf-8 42.8537ms
2025-11-25 21:08:09.340 +02:00 [DBG] Connection id "0HNHC90B60O2P" received FIN.
2025-11-25 21:08:09.341 +02:00 [DBG] Connection id "0HNHC90B60O2P" is closed. The last processed stream ID was 1.
2025-11-25 21:08:09.341 +02:00 [DBG] Connection id "0HNHC90B60O2P" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 21:08:09.343 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O2P completed.
2025-11-25 21:08:09.344 +02:00 [DBG] Connection id "0HNHC90B60O2P" stopped.
2025-11-25 21:09:16.280 +02:00 [DBG] Connection id "0HNHC90B60O2Q" accepted.
2025-11-25 21:09:16.281 +02:00 [DBG] Connection id "0HNHC90B60O2Q" started.
2025-11-25 21:09:16.285 +02:00 [DBG] Connection 0HNHC90B60O2Q established using the following protocol: "Tls13"
2025-11-25 21:09:16.286 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetBy/1 - null null
2025-11-25 21:09:16.288 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetBy/1'
2025-11-25 21:09:16.289 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetById (Hospital)' with route pattern 'api/Branch/GetBy/{id}' is valid for the request path '/api/Branch/GetBy/1'
2025-11-25 21:09:16.290 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetById (Hospital)'
2025-11-25 21:09:16.291 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 21:09:16.292 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 21:09:16.292 +02:00 [INF] CORS policy execution successful.
2025-11-25 21:09:16.293 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 21:09:16.294 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetById (Hospital)'
2025-11-25 21:09:16.294 +02:00 [INF] Route matched with {action = "GetById", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Hospital.Controllers.BranchController (Hospital).
2025-11-25 21:09:16.295 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 21:09:16.296 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 21:09:16.297 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 21:09:16.298 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 21:09:16.299 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 21:09:16.300 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 21:09:16.301 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 21:09:16.302 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-11-25 21:09:16.303 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-11-25 21:09:16.304 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-11-25 21:09:16.305 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-11-25 21:09:16.306 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-11-25 21:09:16.307 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-11-25 21:09:16.307 +02:00 [INF] Get Branch By Id called at "2025-11-25T21:09:16.3079266+02:00"
2025-11-25 21:09:16.308 +02:00 [INF] Fetching branch by ID: 1
2025-11-25 21:09:16.309 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 21:09:16.310 +02:00 [DBG] Creating DbConnection.
2025-11-25 21:09:16.311 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 21:09:16.312 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:09:16.313 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:09:16.314 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 21:09:16.314 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 21:09:16.315 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 21:09:16.316 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 21:09:16.323 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 21:09:16.324 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 21:09:16.325 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:09:16.326 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 21:09:16.327 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:09:16.328 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 21:09:16.329 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 21:09:16.330 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 21:09:16.331 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 21:09:16.331 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 21:09:16.331 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 21:09:16.332 +02:00 [INF] Executing OkObjectResult, writing value of type 'Hospital.Application.DTO.Branch.BranchDto'.
2025-11-25 21:09:16.333 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetById (Hospital) in 32.9175ms
2025-11-25 21:09:16.334 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetById (Hospital)'
2025-11-25 21:09:16.335 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 21:09:16.336 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:09:16.336 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 21:09:16.337 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetBy/1 - 200 null application/json; charset=utf-8 50.8898ms
2025-11-25 21:09:21.699 +02:00 [DBG] Connection id "0HNHC90B60O2Q" received FIN.
2025-11-25 21:09:21.700 +02:00 [DBG] Connection id "0HNHC90B60O2Q" is closed. The last processed stream ID was 1.
2025-11-25 21:09:21.701 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O2Q completed.
2025-11-25 21:09:21.701 +02:00 [DBG] Connection id "0HNHC90B60O2Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 21:09:21.704 +02:00 [DBG] Connection id "0HNHC90B60O2Q" stopped.
2025-11-25 21:09:21.760 +02:00 [DBG] Connection id "0HNHC90B60O2R" accepted.
2025-11-25 21:09:21.761 +02:00 [DBG] Connection id "0HNHC90B60O2R" started.
2025-11-25 21:09:21.764 +02:00 [DBG] Connection 0HNHC90B60O2R established using the following protocol: "Tls13"
2025-11-25 21:09:21.766 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetAll - null null
2025-11-25 21:09:21.767 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetAll'
2025-11-25 21:09:21.768 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)' with route pattern 'api/Branch/GetAll' is valid for the request path '/api/Branch/GetAll'
2025-11-25 21:09:21.769 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 21:09:21.770 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 21:09:21.771 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 21:09:21.771 +02:00 [INF] CORS policy execution successful.
2025-11-25 21:09:21.772 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 21:09:21.773 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 21:09:21.774 +02:00 [INF] Route matched with {action = "GetAll", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.BranchController (Hospital).
2025-11-25 21:09:21.775 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 21:09:21.776 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 21:09:21.777 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 21:09:21.778 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 21:09:21.779 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 21:09:21.780 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 21:09:21.781 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 21:09:21.782 +02:00 [INF] Get All Branch called at "2025-11-25T21:09:21.7820204+02:00"
2025-11-25 21:09:21.782 +02:00 [INF] Fetching all branches
2025-11-25 21:09:21.783 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 21:09:21.784 +02:00 [DBG] Creating DbConnection.
2025-11-25 21:09:21.785 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 21:09:21.786 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:09:21.787 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:09:21.787 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 21:09:21.788 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 21:09:21.789 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 21:09:21.789 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 21:09:21.801 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 21:09:21.803 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:09:21.804 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-25 21:09:21.805 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:09:21.806 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 21:09:21.807 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 21:09:21.808 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 21:09:21.808 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 21:09:21.809 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 21:09:21.809 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 21:09:21.810 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Branch.BranchDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 21:09:21.811 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetAll (Hospital) in 31.4875ms
2025-11-25 21:09:21.812 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 21:09:21.813 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 21:09:21.814 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:09:21.815 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 21:09:21.816 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetAll - 200 null application/json; charset=utf-8 49.9411ms
2025-11-25 21:09:31.700 +02:00 [DBG] Connection id "0HNHC90B60O2R" received FIN.
2025-11-25 21:09:31.702 +02:00 [DBG] Connection id "0HNHC90B60O2R" is closed. The last processed stream ID was 1.
2025-11-25 21:09:31.702 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O2R completed.
2025-11-25 21:09:31.703 +02:00 [DBG] Connection id "0HNHC90B60O2R" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 21:09:31.707 +02:00 [DBG] Connection id "0HNHC90B60O2R" stopped.
2025-11-25 21:10:14.485 +02:00 [DBG] Connection id "0HNHC90B60O2S" accepted.
2025-11-25 21:10:14.487 +02:00 [DBG] Connection id "0HNHC90B60O2S" started.
2025-11-25 21:10:14.496 +02:00 [DBG] Connection 0HNHC90B60O2S established using the following protocol: "Tls13"
2025-11-25 21:10:14.498 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetAll - null null
2025-11-25 21:10:14.500 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetAll'
2025-11-25 21:10:14.501 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)' with route pattern 'api/Branch/GetAll' is valid for the request path '/api/Branch/GetAll'
2025-11-25 21:10:14.502 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 21:10:14.503 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 21:10:14.504 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 21:10:14.504 +02:00 [INF] CORS policy execution successful.
2025-11-25 21:10:14.505 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 21:10:14.506 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 21:10:14.507 +02:00 [INF] Route matched with {action = "GetAll", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.BranchController (Hospital).
2025-11-25 21:10:14.508 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 21:10:14.510 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 21:10:14.511 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 21:10:14.512 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 21:10:14.513 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 21:10:14.515 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 21:10:14.516 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 21:10:14.517 +02:00 [INF] Get All Branch called at "2025-11-25T21:10:14.5173577+02:00"
2025-11-25 21:10:14.518 +02:00 [INF] Fetching all branches
2025-11-25 21:10:14.519 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 21:10:14.522 +02:00 [DBG] Creating DbConnection.
2025-11-25 21:10:14.523 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 21:10:14.524 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:10:14.525 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:10:14.526 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 21:10:14.527 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 21:10:14.528 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 21:10:14.530 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 21:10:14.538 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 21:10:14.539 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:10:14.541 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 21:10:14.542 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:10:14.543 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 21:10:14.544 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 21:10:14.546 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 21:10:14.547 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 21:10:14.547 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 21:10:14.548 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 21:10:14.549 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Branch.BranchDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 21:10:14.550 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetAll (Hospital) in 35.3383ms
2025-11-25 21:10:14.551 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 21:10:14.552 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 21:10:14.553 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:10:14.554 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 21:10:14.555 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetAll - 200 null application/json; charset=utf-8 57.1496ms
2025-11-25 21:10:21.713 +02:00 [DBG] Connection id "0HNHC90B60O2S" received FIN.
2025-11-25 21:10:21.714 +02:00 [DBG] Connection id "0HNHC90B60O2S" is closed. The last processed stream ID was 1.
2025-11-25 21:10:21.714 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O2S completed.
2025-11-25 21:10:21.715 +02:00 [DBG] Connection id "0HNHC90B60O2S" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 21:10:21.718 +02:00 [DBG] Connection id "0HNHC90B60O2S" stopped.
2025-11-25 21:14:34.740 +02:00 [DBG] Connection id "0HNHC90B60O2T" accepted.
2025-11-25 21:14:34.741 +02:00 [DBG] Connection id "0HNHC90B60O2T" started.
2025-11-25 21:14:34.745 +02:00 [DBG] Connection 0HNHC90B60O2T established using the following protocol: "Tls13"
2025-11-25 21:14:34.747 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetAll - null null
2025-11-25 21:14:34.749 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetAll'
2025-11-25 21:14:34.750 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)' with route pattern 'api/Branch/GetAll' is valid for the request path '/api/Branch/GetAll'
2025-11-25 21:14:34.751 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 21:14:34.752 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 21:14:34.753 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 21:14:34.753 +02:00 [INF] CORS policy execution successful.
2025-11-25 21:14:34.754 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 21:14:34.754 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 21:14:34.755 +02:00 [INF] Route matched with {action = "GetAll", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.BranchController (Hospital).
2025-11-25 21:14:34.756 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 21:14:34.757 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 21:14:34.758 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 21:14:34.760 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 21:14:34.761 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 21:14:34.762 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 21:14:34.763 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 21:14:34.763 +02:00 [INF] Get All Branch called at "2025-11-25T21:14:34.7639055+02:00"
2025-11-25 21:14:34.764 +02:00 [INF] Fetching all branches
2025-11-25 21:14:34.765 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 21:14:34.767 +02:00 [DBG] Creating DbConnection.
2025-11-25 21:14:34.768 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 21:14:34.768 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:14:34.805 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:14:34.806 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 21:14:34.807 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 21:14:34.808 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 21:14:34.809 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 21:14:34.817 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 21:14:34.818 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:14:34.819 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-25 21:14:34.820 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:14:34.821 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 21:14:34.822 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 21:14:34.824 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 21:14:34.824 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 21:14:34.825 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 21:14:34.825 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 21:14:34.826 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Branch.BranchDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 21:14:34.827 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetAll (Hospital) in 65.0723ms
2025-11-25 21:14:34.827 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 21:14:34.828 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 21:14:34.829 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:14:34.830 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 21:14:34.831 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetAll - 200 null application/json; charset=utf-8 84.1731ms
2025-11-25 21:14:36.754 +02:00 [DBG] Connection id "0HNHC90B60O2T" received FIN.
2025-11-25 21:14:36.755 +02:00 [DBG] Connection id "0HNHC90B60O2T" is closed. The last processed stream ID was 1.
2025-11-25 21:14:36.756 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O2T completed.
2025-11-25 21:14:36.757 +02:00 [DBG] Connection id "0HNHC90B60O2T" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 21:14:36.759 +02:00 [DBG] Connection id "0HNHC90B60O2T" stopped.
2025-11-25 21:20:50.236 +02:00 [DBG] Connection id "0HNHC90B60O2U" accepted.
2025-11-25 21:20:50.237 +02:00 [DBG] Connection id "0HNHC90B60O2U" started.
2025-11-25 21:20:50.240 +02:00 [DBG] Connection 0HNHC90B60O2U established using the following protocol: "Tls13"
2025-11-25 21:20:50.241 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Event/GetAllEventsInSystem - null null
2025-11-25 21:20:50.243 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Event/GetAllEventsInSystem'
2025-11-25 21:20:50.244 +02:00 [DBG] Endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)' with route pattern 'api/Event/GetAllEventsInSystem' is valid for the request path '/api/Event/GetAllEventsInSystem'
2025-11-25 21:20:50.246 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 21:20:50.246 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 21:20:50.247 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 21:20:50.248 +02:00 [INF] CORS policy execution successful.
2025-11-25 21:20:50.248 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 21:20:50.249 +02:00 [INF] Executing endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 21:20:50.250 +02:00 [INF] Route matched with {action = "GetAllEventsInSystem", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllEventsInSystem() on controller Hospital.Controllers.EventController (Hospital).
2025-11-25 21:20:50.251 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 21:20:50.252 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 21:20:50.253 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 21:20:50.254 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 21:20:50.255 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 21:20:50.256 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 21:20:50.257 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 21:20:50.258 +02:00 [INF] get all  event in system  called at "2025-11-25T21:20:50.2580985+02:00"
2025-11-25 21:20:50.258 +02:00 [INF] Fetching all events in the system
2025-11-25 21:20:50.259 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 21:20:50.261 +02:00 [DBG] Creating DbConnection.
2025-11-25 21:20:50.261 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 21:20:50.262 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:20:50.299 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:20:50.300 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 21:20:50.301 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-25 21:20:50.302 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 21:20:50.302 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EventId], [e].[BranchId], [e].[CreatedAt], [e].[Description], [e].[EventDate], [e].[ImageURL], [e].[Title], [e].[UpdatedAt]
FROM [Events] AS [e]
2025-11-25 21:20:50.309 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EventId], [e].[BranchId], [e].[CreatedAt], [e].[Description], [e].[EventDate], [e].[ImageURL], [e].[Title], [e].[UpdatedAt]
FROM [Events] AS [e]
2025-11-25 21:20:50.310 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:20:50.311 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-25 21:20:50.312 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:20:50.313 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 21:20:50.314 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 21:20:50.315 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 21:20:50.316 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 21:20:50.316 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 21:20:50.317 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 21:20:50.317 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Event.EventDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 21:20:50.318 +02:00 [INF] Executed action Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital) in 62.3113ms
2025-11-25 21:20:50.319 +02:00 [INF] Executed endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 21:20:50.320 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 21:20:50.320 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:20:50.322 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 21:20:50.323 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Event/GetAllEventsInSystem - 200 null application/json; charset=utf-8 81.2253ms
2025-11-25 21:20:51.821 +02:00 [DBG] Connection id "0HNHC90B60O2U" received FIN.
2025-11-25 21:20:51.822 +02:00 [DBG] Connection id "0HNHC90B60O2U" is closed. The last processed stream ID was 1.
2025-11-25 21:20:51.822 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O2U completed.
2025-11-25 21:20:51.823 +02:00 [DBG] Connection id "0HNHC90B60O2U" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 21:20:51.827 +02:00 [DBG] Connection id "0HNHC90B60O2U" stopped.
2025-11-25 21:20:53.708 +02:00 [DBG] Connection id "0HNHC90B60O2V" accepted.
2025-11-25 21:20:53.709 +02:00 [DBG] Connection id "0HNHC90B60O2V" started.
2025-11-25 21:20:53.712 +02:00 [DBG] Connection 0HNHC90B60O2V established using the following protocol: "Tls13"
2025-11-25 21:20:53.714 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - null null
2025-11-25 21:20:53.715 +02:00 [DBG] 1 candidate(s) found for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 21:20:53.716 +02:00 [DBG] Endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)' with route pattern 'api/News/GetAllNewsInSystem' is valid for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 21:20:53.717 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 21:20:53.718 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 21:20:53.719 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 21:20:53.719 +02:00 [INF] CORS policy execution successful.
2025-11-25 21:20:53.720 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 21:20:53.721 +02:00 [INF] Executing endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 21:20:53.721 +02:00 [INF] Route matched with {action = "GetAllNewsInSystem", controller = "News"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllNewsInSystem() on controller Hospital.Controllers.NewsController (Hospital).
2025-11-25 21:20:53.722 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 21:20:53.723 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 21:20:53.724 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 21:20:53.726 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 21:20:53.726 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 21:20:53.727 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 21:20:53.728 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 21:20:53.729 +02:00 [INF] get all News in system  called at "2025-11-25T21:20:53.7297128+02:00"
2025-11-25 21:20:53.730 +02:00 [INF] Retrieving all news in the system
2025-11-25 21:20:53.731 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 21:20:53.732 +02:00 [DBG] Creating DbConnection.
2025-11-25 21:20:53.733 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 21:20:53.734 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:20:53.734 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:20:53.735 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 21:20:53.736 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 21:20:53.736 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 21:20:53.737 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 21:20:53.741 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 21:20:53.742 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:20:53.743 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 21:20:53.744 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:20:53.745 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 21:20:53.746 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 21:20:53.747 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 21:20:53.748 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 21:20:53.748 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 21:20:53.749 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 21:20:53.749 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.News.NewsDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 21:20:53.752 +02:00 [INF] Executed action Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital) in 24.429ms
2025-11-25 21:20:53.753 +02:00 [INF] Executed endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 21:20:53.753 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 21:20:53.754 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:20:53.755 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 21:20:53.756 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - 200 null application/json; charset=utf-8 42.32ms
2025-11-25 21:20:56.826 +02:00 [DBG] Connection id "0HNHC90B60O2V" received FIN.
2025-11-25 21:20:56.827 +02:00 [DBG] Connection id "0HNHC90B60O2V" is closed. The last processed stream ID was 1.
2025-11-25 21:20:56.827 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O2V completed.
2025-11-25 21:20:56.829 +02:00 [DBG] Connection id "0HNHC90B60O2V" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 21:20:56.831 +02:00 [DBG] Connection id "0HNHC90B60O2V" stopped.
2025-11-25 21:21:06.419 +02:00 [DBG] Connection id "0HNHC90B60O30" accepted.
2025-11-25 21:21:06.420 +02:00 [DBG] Connection id "0HNHC90B60O30" started.
2025-11-25 21:21:06.424 +02:00 [DBG] Connection 0HNHC90B60O30 established using the following protocol: "Tls13"
2025-11-25 21:21:06.426 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - null null
2025-11-25 21:21:06.428 +02:00 [DBG] 1 candidate(s) found for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 21:21:06.429 +02:00 [DBG] Endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)' with route pattern 'api/News/GetAllNewsInSystem' is valid for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 21:21:06.430 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 21:21:06.431 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 21:21:06.431 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 21:21:06.432 +02:00 [INF] CORS policy execution successful.
2025-11-25 21:21:06.433 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 21:21:06.434 +02:00 [INF] Executing endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 21:21:06.435 +02:00 [INF] Route matched with {action = "GetAllNewsInSystem", controller = "News"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllNewsInSystem() on controller Hospital.Controllers.NewsController (Hospital).
2025-11-25 21:21:06.436 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 21:21:06.437 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 21:21:06.438 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 21:21:06.439 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 21:21:06.440 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 21:21:06.441 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 21:21:06.442 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 21:21:06.443 +02:00 [INF] get all News in system  called at "2025-11-25T21:21:06.4436103+02:00"
2025-11-25 21:21:06.444 +02:00 [INF] Retrieving all news in the system
2025-11-25 21:21:06.445 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 21:21:06.446 +02:00 [DBG] Creating DbConnection.
2025-11-25 21:21:06.447 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 21:21:06.447 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:21:06.448 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:21:06.449 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 21:21:06.450 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 21:21:06.451 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 21:21:06.451 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 21:21:06.454 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 21:21:06.456 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:21:06.456 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-25 21:21:06.458 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:21:06.459 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 21:21:06.460 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 21:21:06.461 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 21:21:06.462 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 21:21:06.462 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 21:21:06.463 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 21:21:06.463 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.News.NewsDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 21:21:06.465 +02:00 [INF] Executed action Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital) in 24.1621ms
2025-11-25 21:21:06.466 +02:00 [INF] Executed endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 21:21:06.467 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 21:21:06.468 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:21:06.468 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 21:21:06.469 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - 200 null application/json; charset=utf-8 43.5213ms
2025-11-25 21:21:11.822 +02:00 [DBG] Connection id "0HNHC90B60O30" received FIN.
2025-11-25 21:21:11.823 +02:00 [DBG] Connection id "0HNHC90B60O30" is closed. The last processed stream ID was 1.
2025-11-25 21:21:11.823 +02:00 [DBG] Connection id "0HNHC90B60O30" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 21:21:11.825 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O30 completed.
2025-11-25 21:21:11.826 +02:00 [DBG] Connection id "0HNHC90B60O30" stopped.
2025-11-25 21:31:41.480 +02:00 [DBG] Connection id "0HNHC90B60O31" accepted.
2025-11-25 21:31:41.480 +02:00 [DBG] Connection id "0HNHC90B60O31" received FIN.
2025-11-25 21:31:41.480 +02:00 [DBG] Connection id "0HNHC90B60O31" started.
2025-11-25 21:31:41.481 +02:00 [DBG] Connection id "0HNHC90B60O32" accepted.
2025-11-25 21:31:41.483 +02:00 [DBG] Connection id "0HNHC90B60O32" started.
2025-11-25 21:31:41.487 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-25 21:31:41.494 +02:00 [DBG] Connection 0HNHC90B60O32 established using the following protocol: "Tls13"
2025-11-25 21:31:41.495 +02:00 [DBG] Connection id "0HNHC90B60O31" stopped.
2025-11-25 21:31:41.496 +02:00 [DBG] Connection id "0HNHC90B60O31" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 21:31:41.498 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7217/api/Specializations/GetAll - null null
2025-11-25 21:31:41.501 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Specializations/GetAll'
2025-11-25 21:31:41.502 +02:00 [DBG] Endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)' with route pattern 'api/Specializations/GetAll' is valid for the request path '/api/Specializations/GetAll'
2025-11-25 21:31:41.503 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 21:31:41.504 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 21:31:41.504 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 21:31:41.505 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 21:31:41.512 +02:00 [INF] Route matched with {action = "GetAll", controller = "Specializations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Specialization.SpecializationDTO]]] GetAll() on controller Hospital.Controllers.SpecializationsController (Hospital).
2025-11-25 21:31:41.513 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 21:31:41.514 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 21:31:41.515 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 21:31:41.517 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 21:31:41.518 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 21:31:41.520 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 21:31:41.524 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 21:31:41.527 +02:00 [INF] get all Specialization called at "2025-11-25T21:31:41.5274546+02:00"
2025-11-25 21:31:41.529 +02:00 [INF] Fetching all specializations in the system
2025-11-25 21:31:41.534 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 21:31:41.552 +02:00 [DBG] Compiling query expression: 
'DbSet<Specialization>()
    .Include(s => s.Branches)
    .Include(s => s.Doctors)
    .ThenInclude(d => d.User)'
2025-11-25 21:31:41.583 +02:00 [DBG] Including navigation: 'Specialization.Branches'.
2025-11-25 21:31:41.589 +02:00 [DBG] Including navigation: 'Specialization.Doctors'.
2025-11-25 21:31:41.598 +02:00 [DBG] Including navigation: 'Doctor.User'.
2025-11-25 21:31:41.727 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-25 21:31:41.736 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Specialization>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Specialization.SpecializationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Specialization.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: Specialization.Description (string), 2], [Property: Specialization.Name (string) Required MaxLength(120), 3], [Property: Specialization.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: BranchSpecialization (Dictionary<string, object>).BranchId (no field, int) Indexer Required PK FK AfterSave:Throw, 5], [Property: BranchSpecialization (Dictionary<string, object>).SpecializationId (no field, int) Indexer Required PK FK Index AfterSave:Throw, 6] }
            3 -> Dictionary<IProperty, int> { [Property: Branch.BranchId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Branch.Address (string) MaxLength(250), 8], [Property: Branch.BranchName (string) Required MaxLength(150), 9], [Property: Branch.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 10], [Property: Branch.Description (string), 11], [Property: Branch.Email (string) MaxLength(200), 12], [Property: Branch.ImageURL (string) MaxLength(300), 13], [Property: Branch.Phone (string) MaxLength(25), 14], [Property: Branch.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 15] }
            4 -> 5
            5 -> 6
            6 -> 7
            7 -> Dictionary<IProperty, int> { [Property: Doctor.DoctorId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: Doctor.Available (bool?), 17], [Property: Doctor.Biography (string), 18], [Property: Doctor.ConsultationFees (decimal) Required, 19], [Property: Doctor.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 20], [Property: Doctor.ExperienceYears (int?), 21], [Property: Doctor.ImageURL (string) MaxLength(300), 22], [Property: Doctor.SpecializationId (int) Required FK Index, 23], [Property: Doctor.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 24], [Property: Doctor.UserId (string) Required FK Index, 25] }
            8 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 26], [Property: User.AccessFailedCount (int) Required, 27], [Property: User.ConcurrencyStamp (string) Concurrency, 28], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 29], [Property: User.DateOfBirth (DateOnly?), 30], [Property: User.Email (string) Index MaxLength(256), 31], [Property: User.EmailConfirmed (bool) Required, 32], [Property: User.FullName (string) Required MaxLength(150), 33], [Property: User.Gender (GenderType?) MaxLength(10), 34], [Property: User.LockoutEnabled (bool) Required, 35], [Property: User.LockoutEnd (DateTimeOffset?), 36], [Property: User.NormalizedEmail (string) Index MaxLength(256), 37], [Property: User.NormalizedUserName (string) Index MaxLength(256), 38], [Property: User.PasswordHash (string), 39], [Property: User.PhoneNumber (string), 40], [Property: User.PhoneNumberConfirmed (bool) Required, 41], [Property: User.RefreshToken (string), 42], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 43], [Property: User.Role (string) Required MaxLength(50), 44], [Property: User.SecurityStamp (string), 45], [Property: User.TwoFactorEnabled (bool) Required, 46], [Property: User.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 47], [Property: User.UserName (string) MaxLength(256), 48] }
            9 -> 16
            10 -> 26
        SELECT s.SpecializationId, s.CreatedAt, s.Description, s.Name, s.UpdatedAt, t.BranchId, t.SpecializationId, t.BranchId0, t.Address, t.BranchName, t.CreatedAt, t.Description, t.Email, t.ImageURL, t.Phone, t.UpdatedAt, t0.DoctorId, t0.Available, t0.Biography, t0.ConsultationFees, t0.CreatedAt, t0.ExperienceYears, t0.ImageURL, t0.SpecializationId, t0.UpdatedAt, t0.UserId, t0.Id, t0.AccessFailedCount, t0.ConcurrencyStamp, t0.CreatedAt0, t0.DateOfBirth, t0.Email, t0.EmailConfirmed, t0.FullName, t0.Gender, t0.LockoutEnabled, t0.LockoutEnd, t0.NormalizedEmail, t0.NormalizedUserName, t0.PasswordHash, t0.PhoneNumber, t0.PhoneNumberConfirmed, t0.RefreshToken, t0.RefreshTokenExpiryTime, t0.Role, t0.SecurityStamp, t0.TwoFactorEnabled, t0.UpdatedAt0, t0.UserName
        FROM Specializations AS s
        LEFT JOIN 
        (
            SELECT b.BranchId, b.SpecializationId, b0.BranchId AS BranchId0, b0.Address, b0.BranchName, b0.CreatedAt, b0.Description, b0.Email, b0.ImageURL, b0.Phone, b0.UpdatedAt
            FROM BranchSpecializations AS b
            INNER JOIN Branches AS b0 ON b.BranchId == b0.BranchId
        ) AS t ON s.SpecializationId == t.SpecializationId
        LEFT JOIN 
        (
            SELECT d.DoctorId, d.Available, d.Biography, d.ConsultationFees, d.CreatedAt, d.ExperienceYears, d.ImageURL, d.SpecializationId, d.UpdatedAt, d.UserId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt AS CreatedAt0, u.DateOfBirth, u.Email, u.EmailConfirmed, u.FullName, u.Gender, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.RefreshToken, u.RefreshTokenExpiryTime, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UpdatedAt AS UpdatedAt0, u.UserName
            FROM Doctors AS d
            INNER JOIN Users AS u ON d.UserId == u.Id
        ) AS t0 ON s.SpecializationId == t0.SpecializationId
        ORDER BY s.SpecializationId ASC, t.BranchId ASC, t.SpecializationId ASC, t.BranchId0 ASC, t0.DoctorId ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Specialization>, 
    Clinic.Infrastructure.Persistence.AppDbContext, 
    False, 
    False, 
    True
)'
2025-11-25 21:31:41.743 +02:00 [DBG] Creating DbConnection.
2025-11-25 21:31:41.744 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 21:31:41.745 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:31:41.779 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:31:41.779 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 21:31:41.780 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 21:31:41.781 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 21:31:41.782 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 21:31:41.810 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 21:31:41.818 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 21:31:41.840 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchSpecialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 21:31:41.844 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 21:31:41.856 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 21:31:41.885 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 21:31:41.886 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 21:31:41.917 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:31:41.917 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 105ms reading results.
2025-11-25 21:31:41.918 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:31:41.919 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 21:31:41.932 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 21:31:41.934 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 21:31:41.934 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 21:31:41.935 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 21:31:41.935 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 21:31:41.936 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Specialization.SpecializationDTO, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 21:31:41.950 +02:00 [INF] Executed action Hospital.Controllers.SpecializationsController.GetAll (Hospital) in 430.6289ms
2025-11-25 21:31:41.951 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 21:31:41.952 +02:00 [DBG] Connection id "0HNHC90B60O32" completed keep alive response.
2025-11-25 21:31:41.953 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 21:31:41.953 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:31:41.954 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 21:31:41.955 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7217/api/Specializations/GetAll - 200 null application/json; charset=utf-8 457.4922ms
2025-11-25 21:33:52.649 +02:00 [DBG] Connection id "0HNHC90B60O32" disconnecting.
2025-11-25 21:33:52.650 +02:00 [DBG] Connection id "0HNHC90B60O32" stopped.
2025-11-25 21:33:52.651 +02:00 [DBG] Connection id "0HNHC90B60O32" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 21:53:11.864 +02:00 [DBG] Connection id "0HNHC90B60O33" accepted.
2025-11-25 21:53:11.865 +02:00 [DBG] Connection id "0HNHC90B60O33" started.
2025-11-25 21:53:11.868 +02:00 [DBG] Connection 0HNHC90B60O33 established using the following protocol: "Tls13"
2025-11-25 21:53:11.870 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - null null
2025-11-25 21:53:11.873 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Specializations/GetAll'
2025-11-25 21:53:11.874 +02:00 [DBG] Endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)' with route pattern 'api/Specializations/GetAll' is valid for the request path '/api/Specializations/GetAll'
2025-11-25 21:53:11.875 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 21:53:11.875 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 21:53:11.876 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 21:53:11.877 +02:00 [INF] CORS policy execution successful.
2025-11-25 21:53:11.877 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 21:53:11.878 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 21:53:11.879 +02:00 [INF] Route matched with {action = "GetAll", controller = "Specializations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Specialization.SpecializationDTO]]] GetAll() on controller Hospital.Controllers.SpecializationsController (Hospital).
2025-11-25 21:53:11.880 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 21:53:11.881 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 21:53:11.882 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 21:53:11.883 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 21:53:11.884 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 21:53:11.885 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 21:53:11.886 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 21:53:11.887 +02:00 [INF] get all Specialization called at "2025-11-25T21:53:11.8872164+02:00"
2025-11-25 21:53:11.887 +02:00 [INF] Fetching all specializations in the system
2025-11-25 21:53:11.888 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 21:53:11.890 +02:00 [DBG] Creating DbConnection.
2025-11-25 21:53:11.891 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 21:53:11.892 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:53:11.930 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:53:11.931 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 21:53:11.932 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 21:53:11.933 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 21:53:11.933 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 21:53:11.953 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 21:53:11.955 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 21:53:11.956 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchSpecialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 21:53:11.957 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 21:53:11.958 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 21:53:11.959 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 21:53:11.960 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 21:53:11.961 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:53:11.961 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-11-25 21:53:11.962 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:53:11.963 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 21:53:11.964 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 21:53:11.965 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 21:53:11.966 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 21:53:11.966 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 21:53:11.967 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 21:53:11.967 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Specialization.SpecializationDTO, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 21:53:11.968 +02:00 [INF] Executed action Hospital.Controllers.SpecializationsController.GetAll (Hospital) in 83.652ms
2025-11-25 21:53:11.969 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 21:53:11.970 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 21:53:11.971 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:53:11.971 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 21:53:11.973 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - 200 null application/json; charset=utf-8 102.6067ms
2025-11-25 21:53:17.130 +02:00 [DBG] Connection id "0HNHC90B60O33" received FIN.
2025-11-25 21:53:17.132 +02:00 [DBG] Connection id "0HNHC90B60O33" is closed. The last processed stream ID was 1.
2025-11-25 21:53:17.133 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O33 completed.
2025-11-25 21:53:17.134 +02:00 [DBG] Connection id "0HNHC90B60O33" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 21:53:17.136 +02:00 [DBG] Connection id "0HNHC90B60O33" stopped.
2025-11-25 21:53:39.404 +02:00 [DBG] Connection id "0HNHC90B60O34" accepted.
2025-11-25 21:53:39.405 +02:00 [DBG] Connection id "0HNHC90B60O34" started.
2025-11-25 21:53:39.408 +02:00 [DBG] Connection 0HNHC90B60O34 established using the following protocol: "Tls13"
2025-11-25 21:53:39.411 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - null null
2025-11-25 21:53:39.413 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Specializations/GetAll'
2025-11-25 21:53:39.414 +02:00 [DBG] Endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)' with route pattern 'api/Specializations/GetAll' is valid for the request path '/api/Specializations/GetAll'
2025-11-25 21:53:39.415 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 21:53:39.416 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 21:53:39.416 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 21:53:39.417 +02:00 [INF] CORS policy execution successful.
2025-11-25 21:53:39.417 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 21:53:39.418 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 21:53:39.418 +02:00 [INF] Route matched with {action = "GetAll", controller = "Specializations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Specialization.SpecializationDTO]]] GetAll() on controller Hospital.Controllers.SpecializationsController (Hospital).
2025-11-25 21:53:39.419 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 21:53:39.421 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 21:53:39.422 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 21:53:39.423 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 21:53:39.424 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 21:53:39.425 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 21:53:39.427 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 21:53:39.428 +02:00 [INF] get all Specialization called at "2025-11-25T21:53:39.4279897+02:00"
2025-11-25 21:53:39.428 +02:00 [INF] Fetching all specializations in the system
2025-11-25 21:53:39.429 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 21:53:39.431 +02:00 [DBG] Creating DbConnection.
2025-11-25 21:53:39.431 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 21:53:39.432 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:53:39.433 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:53:39.434 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 21:53:39.434 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 21:53:39.435 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 21:53:39.436 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 21:53:39.449 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 21:53:39.451 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 21:53:39.452 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchSpecialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 21:53:39.453 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 21:53:39.455 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 21:53:39.456 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 21:53:39.457 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 21:53:39.458 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:53:39.458 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-11-25 21:53:39.459 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:53:39.460 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 21:53:39.461 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 21:53:39.464 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 21:53:39.465 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 21:53:39.465 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 21:53:39.466 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 21:53:39.466 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Specialization.SpecializationDTO, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 21:53:39.467 +02:00 [INF] Executed action Hospital.Controllers.SpecializationsController.GetAll (Hospital) in 42.6542ms
2025-11-25 21:53:39.468 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 21:53:39.469 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 21:53:39.470 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:53:39.471 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 21:53:39.473 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - 200 null application/json; charset=utf-8 61.9722ms
2025-11-25 21:53:47.136 +02:00 [DBG] Connection id "0HNHC90B60O34" received FIN.
2025-11-25 21:53:47.137 +02:00 [DBG] Connection id "0HNHC90B60O34" is closed. The last processed stream ID was 1.
2025-11-25 21:53:47.137 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O34 completed.
2025-11-25 21:53:47.138 +02:00 [DBG] Connection id "0HNHC90B60O34" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 21:53:47.141 +02:00 [DBG] Connection id "0HNHC90B60O34" stopped.
2025-11-25 21:59:52.980 +02:00 [DBG] Connection id "0HNHC90B60O35" accepted.
2025-11-25 21:59:52.981 +02:00 [DBG] Connection id "0HNHC90B60O35" started.
2025-11-25 21:59:52.985 +02:00 [DBG] Connection 0HNHC90B60O35 established using the following protocol: "Tls13"
2025-11-25 21:59:52.986 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - null null
2025-11-25 21:59:52.989 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Specializations/GetAll'
2025-11-25 21:59:52.990 +02:00 [DBG] Endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)' with route pattern 'api/Specializations/GetAll' is valid for the request path '/api/Specializations/GetAll'
2025-11-25 21:59:52.991 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 21:59:52.993 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 21:59:52.993 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 21:59:52.994 +02:00 [INF] CORS policy execution successful.
2025-11-25 21:59:52.995 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 21:59:52.996 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 21:59:52.996 +02:00 [INF] Route matched with {action = "GetAll", controller = "Specializations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Specialization.SpecializationDTO]]] GetAll() on controller Hospital.Controllers.SpecializationsController (Hospital).
2025-11-25 21:59:52.998 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 21:59:52.999 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 21:59:53.000 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 21:59:53.002 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 21:59:53.003 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 21:59:53.004 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 21:59:53.005 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 21:59:53.006 +02:00 [INF] get all Specialization called at "2025-11-25T21:59:53.0066593+02:00"
2025-11-25 21:59:53.007 +02:00 [INF] Fetching all specializations in the system
2025-11-25 21:59:53.008 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 21:59:53.009 +02:00 [DBG] Creating DbConnection.
2025-11-25 21:59:53.010 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 21:59:53.011 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:59:53.051 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:59:53.052 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 21:59:53.052 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 21:59:53.053 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 21:59:53.054 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 21:59:53.074 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 21:59:53.075 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 21:59:53.076 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchSpecialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 21:59:53.077 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 21:59:53.078 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 21:59:53.079 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 21:59:53.079 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 21:59:53.080 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:59:53.081 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-11-25 21:59:53.082 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:59:53.083 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 21:59:53.084 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 21:59:53.085 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 21:59:53.086 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 21:59:53.087 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 21:59:53.087 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 21:59:53.088 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Specialization.SpecializationDTO, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 21:59:53.089 +02:00 [INF] Executed action Hospital.Controllers.SpecializationsController.GetAll (Hospital) in 84.9697ms
2025-11-25 21:59:53.090 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 21:59:53.091 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 21:59:53.091 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:59:53.092 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 21:59:53.093 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - 200 null application/json; charset=utf-8 106.4745ms
2025-11-25 21:59:57.044 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Specializations/Get/1 - null null
2025-11-25 21:59:57.046 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Specializations/Get/1'
2025-11-25 21:59:57.047 +02:00 [DBG] Endpoint 'Hospital.Controllers.SpecializationsController.Get (Hospital)' with route pattern 'api/Specializations/Get/{id}' is valid for the request path '/api/Specializations/Get/1'
2025-11-25 21:59:57.048 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SpecializationsController.Get (Hospital)'
2025-11-25 21:59:57.049 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 21:59:57.050 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 21:59:57.050 +02:00 [INF] CORS policy execution successful.
2025-11-25 21:59:57.051 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 21:59:57.052 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SpecializationsController.Get (Hospital)'
2025-11-25 21:59:57.056 +02:00 [INF] Route matched with {action = "Get", controller = "Specializations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Hospital.Application.DTO.Specialization.SpecializationDTO]] Get(Int32) on controller Hospital.Controllers.SpecializationsController (Hospital).
2025-11-25 21:59:57.058 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 21:59:57.059 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 21:59:57.061 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 21:59:57.062 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 21:59:57.063 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 21:59:57.064 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 21:59:57.065 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 21:59:57.066 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-11-25 21:59:57.067 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-11-25 21:59:57.068 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-11-25 21:59:57.069 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-11-25 21:59:57.069 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-11-25 21:59:57.070 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-11-25 21:59:57.071 +02:00 [INF] get Specialization by id called at "2025-11-25T21:59:57.0718639+02:00"
2025-11-25 21:59:57.073 +02:00 [INF] Fetching specialization with ID 1
2025-11-25 21:59:57.075 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 21:59:57.077 +02:00 [DBG] Compiling query expression: 
'DbSet<Specialization>()
    .Include(s => s.Branches)
    .Include(s => s.Doctors)
    .ThenInclude(d => d.User)
    .FirstOrDefault(s => s.SpecializationId == __id_0)'
2025-11-25 21:59:57.078 +02:00 [DBG] Including navigation: 'Specialization.Branches'.
2025-11-25 21:59:57.079 +02:00 [DBG] Including navigation: 'Specialization.Doctors'.
2025-11-25 21:59:57.081 +02:00 [DBG] Including navigation: 'Doctor.User'.
2025-11-25 21:59:57.096 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-25 21:59:57.100 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Specialization>(
    asyncEnumerable: new SingleQueryingEnumerable<Specialization>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Specialization.SpecializationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Specialization.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: Specialization.Description (string), 2], [Property: Specialization.Name (string) Required MaxLength(120), 3], [Property: Specialization.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: BranchSpecialization (Dictionary<string, object>).BranchId (no field, int) Indexer Required PK FK AfterSave:Throw, 5], [Property: BranchSpecialization (Dictionary<string, object>).SpecializationId (no field, int) Indexer Required PK FK Index AfterSave:Throw, 6] }
                3 -> Dictionary<IProperty, int> { [Property: Branch.BranchId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Branch.Address (string) MaxLength(250), 8], [Property: Branch.BranchName (string) Required MaxLength(150), 9], [Property: Branch.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 10], [Property: Branch.Description (string), 11], [Property: Branch.Email (string) MaxLength(200), 12], [Property: Branch.ImageURL (string) MaxLength(300), 13], [Property: Branch.Phone (string) MaxLength(25), 14], [Property: Branch.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 15] }
                4 -> 5
                5 -> 6
                6 -> 7
                7 -> Dictionary<IProperty, int> { [Property: Doctor.DoctorId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: Doctor.Available (bool?), 17], [Property: Doctor.Biography (string), 18], [Property: Doctor.ConsultationFees (decimal) Required, 19], [Property: Doctor.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 20], [Property: Doctor.ExperienceYears (int?), 21], [Property: Doctor.ImageURL (string) MaxLength(300), 22], [Property: Doctor.SpecializationId (int) Required FK Index, 23], [Property: Doctor.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 24], [Property: Doctor.UserId (string) Required FK Index, 25] }
                8 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 26], [Property: User.AccessFailedCount (int) Required, 27], [Property: User.ConcurrencyStamp (string) Concurrency, 28], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 29], [Property: User.DateOfBirth (DateOnly?), 30], [Property: User.Email (string) Index MaxLength(256), 31], [Property: User.EmailConfirmed (bool) Required, 32], [Property: User.FullName (string) Required MaxLength(150), 33], [Property: User.Gender (GenderType?) MaxLength(10), 34], [Property: User.LockoutEnabled (bool) Required, 35], [Property: User.LockoutEnd (DateTimeOffset?), 36], [Property: User.NormalizedEmail (string) Index MaxLength(256), 37], [Property: User.NormalizedUserName (string) Index MaxLength(256), 38], [Property: User.PasswordHash (string), 39], [Property: User.PhoneNumber (string), 40], [Property: User.PhoneNumberConfirmed (bool) Required, 41], [Property: User.RefreshToken (string), 42], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 43], [Property: User.Role (string) Required MaxLength(50), 44], [Property: User.SecurityStamp (string), 45], [Property: User.TwoFactorEnabled (bool) Required, 46], [Property: User.UpdatedAt (DateTime) Required ValueGenerated.OnAdd, 47], [Property: User.UserName (string) MaxLength(256), 48] }
                9 -> 16
                10 -> 26
            SELECT t.SpecializationId, t.CreatedAt, t.Description, t.Name, t.UpdatedAt, t0.BranchId, t0.SpecializationId, t0.BranchId0, t0.Address, t0.BranchName, t0.CreatedAt, t0.Description, t0.Email, t0.ImageURL, t0.Phone, t0.UpdatedAt, t1.DoctorId, t1.Available, t1.Biography, t1.ConsultationFees, t1.CreatedAt, t1.ExperienceYears, t1.ImageURL, t1.SpecializationId, t1.UpdatedAt, t1.UserId, t1.Id, t1.AccessFailedCount, t1.ConcurrencyStamp, t1.CreatedAt0, t1.DateOfBirth, t1.Email, t1.EmailConfirmed, t1.FullName, t1.Gender, t1.LockoutEnabled, t1.LockoutEnd, t1.NormalizedEmail, t1.NormalizedUserName, t1.PasswordHash, t1.PhoneNumber, t1.PhoneNumberConfirmed, t1.RefreshToken, t1.RefreshTokenExpiryTime, t1.Role, t1.SecurityStamp, t1.TwoFactorEnabled, t1.UpdatedAt0, t1.UserName
            FROM 
            (
                SELECT TOP(1) s.SpecializationId, s.CreatedAt, s.Description, s.Name, s.UpdatedAt
                FROM Specializations AS s
                WHERE s.SpecializationId == @__id_0
            ) AS t
            LEFT JOIN 
            (
                SELECT b.BranchId, b.SpecializationId, b0.BranchId AS BranchId0, b0.Address, b0.BranchName, b0.CreatedAt, b0.Description, b0.Email, b0.ImageURL, b0.Phone, b0.UpdatedAt
                FROM BranchSpecializations AS b
                INNER JOIN Branches AS b0 ON b.BranchId == b0.BranchId
            ) AS t0 ON t.SpecializationId == t0.SpecializationId
            LEFT JOIN 
            (
                SELECT d.DoctorId, d.Available, d.Biography, d.ConsultationFees, d.CreatedAt, d.ExperienceYears, d.ImageURL, d.SpecializationId, d.UpdatedAt, d.UserId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt AS CreatedAt0, u.DateOfBirth, u.Email, u.EmailConfirmed, u.FullName, u.Gender, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.RefreshToken, u.RefreshTokenExpiryTime, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UpdatedAt AS UpdatedAt0, u.UserName
                FROM Doctors AS d
                INNER JOIN Users AS u ON d.UserId == u.Id
            ) AS t1 ON t.SpecializationId == t1.SpecializationId
            ORDER BY t.SpecializationId ASC, t0.BranchId ASC, t0.SpecializationId ASC, t0.BranchId0 ASC, t1.DoctorId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Specialization>, 
        Clinic.Infrastructure.Persistence.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-11-25 21:59:57.102 +02:00 [DBG] Creating DbConnection.
2025-11-25 21:59:57.103 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 21:59:57.103 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:59:57.104 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:59:57.105 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 21:59:57.105 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 21:59:57.106 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 21:59:57.107 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SpecializationId], [t].[CreatedAt], [t].[Description], [t].[Name], [t].[UpdatedAt], [t0].[BranchId], [t0].[SpecializationId], [t0].[BranchId0], [t0].[Address], [t0].[BranchName], [t0].[CreatedAt], [t0].[Description], [t0].[Email], [t0].[ImageURL], [t0].[Phone], [t0].[UpdatedAt], [t1].[DoctorId], [t1].[Available], [t1].[Biography], [t1].[ConsultationFees], [t1].[CreatedAt], [t1].[ExperienceYears], [t1].[ImageURL], [t1].[SpecializationId], [t1].[UpdatedAt], [t1].[UserId], [t1].[Id], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[CreatedAt0], [t1].[DateOfBirth], [t1].[Email], [t1].[EmailConfirmed], [t1].[FullName], [t1].[Gender], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[RefreshToken], [t1].[RefreshTokenExpiryTime], [t1].[Role], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UpdatedAt0], [t1].[UserName]
FROM (
    SELECT TOP(1) [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt]
    FROM [Specializations] AS [s]
    WHERE [s].[SpecializationId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t0] ON [t].[SpecializationId] = [t0].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t1] ON [t].[SpecializationId] = [t1].[SpecializationId]
ORDER BY [t].[SpecializationId], [t0].[BranchId], [t0].[SpecializationId], [t0].[BranchId0], [t1].[DoctorId]
2025-11-25 21:59:57.120 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SpecializationId], [t].[CreatedAt], [t].[Description], [t].[Name], [t].[UpdatedAt], [t0].[BranchId], [t0].[SpecializationId], [t0].[BranchId0], [t0].[Address], [t0].[BranchName], [t0].[CreatedAt], [t0].[Description], [t0].[Email], [t0].[ImageURL], [t0].[Phone], [t0].[UpdatedAt], [t1].[DoctorId], [t1].[Available], [t1].[Biography], [t1].[ConsultationFees], [t1].[CreatedAt], [t1].[ExperienceYears], [t1].[ImageURL], [t1].[SpecializationId], [t1].[UpdatedAt], [t1].[UserId], [t1].[Id], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[CreatedAt0], [t1].[DateOfBirth], [t1].[Email], [t1].[EmailConfirmed], [t1].[FullName], [t1].[Gender], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[RefreshToken], [t1].[RefreshTokenExpiryTime], [t1].[Role], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UpdatedAt0], [t1].[UserName]
FROM (
    SELECT TOP(1) [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt]
    FROM [Specializations] AS [s]
    WHERE [s].[SpecializationId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t0] ON [t].[SpecializationId] = [t0].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t1] ON [t].[SpecializationId] = [t1].[SpecializationId]
ORDER BY [t].[SpecializationId], [t0].[BranchId], [t0].[SpecializationId], [t0].[BranchId0], [t1].[DoctorId]
2025-11-25 21:59:57.121 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 21:59:57.123 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchSpecialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 21:59:57.124 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 21:59:57.124 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 21:59:57.125 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 21:59:57.126 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 21:59:57.127 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:59:57.128 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-11-25 21:59:57.129 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:59:57.130 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 21:59:57.133 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 21:59:57.134 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 21:59:57.135 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 21:59:57.135 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 21:59:57.136 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 21:59:57.137 +02:00 [INF] Executing OkObjectResult, writing value of type 'Hospital.Application.DTO.Specialization.SpecializationDTO'.
2025-11-25 21:59:57.138 +02:00 [INF] Executed action Hospital.Controllers.SpecializationsController.Get (Hospital) in 73.8415ms
2025-11-25 21:59:57.139 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SpecializationsController.Get (Hospital)'
2025-11-25 21:59:57.139 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 21:59:57.140 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 21:59:57.141 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 21:59:57.142 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Specializations/Get/1 - 200 null application/json; charset=utf-8 98.0199ms
2025-11-25 21:59:57.192 +02:00 [DBG] Connection id "0HNHC90B60O35" received FIN.
2025-11-25 21:59:57.194 +02:00 [DBG] Connection id "0HNHC90B60O35" is closed. The last processed stream ID was 3.
2025-11-25 21:59:57.194 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O35 completed.
2025-11-25 21:59:57.195 +02:00 [DBG] Connection id "0HNHC90B60O35" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 21:59:57.198 +02:00 [DBG] Connection id "0HNHC90B60O35" stopped.
2025-11-25 22:00:12.830 +02:00 [DBG] Connection id "0HNHC90B60O36" accepted.
2025-11-25 22:00:12.831 +02:00 [DBG] Connection id "0HNHC90B60O36" started.
2025-11-25 22:00:12.834 +02:00 [DBG] Connection 0HNHC90B60O36 established using the following protocol: "Tls13"
2025-11-25 22:00:12.835 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - null null
2025-11-25 22:00:12.837 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Specializations/GetAll'
2025-11-25 22:00:12.838 +02:00 [DBG] Endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)' with route pattern 'api/Specializations/GetAll' is valid for the request path '/api/Specializations/GetAll'
2025-11-25 22:00:12.839 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:00:12.840 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:00:12.840 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:00:12.841 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:00:12.842 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:00:12.842 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:00:12.843 +02:00 [INF] Route matched with {action = "GetAll", controller = "Specializations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Specialization.SpecializationDTO]]] GetAll() on controller Hospital.Controllers.SpecializationsController (Hospital).
2025-11-25 22:00:12.845 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:00:12.846 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:00:12.847 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:00:12.848 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:00:12.849 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:00:12.850 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:00:12.850 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:00:12.851 +02:00 [INF] get all Specialization called at "2025-11-25T22:00:12.8518428+02:00"
2025-11-25 22:00:12.852 +02:00 [INF] Fetching all specializations in the system
2025-11-25 22:00:12.853 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:00:12.854 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:00:12.855 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 22:00:12.856 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:00:12.857 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:00:12.857 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:00:12.858 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 22:00:12.859 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 22:00:12.860 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 22:00:12.872 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 22:00:12.873 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:00:12.874 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchSpecialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:00:12.875 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:00:12.876 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:00:12.878 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:00:12.879 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:00:12.880 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:00:12.880 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-11-25 22:00:12.881 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:00:12.882 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 22:00:12.883 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:00:12.885 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:00:12.885 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:00:12.886 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:00:12.886 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:00:12.887 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Specialization.SpecializationDTO, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 22:00:12.888 +02:00 [INF] Executed action Hospital.Controllers.SpecializationsController.GetAll (Hospital) in 38.428ms
2025-11-25 22:00:12.889 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:00:12.890 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:00:12.891 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:00:12.891 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 22:00:12.892 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - 200 null application/json; charset=utf-8 57.2794ms
2025-11-25 22:00:17.196 +02:00 [DBG] Connection id "0HNHC90B60O36" received FIN.
2025-11-25 22:00:17.197 +02:00 [DBG] Connection id "0HNHC90B60O36" is closed. The last processed stream ID was 1.
2025-11-25 22:00:17.197 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O36 completed.
2025-11-25 22:00:17.198 +02:00 [DBG] Connection id "0HNHC90B60O36" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 22:00:17.200 +02:00 [DBG] Connection id "0HNHC90B60O36" stopped.
2025-11-25 22:00:22.379 +02:00 [DBG] Connection id "0HNHC90B60O37" accepted.
2025-11-25 22:00:22.380 +02:00 [DBG] Connection id "0HNHC90B60O37" started.
2025-11-25 22:00:22.383 +02:00 [DBG] Connection 0HNHC90B60O37 established using the following protocol: "Tls13"
2025-11-25 22:00:22.384 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Specializations/Get/1 - null null
2025-11-25 22:00:22.386 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Specializations/Get/1'
2025-11-25 22:00:22.387 +02:00 [DBG] Endpoint 'Hospital.Controllers.SpecializationsController.Get (Hospital)' with route pattern 'api/Specializations/Get/{id}' is valid for the request path '/api/Specializations/Get/1'
2025-11-25 22:00:22.388 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SpecializationsController.Get (Hospital)'
2025-11-25 22:00:22.388 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:00:22.389 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:00:22.390 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:00:22.390 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:00:22.391 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SpecializationsController.Get (Hospital)'
2025-11-25 22:00:22.392 +02:00 [INF] Route matched with {action = "Get", controller = "Specializations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Hospital.Application.DTO.Specialization.SpecializationDTO]] Get(Int32) on controller Hospital.Controllers.SpecializationsController (Hospital).
2025-11-25 22:00:22.393 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:00:22.395 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:00:22.396 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:00:22.397 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:00:22.398 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:00:22.399 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:00:22.400 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:00:22.401 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-11-25 22:00:22.402 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-11-25 22:00:22.403 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-11-25 22:00:22.404 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-11-25 22:00:22.405 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-11-25 22:00:22.406 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-11-25 22:00:22.407 +02:00 [INF] get Specialization by id called at "2025-11-25T22:00:22.4070094+02:00"
2025-11-25 22:00:22.407 +02:00 [INF] Fetching specialization with ID 1
2025-11-25 22:00:22.409 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:00:22.410 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:00:22.411 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 22:00:22.412 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:00:22.412 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:00:22.413 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:00:22.414 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 22:00:22.415 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 22:00:22.416 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SpecializationId], [t].[CreatedAt], [t].[Description], [t].[Name], [t].[UpdatedAt], [t0].[BranchId], [t0].[SpecializationId], [t0].[BranchId0], [t0].[Address], [t0].[BranchName], [t0].[CreatedAt], [t0].[Description], [t0].[Email], [t0].[ImageURL], [t0].[Phone], [t0].[UpdatedAt], [t1].[DoctorId], [t1].[Available], [t1].[Biography], [t1].[ConsultationFees], [t1].[CreatedAt], [t1].[ExperienceYears], [t1].[ImageURL], [t1].[SpecializationId], [t1].[UpdatedAt], [t1].[UserId], [t1].[Id], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[CreatedAt0], [t1].[DateOfBirth], [t1].[Email], [t1].[EmailConfirmed], [t1].[FullName], [t1].[Gender], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[RefreshToken], [t1].[RefreshTokenExpiryTime], [t1].[Role], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UpdatedAt0], [t1].[UserName]
FROM (
    SELECT TOP(1) [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt]
    FROM [Specializations] AS [s]
    WHERE [s].[SpecializationId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t0] ON [t].[SpecializationId] = [t0].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t1] ON [t].[SpecializationId] = [t1].[SpecializationId]
ORDER BY [t].[SpecializationId], [t0].[BranchId], [t0].[SpecializationId], [t0].[BranchId0], [t1].[DoctorId]
2025-11-25 22:00:22.426 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SpecializationId], [t].[CreatedAt], [t].[Description], [t].[Name], [t].[UpdatedAt], [t0].[BranchId], [t0].[SpecializationId], [t0].[BranchId0], [t0].[Address], [t0].[BranchName], [t0].[CreatedAt], [t0].[Description], [t0].[Email], [t0].[ImageURL], [t0].[Phone], [t0].[UpdatedAt], [t1].[DoctorId], [t1].[Available], [t1].[Biography], [t1].[ConsultationFees], [t1].[CreatedAt], [t1].[ExperienceYears], [t1].[ImageURL], [t1].[SpecializationId], [t1].[UpdatedAt], [t1].[UserId], [t1].[Id], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[CreatedAt0], [t1].[DateOfBirth], [t1].[Email], [t1].[EmailConfirmed], [t1].[FullName], [t1].[Gender], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[RefreshToken], [t1].[RefreshTokenExpiryTime], [t1].[Role], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UpdatedAt0], [t1].[UserName]
FROM (
    SELECT TOP(1) [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt]
    FROM [Specializations] AS [s]
    WHERE [s].[SpecializationId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t0] ON [t].[SpecializationId] = [t0].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t1] ON [t].[SpecializationId] = [t1].[SpecializationId]
ORDER BY [t].[SpecializationId], [t0].[BranchId], [t0].[SpecializationId], [t0].[BranchId0], [t1].[DoctorId]
2025-11-25 22:00:22.428 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:00:22.429 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchSpecialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:00:22.430 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:00:22.431 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:00:22.432 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:00:22.433 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:00:22.434 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:00:22.435 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-11-25 22:00:22.436 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:00:22.436 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 22:00:22.437 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:00:22.439 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:00:22.439 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:00:22.440 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:00:22.440 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:00:22.441 +02:00 [INF] Executing OkObjectResult, writing value of type 'Hospital.Application.DTO.Specialization.SpecializationDTO'.
2025-11-25 22:00:22.442 +02:00 [INF] Executed action Hospital.Controllers.SpecializationsController.Get (Hospital) in 43.0138ms
2025-11-25 22:00:22.443 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SpecializationsController.Get (Hospital)'
2025-11-25 22:00:22.444 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:00:22.444 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:00:22.446 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 22:00:22.447 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Specializations/Get/1 - 200 null application/json; charset=utf-8 62.2397ms
2025-11-25 22:00:23.663 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - null null
2025-11-25 22:00:23.665 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Specializations/GetAll'
2025-11-25 22:00:23.667 +02:00 [DBG] Endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)' with route pattern 'api/Specializations/GetAll' is valid for the request path '/api/Specializations/GetAll'
2025-11-25 22:00:23.668 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:00:23.669 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:00:23.670 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:00:23.671 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:00:23.672 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:00:23.673 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:00:23.673 +02:00 [INF] Route matched with {action = "GetAll", controller = "Specializations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Specialization.SpecializationDTO]]] GetAll() on controller Hospital.Controllers.SpecializationsController (Hospital).
2025-11-25 22:00:23.675 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:00:23.676 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:00:23.676 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:00:23.678 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:00:23.679 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:00:23.679 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:00:23.681 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:00:23.682 +02:00 [INF] get all Specialization called at "2025-11-25T22:00:23.6825980+02:00"
2025-11-25 22:00:23.683 +02:00 [INF] Fetching all specializations in the system
2025-11-25 22:00:23.685 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:00:23.686 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:00:23.687 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 22:00:23.687 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:00:23.688 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:00:23.689 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:00:23.690 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 22:00:23.691 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 22:00:23.692 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 22:00:23.704 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 22:00:23.706 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:00:23.707 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchSpecialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:00:23.708 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:00:23.709 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:00:23.711 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:00:23.712 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:00:23.713 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:00:23.714 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-11-25 22:00:23.715 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:00:23.716 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 22:00:23.718 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:00:23.719 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:00:23.720 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:00:23.720 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:00:23.721 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:00:23.722 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Specialization.SpecializationDTO, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 22:00:23.724 +02:00 [INF] Executed action Hospital.Controllers.SpecializationsController.GetAll (Hospital) in 44.1717ms
2025-11-25 22:00:23.725 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:00:23.725 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:00:23.726 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:00:23.727 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 22:00:23.729 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - 200 null application/json; charset=utf-8 65.9874ms
2025-11-25 22:00:26.898 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Specializations/Get/1 - null null
2025-11-25 22:00:26.901 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Specializations/Get/1'
2025-11-25 22:00:26.902 +02:00 [DBG] Endpoint 'Hospital.Controllers.SpecializationsController.Get (Hospital)' with route pattern 'api/Specializations/Get/{id}' is valid for the request path '/api/Specializations/Get/1'
2025-11-25 22:00:26.903 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SpecializationsController.Get (Hospital)'
2025-11-25 22:00:26.905 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:00:26.906 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:00:26.907 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:00:26.908 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:00:26.909 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SpecializationsController.Get (Hospital)'
2025-11-25 22:00:26.910 +02:00 [INF] Route matched with {action = "Get", controller = "Specializations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Hospital.Application.DTO.Specialization.SpecializationDTO]] Get(Int32) on controller Hospital.Controllers.SpecializationsController (Hospital).
2025-11-25 22:00:26.913 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:00:26.914 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:00:26.915 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:00:26.917 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:00:26.918 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:00:26.919 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:00:26.921 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:00:26.922 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-11-25 22:00:26.924 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-11-25 22:00:26.925 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-11-25 22:00:26.926 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-11-25 22:00:26.927 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-11-25 22:00:26.928 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-11-25 22:00:26.929 +02:00 [INF] get Specialization by id called at "2025-11-25T22:00:26.9296432+02:00"
2025-11-25 22:00:26.930 +02:00 [INF] Fetching specialization with ID 1
2025-11-25 22:00:26.932 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:00:26.935 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:00:26.935 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 22:00:26.936 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:00:26.937 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:00:26.939 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:00:26.939 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 22:00:26.940 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 22:00:26.942 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SpecializationId], [t].[CreatedAt], [t].[Description], [t].[Name], [t].[UpdatedAt], [t0].[BranchId], [t0].[SpecializationId], [t0].[BranchId0], [t0].[Address], [t0].[BranchName], [t0].[CreatedAt], [t0].[Description], [t0].[Email], [t0].[ImageURL], [t0].[Phone], [t0].[UpdatedAt], [t1].[DoctorId], [t1].[Available], [t1].[Biography], [t1].[ConsultationFees], [t1].[CreatedAt], [t1].[ExperienceYears], [t1].[ImageURL], [t1].[SpecializationId], [t1].[UpdatedAt], [t1].[UserId], [t1].[Id], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[CreatedAt0], [t1].[DateOfBirth], [t1].[Email], [t1].[EmailConfirmed], [t1].[FullName], [t1].[Gender], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[RefreshToken], [t1].[RefreshTokenExpiryTime], [t1].[Role], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UpdatedAt0], [t1].[UserName]
FROM (
    SELECT TOP(1) [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt]
    FROM [Specializations] AS [s]
    WHERE [s].[SpecializationId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t0] ON [t].[SpecializationId] = [t0].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t1] ON [t].[SpecializationId] = [t1].[SpecializationId]
ORDER BY [t].[SpecializationId], [t0].[BranchId], [t0].[SpecializationId], [t0].[BranchId0], [t1].[DoctorId]
2025-11-25 22:00:26.953 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SpecializationId], [t].[CreatedAt], [t].[Description], [t].[Name], [t].[UpdatedAt], [t0].[BranchId], [t0].[SpecializationId], [t0].[BranchId0], [t0].[Address], [t0].[BranchName], [t0].[CreatedAt], [t0].[Description], [t0].[Email], [t0].[ImageURL], [t0].[Phone], [t0].[UpdatedAt], [t1].[DoctorId], [t1].[Available], [t1].[Biography], [t1].[ConsultationFees], [t1].[CreatedAt], [t1].[ExperienceYears], [t1].[ImageURL], [t1].[SpecializationId], [t1].[UpdatedAt], [t1].[UserId], [t1].[Id], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[CreatedAt0], [t1].[DateOfBirth], [t1].[Email], [t1].[EmailConfirmed], [t1].[FullName], [t1].[Gender], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[RefreshToken], [t1].[RefreshTokenExpiryTime], [t1].[Role], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UpdatedAt0], [t1].[UserName]
FROM (
    SELECT TOP(1) [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt]
    FROM [Specializations] AS [s]
    WHERE [s].[SpecializationId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t0] ON [t].[SpecializationId] = [t0].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t1] ON [t].[SpecializationId] = [t1].[SpecializationId]
ORDER BY [t].[SpecializationId], [t0].[BranchId], [t0].[SpecializationId], [t0].[BranchId0], [t1].[DoctorId]
2025-11-25 22:00:26.955 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:00:26.956 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchSpecialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:00:26.957 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:00:26.959 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:00:26.960 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:00:26.961 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:00:26.961 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:00:26.962 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-11-25 22:00:26.964 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:00:26.965 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 22:00:26.966 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:00:26.968 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:00:26.968 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:00:26.969 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:00:26.970 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:00:26.970 +02:00 [INF] Executing OkObjectResult, writing value of type 'Hospital.Application.DTO.Specialization.SpecializationDTO'.
2025-11-25 22:00:26.972 +02:00 [INF] Executed action Hospital.Controllers.SpecializationsController.Get (Hospital) in 52.4122ms
2025-11-25 22:00:26.973 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SpecializationsController.Get (Hospital)'
2025-11-25 22:00:26.974 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:00:26.974 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:00:26.975 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 22:00:26.976 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Specializations/Get/1 - 200 null application/json; charset=utf-8 78.3964ms
2025-11-25 22:00:33.648 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - null null
2025-11-25 22:00:33.651 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Specializations/GetAll'
2025-11-25 22:00:33.652 +02:00 [DBG] Endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)' with route pattern 'api/Specializations/GetAll' is valid for the request path '/api/Specializations/GetAll'
2025-11-25 22:00:33.653 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:00:33.654 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:00:33.654 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:00:33.655 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:00:33.656 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:00:33.658 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:00:33.658 +02:00 [INF] Route matched with {action = "GetAll", controller = "Specializations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Specialization.SpecializationDTO]]] GetAll() on controller Hospital.Controllers.SpecializationsController (Hospital).
2025-11-25 22:00:33.660 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:00:33.661 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:00:33.662 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:00:33.663 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:00:33.664 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:00:33.665 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:00:33.666 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:00:33.667 +02:00 [INF] get all Specialization called at "2025-11-25T22:00:33.6678574+02:00"
2025-11-25 22:00:33.668 +02:00 [INF] Fetching all specializations in the system
2025-11-25 22:00:33.670 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:00:33.671 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:00:33.672 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 22:00:33.673 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:00:33.674 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:00:33.675 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:00:33.676 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 22:00:33.677 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 22:00:33.678 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 22:00:33.689 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 22:00:33.691 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:00:33.692 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchSpecialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:00:33.693 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:00:33.694 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:00:33.695 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:00:33.696 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:00:33.697 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:00:33.697 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-11-25 22:00:33.698 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:00:33.699 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 22:00:33.700 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:00:33.702 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:00:33.703 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:00:33.703 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:00:33.704 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:00:33.704 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Specialization.SpecializationDTO, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 22:00:33.705 +02:00 [INF] Executed action Hospital.Controllers.SpecializationsController.GetAll (Hospital) in 39.7406ms
2025-11-25 22:00:33.706 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:00:33.707 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:00:33.708 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:00:33.710 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-11-25 22:00:33.711 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - 200 null application/json; charset=utf-8 63.5626ms
2025-11-25 22:00:37.197 +02:00 [DBG] Connection id "0HNHC90B60O37" received FIN.
2025-11-25 22:00:37.198 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O37 completed.
2025-11-25 22:00:37.198 +02:00 [DBG] Connection id "0HNHC90B60O37" is closed. The last processed stream ID was 7.
2025-11-25 22:00:37.200 +02:00 [DBG] Connection id "0HNHC90B60O37" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 22:00:37.201 +02:00 [DBG] Connection id "0HNHC90B60O37" stopped.
2025-11-25 22:01:15.609 +02:00 [DBG] Connection id "0HNHC90B60O38" accepted.
2025-11-25 22:01:15.610 +02:00 [DBG] Connection id "0HNHC90B60O38" started.
2025-11-25 22:01:15.614 +02:00 [DBG] Connection 0HNHC90B60O38 established using the following protocol: "Tls13"
2025-11-25 22:01:15.616 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Event/GetAllEventsInSystem - null null
2025-11-25 22:01:15.619 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Event/GetAllEventsInSystem'
2025-11-25 22:01:15.619 +02:00 [DBG] Endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)' with route pattern 'api/Event/GetAllEventsInSystem' is valid for the request path '/api/Event/GetAllEventsInSystem'
2025-11-25 22:01:15.620 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 22:01:15.621 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:01:15.622 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:01:15.622 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:01:15.623 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:01:15.624 +02:00 [INF] Executing endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 22:01:15.625 +02:00 [INF] Route matched with {action = "GetAllEventsInSystem", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllEventsInSystem() on controller Hospital.Controllers.EventController (Hospital).
2025-11-25 22:01:15.627 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:01:15.628 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:01:15.629 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:01:15.630 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:01:15.631 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:01:15.632 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 22:01:15.633 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 22:01:15.634 +02:00 [INF] get all  event in system  called at "2025-11-25T22:01:15.6348885+02:00"
2025-11-25 22:01:15.635 +02:00 [INF] Fetching all events in the system
2025-11-25 22:01:15.636 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:01:15.639 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:01:15.640 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 22:01:15.640 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:01:15.641 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:01:15.642 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:01:15.643 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 22:01:15.643 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 22:01:15.644 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EventId], [e].[BranchId], [e].[CreatedAt], [e].[Description], [e].[EventDate], [e].[ImageURL], [e].[Title], [e].[UpdatedAt]
FROM [Events] AS [e]
2025-11-25 22:01:15.654 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EventId], [e].[BranchId], [e].[CreatedAt], [e].[Description], [e].[EventDate], [e].[ImageURL], [e].[Title], [e].[UpdatedAt]
FROM [Events] AS [e]
2025-11-25 22:01:15.655 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:01:15.656 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-25 22:01:15.657 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:01:15.657 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 22:01:15.659 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:01:15.660 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:01:15.661 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:01:15.662 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:01:15.662 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:01:15.663 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Event.EventDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 22:01:15.664 +02:00 [INF] Executed action Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital) in 31.9686ms
2025-11-25 22:01:15.665 +02:00 [INF] Executed endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 22:01:15.666 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:01:15.666 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:01:15.667 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 22:01:15.668 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Event/GetAllEventsInSystem - 200 null application/json; charset=utf-8 52.3572ms
2025-11-25 22:01:17.204 +02:00 [DBG] Connection id "0HNHC90B60O38" received FIN.
2025-11-25 22:01:17.205 +02:00 [DBG] Connection id "0HNHC90B60O38" is closed. The last processed stream ID was 1.
2025-11-25 22:01:17.205 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O38 completed.
2025-11-25 22:01:17.206 +02:00 [DBG] Connection id "0HNHC90B60O38" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 22:01:17.210 +02:00 [DBG] Connection id "0HNHC90B60O38" stopped.
2025-11-25 22:01:21.634 +02:00 [DBG] Connection id "0HNHC90B60O39" accepted.
2025-11-25 22:01:21.636 +02:00 [DBG] Connection id "0HNHC90B60O39" started.
2025-11-25 22:01:21.639 +02:00 [DBG] Connection 0HNHC90B60O39 established using the following protocol: "Tls13"
2025-11-25 22:01:21.641 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - null null
2025-11-25 22:01:21.642 +02:00 [DBG] 1 candidate(s) found for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 22:01:21.643 +02:00 [DBG] Endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)' with route pattern 'api/News/GetAllNewsInSystem' is valid for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 22:01:21.644 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 22:01:21.645 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:01:21.645 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:01:21.646 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:01:21.646 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:01:21.647 +02:00 [INF] Executing endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 22:01:21.647 +02:00 [INF] Route matched with {action = "GetAllNewsInSystem", controller = "News"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllNewsInSystem() on controller Hospital.Controllers.NewsController (Hospital).
2025-11-25 22:01:21.649 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:01:21.649 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:01:21.650 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:01:21.652 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:01:21.653 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:01:21.654 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 22:01:21.654 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 22:01:21.655 +02:00 [INF] get all News in system  called at "2025-11-25T22:01:21.6557407+02:00"
2025-11-25 22:01:21.656 +02:00 [INF] Retrieving all news in the system
2025-11-25 22:01:21.656 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:01:21.658 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:01:21.658 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 22:01:21.659 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:01:21.660 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:01:21.661 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:01:21.661 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 22:01:21.662 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 22:01:21.663 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 22:01:21.666 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 22:01:21.668 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:01:21.668 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-25 22:01:21.669 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:01:21.670 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 22:01:21.671 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:01:21.673 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:01:21.674 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:01:21.674 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:01:21.674 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:01:21.675 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.News.NewsDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 22:01:21.676 +02:00 [INF] Executed action Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital) in 22.6507ms
2025-11-25 22:01:21.678 +02:00 [INF] Executed endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 22:01:21.678 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:01:21.679 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:01:21.680 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 22:01:21.681 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - 200 null application/json; charset=utf-8 40.5412ms
2025-11-25 22:01:25.457 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetAll - null null
2025-11-25 22:01:25.460 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetAll'
2025-11-25 22:01:25.461 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)' with route pattern 'api/Branch/GetAll' is valid for the request path '/api/Branch/GetAll'
2025-11-25 22:01:25.462 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 22:01:25.463 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:01:25.464 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:01:25.464 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:01:25.465 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:01:25.466 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 22:01:25.467 +02:00 [INF] Route matched with {action = "GetAll", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.BranchController (Hospital).
2025-11-25 22:01:25.468 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:01:25.469 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:01:25.470 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:01:25.471 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:01:25.472 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:01:25.473 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 22:01:25.474 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 22:01:25.474 +02:00 [INF] Get All Branch called at "2025-11-25T22:01:25.4748949+02:00"
2025-11-25 22:01:25.475 +02:00 [INF] Fetching all branches
2025-11-25 22:01:25.476 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:01:25.479 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:01:25.479 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 22:01:25.480 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:01:25.481 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:01:25.482 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:01:25.482 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 22:01:25.483 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 22:01:25.484 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 22:01:25.487 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 22:01:25.489 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:01:25.489 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-25 22:01:25.490 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:01:25.491 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 22:01:25.493 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:01:25.494 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:01:25.495 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:01:25.495 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:01:25.496 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:01:25.497 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Branch.BranchDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 22:01:25.498 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetAll (Hospital) in 24.9775ms
2025-11-25 22:01:25.499 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 22:01:25.499 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:01:25.500 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:01:25.501 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 22:01:25.502 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetAll - 200 null application/json; charset=utf-8 44.6408ms
2025-11-25 22:01:27.206 +02:00 [DBG] Connection id "0HNHC90B60O39" received FIN.
2025-11-25 22:01:27.208 +02:00 [DBG] Connection id "0HNHC90B60O39" is closed. The last processed stream ID was 3.
2025-11-25 22:01:27.208 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O39 completed.
2025-11-25 22:01:27.209 +02:00 [DBG] Connection id "0HNHC90B60O39" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 22:01:27.211 +02:00 [DBG] Connection id "0HNHC90B60O39" stopped.
2025-11-25 22:01:27.919 +02:00 [DBG] Connection id "0HNHC90B60O3A" accepted.
2025-11-25 22:01:27.921 +02:00 [DBG] Connection id "0HNHC90B60O3A" started.
2025-11-25 22:01:27.924 +02:00 [DBG] Connection 0HNHC90B60O3A established using the following protocol: "Tls13"
2025-11-25 22:01:27.926 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - null null
2025-11-25 22:01:27.928 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Specializations/GetAll'
2025-11-25 22:01:27.929 +02:00 [DBG] Endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)' with route pattern 'api/Specializations/GetAll' is valid for the request path '/api/Specializations/GetAll'
2025-11-25 22:01:27.931 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:01:27.932 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:01:27.932 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:01:27.933 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:01:27.934 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:01:27.935 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:01:27.936 +02:00 [INF] Route matched with {action = "GetAll", controller = "Specializations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Specialization.SpecializationDTO]]] GetAll() on controller Hospital.Controllers.SpecializationsController (Hospital).
2025-11-25 22:01:27.937 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:01:27.939 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:01:27.940 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:01:27.941 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:01:27.942 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:01:27.944 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:01:27.945 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:01:27.946 +02:00 [INF] get all Specialization called at "2025-11-25T22:01:27.9463358+02:00"
2025-11-25 22:01:27.947 +02:00 [INF] Fetching all specializations in the system
2025-11-25 22:01:27.947 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:01:27.949 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:01:27.950 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 22:01:27.951 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:01:27.952 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:01:27.953 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:01:27.954 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 22:01:27.955 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 22:01:27.956 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 22:01:27.970 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 22:01:27.971 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:01:27.972 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchSpecialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:01:27.973 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:01:27.974 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:01:27.975 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:01:27.976 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:01:27.977 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:01:27.977 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-11-25 22:01:27.978 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:01:27.979 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 22:01:27.980 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:01:27.981 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:01:27.982 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:01:27.982 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:01:27.983 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:01:27.983 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Specialization.SpecializationDTO, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 22:01:27.984 +02:00 [INF] Executed action Hospital.Controllers.SpecializationsController.GetAll (Hospital) in 40.6222ms
2025-11-25 22:01:27.985 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:01:27.986 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:01:27.987 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:01:27.987 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 22:01:27.988 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - 200 null application/json; charset=utf-8 62.757ms
2025-11-25 22:01:33.039 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - null null
2025-11-25 22:01:33.041 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Specializations/GetAll'
2025-11-25 22:01:33.042 +02:00 [DBG] Endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)' with route pattern 'api/Specializations/GetAll' is valid for the request path '/api/Specializations/GetAll'
2025-11-25 22:01:33.044 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:01:33.045 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:01:33.046 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:01:33.047 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:01:33.047 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:01:33.048 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:01:33.049 +02:00 [INF] Route matched with {action = "GetAll", controller = "Specializations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Specialization.SpecializationDTO]]] GetAll() on controller Hospital.Controllers.SpecializationsController (Hospital).
2025-11-25 22:01:33.050 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:01:33.051 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:01:33.052 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:01:33.053 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:01:33.054 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:01:33.055 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:01:33.056 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:01:33.057 +02:00 [INF] get all Specialization called at "2025-11-25T22:01:33.0575644+02:00"
2025-11-25 22:01:33.058 +02:00 [INF] Fetching all specializations in the system
2025-11-25 22:01:33.059 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:01:33.061 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:01:33.061 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 22:01:33.062 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:01:33.063 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:01:33.064 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:01:33.064 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 22:01:33.065 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 22:01:33.066 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 22:01:33.077 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 22:01:33.079 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:01:33.080 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchSpecialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:01:33.081 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:01:33.082 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:01:33.083 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:01:33.084 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:01:33.085 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:01:33.086 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-11-25 22:01:33.088 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:01:33.089 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 22:01:33.090 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:01:33.092 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:01:33.092 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:01:33.093 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:01:33.094 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:01:33.095 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Specialization.SpecializationDTO, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 22:01:33.096 +02:00 [INF] Executed action Hospital.Controllers.SpecializationsController.GetAll (Hospital) in 41.1595ms
2025-11-25 22:01:33.097 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:01:33.098 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:01:33.099 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:01:33.100 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 22:01:33.101 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - 200 null application/json; charset=utf-8 61.5569ms
2025-11-25 22:01:37.207 +02:00 [DBG] Connection id "0HNHC90B60O3A" received FIN.
2025-11-25 22:01:37.207 +02:00 [DBG] Connection id "0HNHC90B60O3A" is closed. The last processed stream ID was 3.
2025-11-25 22:01:37.207 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O3A completed.
2025-11-25 22:01:37.208 +02:00 [DBG] Connection id "0HNHC90B60O3A" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 22:01:37.210 +02:00 [DBG] Connection id "0HNHC90B60O3A" stopped.
2025-11-25 22:04:09.559 +02:00 [DBG] Connection id "0HNHC90B60O3B" accepted.
2025-11-25 22:04:09.560 +02:00 [DBG] Connection id "0HNHC90B60O3B" started.
2025-11-25 22:04:09.571 +02:00 [DBG] Connection 0HNHC90B60O3B established using the following protocol: "Tls13"
2025-11-25 22:04:09.573 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Event/GetAllEventsInSystem - null null
2025-11-25 22:04:09.575 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Event/GetAllEventsInSystem'
2025-11-25 22:04:09.576 +02:00 [DBG] Endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)' with route pattern 'api/Event/GetAllEventsInSystem' is valid for the request path '/api/Event/GetAllEventsInSystem'
2025-11-25 22:04:09.577 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 22:04:09.578 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:04:09.579 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:04:09.582 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:04:09.583 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:04:09.584 +02:00 [INF] Executing endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 22:04:09.585 +02:00 [INF] Route matched with {action = "GetAllEventsInSystem", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllEventsInSystem() on controller Hospital.Controllers.EventController (Hospital).
2025-11-25 22:04:09.587 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:04:09.589 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:04:09.590 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:04:09.592 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:04:09.594 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:04:09.595 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 22:04:09.597 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 22:04:09.599 +02:00 [INF] get all  event in system  called at "2025-11-25T22:04:09.5989772+02:00"
2025-11-25 22:04:09.600 +02:00 [INF] Fetching all events in the system
2025-11-25 22:04:09.604 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:04:09.606 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:04:09.607 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 22:04:09.608 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:04:09.609 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:04:09.610 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:04:09.611 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 22:04:09.612 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 22:04:09.613 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EventId], [e].[BranchId], [e].[CreatedAt], [e].[Description], [e].[EventDate], [e].[ImageURL], [e].[Title], [e].[UpdatedAt]
FROM [Events] AS [e]
2025-11-25 22:04:09.624 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EventId], [e].[BranchId], [e].[CreatedAt], [e].[Description], [e].[EventDate], [e].[ImageURL], [e].[Title], [e].[UpdatedAt]
FROM [Events] AS [e]
2025-11-25 22:04:09.627 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:04:09.628 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 22:04:09.629 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:04:09.630 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 22:04:09.632 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:04:09.634 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:04:09.634 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:04:09.635 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:04:09.635 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:04:09.636 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Event.EventDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 22:04:09.638 +02:00 [INF] Executed action Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital) in 42.5695ms
2025-11-25 22:04:09.639 +02:00 [INF] Executed endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 22:04:09.640 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:04:09.641 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:04:09.643 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 22:04:09.645 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Event/GetAllEventsInSystem - 200 null application/json; charset=utf-8 71.7463ms
2025-11-25 22:04:12.235 +02:00 [DBG] Connection id "0HNHC90B60O3B" received FIN.
2025-11-25 22:04:12.236 +02:00 [DBG] Connection id "0HNHC90B60O3B" is closed. The last processed stream ID was 1.
2025-11-25 22:04:12.237 +02:00 [DBG] Connection id "0HNHC90B60O3B" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 22:04:12.260 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O3B completed.
2025-11-25 22:04:12.262 +02:00 [DBG] Connection id "0HNHC90B60O3B" stopped.
2025-11-25 22:04:19.470 +02:00 [DBG] Connection id "0HNHC90B60O3C" accepted.
2025-11-25 22:04:19.471 +02:00 [DBG] Connection id "0HNHC90B60O3C" started.
2025-11-25 22:04:19.474 +02:00 [DBG] Connection 0HNHC90B60O3C established using the following protocol: "Tls13"
2025-11-25 22:04:19.476 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - null null
2025-11-25 22:04:19.478 +02:00 [DBG] 1 candidate(s) found for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 22:04:19.479 +02:00 [DBG] Endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)' with route pattern 'api/News/GetAllNewsInSystem' is valid for the request path '/api/News/GetAllNewsInSystem'
2025-11-25 22:04:19.480 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 22:04:19.481 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:04:19.482 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:04:19.483 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:04:19.484 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:04:19.485 +02:00 [INF] Executing endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 22:04:19.486 +02:00 [INF] Route matched with {action = "GetAllNewsInSystem", controller = "News"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllNewsInSystem() on controller Hospital.Controllers.NewsController (Hospital).
2025-11-25 22:04:19.487 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:04:19.489 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:04:19.490 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:04:19.491 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:04:19.493 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:04:19.494 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 22:04:19.495 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.NewsController (Hospital)
2025-11-25 22:04:19.496 +02:00 [INF] get all News in system  called at "2025-11-25T22:04:19.4967733+02:00"
2025-11-25 22:04:19.497 +02:00 [INF] Retrieving all news in the system
2025-11-25 22:04:19.498 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:04:19.500 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:04:19.501 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 22:04:19.502 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:04:19.503 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:04:19.504 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:04:19.505 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 22:04:19.506 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 22:04:19.507 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 22:04:19.512 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NewsId], [n].[BranchId], [n].[CreatedAt], [n].[Date], [n].[Description], [n].[ImageURL], [n].[Title], [n].[UpdatedAt]
FROM [News] AS [n]
2025-11-25 22:04:19.514 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:04:19.515 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-11-25 22:04:19.516 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:04:19.517 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 22:04:19.518 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:04:19.520 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:04:19.521 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:04:19.522 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:04:19.522 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:04:19.523 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.News.NewsDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 22:04:19.525 +02:00 [INF] Executed action Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital) in 31.3351ms
2025-11-25 22:04:19.526 +02:00 [INF] Executed endpoint 'Hospital.Controllers.NewsController.GetAllNewsInSystem (Hospital)'
2025-11-25 22:04:19.527 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:04:19.528 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:04:19.529 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 22:04:19.530 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/News/GetAllNewsInSystem - 200 null application/json; charset=utf-8 54.3816ms
2025-11-25 22:04:22.237 +02:00 [DBG] Connection id "0HNHC90B60O3C" received FIN.
2025-11-25 22:04:22.238 +02:00 [DBG] Connection id "0HNHC90B60O3C" is closed. The last processed stream ID was 1.
2025-11-25 22:04:22.238 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O3C completed.
2025-11-25 22:04:22.239 +02:00 [DBG] Connection id "0HNHC90B60O3C" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 22:04:22.241 +02:00 [DBG] Connection id "0HNHC90B60O3C" stopped.
2025-11-25 22:04:30.210 +02:00 [DBG] Connection id "0HNHC90B60O3D" accepted.
2025-11-25 22:04:30.211 +02:00 [DBG] Connection id "0HNHC90B60O3D" started.
2025-11-25 22:04:30.215 +02:00 [DBG] Connection 0HNHC90B60O3D established using the following protocol: "Tls13"
2025-11-25 22:04:30.217 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetAll - null null
2025-11-25 22:04:30.219 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetAll'
2025-11-25 22:04:30.220 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)' with route pattern 'api/Branch/GetAll' is valid for the request path '/api/Branch/GetAll'
2025-11-25 22:04:30.221 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 22:04:30.222 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:04:30.223 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:04:30.224 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:04:30.224 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:04:30.225 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 22:04:30.226 +02:00 [INF] Route matched with {action = "GetAll", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.BranchController (Hospital).
2025-11-25 22:04:30.229 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:04:30.231 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:04:30.233 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:04:30.234 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:04:30.235 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:04:30.236 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 22:04:30.238 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 22:04:30.239 +02:00 [INF] Get All Branch called at "2025-11-25T22:04:30.2391313+02:00"
2025-11-25 22:04:30.239 +02:00 [INF] Fetching all branches
2025-11-25 22:04:30.241 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:04:30.243 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:04:30.243 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 22:04:30.244 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:04:30.245 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:04:30.246 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:04:30.247 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 22:04:30.248 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 22:04:30.249 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 22:04:30.253 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 22:04:30.254 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:04:30.256 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 22:04:30.257 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:04:30.258 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 22:04:30.259 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:04:30.261 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:04:30.261 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:04:30.262 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:04:30.263 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:04:30.263 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Branch.BranchDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 22:04:30.264 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetAll (Hospital) in 28.0524ms
2025-11-25 22:04:30.265 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 22:04:30.266 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:04:30.267 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:04:30.268 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 22:04:30.270 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetAll - 200 null application/json; charset=utf-8 52.5083ms
2025-11-25 22:04:32.239 +02:00 [DBG] Connection id "0HNHC90B60O3D" received FIN.
2025-11-25 22:04:32.240 +02:00 [DBG] Connection id "0HNHC90B60O3D" is closed. The last processed stream ID was 1.
2025-11-25 22:04:32.240 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O3D completed.
2025-11-25 22:04:32.241 +02:00 [DBG] Connection id "0HNHC90B60O3D" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 22:04:32.244 +02:00 [DBG] Connection id "0HNHC90B60O3D" stopped.
2025-11-25 22:04:32.817 +02:00 [DBG] Connection id "0HNHC90B60O3E" accepted.
2025-11-25 22:04:32.818 +02:00 [DBG] Connection id "0HNHC90B60O3E" started.
2025-11-25 22:04:32.821 +02:00 [DBG] Connection 0HNHC90B60O3E established using the following protocol: "Tls13"
2025-11-25 22:04:32.823 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetBy/1 - null null
2025-11-25 22:04:32.825 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetBy/1'
2025-11-25 22:04:32.825 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetById (Hospital)' with route pattern 'api/Branch/GetBy/{id}' is valid for the request path '/api/Branch/GetBy/1'
2025-11-25 22:04:32.827 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetById (Hospital)'
2025-11-25 22:04:32.828 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:04:32.828 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:04:32.829 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:04:32.830 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:04:32.831 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetById (Hospital)'
2025-11-25 22:04:32.832 +02:00 [INF] Route matched with {action = "GetById", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Hospital.Controllers.BranchController (Hospital).
2025-11-25 22:04:32.833 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:04:32.834 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:04:32.835 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:04:32.837 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:04:32.838 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:04:32.839 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 22:04:32.840 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 22:04:32.841 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-11-25 22:04:32.841 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-11-25 22:04:32.843 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-11-25 22:04:32.843 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-11-25 22:04:32.844 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-11-25 22:04:32.845 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-11-25 22:04:32.846 +02:00 [INF] Get Branch By Id called at "2025-11-25T22:04:32.8464266+02:00"
2025-11-25 22:04:32.847 +02:00 [INF] Fetching branch by ID: 1
2025-11-25 22:04:32.851 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:04:32.853 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:04:32.854 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 22:04:32.855 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:04:32.856 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:04:32.856 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:04:32.857 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 22:04:32.858 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 22:04:32.859 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 22:04:32.862 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 22:04:32.864 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:04:32.865 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:04:32.866 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-11-25 22:04:32.867 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:04:32.868 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 22:04:32.869 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:04:32.871 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:04:32.872 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:04:32.872 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:04:32.873 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:04:32.874 +02:00 [INF] Executing OkObjectResult, writing value of type 'Hospital.Application.DTO.Branch.BranchDto'.
2025-11-25 22:04:32.875 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetById (Hospital) in 35.9259ms
2025-11-25 22:04:32.875 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetById (Hospital)'
2025-11-25 22:04:32.876 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:04:32.877 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:04:32.877 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 22:04:32.878 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetBy/1 - 200 null application/json; charset=utf-8 55.6984ms
2025-11-25 22:04:40.752 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetAll - null null
2025-11-25 22:04:40.755 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetAll'
2025-11-25 22:04:40.756 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)' with route pattern 'api/Branch/GetAll' is valid for the request path '/api/Branch/GetAll'
2025-11-25 22:04:40.757 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 22:04:40.758 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:04:40.759 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:04:40.759 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:04:40.760 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:04:40.762 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 22:04:40.762 +02:00 [INF] Route matched with {action = "GetAll", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.BranchController (Hospital).
2025-11-25 22:04:40.764 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:04:40.765 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:04:40.766 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:04:40.767 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:04:40.768 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:04:40.769 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 22:04:40.770 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 22:04:40.771 +02:00 [INF] Get All Branch called at "2025-11-25T22:04:40.7713110+02:00"
2025-11-25 22:04:40.771 +02:00 [INF] Fetching all branches
2025-11-25 22:04:40.773 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:04:40.774 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:04:40.775 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 22:04:40.775 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:04:40.776 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:04:40.777 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:04:40.778 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 22:04:40.779 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 22:04:40.780 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 22:04:40.783 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 22:04:40.785 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:04:40.785 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-25 22:04:40.786 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:04:40.787 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 22:04:40.788 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:04:40.790 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:04:40.790 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:04:40.791 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:04:40.791 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:04:40.792 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Branch.BranchDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 22:04:40.793 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetAll (Hospital) in 24.253ms
2025-11-25 22:04:40.794 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 22:04:40.794 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:04:40.795 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:04:40.796 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 22:04:40.797 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetAll - 200 null application/json; charset=utf-8 44.6556ms
2025-11-25 22:04:45.251 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - null null
2025-11-25 22:04:45.253 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Specializations/GetAll'
2025-11-25 22:04:45.254 +02:00 [DBG] Endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)' with route pattern 'api/Specializations/GetAll' is valid for the request path '/api/Specializations/GetAll'
2025-11-25 22:04:45.255 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:04:45.256 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:04:45.257 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:04:45.257 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:04:45.258 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:04:45.259 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:04:45.260 +02:00 [INF] Route matched with {action = "GetAll", controller = "Specializations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Specialization.SpecializationDTO]]] GetAll() on controller Hospital.Controllers.SpecializationsController (Hospital).
2025-11-25 22:04:45.261 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:04:45.263 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:04:45.264 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:04:45.266 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:04:45.267 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:04:45.269 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:04:45.271 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:04:45.272 +02:00 [INF] get all Specialization called at "2025-11-25T22:04:45.2723633+02:00"
2025-11-25 22:04:45.273 +02:00 [INF] Fetching all specializations in the system
2025-11-25 22:04:45.274 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:04:45.276 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:04:45.277 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 22:04:45.278 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:04:45.280 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:04:45.281 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:04:45.282 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-25 22:04:45.283 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 22:04:45.284 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 22:04:45.301 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 22:04:45.304 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:04:45.305 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchSpecialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:04:45.306 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:04:45.307 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:04:45.309 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:04:45.310 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:04:45.311 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:04:45.312 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 8ms reading results.
2025-11-25 22:04:45.313 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:04:45.314 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 22:04:45.315 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:04:45.317 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:04:45.318 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:04:45.319 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:04:45.319 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:04:45.320 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Specialization.SpecializationDTO, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 22:04:45.321 +02:00 [INF] Executed action Hospital.Controllers.SpecializationsController.GetAll (Hospital) in 52.7375ms
2025-11-25 22:04:45.323 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:04:45.324 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:04:45.325 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:04:45.326 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 22:04:45.327 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - 200 null application/json; charset=utf-8 76.5341ms
2025-11-25 22:04:47.242 +02:00 [DBG] Connection id "0HNHC90B60O3E" received FIN.
2025-11-25 22:04:47.243 +02:00 [DBG] Connection id "0HNHC90B60O3E" is closed. The last processed stream ID was 5.
2025-11-25 22:04:47.243 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O3E completed.
2025-11-25 22:04:47.244 +02:00 [DBG] Connection id "0HNHC90B60O3E" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 22:04:47.247 +02:00 [DBG] Connection id "0HNHC90B60O3E" stopped.
2025-11-25 22:04:49.246 +02:00 [DBG] Connection id "0HNHC90B60O3F" accepted.
2025-11-25 22:04:49.247 +02:00 [DBG] Connection id "0HNHC90B60O3F" started.
2025-11-25 22:04:49.252 +02:00 [DBG] Connection 0HNHC90B60O3F established using the following protocol: "Tls13"
2025-11-25 22:04:49.254 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Specializations/Get/1 - null null
2025-11-25 22:04:49.255 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Specializations/Get/1'
2025-11-25 22:04:49.256 +02:00 [DBG] Endpoint 'Hospital.Controllers.SpecializationsController.Get (Hospital)' with route pattern 'api/Specializations/Get/{id}' is valid for the request path '/api/Specializations/Get/1'
2025-11-25 22:04:49.257 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SpecializationsController.Get (Hospital)'
2025-11-25 22:04:49.258 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:04:49.259 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:04:49.259 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:04:49.260 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:04:49.261 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SpecializationsController.Get (Hospital)'
2025-11-25 22:04:49.261 +02:00 [INF] Route matched with {action = "Get", controller = "Specializations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Hospital.Application.DTO.Specialization.SpecializationDTO]] Get(Int32) on controller Hospital.Controllers.SpecializationsController (Hospital).
2025-11-25 22:04:49.262 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:04:49.264 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:04:49.265 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:04:49.266 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:04:49.267 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:04:49.268 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:04:49.269 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:04:49.269 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-11-25 22:04:49.270 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-11-25 22:04:49.271 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-11-25 22:04:49.272 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-11-25 22:04:49.273 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-11-25 22:04:49.274 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-11-25 22:04:49.275 +02:00 [INF] get Specialization by id called at "2025-11-25T22:04:49.2757594+02:00"
2025-11-25 22:04:49.276 +02:00 [INF] Fetching specialization with ID 1
2025-11-25 22:04:49.277 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:04:49.279 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:04:49.279 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 22:04:49.280 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:04:49.281 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:04:49.282 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:04:49.282 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 22:04:49.283 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 22:04:49.284 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SpecializationId], [t].[CreatedAt], [t].[Description], [t].[Name], [t].[UpdatedAt], [t0].[BranchId], [t0].[SpecializationId], [t0].[BranchId0], [t0].[Address], [t0].[BranchName], [t0].[CreatedAt], [t0].[Description], [t0].[Email], [t0].[ImageURL], [t0].[Phone], [t0].[UpdatedAt], [t1].[DoctorId], [t1].[Available], [t1].[Biography], [t1].[ConsultationFees], [t1].[CreatedAt], [t1].[ExperienceYears], [t1].[ImageURL], [t1].[SpecializationId], [t1].[UpdatedAt], [t1].[UserId], [t1].[Id], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[CreatedAt0], [t1].[DateOfBirth], [t1].[Email], [t1].[EmailConfirmed], [t1].[FullName], [t1].[Gender], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[RefreshToken], [t1].[RefreshTokenExpiryTime], [t1].[Role], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UpdatedAt0], [t1].[UserName]
FROM (
    SELECT TOP(1) [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt]
    FROM [Specializations] AS [s]
    WHERE [s].[SpecializationId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t0] ON [t].[SpecializationId] = [t0].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t1] ON [t].[SpecializationId] = [t1].[SpecializationId]
ORDER BY [t].[SpecializationId], [t0].[BranchId], [t0].[SpecializationId], [t0].[BranchId0], [t1].[DoctorId]
2025-11-25 22:04:49.295 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SpecializationId], [t].[CreatedAt], [t].[Description], [t].[Name], [t].[UpdatedAt], [t0].[BranchId], [t0].[SpecializationId], [t0].[BranchId0], [t0].[Address], [t0].[BranchName], [t0].[CreatedAt], [t0].[Description], [t0].[Email], [t0].[ImageURL], [t0].[Phone], [t0].[UpdatedAt], [t1].[DoctorId], [t1].[Available], [t1].[Biography], [t1].[ConsultationFees], [t1].[CreatedAt], [t1].[ExperienceYears], [t1].[ImageURL], [t1].[SpecializationId], [t1].[UpdatedAt], [t1].[UserId], [t1].[Id], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[CreatedAt0], [t1].[DateOfBirth], [t1].[Email], [t1].[EmailConfirmed], [t1].[FullName], [t1].[Gender], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[RefreshToken], [t1].[RefreshTokenExpiryTime], [t1].[Role], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UpdatedAt0], [t1].[UserName]
FROM (
    SELECT TOP(1) [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt]
    FROM [Specializations] AS [s]
    WHERE [s].[SpecializationId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t0] ON [t].[SpecializationId] = [t0].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t1] ON [t].[SpecializationId] = [t1].[SpecializationId]
ORDER BY [t].[SpecializationId], [t0].[BranchId], [t0].[SpecializationId], [t0].[BranchId0], [t1].[DoctorId]
2025-11-25 22:04:49.297 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:04:49.298 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchSpecialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:04:49.299 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:04:49.300 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:04:49.302 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:04:49.303 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:04:49.304 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:04:49.305 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-11-25 22:04:49.306 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:04:49.306 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 22:04:49.307 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:04:49.309 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:04:49.309 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:04:49.310 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:04:49.310 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:04:49.311 +02:00 [INF] Executing OkObjectResult, writing value of type 'Hospital.Application.DTO.Specialization.SpecializationDTO'.
2025-11-25 22:04:49.312 +02:00 [INF] Executed action Hospital.Controllers.SpecializationsController.Get (Hospital) in 44.3171ms
2025-11-25 22:04:49.313 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SpecializationsController.Get (Hospital)'
2025-11-25 22:04:49.313 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:04:49.314 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:04:49.315 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 22:04:49.316 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Specializations/Get/1 - 200 null application/json; charset=utf-8 62.8508ms
2025-11-25 22:05:09.041 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Specializations/Get/1 - null null
2025-11-25 22:05:09.044 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Specializations/Get/1'
2025-11-25 22:05:09.045 +02:00 [DBG] Endpoint 'Hospital.Controllers.SpecializationsController.Get (Hospital)' with route pattern 'api/Specializations/Get/{id}' is valid for the request path '/api/Specializations/Get/1'
2025-11-25 22:05:09.046 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SpecializationsController.Get (Hospital)'
2025-11-25 22:05:09.047 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:05:09.048 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:05:09.050 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:05:09.050 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:05:09.051 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SpecializationsController.Get (Hospital)'
2025-11-25 22:05:09.053 +02:00 [INF] Route matched with {action = "Get", controller = "Specializations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Hospital.Application.DTO.Specialization.SpecializationDTO]] Get(Int32) on controller Hospital.Controllers.SpecializationsController (Hospital).
2025-11-25 22:05:09.054 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:05:09.056 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:05:09.057 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:05:09.058 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:05:09.059 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:05:09.061 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:05:09.062 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:05:09.064 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-11-25 22:05:09.065 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-11-25 22:05:09.066 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-11-25 22:05:09.067 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-11-25 22:05:09.068 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-11-25 22:05:09.069 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-11-25 22:05:09.071 +02:00 [INF] get Specialization by id called at "2025-11-25T22:05:09.0707375+02:00"
2025-11-25 22:05:09.072 +02:00 [INF] Fetching specialization with ID 1
2025-11-25 22:05:09.074 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:05:09.076 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:05:09.077 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 22:05:09.078 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:05:09.079 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:05:09.080 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:05:09.081 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 22:05:09.082 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 22:05:09.083 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SpecializationId], [t].[CreatedAt], [t].[Description], [t].[Name], [t].[UpdatedAt], [t0].[BranchId], [t0].[SpecializationId], [t0].[BranchId0], [t0].[Address], [t0].[BranchName], [t0].[CreatedAt], [t0].[Description], [t0].[Email], [t0].[ImageURL], [t0].[Phone], [t0].[UpdatedAt], [t1].[DoctorId], [t1].[Available], [t1].[Biography], [t1].[ConsultationFees], [t1].[CreatedAt], [t1].[ExperienceYears], [t1].[ImageURL], [t1].[SpecializationId], [t1].[UpdatedAt], [t1].[UserId], [t1].[Id], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[CreatedAt0], [t1].[DateOfBirth], [t1].[Email], [t1].[EmailConfirmed], [t1].[FullName], [t1].[Gender], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[RefreshToken], [t1].[RefreshTokenExpiryTime], [t1].[Role], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UpdatedAt0], [t1].[UserName]
FROM (
    SELECT TOP(1) [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt]
    FROM [Specializations] AS [s]
    WHERE [s].[SpecializationId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t0] ON [t].[SpecializationId] = [t0].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t1] ON [t].[SpecializationId] = [t1].[SpecializationId]
ORDER BY [t].[SpecializationId], [t0].[BranchId], [t0].[SpecializationId], [t0].[BranchId0], [t1].[DoctorId]
2025-11-25 22:05:09.105 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SpecializationId], [t].[CreatedAt], [t].[Description], [t].[Name], [t].[UpdatedAt], [t0].[BranchId], [t0].[SpecializationId], [t0].[BranchId0], [t0].[Address], [t0].[BranchName], [t0].[CreatedAt], [t0].[Description], [t0].[Email], [t0].[ImageURL], [t0].[Phone], [t0].[UpdatedAt], [t1].[DoctorId], [t1].[Available], [t1].[Biography], [t1].[ConsultationFees], [t1].[CreatedAt], [t1].[ExperienceYears], [t1].[ImageURL], [t1].[SpecializationId], [t1].[UpdatedAt], [t1].[UserId], [t1].[Id], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[CreatedAt0], [t1].[DateOfBirth], [t1].[Email], [t1].[EmailConfirmed], [t1].[FullName], [t1].[Gender], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[RefreshToken], [t1].[RefreshTokenExpiryTime], [t1].[Role], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UpdatedAt0], [t1].[UserName]
FROM (
    SELECT TOP(1) [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt]
    FROM [Specializations] AS [s]
    WHERE [s].[SpecializationId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t0] ON [t].[SpecializationId] = [t0].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t1] ON [t].[SpecializationId] = [t1].[SpecializationId]
ORDER BY [t].[SpecializationId], [t0].[BranchId], [t0].[SpecializationId], [t0].[BranchId0], [t1].[DoctorId]
2025-11-25 22:05:09.107 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:05:09.108 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchSpecialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:05:09.109 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:05:09.111 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:05:09.112 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:05:09.113 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:05:09.114 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:05:09.115 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-11-25 22:05:09.116 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:05:09.117 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 22:05:09.118 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:05:09.120 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:05:09.120 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:05:09.121 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:05:09.122 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:05:09.123 +02:00 [INF] Executing OkObjectResult, writing value of type 'Hospital.Application.DTO.Specialization.SpecializationDTO'.
2025-11-25 22:05:09.124 +02:00 [INF] Executed action Hospital.Controllers.SpecializationsController.Get (Hospital) in 63.7743ms
2025-11-25 22:05:09.126 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SpecializationsController.Get (Hospital)'
2025-11-25 22:05:09.127 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:05:09.127 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:05:09.128 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 22:05:09.130 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Specializations/Get/1 - 200 null application/json; charset=utf-8 88.3343ms
2025-11-25 22:05:10.469 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - null null
2025-11-25 22:05:10.472 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Specializations/GetAll'
2025-11-25 22:05:10.474 +02:00 [DBG] Endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)' with route pattern 'api/Specializations/GetAll' is valid for the request path '/api/Specializations/GetAll'
2025-11-25 22:05:10.475 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:05:10.476 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:05:10.477 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:05:10.478 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:05:10.479 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:05:10.480 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:05:10.480 +02:00 [INF] Route matched with {action = "GetAll", controller = "Specializations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Specialization.SpecializationDTO]]] GetAll() on controller Hospital.Controllers.SpecializationsController (Hospital).
2025-11-25 22:05:10.482 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:05:10.483 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:05:10.484 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:05:10.486 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:05:10.487 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:05:10.488 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:05:10.490 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:05:10.491 +02:00 [INF] get all Specialization called at "2025-11-25T22:05:10.4914125+02:00"
2025-11-25 22:05:10.492 +02:00 [INF] Fetching all specializations in the system
2025-11-25 22:05:10.493 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:05:10.495 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:05:10.496 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 22:05:10.497 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:05:10.498 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:05:10.499 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:05:10.500 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 22:05:10.501 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 22:05:10.502 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 22:05:10.515 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 22:05:10.517 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:05:10.518 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchSpecialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:05:10.519 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:05:10.520 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:05:10.522 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:05:10.523 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:05:10.524 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:05:10.525 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 8ms reading results.
2025-11-25 22:05:10.526 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:05:10.527 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 22:05:10.528 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:05:10.530 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:05:10.530 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:05:10.531 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:05:10.532 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:05:10.533 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Specialization.SpecializationDTO, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 22:05:10.534 +02:00 [INF] Executed action Hospital.Controllers.SpecializationsController.GetAll (Hospital) in 45.7328ms
2025-11-25 22:05:10.535 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:05:10.536 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:05:10.537 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:05:10.538 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 22:05:10.539 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - 200 null application/json; charset=utf-8 69.6428ms
2025-11-25 22:05:11.883 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Specializations/Get/1 - null null
2025-11-25 22:05:11.885 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Specializations/Get/1'
2025-11-25 22:05:11.887 +02:00 [DBG] Endpoint 'Hospital.Controllers.SpecializationsController.Get (Hospital)' with route pattern 'api/Specializations/Get/{id}' is valid for the request path '/api/Specializations/Get/1'
2025-11-25 22:05:11.888 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SpecializationsController.Get (Hospital)'
2025-11-25 22:05:11.889 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:05:11.889 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:05:11.890 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:05:11.890 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:05:11.891 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SpecializationsController.Get (Hospital)'
2025-11-25 22:05:11.892 +02:00 [INF] Route matched with {action = "Get", controller = "Specializations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Hospital.Application.DTO.Specialization.SpecializationDTO]] Get(Int32) on controller Hospital.Controllers.SpecializationsController (Hospital).
2025-11-25 22:05:11.893 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:05:11.894 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:05:11.896 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:05:11.897 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:05:11.898 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:05:11.899 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:05:11.900 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:05:11.901 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-11-25 22:05:11.903 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-11-25 22:05:11.904 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-11-25 22:05:11.905 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-11-25 22:05:11.906 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-11-25 22:05:11.906 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-11-25 22:05:11.907 +02:00 [INF] get Specialization by id called at "2025-11-25T22:05:11.9076704+02:00"
2025-11-25 22:05:11.908 +02:00 [INF] Fetching specialization with ID 1
2025-11-25 22:05:11.909 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:05:11.911 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:05:11.912 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 22:05:11.912 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:05:11.913 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:05:11.914 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:05:11.915 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 22:05:11.916 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 22:05:11.917 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SpecializationId], [t].[CreatedAt], [t].[Description], [t].[Name], [t].[UpdatedAt], [t0].[BranchId], [t0].[SpecializationId], [t0].[BranchId0], [t0].[Address], [t0].[BranchName], [t0].[CreatedAt], [t0].[Description], [t0].[Email], [t0].[ImageURL], [t0].[Phone], [t0].[UpdatedAt], [t1].[DoctorId], [t1].[Available], [t1].[Biography], [t1].[ConsultationFees], [t1].[CreatedAt], [t1].[ExperienceYears], [t1].[ImageURL], [t1].[SpecializationId], [t1].[UpdatedAt], [t1].[UserId], [t1].[Id], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[CreatedAt0], [t1].[DateOfBirth], [t1].[Email], [t1].[EmailConfirmed], [t1].[FullName], [t1].[Gender], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[RefreshToken], [t1].[RefreshTokenExpiryTime], [t1].[Role], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UpdatedAt0], [t1].[UserName]
FROM (
    SELECT TOP(1) [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt]
    FROM [Specializations] AS [s]
    WHERE [s].[SpecializationId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t0] ON [t].[SpecializationId] = [t0].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t1] ON [t].[SpecializationId] = [t1].[SpecializationId]
ORDER BY [t].[SpecializationId], [t0].[BranchId], [t0].[SpecializationId], [t0].[BranchId0], [t1].[DoctorId]
2025-11-25 22:05:11.927 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SpecializationId], [t].[CreatedAt], [t].[Description], [t].[Name], [t].[UpdatedAt], [t0].[BranchId], [t0].[SpecializationId], [t0].[BranchId0], [t0].[Address], [t0].[BranchName], [t0].[CreatedAt], [t0].[Description], [t0].[Email], [t0].[ImageURL], [t0].[Phone], [t0].[UpdatedAt], [t1].[DoctorId], [t1].[Available], [t1].[Biography], [t1].[ConsultationFees], [t1].[CreatedAt], [t1].[ExperienceYears], [t1].[ImageURL], [t1].[SpecializationId], [t1].[UpdatedAt], [t1].[UserId], [t1].[Id], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[CreatedAt0], [t1].[DateOfBirth], [t1].[Email], [t1].[EmailConfirmed], [t1].[FullName], [t1].[Gender], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[RefreshToken], [t1].[RefreshTokenExpiryTime], [t1].[Role], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UpdatedAt0], [t1].[UserName]
FROM (
    SELECT TOP(1) [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt]
    FROM [Specializations] AS [s]
    WHERE [s].[SpecializationId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t0] ON [t].[SpecializationId] = [t0].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t1] ON [t].[SpecializationId] = [t1].[SpecializationId]
ORDER BY [t].[SpecializationId], [t0].[BranchId], [t0].[SpecializationId], [t0].[BranchId0], [t1].[DoctorId]
2025-11-25 22:05:11.929 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:05:11.930 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchSpecialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:05:11.931 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:05:11.933 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:05:11.934 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:05:11.934 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:05:11.935 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:05:11.936 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-11-25 22:05:11.937 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:05:11.938 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 22:05:11.940 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:05:11.941 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:05:11.942 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:05:11.942 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:05:11.943 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:05:11.944 +02:00 [INF] Executing OkObjectResult, writing value of type 'Hospital.Application.DTO.Specialization.SpecializationDTO'.
2025-11-25 22:05:11.945 +02:00 [INF] Executed action Hospital.Controllers.SpecializationsController.Get (Hospital) in 45.303ms
2025-11-25 22:05:11.945 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SpecializationsController.Get (Hospital)'
2025-11-25 22:05:11.946 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:05:11.947 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:05:11.948 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 22:05:11.949 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Specializations/Get/1 - 200 null application/json; charset=utf-8 65.2406ms
2025-11-25 22:05:15.953 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - null null
2025-11-25 22:05:15.955 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Specializations/GetAll'
2025-11-25 22:05:15.956 +02:00 [DBG] Endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)' with route pattern 'api/Specializations/GetAll' is valid for the request path '/api/Specializations/GetAll'
2025-11-25 22:05:15.957 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:05:15.959 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:05:15.959 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:05:15.960 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:05:15.960 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:05:15.961 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:05:15.962 +02:00 [INF] Route matched with {action = "GetAll", controller = "Specializations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Specialization.SpecializationDTO]]] GetAll() on controller Hospital.Controllers.SpecializationsController (Hospital).
2025-11-25 22:05:15.964 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:05:15.965 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:05:15.966 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:05:15.967 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:05:15.968 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:05:15.969 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:05:15.970 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:05:15.971 +02:00 [INF] get all Specialization called at "2025-11-25T22:05:15.9719398+02:00"
2025-11-25 22:05:15.972 +02:00 [INF] Fetching all specializations in the system
2025-11-25 22:05:15.974 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:05:15.975 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:05:15.976 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 22:05:15.976 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:05:15.978 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:05:15.979 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:05:15.979 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 22:05:15.980 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 22:05:15.981 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 22:05:15.993 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 22:05:15.995 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:05:15.996 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchSpecialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:05:15.996 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:05:15.997 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:05:15.998 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:05:16.000 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:05:16.000 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:05:16.001 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-11-25 22:05:16.002 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:05:16.004 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 22:05:16.005 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:05:16.006 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:05:16.007 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:05:16.008 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:05:16.008 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:05:16.009 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Specialization.SpecializationDTO, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 22:05:16.010 +02:00 [INF] Executed action Hospital.Controllers.SpecializationsController.GetAll (Hospital) in 41.5251ms
2025-11-25 22:05:16.011 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:05:16.012 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:05:16.013 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:05:16.014 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 22:05:16.016 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - 200 null application/json; charset=utf-8 62.6521ms
2025-11-25 22:05:22.249 +02:00 [DBG] Connection id "0HNHC90B60O3F" received FIN.
2025-11-25 22:05:22.250 +02:00 [DBG] Connection id "0HNHC90B60O3F" is closed. The last processed stream ID was 9.
2025-11-25 22:05:22.251 +02:00 [DBG] Connection id "0HNHC90B60O3F" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 22:05:22.250 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O3F completed.
2025-11-25 22:05:22.252 +02:00 [DBG] Connection id "0HNHC90B60O3F" stopped.
2025-11-25 22:05:36.894 +02:00 [DBG] Connection id "0HNHC90B60O3G" accepted.
2025-11-25 22:05:36.895 +02:00 [DBG] Connection id "0HNHC90B60O3G" started.
2025-11-25 22:05:36.900 +02:00 [DBG] Connection 0HNHC90B60O3G established using the following protocol: "Tls13"
2025-11-25 22:05:36.902 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - null null
2025-11-25 22:05:36.904 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Specializations/GetAll'
2025-11-25 22:05:36.905 +02:00 [DBG] Endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)' with route pattern 'api/Specializations/GetAll' is valid for the request path '/api/Specializations/GetAll'
2025-11-25 22:05:36.906 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:05:36.907 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:05:36.908 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:05:36.909 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:05:36.910 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:05:36.910 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:05:36.911 +02:00 [INF] Route matched with {action = "GetAll", controller = "Specializations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Specialization.SpecializationDTO]]] GetAll() on controller Hospital.Controllers.SpecializationsController (Hospital).
2025-11-25 22:05:36.913 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:05:36.914 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:05:36.915 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:05:36.916 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:05:36.917 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:05:36.918 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:05:36.920 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:05:36.921 +02:00 [INF] get all Specialization called at "2025-11-25T22:05:36.9217593+02:00"
2025-11-25 22:05:36.922 +02:00 [INF] Fetching all specializations in the system
2025-11-25 22:05:36.923 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:05:36.925 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:05:36.925 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 22:05:36.926 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:05:36.927 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:05:36.928 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:05:36.929 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 22:05:36.930 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 22:05:36.931 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 22:05:36.951 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 22:05:36.953 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:05:36.955 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchSpecialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:05:36.956 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:05:36.957 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:05:36.958 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:05:36.959 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:05:36.961 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:05:36.961 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 8ms reading results.
2025-11-25 22:05:36.963 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:05:36.964 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 22:05:36.965 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:05:36.967 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:05:36.968 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:05:36.968 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:05:36.969 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:05:36.970 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Specialization.SpecializationDTO, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 22:05:36.971 +02:00 [INF] Executed action Hospital.Controllers.SpecializationsController.GetAll (Hospital) in 52.6746ms
2025-11-25 22:05:36.972 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:05:36.973 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:05:36.974 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:05:36.975 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 22:05:36.976 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - 200 null application/json; charset=utf-8 74.1275ms
2025-11-25 22:05:37.251 +02:00 [DBG] Connection id "0HNHC90B60O3G" received FIN.
2025-11-25 22:05:37.252 +02:00 [DBG] Connection id "0HNHC90B60O3G" is closed. The last processed stream ID was 1.
2025-11-25 22:05:37.252 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O3G completed.
2025-11-25 22:05:37.253 +02:00 [DBG] Connection id "0HNHC90B60O3G" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 22:05:37.255 +02:00 [DBG] Connection id "0HNHC90B60O3G" stopped.
2025-11-25 22:05:40.329 +02:00 [DBG] Connection id "0HNHC90B60O3H" accepted.
2025-11-25 22:05:40.330 +02:00 [DBG] Connection id "0HNHC90B60O3H" started.
2025-11-25 22:05:40.333 +02:00 [DBG] Connection 0HNHC90B60O3H established using the following protocol: "Tls13"
2025-11-25 22:05:40.335 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetAll - null null
2025-11-25 22:05:40.338 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetAll'
2025-11-25 22:05:40.338 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)' with route pattern 'api/Branch/GetAll' is valid for the request path '/api/Branch/GetAll'
2025-11-25 22:05:40.339 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 22:05:40.340 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:05:40.341 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:05:40.342 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:05:40.342 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:05:40.343 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 22:05:40.344 +02:00 [INF] Route matched with {action = "GetAll", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.BranchController (Hospital).
2025-11-25 22:05:40.345 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:05:40.346 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:05:40.348 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:05:40.349 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:05:40.351 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:05:40.352 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 22:05:40.354 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 22:05:40.355 +02:00 [INF] Get All Branch called at "2025-11-25T22:05:40.3551405+02:00"
2025-11-25 22:05:40.355 +02:00 [INF] Fetching all branches
2025-11-25 22:05:40.357 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:05:40.359 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:05:40.360 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 22:05:40.360 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:05:40.361 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:05:40.363 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:05:40.363 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 22:05:40.365 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 22:05:40.366 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 22:05:40.370 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 22:05:40.372 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:05:40.373 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 22:05:40.374 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:05:40.375 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 22:05:40.376 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:05:40.378 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:05:40.379 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:05:40.379 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:05:40.380 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:05:40.381 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Branch.BranchDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 22:05:40.382 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetAll (Hospital) in 30.2485ms
2025-11-25 22:05:40.383 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 22:05:40.384 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:05:40.385 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:05:40.386 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 22:05:40.388 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetAll - 200 null application/json; charset=utf-8 52.1781ms
2025-11-25 22:07:15.874 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetAll - null null
2025-11-25 22:07:15.878 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetAll'
2025-11-25 22:07:15.880 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)' with route pattern 'api/Branch/GetAll' is valid for the request path '/api/Branch/GetAll'
2025-11-25 22:07:15.882 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 22:07:15.883 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:07:15.884 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:07:15.885 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:07:15.886 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:07:15.887 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 22:07:15.888 +02:00 [INF] Route matched with {action = "GetAll", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.BranchController (Hospital).
2025-11-25 22:07:15.890 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:07:15.892 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:07:15.894 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:07:15.896 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:07:15.898 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:07:15.900 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 22:07:15.902 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 22:07:15.903 +02:00 [INF] Get All Branch called at "2025-11-25T22:07:15.9033932+02:00"
2025-11-25 22:07:15.904 +02:00 [INF] Fetching all branches
2025-11-25 22:07:15.906 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:07:15.908 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:07:15.909 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 22:07:15.910 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:07:15.911 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:07:15.913 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:07:15.914 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 22:07:15.915 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 22:07:15.916 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 22:07:15.921 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 22:07:15.923 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:07:15.925 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 22:07:15.926 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:07:15.928 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 22:07:15.929 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:07:15.931 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:07:15.932 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:07:15.933 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:07:15.934 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:07:15.935 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Branch.BranchDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 22:07:15.936 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetAll (Hospital) in 36.0263ms
2025-11-25 22:07:15.937 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 22:07:15.938 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:07:15.939 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:07:15.940 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 22:07:15.941 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetAll - 200 null application/json; charset=utf-8 67.2963ms
2025-11-25 22:07:20.287 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetBy/1 - null null
2025-11-25 22:07:20.289 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetBy/1'
2025-11-25 22:07:20.290 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetById (Hospital)' with route pattern 'api/Branch/GetBy/{id}' is valid for the request path '/api/Branch/GetBy/1'
2025-11-25 22:07:20.291 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetById (Hospital)'
2025-11-25 22:07:20.292 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:07:20.293 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:07:20.293 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:07:20.294 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:07:20.295 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetById (Hospital)'
2025-11-25 22:07:20.295 +02:00 [INF] Route matched with {action = "GetById", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Hospital.Controllers.BranchController (Hospital).
2025-11-25 22:07:20.296 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:07:20.298 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:07:20.299 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:07:20.300 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:07:20.301 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:07:20.302 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 22:07:20.303 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 22:07:20.305 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-11-25 22:07:20.305 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-11-25 22:07:20.306 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-11-25 22:07:20.307 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-11-25 22:07:20.308 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-11-25 22:07:20.309 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-11-25 22:07:20.310 +02:00 [INF] Get Branch By Id called at "2025-11-25T22:07:20.3102782+02:00"
2025-11-25 22:07:20.310 +02:00 [INF] Fetching branch by ID: 1
2025-11-25 22:07:20.312 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:07:20.314 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:07:20.315 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 22:07:20.316 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:07:20.317 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:07:20.317 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:07:20.318 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 22:07:20.319 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 22:07:20.320 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 22:07:20.323 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
WHERE [b].[BranchId] = @__id_0
2025-11-25 22:07:20.325 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:07:20.326 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:07:20.326 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 22:07:20.327 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:07:20.328 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 22:07:20.329 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:07:20.330 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:07:20.331 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:07:20.331 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:07:20.332 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:07:20.333 +02:00 [INF] Executing OkObjectResult, writing value of type 'Hospital.Application.DTO.Branch.BranchDto'.
2025-11-25 22:07:20.334 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetById (Hospital) in 32.1223ms
2025-11-25 22:07:20.335 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetById (Hospital)'
2025-11-25 22:07:20.336 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:07:20.337 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:07:20.338 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 22:07:20.339 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetBy/1 - 200 null application/json; charset=utf-8 51.5408ms
2025-11-25 22:07:22.226 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetAll - null null
2025-11-25 22:07:22.228 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetAll'
2025-11-25 22:07:22.230 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)' with route pattern 'api/Branch/GetAll' is valid for the request path '/api/Branch/GetAll'
2025-11-25 22:07:22.232 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 22:07:22.233 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:07:22.234 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:07:22.235 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:07:22.235 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:07:22.236 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 22:07:22.237 +02:00 [INF] Route matched with {action = "GetAll", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.BranchController (Hospital).
2025-11-25 22:07:22.238 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:07:22.239 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:07:22.240 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:07:22.242 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:07:22.243 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:07:22.244 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 22:07:22.245 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 22:07:22.246 +02:00 [INF] Get All Branch called at "2025-11-25T22:07:22.2466410+02:00"
2025-11-25 22:07:22.247 +02:00 [INF] Fetching all branches
2025-11-25 22:07:22.248 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:07:22.250 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:07:22.250 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 22:07:22.251 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:07:22.252 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:07:22.253 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:07:22.254 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 22:07:22.255 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 22:07:22.255 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 22:07:22.258 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 22:07:22.260 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:07:22.261 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 22:07:22.262 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:07:22.263 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 22:07:22.264 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:07:22.266 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:07:22.266 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:07:22.267 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:07:22.267 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:07:22.268 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Branch.BranchDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 22:07:22.269 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetAll (Hospital) in 25.8277ms
2025-11-25 22:07:22.270 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 22:07:22.271 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:07:22.272 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:07:22.273 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 22:07:22.274 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetAll - 200 null application/json; charset=utf-8 47.7437ms
2025-11-25 22:07:27.267 +02:00 [DBG] Connection id "0HNHC90B60O3H" received FIN.
2025-11-25 22:07:27.268 +02:00 [DBG] Connection id "0HNHC90B60O3H" is closed. The last processed stream ID was 7.
2025-11-25 22:07:27.269 +02:00 [DBG] Connection id "0HNHC90B60O3H" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 22:07:27.268 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O3H completed.
2025-11-25 22:07:27.271 +02:00 [DBG] Connection id "0HNHC90B60O3H" stopped.
2025-11-25 22:07:50.881 +02:00 [DBG] Connection id "0HNHC90B60O3I" accepted.
2025-11-25 22:07:50.883 +02:00 [DBG] Connection id "0HNHC90B60O3I" started.
2025-11-25 22:07:50.888 +02:00 [DBG] Connection 0HNHC90B60O3I established using the following protocol: "Tls13"
2025-11-25 22:07:50.891 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetAll - null null
2025-11-25 22:07:50.893 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetAll'
2025-11-25 22:07:50.894 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)' with route pattern 'api/Branch/GetAll' is valid for the request path '/api/Branch/GetAll'
2025-11-25 22:07:50.895 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 22:07:50.896 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:07:50.897 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:07:50.898 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:07:50.898 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:07:50.900 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 22:07:50.901 +02:00 [INF] Route matched with {action = "GetAll", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.BranchController (Hospital).
2025-11-25 22:07:50.903 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:07:50.904 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:07:50.905 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:07:50.907 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:07:50.908 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:07:50.909 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 22:07:50.910 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 22:07:50.912 +02:00 [INF] Get All Branch called at "2025-11-25T22:07:50.9120364+02:00"
2025-11-25 22:07:50.912 +02:00 [INF] Fetching all branches
2025-11-25 22:07:50.914 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:07:50.916 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:07:50.916 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 22:07:50.918 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:07:50.919 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:07:50.920 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:07:50.921 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 22:07:50.922 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 22:07:50.924 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 22:07:50.927 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 22:07:50.929 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:07:50.930 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 22:07:50.931 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:07:50.932 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 22:07:50.934 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:07:50.936 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:07:50.937 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:07:50.938 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:07:50.938 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:07:50.939 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Branch.BranchDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 22:07:50.942 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetAll (Hospital) in 32.5705ms
2025-11-25 22:07:50.943 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 22:07:50.944 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:07:50.945 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:07:50.946 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 22:07:50.948 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetAll - 200 null application/json; charset=utf-8 56.6405ms
2025-11-25 22:07:53.288 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - null null
2025-11-25 22:07:53.291 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Specializations/GetAll'
2025-11-25 22:07:53.292 +02:00 [DBG] Endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)' with route pattern 'api/Specializations/GetAll' is valid for the request path '/api/Specializations/GetAll'
2025-11-25 22:07:53.293 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:07:53.294 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:07:53.294 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:07:53.296 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:07:53.296 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:07:53.298 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:07:53.299 +02:00 [INF] Route matched with {action = "GetAll", controller = "Specializations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Specialization.SpecializationDTO]]] GetAll() on controller Hospital.Controllers.SpecializationsController (Hospital).
2025-11-25 22:07:53.300 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:07:53.301 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:07:53.303 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:07:53.304 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:07:53.305 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:07:53.306 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:07:53.308 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:07:53.309 +02:00 [INF] get all Specialization called at "2025-11-25T22:07:53.3094598+02:00"
2025-11-25 22:07:53.310 +02:00 [INF] Fetching all specializations in the system
2025-11-25 22:07:53.312 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:07:53.313 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:07:53.314 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 22:07:53.315 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:07:53.316 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:07:53.317 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:07:53.319 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-25 22:07:53.320 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 22:07:53.321 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 22:07:53.338 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 22:07:53.340 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:07:53.342 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchSpecialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:07:53.343 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:07:53.344 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:07:53.345 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:07:53.346 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:07:53.348 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:07:53.349 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 8ms reading results.
2025-11-25 22:07:53.350 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:07:53.351 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 22:07:53.353 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:07:53.354 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:07:53.355 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:07:53.356 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:07:53.356 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:07:53.357 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Specialization.SpecializationDTO, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 22:07:53.358 +02:00 [INF] Executed action Hospital.Controllers.SpecializationsController.GetAll (Hospital) in 52.2972ms
2025-11-25 22:07:53.359 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:07:53.360 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:07:53.361 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:07:53.362 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 22:07:53.364 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - 200 null application/json; charset=utf-8 75.3703ms
2025-11-25 22:07:55.915 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetAll - null null
2025-11-25 22:07:55.917 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetAll'
2025-11-25 22:07:55.918 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)' with route pattern 'api/Branch/GetAll' is valid for the request path '/api/Branch/GetAll'
2025-11-25 22:07:55.919 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 22:07:55.920 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:07:55.920 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:07:55.921 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:07:55.922 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:07:55.922 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 22:07:55.923 +02:00 [INF] Route matched with {action = "GetAll", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.BranchController (Hospital).
2025-11-25 22:07:55.924 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:07:55.926 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:07:55.927 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:07:55.928 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:07:55.929 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:07:55.930 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 22:07:55.931 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 22:07:55.932 +02:00 [INF] Get All Branch called at "2025-11-25T22:07:55.9328037+02:00"
2025-11-25 22:07:55.933 +02:00 [INF] Fetching all branches
2025-11-25 22:07:55.934 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:07:55.936 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:07:55.937 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 22:07:55.938 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:07:55.939 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:07:55.940 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:07:55.941 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 22:07:55.942 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 22:07:55.943 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 22:07:55.946 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 22:07:55.947 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:07:55.948 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 22:07:55.950 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:07:55.951 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 22:07:55.952 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:07:55.954 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:07:55.954 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:07:55.955 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:07:55.956 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:07:55.957 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Branch.BranchDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 22:07:55.958 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetAll (Hospital) in 27.7641ms
2025-11-25 22:07:55.959 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 22:07:55.960 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:07:55.961 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:07:55.962 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 22:07:55.963 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetAll - 200 null application/json; charset=utf-8 48.1142ms
2025-11-25 22:07:57.382 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - null null
2025-11-25 22:07:57.384 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Specializations/GetAll'
2025-11-25 22:07:57.385 +02:00 [DBG] Endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)' with route pattern 'api/Specializations/GetAll' is valid for the request path '/api/Specializations/GetAll'
2025-11-25 22:07:57.387 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:07:57.388 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:07:57.388 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:07:57.389 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:07:57.390 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:07:57.391 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:07:57.392 +02:00 [INF] Route matched with {action = "GetAll", controller = "Specializations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Specialization.SpecializationDTO]]] GetAll() on controller Hospital.Controllers.SpecializationsController (Hospital).
2025-11-25 22:07:57.394 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:07:57.395 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:07:57.397 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:07:57.399 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:07:57.401 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:07:57.403 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:07:57.405 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:07:57.406 +02:00 [INF] get all Specialization called at "2025-11-25T22:07:57.4068085+02:00"
2025-11-25 22:07:57.407 +02:00 [INF] Fetching all specializations in the system
2025-11-25 22:07:57.410 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:07:57.412 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:07:57.413 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 22:07:57.415 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:07:57.417 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:07:57.418 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:07:57.419 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-25 22:07:57.421 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 22:07:57.422 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 22:07:57.442 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 22:07:57.445 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:07:57.447 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchSpecialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:07:57.449 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:07:57.450 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:07:57.452 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:07:57.453 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:07:57.455 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:07:57.457 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 11ms reading results.
2025-11-25 22:07:57.458 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:07:57.460 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 22:07:57.462 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:07:57.464 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:07:57.465 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:07:57.466 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:07:57.468 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:07:57.469 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Specialization.SpecializationDTO, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 22:07:57.470 +02:00 [INF] Executed action Hospital.Controllers.SpecializationsController.GetAll (Hospital) in 67.6322ms
2025-11-25 22:07:57.472 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:07:57.473 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:07:57.474 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:07:57.475 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 22:07:57.477 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - 200 null application/json; charset=utf-8 95.2442ms
2025-11-25 22:08:09.377 +02:00 [DBG] Connection id "0HNHC90B60O3I" received FIN.
2025-11-25 22:08:09.378 +02:00 [DBG] Connection id "0HNHC90B60O3I" is closed. The last processed stream ID was 7.
2025-11-25 22:08:09.378 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O3I completed.
2025-11-25 22:08:09.379 +02:00 [DBG] Connection id "0HNHC90B60O3I" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 22:08:09.381 +02:00 [DBG] Connection id "0HNHC90B60O3I" stopped.
2025-11-25 22:15:39.368 +02:00 [DBG] Connection id "0HNHC90B60O3J" accepted.
2025-11-25 22:15:39.369 +02:00 [DBG] Connection id "0HNHC90B60O3J" started.
2025-11-25 22:15:39.373 +02:00 [DBG] Connection 0HNHC90B60O3J established using the following protocol: "Tls13"
2025-11-25 22:15:39.375 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Event/GetAllEventsInSystem - null null
2025-11-25 22:15:39.376 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Event/GetAllEventsInSystem'
2025-11-25 22:15:39.377 +02:00 [DBG] Endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)' with route pattern 'api/Event/GetAllEventsInSystem' is valid for the request path '/api/Event/GetAllEventsInSystem'
2025-11-25 22:15:39.378 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 22:15:39.379 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:15:39.379 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:15:39.380 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:15:39.381 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:15:39.382 +02:00 [INF] Executing endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 22:15:39.382 +02:00 [INF] Route matched with {action = "GetAllEventsInSystem", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllEventsInSystem() on controller Hospital.Controllers.EventController (Hospital).
2025-11-25 22:15:39.383 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:15:39.384 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:15:39.385 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:15:39.386 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:15:39.387 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:15:39.389 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 22:15:39.390 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.EventController (Hospital)
2025-11-25 22:15:39.391 +02:00 [INF] get all  event in system  called at "2025-11-25T22:15:39.3910831+02:00"
2025-11-25 22:15:39.391 +02:00 [INF] Fetching all events in the system
2025-11-25 22:15:39.393 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:15:39.395 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:15:39.395 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 22:15:39.396 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:15:39.432 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:15:39.433 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:15:39.433 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 22:15:39.434 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 22:15:39.435 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EventId], [e].[BranchId], [e].[CreatedAt], [e].[Description], [e].[EventDate], [e].[ImageURL], [e].[Title], [e].[UpdatedAt]
FROM [Events] AS [e]
2025-11-25 22:15:39.442 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EventId], [e].[BranchId], [e].[CreatedAt], [e].[Description], [e].[EventDate], [e].[ImageURL], [e].[Title], [e].[UpdatedAt]
FROM [Events] AS [e]
2025-11-25 22:15:39.443 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:15:39.444 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-25 22:15:39.445 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:15:39.446 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 22:15:39.447 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:15:39.448 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:15:39.449 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:15:39.449 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:15:39.450 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:15:39.451 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Event.EventDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 22:15:39.452 +02:00 [INF] Executed action Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital) in 63.0871ms
2025-11-25 22:15:39.452 +02:00 [INF] Executed endpoint 'Hospital.Controllers.EventController.GetAllEventsInSystem (Hospital)'
2025-11-25 22:15:39.453 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:15:39.454 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:15:39.455 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 22:15:39.456 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Event/GetAllEventsInSystem - 200 null application/json; charset=utf-8 80.6124ms
2025-11-25 22:17:51.069 +02:00 [DBG] Connection id "0HNHC90B60O3J" is closing.
2025-11-25 22:17:51.070 +02:00 [DBG] Connection id "0HNHC90B60O3J" is closed. The last processed stream ID was 1.
2025-11-25 22:17:51.071 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O3J completed.
2025-11-25 22:17:51.072 +02:00 [DBG] Connection id "0HNHC90B60O3J" received FIN.
2025-11-25 22:17:51.072 +02:00 [DBG] Connection id "0HNHC90B60O3J" stopped.
2025-11-25 22:17:51.074 +02:00 [DBG] Connection id "0HNHC90B60O3J" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 22:23:46.565 +02:00 [DBG] Connection id "0HNHC90B60O3K" accepted.
2025-11-25 22:23:46.566 +02:00 [DBG] Connection id "0HNHC90B60O3K" started.
2025-11-25 22:23:46.570 +02:00 [DBG] Connection 0HNHC90B60O3K established using the following protocol: "Tls13"
2025-11-25 22:23:46.572 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetAll - null null
2025-11-25 22:23:46.575 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetAll'
2025-11-25 22:23:46.576 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)' with route pattern 'api/Branch/GetAll' is valid for the request path '/api/Branch/GetAll'
2025-11-25 22:23:46.577 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 22:23:46.578 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:23:46.579 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:23:46.580 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:23:46.580 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:23:46.581 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 22:23:46.582 +02:00 [INF] Route matched with {action = "GetAll", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.BranchController (Hospital).
2025-11-25 22:23:46.583 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:23:46.585 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:23:46.586 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:23:46.587 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:23:46.588 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:23:46.589 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 22:23:46.590 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 22:23:46.591 +02:00 [INF] Get All Branch called at "2025-11-25T22:23:46.5918541+02:00"
2025-11-25 22:23:46.593 +02:00 [INF] Fetching all branches
2025-11-25 22:23:46.594 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:23:46.595 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:23:46.596 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 22:23:46.596 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:23:46.633 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:23:46.635 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:23:46.635 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-25 22:23:46.636 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 22:23:46.637 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 22:23:46.644 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 22:23:46.645 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:23:46.646 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-25 22:23:46.647 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:23:46.648 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 22:23:46.649 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:23:46.650 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:23:46.651 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:23:46.651 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:23:46.652 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:23:46.653 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Branch.BranchDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 22:23:46.654 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetAll (Hospital) in 65.1303ms
2025-11-25 22:23:46.655 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 22:23:46.656 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:23:46.657 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:23:46.658 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 22:23:46.659 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetAll - 200 null application/json; charset=utf-8 86.8432ms
2025-11-25 22:25:11.574 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - null null
2025-11-25 22:25:11.577 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Specializations/GetAll'
2025-11-25 22:25:11.578 +02:00 [DBG] Endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)' with route pattern 'api/Specializations/GetAll' is valid for the request path '/api/Specializations/GetAll'
2025-11-25 22:25:11.580 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:25:11.580 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:25:11.581 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:25:11.581 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:25:11.582 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:25:11.583 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:25:11.584 +02:00 [INF] Route matched with {action = "GetAll", controller = "Specializations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Specialization.SpecializationDTO]]] GetAll() on controller Hospital.Controllers.SpecializationsController (Hospital).
2025-11-25 22:25:11.584 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:25:11.585 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:25:11.586 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:25:11.588 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:25:11.589 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:25:11.590 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:25:11.591 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:25:11.592 +02:00 [INF] get all Specialization called at "2025-11-25T22:25:11.5924814+02:00"
2025-11-25 22:25:11.593 +02:00 [INF] Fetching all specializations in the system
2025-11-25 22:25:11.594 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:25:11.596 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:25:11.596 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 22:25:11.597 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:25:11.598 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:25:11.598 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:25:11.599 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 22:25:11.600 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 22:25:11.601 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 22:25:11.614 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 22:25:11.616 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:25:11.617 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchSpecialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:25:11.618 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:25:11.619 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:25:11.619 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:25:11.620 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:25:11.621 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:25:11.622 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-11-25 22:25:11.623 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:25:11.624 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 22:25:11.625 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:25:11.627 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:25:11.627 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:25:11.628 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:25:11.629 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:25:11.630 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Specialization.SpecializationDTO, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 22:25:11.631 +02:00 [INF] Executed action Hospital.Controllers.SpecializationsController.GetAll (Hospital) in 41.6241ms
2025-11-25 22:25:11.632 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:25:11.633 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:25:11.634 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:25:11.635 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 22:25:11.636 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - 200 null application/json; charset=utf-8 61.2027ms
2025-11-25 22:27:23.382 +02:00 [DBG] Connection id "0HNHC90B60O3K" is closing.
2025-11-25 22:27:23.384 +02:00 [DBG] Connection id "0HNHC90B60O3K" is closed. The last processed stream ID was 3.
2025-11-25 22:27:23.385 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O3K completed.
2025-11-25 22:27:23.385 +02:00 [DBG] Connection id "0HNHC90B60O3K" received FIN.
2025-11-25 22:27:23.386 +02:00 [DBG] Connection id "0HNHC90B60O3K" stopped.
2025-11-25 22:27:23.387 +02:00 [DBG] Connection id "0HNHC90B60O3K" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 22:59:06.704 +02:00 [DBG] Connection id "0HNHC90B60O3L" accepted.
2025-11-25 22:59:06.706 +02:00 [DBG] Connection id "0HNHC90B60O3L" started.
2025-11-25 22:59:06.712 +02:00 [DBG] Connection 0HNHC90B60O3L established using the following protocol: "Tls13"
2025-11-25 22:59:06.713 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - null null
2025-11-25 22:59:06.716 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Specializations/GetAll'
2025-11-25 22:59:06.718 +02:00 [DBG] Endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)' with route pattern 'api/Specializations/GetAll' is valid for the request path '/api/Specializations/GetAll'
2025-11-25 22:59:06.719 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:59:06.721 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:59:06.722 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:59:06.723 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:59:06.724 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:59:06.725 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:59:06.726 +02:00 [INF] Route matched with {action = "GetAll", controller = "Specializations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Specialization.SpecializationDTO]]] GetAll() on controller Hospital.Controllers.SpecializationsController (Hospital).
2025-11-25 22:59:06.728 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:59:06.729 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:59:06.730 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:59:06.733 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:59:06.734 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:59:06.736 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:59:06.739 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:59:06.740 +02:00 [INF] get all Specialization called at "2025-11-25T22:59:06.7406252+02:00"
2025-11-25 22:59:06.741 +02:00 [INF] Fetching all specializations in the system
2025-11-25 22:59:06.743 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:59:06.745 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:59:06.746 +02:00 [DBG] Created DbConnection. (1ms).
2025-11-25 22:59:06.748 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:59:06.801 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:59:06.803 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:59:06.804 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-11-25 22:59:06.805 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-11-25 22:59:06.806 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 22:59:06.830 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 22:59:06.832 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:59:06.833 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchSpecialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:59:06.834 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:59:06.835 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:59:06.836 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:59:06.837 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:59:06.838 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:59:06.839 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-11-25 22:59:06.840 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:59:06.841 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 22:59:06.843 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:59:06.845 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:59:06.845 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:59:06.846 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:59:06.846 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:59:06.847 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Specialization.SpecializationDTO, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 22:59:06.849 +02:00 [INF] Executed action Hospital.Controllers.SpecializationsController.GetAll (Hospital) in 112.9883ms
2025-11-25 22:59:06.850 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:59:06.851 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:59:06.851 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:59:06.853 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 22:59:06.854 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - 200 null application/json; charset=utf-8 140.225ms
2025-11-25 22:59:08.945 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetAll - null null
2025-11-25 22:59:08.948 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetAll'
2025-11-25 22:59:08.949 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)' with route pattern 'api/Branch/GetAll' is valid for the request path '/api/Branch/GetAll'
2025-11-25 22:59:08.951 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 22:59:08.952 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:59:08.953 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:59:08.954 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:59:08.955 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:59:08.955 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 22:59:08.956 +02:00 [INF] Route matched with {action = "GetAll", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.BranchController (Hospital).
2025-11-25 22:59:08.957 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:59:08.958 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:59:08.959 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:59:08.961 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:59:08.962 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:59:08.963 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 22:59:08.964 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 22:59:08.965 +02:00 [INF] Get All Branch called at "2025-11-25T22:59:08.9650851+02:00"
2025-11-25 22:59:08.965 +02:00 [INF] Fetching all branches
2025-11-25 22:59:08.966 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:59:08.968 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:59:08.968 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 22:59:08.969 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:59:08.970 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:59:08.970 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:59:08.971 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 22:59:08.972 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 22:59:08.973 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 22:59:08.976 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 22:59:08.978 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:59:08.978 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-11-25 22:59:08.980 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:59:08.980 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 22:59:08.981 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:59:08.983 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:59:08.984 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:59:08.984 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:59:08.985 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:59:08.986 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Branch.BranchDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 22:59:08.987 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetAll (Hospital) in 23.7823ms
2025-11-25 22:59:08.988 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 22:59:08.989 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:59:08.989 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:59:08.990 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 22:59:08.991 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetAll - 200 null application/json; charset=utf-8 45.6837ms
2025-11-25 22:59:12.797 +02:00 [DBG] Connection id "0HNHC90B60O3L" received FIN.
2025-11-25 22:59:12.798 +02:00 [DBG] Connection id "0HNHC90B60O3L" is closed. The last processed stream ID was 3.
2025-11-25 22:59:12.798 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O3L completed.
2025-11-25 22:59:12.799 +02:00 [DBG] Connection id "0HNHC90B60O3L" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 22:59:12.802 +02:00 [DBG] Connection id "0HNHC90B60O3L" stopped.
2025-11-25 22:59:39.437 +02:00 [DBG] Connection id "0HNHC90B60O3M" accepted.
2025-11-25 22:59:39.438 +02:00 [DBG] Connection id "0HNHC90B60O3M" started.
2025-11-25 22:59:39.442 +02:00 [DBG] Connection 0HNHC90B60O3M established using the following protocol: "Tls13"
2025-11-25 22:59:39.444 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - null null
2025-11-25 22:59:39.446 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Specializations/GetAll'
2025-11-25 22:59:39.446 +02:00 [DBG] Endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)' with route pattern 'api/Specializations/GetAll' is valid for the request path '/api/Specializations/GetAll'
2025-11-25 22:59:39.448 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:59:39.449 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:59:39.450 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:59:39.450 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:59:39.451 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:59:39.452 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:59:39.453 +02:00 [INF] Route matched with {action = "GetAll", controller = "Specializations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Specialization.SpecializationDTO]]] GetAll() on controller Hospital.Controllers.SpecializationsController (Hospital).
2025-11-25 22:59:39.454 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:59:39.455 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:59:39.456 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:59:39.457 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:59:39.458 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:59:39.459 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:59:39.461 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:59:39.462 +02:00 [INF] get all Specialization called at "2025-11-25T22:59:39.4621753+02:00"
2025-11-25 22:59:39.462 +02:00 [INF] Fetching all specializations in the system
2025-11-25 22:59:39.463 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:59:39.465 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:59:39.465 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 22:59:39.466 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:59:39.467 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:59:39.467 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:59:39.468 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 22:59:39.469 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 22:59:39.470 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 22:59:39.488 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 22:59:39.490 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:59:39.491 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchSpecialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:59:39.491 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:59:39.493 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:59:39.494 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:59:39.494 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:59:39.495 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:59:39.497 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-11-25 22:59:39.498 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:59:39.499 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 22:59:39.500 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:59:39.501 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:59:39.501 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:59:39.502 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:59:39.502 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:59:39.503 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Specialization.SpecializationDTO, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 22:59:39.504 +02:00 [INF] Executed action Hospital.Controllers.SpecializationsController.GetAll (Hospital) in 44.9669ms
2025-11-25 22:59:39.505 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:59:39.506 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:59:39.507 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:59:39.507 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 22:59:39.508 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - 200 null application/json; charset=utf-8 64.4418ms
2025-11-25 22:59:42.799 +02:00 [DBG] Connection id "0HNHC90B60O3M" received FIN.
2025-11-25 22:59:42.800 +02:00 [DBG] Connection id "0HNHC90B60O3M" is closed. The last processed stream ID was 1.
2025-11-25 22:59:42.801 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O3M completed.
2025-11-25 22:59:42.802 +02:00 [DBG] Connection id "0HNHC90B60O3M" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 22:59:42.804 +02:00 [DBG] Connection id "0HNHC90B60O3M" stopped.
2025-11-25 22:59:44.929 +02:00 [DBG] Connection id "0HNHC90B60O3N" accepted.
2025-11-25 22:59:44.930 +02:00 [DBG] Connection id "0HNHC90B60O3N" started.
2025-11-25 22:59:44.933 +02:00 [DBG] Connection 0HNHC90B60O3N established using the following protocol: "Tls13"
2025-11-25 22:59:44.934 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - null null
2025-11-25 22:59:44.936 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Specializations/GetAll'
2025-11-25 22:59:44.937 +02:00 [DBG] Endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)' with route pattern 'api/Specializations/GetAll' is valid for the request path '/api/Specializations/GetAll'
2025-11-25 22:59:44.938 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:59:44.939 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:59:44.939 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:59:44.940 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:59:44.941 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:59:44.942 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:59:44.942 +02:00 [INF] Route matched with {action = "GetAll", controller = "Specializations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Specialization.SpecializationDTO]]] GetAll() on controller Hospital.Controllers.SpecializationsController (Hospital).
2025-11-25 22:59:44.944 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:59:44.945 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:59:44.945 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:59:44.947 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:59:44.948 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:59:44.949 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:59:44.950 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 22:59:44.951 +02:00 [INF] get all Specialization called at "2025-11-25T22:59:44.9510443+02:00"
2025-11-25 22:59:44.951 +02:00 [INF] Fetching all specializations in the system
2025-11-25 22:59:44.952 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:59:44.954 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:59:44.954 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 22:59:44.955 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:59:44.956 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:59:44.957 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:59:44.957 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 22:59:44.958 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 22:59:44.959 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 22:59:44.970 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 22:59:44.972 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:59:44.973 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchSpecialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:59:44.973 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:59:44.974 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:59:44.975 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:59:44.976 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 22:59:44.977 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:59:44.978 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-11-25 22:59:44.979 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:59:44.979 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 22:59:44.980 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:59:44.982 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:59:44.982 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:59:44.983 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:59:44.984 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:59:44.985 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Specialization.SpecializationDTO, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 22:59:44.986 +02:00 [INF] Executed action Hospital.Controllers.SpecializationsController.GetAll (Hospital) in 37.1253ms
2025-11-25 22:59:44.987 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 22:59:44.987 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:59:44.988 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:59:44.989 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 22:59:44.990 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - 200 null application/json; charset=utf-8 56.0548ms
2025-11-25 22:59:52.801 +02:00 [DBG] Connection id "0HNHC90B60O3N" received FIN.
2025-11-25 22:59:52.802 +02:00 [DBG] Connection id "0HNHC90B60O3N" is closed. The last processed stream ID was 1.
2025-11-25 22:59:52.802 +02:00 [DBG] Connection id "0HNHC90B60O3N" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 22:59:52.804 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O3N completed.
2025-11-25 22:59:52.805 +02:00 [DBG] Connection id "0HNHC90B60O3N" stopped.
2025-11-25 22:59:56.422 +02:00 [DBG] Connection id "0HNHC90B60O3O" accepted.
2025-11-25 22:59:56.423 +02:00 [DBG] Connection id "0HNHC90B60O3O" started.
2025-11-25 22:59:56.428 +02:00 [DBG] Connection 0HNHC90B60O3O established using the following protocol: "Tls13"
2025-11-25 22:59:56.430 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetAll - null null
2025-11-25 22:59:56.432 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetAll'
2025-11-25 22:59:56.433 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)' with route pattern 'api/Branch/GetAll' is valid for the request path '/api/Branch/GetAll'
2025-11-25 22:59:56.434 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 22:59:56.434 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:59:56.436 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:59:56.437 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:59:56.437 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:59:56.438 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 22:59:56.439 +02:00 [INF] Route matched with {action = "GetAll", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.BranchController (Hospital).
2025-11-25 22:59:56.440 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:59:56.441 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:59:56.442 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:59:56.444 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:59:56.445 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:59:56.446 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 22:59:56.448 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 22:59:56.449 +02:00 [INF] Get All Branch called at "2025-11-25T22:59:56.4494096+02:00"
2025-11-25 22:59:56.450 +02:00 [INF] Fetching all branches
2025-11-25 22:59:56.451 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:59:56.453 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:59:56.454 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 22:59:56.455 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:59:56.455 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:59:56.457 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:59:56.457 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 22:59:56.458 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 22:59:56.459 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 22:59:56.462 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 22:59:56.464 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:59:56.465 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 22:59:56.466 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:59:56.467 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 22:59:56.469 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:59:56.470 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:59:56.471 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:59:56.471 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:59:56.472 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:59:56.473 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Branch.BranchDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 22:59:56.474 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetAll (Hospital) in 27.8256ms
2025-11-25 22:59:56.475 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 22:59:56.476 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:59:56.477 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:59:56.478 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 22:59:56.479 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetAll - 200 null application/json; charset=utf-8 49.3401ms
2025-11-25 22:59:58.498 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetAll - null null
2025-11-25 22:59:58.501 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetAll'
2025-11-25 22:59:58.503 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)' with route pattern 'api/Branch/GetAll' is valid for the request path '/api/Branch/GetAll'
2025-11-25 22:59:58.504 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 22:59:58.505 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 22:59:58.506 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 22:59:58.507 +02:00 [INF] CORS policy execution successful.
2025-11-25 22:59:58.508 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 22:59:58.509 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 22:59:58.510 +02:00 [INF] Route matched with {action = "GetAll", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.BranchController (Hospital).
2025-11-25 22:59:58.512 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 22:59:58.513 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 22:59:58.515 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 22:59:58.517 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 22:59:58.518 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 22:59:58.519 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 22:59:58.521 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 22:59:58.523 +02:00 [INF] Get All Branch called at "2025-11-25T22:59:58.5230831+02:00"
2025-11-25 22:59:58.523 +02:00 [INF] Fetching all branches
2025-11-25 22:59:58.525 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 22:59:58.528 +02:00 [DBG] Creating DbConnection.
2025-11-25 22:59:58.528 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 22:59:58.529 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:59:58.531 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:59:58.532 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 22:59:58.533 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 22:59:58.534 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-25 22:59:58.535 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 22:59:58.538 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 22:59:58.540 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:59:58.542 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 22:59:58.543 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:59:58.544 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 22:59:58.546 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 22:59:58.548 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 22:59:58.549 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 22:59:58.550 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 22:59:58.550 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 22:59:58.552 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Branch.BranchDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 22:59:58.553 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetAll (Hospital) in 33.6795ms
2025-11-25 22:59:58.554 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 22:59:58.555 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 22:59:58.556 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 22:59:58.557 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 22:59:58.559 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetAll - 200 null application/json; charset=utf-8 60.595ms
2025-11-25 23:00:00.481 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Branch/GetAll - null null
2025-11-25 23:00:00.483 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Branch/GetAll'
2025-11-25 23:00:00.484 +02:00 [DBG] Endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)' with route pattern 'api/Branch/GetAll' is valid for the request path '/api/Branch/GetAll'
2025-11-25 23:00:00.486 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 23:00:00.486 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 23:00:00.487 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 23:00:00.488 +02:00 [INF] CORS policy execution successful.
2025-11-25 23:00:00.489 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 23:00:00.489 +02:00 [INF] Executing endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 23:00:00.490 +02:00 [INF] Route matched with {action = "GetAll", controller = "Branch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Hospital.Controllers.BranchController (Hospital).
2025-11-25 23:00:00.491 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 23:00:00.493 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 23:00:00.494 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 23:00:00.495 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 23:00:00.496 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 23:00:00.497 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 23:00:00.498 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.BranchController (Hospital)
2025-11-25 23:00:00.499 +02:00 [INF] Get All Branch called at "2025-11-25T23:00:00.4993821+02:00"
2025-11-25 23:00:00.500 +02:00 [INF] Fetching all branches
2025-11-25 23:00:00.502 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 23:00:00.503 +02:00 [DBG] Creating DbConnection.
2025-11-25 23:00:00.504 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 23:00:00.504 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 23:00:00.505 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 23:00:00.506 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 23:00:00.507 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 23:00:00.508 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 23:00:00.509 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 23:00:00.514 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BranchId], [b].[Address], [b].[BranchName], [b].[CreatedAt], [b].[Description], [b].[Email], [b].[ImageURL], [b].[Phone], [b].[UpdatedAt]
FROM [Branches] AS [b]
2025-11-25 23:00:00.516 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 23:00:00.517 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-11-25 23:00:00.518 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 23:00:00.519 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 23:00:00.520 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 23:00:00.522 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 23:00:00.523 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 23:00:00.523 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 23:00:00.524 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 23:00:00.525 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Branch.BranchDto, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 23:00:00.526 +02:00 [INF] Executed action Hospital.Controllers.BranchController.GetAll (Hospital) in 28.6554ms
2025-11-25 23:00:00.527 +02:00 [INF] Executed endpoint 'Hospital.Controllers.BranchController.GetAll (Hospital)'
2025-11-25 23:00:00.528 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 23:00:00.529 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 23:00:00.530 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-25 23:00:00.531 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Branch/GetAll - 200 null application/json; charset=utf-8 49.9156ms
2025-11-25 23:00:02.803 +02:00 [DBG] Connection id "0HNHC90B60O3O" received FIN.
2025-11-25 23:00:02.804 +02:00 [DBG] Connection id "0HNHC90B60O3O" is closed. The last processed stream ID was 5.
2025-11-25 23:00:02.804 +02:00 [DBG] Connection id "0HNHC90B60O3O" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-25 23:00:02.807 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O3O completed.
2025-11-25 23:00:02.808 +02:00 [DBG] Connection id "0HNHC90B60O3O" stopped.
2025-11-25 23:02:14.822 +02:00 [DBG] Connection id "0HNHC90B60O3P" accepted.
2025-11-25 23:02:14.823 +02:00 [DBG] Connection id "0HNHC90B60O3P" started.
2025-11-25 23:02:14.827 +02:00 [DBG] Connection 0HNHC90B60O3P established using the following protocol: "Tls13"
2025-11-25 23:02:14.829 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - null null
2025-11-25 23:02:14.831 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Specializations/GetAll'
2025-11-25 23:02:14.832 +02:00 [DBG] Endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)' with route pattern 'api/Specializations/GetAll' is valid for the request path '/api/Specializations/GetAll'
2025-11-25 23:02:14.833 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 23:02:14.834 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 23:02:14.834 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 23:02:14.835 +02:00 [INF] CORS policy execution successful.
2025-11-25 23:02:14.836 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 23:02:14.836 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 23:02:14.837 +02:00 [INF] Route matched with {action = "GetAll", controller = "Specializations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Specialization.SpecializationDTO]]] GetAll() on controller Hospital.Controllers.SpecializationsController (Hospital).
2025-11-25 23:02:14.838 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 23:02:14.839 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 23:02:14.841 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 23:02:14.842 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 23:02:14.843 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 23:02:14.844 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 23:02:14.845 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 23:02:14.846 +02:00 [INF] get all Specialization called at "2025-11-25T23:02:14.8463677+02:00"
2025-11-25 23:02:14.846 +02:00 [INF] Fetching all specializations in the system
2025-11-25 23:02:14.847 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 23:02:14.849 +02:00 [DBG] Creating DbConnection.
2025-11-25 23:02:14.849 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 23:02:14.850 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 23:02:14.851 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 23:02:14.852 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 23:02:14.852 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 23:02:14.853 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 23:02:14.854 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 23:02:14.871 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 23:02:14.873 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 23:02:14.874 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchSpecialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 23:02:14.874 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 23:02:14.875 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 23:02:14.876 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 23:02:14.877 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 23:02:14.878 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 23:02:14.878 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-11-25 23:02:14.879 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 23:02:14.880 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 23:02:14.881 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 23:02:14.882 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 23:02:14.883 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 23:02:14.883 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 23:02:14.884 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 23:02:14.884 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Specialization.SpecializationDTO, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 23:02:14.886 +02:00 [INF] Executed action Hospital.Controllers.SpecializationsController.GetAll (Hospital) in 42.3799ms
2025-11-25 23:02:14.887 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 23:02:14.888 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 23:02:14.888 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 23:02:14.889 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 23:02:14.890 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - 200 null application/json; charset=utf-8 61.4797ms
2025-11-25 23:02:16.867 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Specializations/Get/1 - null null
2025-11-25 23:02:16.869 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Specializations/Get/1'
2025-11-25 23:02:16.870 +02:00 [DBG] Endpoint 'Hospital.Controllers.SpecializationsController.Get (Hospital)' with route pattern 'api/Specializations/Get/{id}' is valid for the request path '/api/Specializations/Get/1'
2025-11-25 23:02:16.871 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SpecializationsController.Get (Hospital)'
2025-11-25 23:02:16.872 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 23:02:16.873 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 23:02:16.873 +02:00 [INF] CORS policy execution successful.
2025-11-25 23:02:16.874 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 23:02:16.875 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SpecializationsController.Get (Hospital)'
2025-11-25 23:02:16.876 +02:00 [INF] Route matched with {action = "Get", controller = "Specializations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Hospital.Application.DTO.Specialization.SpecializationDTO]] Get(Int32) on controller Hospital.Controllers.SpecializationsController (Hospital).
2025-11-25 23:02:16.877 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 23:02:16.878 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 23:02:16.880 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 23:02:16.881 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 23:02:16.883 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 23:02:16.884 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 23:02:16.885 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 23:02:16.886 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-11-25 23:02:16.887 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-11-25 23:02:16.888 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-11-25 23:02:16.889 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-11-25 23:02:16.890 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-11-25 23:02:16.891 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-11-25 23:02:16.892 +02:00 [INF] get Specialization by id called at "2025-11-25T23:02:16.8925694+02:00"
2025-11-25 23:02:16.893 +02:00 [INF] Fetching specialization with ID 1
2025-11-25 23:02:16.894 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 23:02:16.896 +02:00 [DBG] Creating DbConnection.
2025-11-25 23:02:16.896 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 23:02:16.897 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 23:02:16.898 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 23:02:16.899 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 23:02:16.900 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 23:02:16.901 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 23:02:16.902 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SpecializationId], [t].[CreatedAt], [t].[Description], [t].[Name], [t].[UpdatedAt], [t0].[BranchId], [t0].[SpecializationId], [t0].[BranchId0], [t0].[Address], [t0].[BranchName], [t0].[CreatedAt], [t0].[Description], [t0].[Email], [t0].[ImageURL], [t0].[Phone], [t0].[UpdatedAt], [t1].[DoctorId], [t1].[Available], [t1].[Biography], [t1].[ConsultationFees], [t1].[CreatedAt], [t1].[ExperienceYears], [t1].[ImageURL], [t1].[SpecializationId], [t1].[UpdatedAt], [t1].[UserId], [t1].[Id], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[CreatedAt0], [t1].[DateOfBirth], [t1].[Email], [t1].[EmailConfirmed], [t1].[FullName], [t1].[Gender], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[RefreshToken], [t1].[RefreshTokenExpiryTime], [t1].[Role], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UpdatedAt0], [t1].[UserName]
FROM (
    SELECT TOP(1) [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt]
    FROM [Specializations] AS [s]
    WHERE [s].[SpecializationId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t0] ON [t].[SpecializationId] = [t0].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t1] ON [t].[SpecializationId] = [t1].[SpecializationId]
ORDER BY [t].[SpecializationId], [t0].[BranchId], [t0].[SpecializationId], [t0].[BranchId0], [t1].[DoctorId]
2025-11-25 23:02:16.912 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SpecializationId], [t].[CreatedAt], [t].[Description], [t].[Name], [t].[UpdatedAt], [t0].[BranchId], [t0].[SpecializationId], [t0].[BranchId0], [t0].[Address], [t0].[BranchName], [t0].[CreatedAt], [t0].[Description], [t0].[Email], [t0].[ImageURL], [t0].[Phone], [t0].[UpdatedAt], [t1].[DoctorId], [t1].[Available], [t1].[Biography], [t1].[ConsultationFees], [t1].[CreatedAt], [t1].[ExperienceYears], [t1].[ImageURL], [t1].[SpecializationId], [t1].[UpdatedAt], [t1].[UserId], [t1].[Id], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[CreatedAt0], [t1].[DateOfBirth], [t1].[Email], [t1].[EmailConfirmed], [t1].[FullName], [t1].[Gender], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[RefreshToken], [t1].[RefreshTokenExpiryTime], [t1].[Role], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UpdatedAt0], [t1].[UserName]
FROM (
    SELECT TOP(1) [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt]
    FROM [Specializations] AS [s]
    WHERE [s].[SpecializationId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t0] ON [t].[SpecializationId] = [t0].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t1] ON [t].[SpecializationId] = [t1].[SpecializationId]
ORDER BY [t].[SpecializationId], [t0].[BranchId], [t0].[SpecializationId], [t0].[BranchId0], [t1].[DoctorId]
2025-11-25 23:02:16.914 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 23:02:16.914 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchSpecialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 23:02:16.915 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 23:02:16.916 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 23:02:16.917 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 23:02:16.918 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 23:02:16.919 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 23:02:16.919 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-11-25 23:02:16.920 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 23:02:16.921 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (1ms).
2025-11-25 23:02:16.922 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 23:02:16.924 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 23:02:16.924 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 23:02:16.925 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 23:02:16.925 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 23:02:16.926 +02:00 [INF] Executing OkObjectResult, writing value of type 'Hospital.Application.DTO.Specialization.SpecializationDTO'.
2025-11-25 23:02:16.927 +02:00 [INF] Executed action Hospital.Controllers.SpecializationsController.Get (Hospital) in 43.0569ms
2025-11-25 23:02:16.928 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SpecializationsController.Get (Hospital)'
2025-11-25 23:02:16.929 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 23:02:16.929 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 23:02:16.930 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 23:02:16.932 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Specializations/Get/1 - 200 null application/json; charset=utf-8 64.3199ms
2025-11-25 23:02:22.590 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - null null
2025-11-25 23:02:22.593 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Specializations/GetAll'
2025-11-25 23:02:22.594 +02:00 [DBG] Endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)' with route pattern 'api/Specializations/GetAll' is valid for the request path '/api/Specializations/GetAll'
2025-11-25 23:02:22.595 +02:00 [DBG] Request matched endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 23:02:22.596 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-11-25 23:02:22.596 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-25 23:02:22.597 +02:00 [INF] CORS policy execution successful.
2025-11-25 23:02:22.597 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-25 23:02:22.598 +02:00 [INF] Executing endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 23:02:22.599 +02:00 [INF] Route matched with {action = "GetAll", controller = "Specializations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Hospital.Application.DTO.Specialization.SpecializationDTO]]] GetAll() on controller Hospital.Controllers.SpecializationsController (Hospital).
2025-11-25 23:02:22.600 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-25 23:02:22.601 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-25 23:02:22.602 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-25 23:02:22.603 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-25 23:02:22.605 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-25 23:02:22.606 +02:00 [DBG] Executing controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 23:02:22.606 +02:00 [DBG] Executed controller factory for controller Hospital.Controllers.SpecializationsController (Hospital)
2025-11-25 23:02:22.607 +02:00 [INF] get all Specialization called at "2025-11-25T23:02:22.6078010+02:00"
2025-11-25 23:02:22.608 +02:00 [INF] Fetching all specializations in the system
2025-11-25 23:02:22.609 +02:00 [DBG] Entity Framework Core 8.0.21 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.21' with options: None
2025-11-25 23:02:22.611 +02:00 [DBG] Creating DbConnection.
2025-11-25 23:02:22.612 +02:00 [DBG] Created DbConnection. (0ms).
2025-11-25 23:02:22.612 +02:00 [DBG] Opening connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 23:02:22.613 +02:00 [DBG] Opened connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 23:02:22.614 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-25 23:02:22.614 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-25 23:02:22.615 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-25 23:02:22.616 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 23:02:22.618 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SpecializationId], [s].[CreatedAt], [s].[Description], [s].[Name], [s].[UpdatedAt], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t].[Address], [t].[BranchName], [t].[CreatedAt], [t].[Description], [t].[Email], [t].[ImageURL], [t].[Phone], [t].[UpdatedAt], [t0].[DoctorId], [t0].[Available], [t0].[Biography], [t0].[ConsultationFees], [t0].[CreatedAt], [t0].[ExperienceYears], [t0].[ImageURL], [t0].[SpecializationId], [t0].[UpdatedAt], [t0].[UserId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[CreatedAt0], [t0].[DateOfBirth], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[Gender], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[Role], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UpdatedAt0], [t0].[UserName]
FROM [Specializations] AS [s]
LEFT JOIN (
    SELECT [b].[BranchId], [b].[SpecializationId], [b0].[BranchId] AS [BranchId0], [b0].[Address], [b0].[BranchName], [b0].[CreatedAt], [b0].[Description], [b0].[Email], [b0].[ImageURL], [b0].[Phone], [b0].[UpdatedAt]
    FROM [BranchSpecializations] AS [b]
    INNER JOIN [Branches] AS [b0] ON [b].[BranchId] = [b0].[BranchId]
) AS [t] ON [s].[SpecializationId] = [t].[SpecializationId]
LEFT JOIN (
    SELECT [d].[DoctorId], [d].[Available], [d].[Biography], [d].[ConsultationFees], [d].[CreatedAt], [d].[ExperienceYears], [d].[ImageURL], [d].[SpecializationId], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt] AS [UpdatedAt0], [u].[UserName]
    FROM [Doctors] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
) AS [t0] ON [s].[SpecializationId] = [t0].[SpecializationId]
ORDER BY [s].[SpecializationId], [t].[BranchId], [t].[SpecializationId], [t].[BranchId0], [t0].[DoctorId]
2025-11-25 23:02:22.620 +02:00 [DBG] Context 'AppDbContext' started tracking 'Specialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 23:02:22.621 +02:00 [DBG] Context 'AppDbContext' started tracking 'BranchSpecialization' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 23:02:22.622 +02:00 [DBG] Context 'AppDbContext' started tracking 'Branch' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 23:02:22.622 +02:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 23:02:22.623 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 23:02:22.624 +02:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-25 23:02:22.625 +02:00 [DBG] Closing data reader to 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 23:02:22.627 +02:00 [DBG] A data reader for 'HospitalDB' on server '.\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-11-25 23:02:22.628 +02:00 [DBG] Closing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 23:02:22.628 +02:00 [DBG] Closed connection to database 'HospitalDB' on server '.\SQLEXPRESS' (0ms).
2025-11-25 23:02:22.629 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-25 23:02:22.631 +02:00 [DBG] No information found on request to perform content negotiation.
2025-11-25 23:02:22.631 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-25 23:02:22.632 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-25 23:02:22.632 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-25 23:02:22.633 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Hospital.Application.DTO.Specialization.SpecializationDTO, Hospital.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-25 23:02:22.634 +02:00 [INF] Executed action Hospital.Controllers.SpecializationsController.GetAll (Hospital) in 28.8186ms
2025-11-25 23:02:22.635 +02:00 [INF] Executed endpoint 'Hospital.Controllers.SpecializationsController.GetAll (Hospital)'
2025-11-25 23:02:22.636 +02:00 [DBG] 'AppDbContext' disposed.
2025-11-25 23:02:22.637 +02:00 [DBG] Disposing connection to database 'HospitalDB' on server '.\SQLEXPRESS'.
2025-11-25 23:02:22.637 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-25 23:02:22.638 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7217/api/Specializations/GetAll - 200 null application/json; charset=utf-8 47.9133ms
2025-11-25 23:04:34.547 +02:00 [DBG] Connection id "0HNHC90B60O3P" is closing.
2025-11-25 23:04:34.548 +02:00 [DBG] Connection id "0HNHC90B60O3P" is closed. The last processed stream ID was 5.
2025-11-25 23:04:34.549 +02:00 [DBG] The connection queue processing loop for 0HNHC90B60O3P completed.
2025-11-25 23:04:34.549 +02:00 [DBG] Connection id "0HNHC90B60O3P" received FIN.
2025-11-25 23:04:34.550 +02:00 [DBG] Connection id "0HNHC90B60O3P" stopped.
2025-11-25 23:04:34.552 +02:00 [DBG] Connection id "0HNHC90B60O3P" sending FIN because: "The Socket transport's send loop completed gracefully."
